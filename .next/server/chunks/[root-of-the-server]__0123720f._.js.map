{"version":3,"sources":["../../../node_modules/next/src/server/route-modules/app-page/module.compiled.js","../../../lib/utils/logger.ts","../../../node_modules/next/src/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server.ts","../../../lib/supabase/client.ts/__nextjs-internal-proxy.mjs","../../../lib/services/email.service.ts","../../../lib/services/scheduled-generation.service.ts"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","/**\n * Logger centralis√© pour l'application Eduzen\n * \n * Fournit une interface unifi√©e pour le logging avec :\n * - Niveaux de log (error, warn, info, debug)\n * - Support pour services externes (Sentry, LogRocket)\n * - Formatage coh√©rent\n * - Mode d√©veloppement vs production\n */\n\ntype LogLevel = 'error' | 'warn' | 'info' | 'debug'\n\ninterface LogContext {\n  userId?: string\n  organizationId?: string\n  sessionId?: string\n  [key: string]: unknown\n}\n\nclass Logger {\n  private isDevelopment = process.env.NODE_ENV === 'development'\n  private isProduction = process.env.NODE_ENV === 'production'\n  private sentryEnabled = !!process.env.NEXT_PUBLIC_SENTRY_DSN\n\n  /**\n   * Initialise Sentry si disponible\n   */\n  private initSentry() {\n    if (this.sentryEnabled && typeof window !== 'undefined') {\n      // Lazy load Sentry pour √©viter d'augmenter la taille du bundle\n      import('@sentry/nextjs').then((Sentry) => {\n        try {\n          // V√©rifier si Sentry est d√©j√† initialis√© en essayant d'acc√©der au client\n          // Si ce n'est pas le cas, l'initialiser\n          Sentry.init({\n            dsn: process.env.NEXT_PUBLIC_SENTRY_DSN,\n            environment: process.env.NODE_ENV,\n            tracesSampleRate: 0.1, // 10% des transactions\n            beforeSend(event) {\n              // Filtrer les erreurs sensibles\n              if (event.request?.headers) {\n                delete event.request.headers['authorization']\n                delete event.request.headers['cookie']\n              }\n              return event\n            },\n          })\n        } catch (e) {\n          // Sentry d√©j√† initialis√© ou erreur, continuer sans\n        }\n      }).catch(() => {\n        // Sentry non disponible, continuer sans\n      })\n    }\n  }\n\n  constructor() {\n    if (this.sentryEnabled) {\n      this.initSentry()\n    }\n  }\n\n  /**\n   * Log une erreur avec contexte optionnel\n   */\n  error(message: string, error?: Error | unknown, context?: LogContext) {\n    const logData = {\n      message,\n      error: error instanceof Error ? {\n        name: error.name,\n        message: error.message,\n        stack: error.stack,\n      } : error,\n      context,\n      timestamp: new Date().toISOString(),\n      level: 'error' as LogLevel,\n    }\n\n    // En production, envoyer vers Sentry si disponible\n    if (this.isProduction && this.sentryEnabled && typeof window !== 'undefined') {\n      import('@sentry/nextjs').then((Sentry) => {\n        if (error instanceof Error) {\n          Sentry.captureException(error, {\n            extra: {\n              message,\n              context,\n            },\n            tags: {\n              source: 'logger',\n            },\n          })\n        } else {\n          Sentry.captureMessage(message, {\n            level: 'error',\n            extra: {\n              error,\n              context,\n            },\n          })\n        }\n      }).catch(() => {\n        // Sentry non disponible, continuer sans\n      })\n    }\n\n    // Envoyer une alerte pour les erreurs critiques (en production uniquement)\n    if (this.isProduction && message.includes('[CRITICAL]')) {\n      // Import dynamique pour √©viter les d√©pendances circulaires\n      import('@/lib/services/alert.service').then(({ alertService }) => {\n        const errorObj = error instanceof Error ? error : new Error(message)\n        alertService.sendCriticalError(errorObj, {\n          context,\n          timestamp: logData.timestamp,\n        }).catch((err) => {\n          // Ne pas logger l'erreur d'alerte pour √©viter les boucles infinies\n          if (this.isDevelopment) {\n            console.error('Failed to send critical alert:', err)\n          }\n        })\n      }).catch(() => {\n        // Service d'alertes non disponible, continuer sans\n      })\n    }\n\n    // Toujours logger en console pour le d√©veloppement\n    if (this.isDevelopment || !this.isProduction) {\n      console.error('‚ùå [ERROR]', message, {\n        error,\n        context,\n        timestamp: logData.timestamp,\n      })\n    }\n  }\n\n  /**\n   * Log un avertissement\n   */\n  warn(message: string, context?: LogContext) {\n    const logData = {\n      message,\n      context,\n      timestamp: new Date().toISOString(),\n      level: 'warn' as LogLevel,\n    }\n\n    if (this.isDevelopment) {\n      console.warn('‚ö†Ô∏è [WARN]', message, { context, timestamp: logData.timestamp })\n    }\n  }\n\n  /**\n   * Log une information\n   */\n  info(message: string, context?: LogContext) {\n    const logData = {\n      message,\n      context,\n      timestamp: new Date().toISOString(),\n      level: 'info' as LogLevel,\n    }\n\n    if (this.isDevelopment) {\n      console.info('‚ÑπÔ∏è [INFO]', message, { context, timestamp: logData.timestamp })\n    }\n  }\n\n  /**\n   * Log pour le d√©bogage (uniquement en d√©veloppement)\n   */\n  debug(message: string, context?: LogContext) {\n    if (!this.isDevelopment) return\n\n    console.debug('üêõ [DEBUG]', message, {\n      context,\n      timestamp: new Date().toISOString(),\n    })\n  }\n\n  /**\n   * Helper pour logger les erreurs de requ√™te API\n   */\n  apiError(endpoint: string, error: Error | unknown, context?: LogContext) {\n    this.error(`API Error: ${endpoint}`, error, {\n      ...context,\n      endpoint,\n    })\n  }\n\n  /**\n   * Helper pour logger les erreurs de mutation\n   */\n  mutationError(mutationName: string, error: Error | unknown, context?: LogContext) {\n    this.error(`Mutation Error: ${mutationName}`, error, {\n      ...context,\n      mutationName,\n    })\n  }\n\n  /**\n   * Helper pour logger les erreurs de query\n   */\n  queryError(queryKey: string, error: Error | unknown, context?: LogContext) {\n    this.error(`Query Error: ${queryKey}`, error, {\n      ...context,\n      queryKey,\n    })\n  }\n}\n\n// Export d'une instance singleton\nexport const logger = new Logger()\n\n// Export du type pour utilisation dans d'autres fichiers\nexport type { LogContext, LogLevel }\n\n/**\n * Utilitaires pour sanitiser les donn√©es sensibles dans les logs\n */\n\n/**\n * Masque un email (garde 2 premiers caract√®res + domaine)\n */\nexport function maskEmail(email: string | null | undefined): string {\n  if (!email) return '[NO_EMAIL]'\n  const [local, domain] = email.split('@')\n  if (!domain) return '[INVALID_EMAIL]'\n  return `${local.substring(0, 2)}***@${domain}`\n}\n\n/**\n * Masque un ID (garde 8 premiers caract√®res)\n */\nexport function maskId(id: string | null | undefined): string {\n  if (!id) return '[NO_ID]'\n  return id.substring(0, 8) + '...'\n}\n\n/**\n * Masque un token (retourne juste un indicateur)\n */\nexport function maskToken(token: string | null | undefined): string {\n  if (!token) return '[NO_TOKEN]'\n  return '[REDACTED]'\n}\n\n/**\n * Masque un num√©ro de t√©l√©phone (garde 4 derniers chiffres)\n */\nexport function maskPhone(phone: string | null | undefined): string {\n  if (!phone) return '[NO_PHONE]'\n  if (phone.length < 4) return '***'\n  return '***' + phone.slice(-4)\n}\n\n/**\n * Sanitise un objet erreur pour √©viter d'exposer des informations sensibles\n */\nexport function sanitizeError(error: any): Record<string, any> {\n  if (!error) return {}\n\n  return {\n    message: error.message,\n    code: error.code,\n    name: error.name,\n    // Ne pas inclure stack traces en production\n    ...(process.env.NODE_ENV === 'development' ? { stack: error.stack } : {}),\n  }\n}\n\n/**\n * Sanitise un objet utilisateur pour les logs\n */\nexport function sanitizeUser(user: any): Record<string, any> {\n  if (!user) return {}\n\n  return {\n    id: maskId(user.id),\n    email: maskEmail(user.email),\n    role: user.role,\n    organizationId: maskId(user.organization_id),\n  }\n}\n\n/**\n * Sanitise un objet √©tudiant pour les logs\n */\nexport function sanitizeStudent(student: any): Record<string, any> {\n  if (!student) return {}\n\n  return {\n    id: maskId(student.id),\n    email: maskEmail(student.email),\n    firstName: student.first_name ? student.first_name.charAt(0) + '***' : '[NO_NAME]',\n    lastName: student.last_name ? student.last_name.charAt(0) + '***' : '[NO_NAME]',\n  }\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-rsc']!.ReactServerDOMTurbopackServer\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const createClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call createClient() from the server but createClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/lib/supabase/client.ts\",\n    \"createClient\",\n);\n","/**\n * Service d'envoi d'emails\n * \n * Ce service permet d'envoyer des emails avec pi√®ces jointes depuis l'application.\n * \n * Configuration requise :\n * - Installer Resend : npm install resend\n * - Ajouter RESEND_API_KEY dans .env.local\n * - Ou utiliser un autre service d'email (SendGrid, etc.)\n */\n\ninterface EmailAttachment {\n  filename: string\n  content: Blob | ArrayBuffer | string // Base64 ou Blob\n  contentType: string\n}\n\ninterface SendEmailOptions {\n  to: string | string[]\n  subject: string\n  html?: string\n  text?: string\n  attachments?: EmailAttachment[]\n  cc?: string | string[]\n  bcc?: string | string[]\n  replyTo?: string\n}\n\nexport class EmailService {\n  /**\n   * Convertit un Blob en base64\n   */\n  private async blobToBase64(blob: Blob): Promise<string> {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader()\n      reader.onloadend = () => {\n        const base64 = (reader.result as string).split(',')[1]\n        resolve(base64)\n      }\n      reader.onerror = reject\n      reader.readAsDataURL(blob)\n    })\n  }\n\n  /**\n   * Envoie un email avec pi√®ces jointes\n   */\n  async sendEmail(options: SendEmailOptions): Promise<{ success: boolean; message: string }> {\n    try {\n      // Convertir les pi√®ces jointes en base64 si n√©cessaire\n      const attachments = options.attachments\n        ? await Promise.all(\n            options.attachments.map(async (att) => {\n              let content: string\n              if (att.content instanceof Blob) {\n                content = await this.blobToBase64(att.content)\n              } else if (att.content instanceof ArrayBuffer) {\n                const blob = new Blob([att.content], { type: att.contentType })\n                content = await this.blobToBase64(blob)\n              } else {\n                content = att.content\n              }\n\n              return {\n                filename: att.filename,\n                content,\n                contentType: att.contentType,\n              }\n            })\n          )\n        : undefined\n\n      const response = await fetch('/api/email/send', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        credentials: 'include', // Inclure les cookies pour l'authentification\n        body: JSON.stringify({\n          to: options.to,\n          subject: options.subject,\n          html: options.html,\n          text: options.text,\n          attachments,\n          cc: options.cc,\n          bcc: options.bcc,\n          replyTo: options.replyTo,\n        }),\n      })\n\n      if (!response.ok) {\n        const error = await response.json()\n        throw new Error(error.message || 'Erreur lors de l\\'envoi de l\\'email')\n      }\n\n      const data = await response.json()\n      return { success: true, message: data.message || 'Email envoy√© avec succ√®s' }\n    } catch (error) {\n      throw new Error(\n        error instanceof Error\n          ? error.message\n          : 'Erreur lors de l\\'envoi de l\\'email'\n      )\n    }\n  }\n\n  /**\n   * Envoie un document PDF par email\n   */\n  async sendDocument(\n    to: string | string[],\n    subject: string,\n    pdfBlob: Blob,\n    filename: string,\n    htmlBody?: string,\n    textBody?: string\n  ): Promise<{ success: boolean; message: string }> {\n    return this.sendEmail({\n      to,\n      subject,\n      html: htmlBody,\n      text: textBody,\n      attachments: [\n        {\n          filename,\n          content: pdfBlob,\n          contentType: 'application/pdf',\n        },\n      ],\n    })\n  }\n\n  /**\n   * Envoie plusieurs documents par email\n   */\n  async sendMultipleDocuments(\n    to: string | string[],\n    subject: string,\n    documents: Array<{ blob: Blob; filename: string }>,\n    htmlBody?: string,\n    textBody?: string\n  ): Promise<{ success: boolean; message: string }> {\n    return this.sendEmail({\n      to,\n      subject,\n      html: htmlBody,\n      text: textBody,\n      attachments: documents.map((doc) => ({\n        filename: doc.filename,\n        content: doc.blob,\n        contentType: 'application/pdf',\n      })),\n    })\n  }\n}\n\nexport const emailService = new EmailService()\n","/**\n * Service pour la g√©n√©ration programm√©e de documents\n */\n\nimport { createClient } from '@/lib/supabase/client'\nimport type { SupabaseClient } from '@supabase/supabase-js'\nimport type { Database } from '@/types/database.types'\nimport type { DocumentType, DocumentVariables } from '@/lib/types/document-templates'\n\ntype ScheduledGeneration = any\ntype ScheduledGenerationInsert = any\ntype ScheduledGenerationUpdate = any\n\nexport interface ScheduledGenerationConfig {\n  template_id: string\n  organization_id: string\n  schedule_type: 'daily' | 'weekly' | 'monthly' | 'custom'\n  schedule_config: {\n    time?: string // Format HH:MM\n    day_of_week?: number // 0-6 (Dimanche-Samedi)\n    day_of_month?: number // 1-31\n    cron_expression?: string // Expression cron personnalis√©e\n  }\n  filter_criteria?: {\n    student_ids?: string[]\n    session_ids?: string[]\n    enrollment_ids?: string[]\n    custom_filters?: Record<string, unknown>\n  }\n  format: 'PDF' | 'DOCX' | 'HTML'\n  send_email?: boolean\n  email_recipients?: string[]\n  enabled: boolean\n  variables?: DocumentVariables\n}\n\nexport class ScheduledGenerationService {\n  private supabase: SupabaseClient<Database>\n\n\n  constructor(supabaseClient?: SupabaseClient<Database>) {\n\n    this.supabase = supabaseClient || createClient()\n\n  }\n\n  /**\n   * Cr√©e une nouvelle g√©n√©ration programm√©e\n   */\n  async create(config: ScheduledGenerationConfig): Promise<ScheduledGeneration> {\n    const { data, error } = await (this.supabase as any)\n      .from('scheduled_generations')\n      .insert({\n        template_id: config.template_id,\n        organization_id: config.organization_id,\n        schedule_type: config.schedule_type,\n        schedule_config: config.schedule_config,\n        filter_criteria: config.filter_criteria || {},\n        format: config.format,\n        send_email: config.send_email || false,\n        email_recipients: config.email_recipients || [],\n        enabled: config.enabled,\n        variables: config.variables || {},\n      } as ScheduledGenerationInsert)\n      .select()\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  /**\n   * R√©cup√®re toutes les g√©n√©rations programm√©es d'une organisation\n   */\n  async getAll(organizationId: string): Promise<ScheduledGeneration[]> {\n    const { data, error } = await (this.supabase as any)\n      .from('scheduled_generations')\n      .select('*')\n      .eq('organization_id', organizationId)\n      .order('created_at', { ascending: false })\n\n    if (error) throw error\n    return data || []\n  }\n\n  /**\n   * R√©cup√®re une g√©n√©ration programm√©e par ID\n   */\n  async getById(id: string): Promise<ScheduledGeneration | null> {\n    const { data, error } = await (this.supabase as any)\n      .from('scheduled_generations')\n      .select('*')\n      .eq('id', id)\n      .single()\n\n    if (error) {\n      if (error.code === 'PGRST116') return null\n      throw error\n    }\n    return data\n  }\n\n  /**\n   * Met √† jour une g√©n√©ration programm√©e\n   */\n  async update(\n    id: string,\n    updates: Partial<ScheduledGenerationConfig>\n  ): Promise<ScheduledGeneration> {\n    const { data, error } = await (this.supabase as any)\n      .from('scheduled_generations')\n      .update({\n        ...updates,\n        updated_at: new Date().toISOString(),\n      } as ScheduledGenerationUpdate)\n      .eq('id', id)\n      .select()\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  /**\n   * Active ou d√©sactive une g√©n√©ration programm√©e\n   */\n  async setEnabled(id: string, enabled: boolean): Promise<ScheduledGeneration> {\n    return this.update(id, { enabled })\n  }\n\n  /**\n   * Supprime une g√©n√©ration programm√©e\n   */\n  async delete(id: string): Promise<void> {\n    const { error } = await (this.supabase as any)\n      .from('scheduled_generations')\n      .delete()\n      .eq('id', id)\n\n    if (error) throw error\n  }\n\n  /**\n   * R√©cup√®re les g√©n√©rations programm√©es √† ex√©cuter maintenant\n   */\n  async getDueGenerations(): Promise<ScheduledGeneration[]> {\n    const now = new Date()\n    const currentHour = now.getHours()\n    const currentMinute = now.getMinutes()\n    const currentDayOfWeek = now.getDay()\n    const currentDayOfMonth = now.getDate()\n\n    const { data, error } = await (this.supabase as any)\n      .from('scheduled_generations')\n      .select('*')\n      .eq('enabled', true)\n\n    if (error) throw error\n\n    // Filtrer les g√©n√©rations qui doivent √™tre ex√©cut√©es maintenant\n    return (data || []).filter((gen: any) => {\n      const config = (gen as any).schedule_config as { time?: string; day_of_week?: number; day_of_month?: number; cron_expression?: string }\n\n      if ((gen as any).schedule_type === 'daily') {\n        const [hour, minute] = (config.time || '00:00').split(':').map(Number)\n        return currentHour === hour && currentMinute === minute\n      }\n\n      if ((gen as any).schedule_type === 'weekly') {\n        const [hour, minute] = (config.time || '00:00').split(':').map(Number)\n        const dayOfWeek = config.day_of_week ?? 0\n        return (\n          currentDayOfWeek === dayOfWeek &&\n          currentHour === hour &&\n          currentMinute === minute\n        )\n      }\n\n      if ((gen as any).schedule_type === 'monthly') {\n        const [hour, minute] = (config.time || '00:00').split(':').map(Number)\n        const dayOfMonth = config.day_of_month ?? 1\n        return (\n          currentDayOfMonth === dayOfMonth &&\n          currentHour === hour &&\n          currentMinute === minute\n        )\n      }\n\n      // Pour 'custom', on devrait utiliser une biblioth√®que cron\n      // Pour l'instant, on retourne false\n      return false\n    })\n  }\n\n  /**\n   * Marque une g√©n√©ration comme ex√©cut√©e\n   */\n  async markAsExecuted(id: string, result: { success: boolean; error?: string }): Promise<void> {\n    const { error } = await (this.supabase as any)\n      .from('scheduled_generations')\n      .update({\n        last_executed_at: new Date().toISOString(),\n        last_execution_result: result,\n        execution_count: (await this.getById(id))?.execution_count || 0 + 1,\n      } as ScheduledGenerationUpdate)\n      .eq('id', id)\n\n    if (error) throw error\n  }\n}\n\nexport const scheduledGenerationService = new ScheduledGenerationService()\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","vendored","ReactServerDOMTurbopackServer"],"mappings":"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","ignoreList":[0,2,3]}