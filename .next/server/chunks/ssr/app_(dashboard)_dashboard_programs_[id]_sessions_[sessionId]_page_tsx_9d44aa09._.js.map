{"version":3,"sources":["../../../../app/%28dashboard%29/dashboard/programs/%5Bid%5D/sessions/%5BsessionId%5D/page.tsx"],"sourcesContent":["'use client'\n\nimport { useParams, useRouter } from 'next/navigation'\nimport { useQuery } from '@tanstack/react-query'\nimport { sessionService } from '@/lib/services/session.service'\nimport { createClient } from '@/lib/supabase/client'\nimport { Button } from '@/components/ui/button'\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\nimport { ArrowLeft, Edit, Calendar, Clock, MapPin, Users, BookOpen, DollarSign } from 'lucide-react'\nimport Link from 'next/link'\nimport { formatDate, formatCurrency } from '@/lib/utils'\nimport type { SessionWithRelations } from '@/lib/types/query-types'\n\nexport default function SessionDetailPage() {\n  const params = useParams()\n  const router = useRouter()\n  const programId = params.id as string\n  const sessionId = params.sessionId as string\n  const supabase = createClient()\n\n  const { data: session, isLoading } = useQuery({\n    queryKey: ['session', sessionId],\n    queryFn: () => sessionService.getSessionById(sessionId),\n    enabled: !!sessionId,\n  })\n\n  // Récupérer les inscriptions à cette session\n  const { data: enrollments, isLoading: enrollmentsLoading } = useQuery({\n    queryKey: ['session-enrollments', sessionId],\n    queryFn: async () => {\n      const { data, error } = await supabase\n        .from('enrollments')\n        .select('*, students(*)')\n        .eq('session_id', sessionId) // Utiliser session_id au lieu de program_session_id\n        .order('enrollment_date', { ascending: false })\n      if (error) throw error\n      return data || []\n    },\n    enabled: !!sessionId,\n  })\n\n  // Récupérer les enseignants si nécessaire\n  const { data: teacher } = useQuery({\n    queryKey: ['teacher', session?.teacher_id],\n    queryFn: async () => {\n      if (!session?.teacher_id) return null\n      const { createClient } = await import('@/lib/supabase/client')\n      const supabase = createClient()\n      const { data, error } = await supabase\n        .from('users')\n        .select('id, full_name, email')\n        .eq('id', session.teacher_id)\n        .single()\n      if (error) {\n        // Ne pas bloquer si l'enseignant n'est pas trouvé\n        console.error('Erreur lors de la récupération de l\\'enseignant:', error)\n        return null\n      }\n      return data\n    },\n    enabled: !!session?.teacher_id,\n  })\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'planned':\n        return 'bg-blue-100 text-blue-800'\n      case 'ongoing':\n        return 'bg-success-bg text-success-primary'\n      case 'completed':\n        return 'bg-gray-100 text-gray-800'\n      case 'cancelled':\n        return 'bg-red-100 text-red-800'\n      default:\n        return 'bg-gray-100 text-gray-800'\n    }\n  }\n\n  const getStatusLabel = (status: string) => {\n    switch (status) {\n      case 'planned':\n        return 'Planifiée'\n      case 'ongoing':\n        return 'En cours'\n      case 'completed':\n        return 'Terminée'\n      case 'cancelled':\n        return 'Annulée'\n      default:\n        return status\n    }\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-center\">\n          <div className=\"text-muted-foreground\">Chargement...</div>\n        </div>\n      </div>\n    )\n  }\n\n  if (!session) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-center\">\n          <div className=\"text-muted-foreground\">Session non trouvée</div>\n          <Link href={`/dashboard/programs/${programId}/sessions`}>\n            <Button className=\"mt-4\">Retour aux sessions</Button>\n          </Link>\n        </div>\n      </div>\n    )\n  }\n\n  // TypeScript: Le service retourne une session avec le programme joint\n  // La session a maintenant formations -> programs\n  const sessionData = session as SessionWithRelations\n  const formation = sessionData?.formations\n  const program = formation?.programs\n\n  return (\n    <div className=\"space-y-6\">\n      {/* En-tête */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center space-x-4\">\n          <Link href={`/dashboard/programs/${programId}/sessions`}>\n            <Button variant=\"ghost\" size=\"icon\">\n              <ArrowLeft className=\"h-4 w-4\" />\n            </Button>\n          </Link>\n          <div>\n            <h1 className=\"text-3xl font-bold text-gray-900\">{session.name}</h1>\n            <p className=\"mt-2 text-sm text-gray-600\">\n              Session de la formation <Link href={`/dashboard/programs/${programId}`} className=\"text-primary hover:underline\">{program?.name}</Link>\n            </p>\n          </div>\n        </div>\n        <div className=\"flex items-center space-x-2\">\n          <span className={`px-3 py-1 rounded-full text-sm font-medium ${getStatusColor(session.status)}`}>\n            {getStatusLabel(session.status)}\n          </span>\n          <Link href={`/dashboard/programs/${programId}/sessions/${sessionId}/attendance`}>\n            <Button variant=\"outline\">\n              <Users className=\"mr-2 h-4 w-4\" />\n              Gérer l'assiduité\n            </Button>\n          </Link>\n        </div>\n      </div>\n\n      {/* Informations principales */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center\">\n              <Calendar className=\"mr-2 h-5 w-5\" />\n              Dates et horaires\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-700 mb-1\">Date de début</p>\n              <p className=\"text-lg\">{formatDate(session.start_date)}</p>\n            </div>\n            <div>\n              <p className=\"text-sm font-medium text-gray-700 mb-1\">Date de fin</p>\n              <p className=\"text-lg\">{formatDate(session.end_date)}</p>\n            </div>\n            {session.start_time && session.end_time && (\n              <>\n                <div>\n                  <p className=\"text-sm font-medium text-gray-700 mb-1\">Heure de début</p>\n                  <p className=\"text-lg flex items-center\">\n                    <Clock className=\"mr-2 h-4 w-4\" />\n                    {session.start_time}\n                  </p>\n                </div>\n                <div>\n                  <p className=\"text-sm font-medium text-gray-700 mb-1\">Heure de fin</p>\n                  <p className=\"text-lg flex items-center\">\n                    <Clock className=\"mr-2 h-4 w-4\" />\n                    {session.end_time}\n                  </p>\n                </div>\n              </>\n            )}\n            {session.location && (\n              <div>\n                <p className=\"text-sm font-medium text-gray-700 mb-1\">Lieu</p>\n                <p className=\"text-lg flex items-center\">\n                  <MapPin className=\"mr-2 h-4 w-4\" />\n                  {session.location}\n                </p>\n              </div>\n            )}\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center\">\n              <Users className=\"mr-2 h-5 w-5\" />\n              Participants\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            {session.capacity_max && (\n              <div>\n                <p className=\"text-sm font-medium text-gray-700 mb-1\">Capacité maximale</p>\n                <p className=\"text-lg\">{session.capacity_max} apprenants</p>\n              </div>\n            )}\n            {enrollments && (\n              <div>\n                <p className=\"text-sm font-medium text-gray-700 mb-1\">Élèves inscrits</p>\n                <p className=\"text-lg font-semibold text-primary\">\n                  {enrollments.length} {enrollments.length === 1 ? 'élève' : 'élèves'}\n                </p>\n                {session.capacity_max && (\n                  <p className=\"text-xs text-muted-foreground mt-1\">\n                    {Math.round((enrollments.length / session.capacity_max) * 100)}% de la capacité\n                  </p>\n                )}\n              </div>\n            )}\n            {teacher ? (\n              <div>\n                <p className=\"text-sm font-medium text-gray-700 mb-1\">Enseignant</p>\n                <p className=\"text-lg\">{teacher.full_name}</p>\n                {teacher.email && (\n                  <p className=\"text-sm text-muted-foreground\">{teacher.email}</p>\n                )}\n              </div>\n            ) : session.teacher_id ? (\n              <div>\n                <p className=\"text-sm font-medium text-gray-700 mb-1\">Enseignant</p>\n                <p className=\"text-sm text-muted-foreground\">Non assigné ou non trouvé</p>\n              </div>\n            ) : (\n              <div>\n                <p className=\"text-sm font-medium text-gray-700 mb-1\">Enseignant</p>\n                <p className=\"text-sm text-muted-foreground\">Aucun enseignant assigné</p>\n              </div>\n            )}\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Informations sur le programme */}\n      {program && (\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center\">\n              <BookOpen className=\"mr-2 h-5 w-5\" />\n              Formation associée\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-2\">\n              <div>\n                <p className=\"text-sm font-medium text-gray-700 mb-1\">Nom de la formation</p>\n                <p className=\"text-lg\">\n                  <Link href={`/dashboard/programs/${programId}`} className=\"text-primary hover:underline\">\n                    {program.name}\n                  </Link>\n                </p>\n              </div>\n              {program.code && (\n                <div>\n                  <p className=\"text-sm font-medium text-gray-700 mb-1\">Code</p>\n                  <p className=\"text-lg\">{program.code}</p>\n                </div>\n              )}\n              {program.description && (\n                <div>\n                  <p className=\"text-sm font-medium text-gray-700 mb-1\">Description</p>\n                  <p className=\"text-sm text-gray-600\">{program.description}</p>\n                </div>\n              )}\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Liste des élèves inscrits */}\n      <Card>\n        <CardHeader>\n          <div className=\"flex items-center justify-between\">\n            <CardTitle className=\"flex items-center\">\n              <Users className=\"mr-2 h-5 w-5\" />\n              Élèves inscrits ({enrollments?.length || 0})\n            </CardTitle>\n            <Link href={`/dashboard/programs/${programId}/sessions/${sessionId}/attendance`}>\n              <Button variant=\"outline\" size=\"sm\">\n                <Users className=\"mr-2 h-4 w-4\" />\n                Gérer l'assiduité\n              </Button>\n            </Link>\n          </div>\n        </CardHeader>\n        <CardContent>\n          {enrollmentsLoading ? (\n            <div className=\"text-center py-8 text-muted-foreground\">\n              Chargement des inscriptions...\n            </div>\n          ) : enrollments && enrollments.length > 0 ? (\n            <div className=\"space-y-3\">\n              {enrollments.map((enrollment: any) => {\n                const student = enrollment.students\n                if (!student) return null\n\n                const getStatusColor = (status: string) => {\n                  switch (status) {\n                    case 'pending':\n                      return 'bg-warning-bg text-warning-primary'\n                    case 'confirmed':\n                      return 'bg-blue-100 text-blue-800'\n                    case 'completed':\n                      return 'bg-success-bg text-success-primary'\n                    case 'cancelled':\n                      return 'bg-gray-100 text-gray-800'\n                    case 'failed':\n                      return 'bg-red-100 text-red-800'\n                    default:\n                      return 'bg-gray-100 text-gray-800'\n                  }\n                }\n\n                const getPaymentStatusColor = (status: string) => {\n                  switch (status) {\n                    case 'pending':\n                      return 'bg-warning-bg text-warning-primary'\n                    case 'partial':\n                      return 'bg-blue-100 text-blue-800'\n                    case 'paid':\n                      return 'bg-success-bg text-success-primary'\n                    case 'overdue':\n                      return 'bg-red-100 text-red-800'\n                    default:\n                      return 'bg-gray-100 text-gray-800'\n                  }\n                }\n\n                return (\n                  <div\n                    key={enrollment.id}\n                    className=\"p-4 border rounded-lg hover:bg-gray-50 transition-colors\"\n                  >\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex-1\">\n                        <h3 className=\"font-semibold text-lg\">\n                          {student.first_name} {student.last_name}\n                        </h3>\n                        <p className=\"text-sm text-muted-foreground\">\n                          {student.student_number}\n                          {student.email && ` • ${student.email}`}\n                        </p>\n                        <div className=\"mt-2 flex items-center space-x-4 text-sm\">\n                          <div>\n                            <span className=\"text-muted-foreground\">Date d'inscription:</span>{' '}\n                            <span className=\"font-medium\">{formatDate(enrollment.enrollment_date)}</span>\n                          </div>\n                          {program && enrollment.total_amount > 0 && (\n                            <div>\n                              <span className=\"text-muted-foreground\">Montant:</span>{' '}\n                              <span className=\"font-medium\">\n                                {formatCurrency(enrollment.total_amount, (program as any).currency || 'XOF')}\n                              </span>\n                              {enrollment.paid_amount > 0 && (\n                                <span className=\"text-success-primary ml-1\">\n                                  (Payé: {formatCurrency(enrollment.paid_amount, (program as any).currency || 'XOF')})\n                                </span>\n                              )}\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                      <div className=\"flex flex-col items-end space-y-2\">\n                        <span className={`px-2 py-1 rounded text-xs font-medium ${getStatusColor(enrollment.status)}`}>\n                          {enrollment.status === 'pending' ? 'En attente' :\n                           enrollment.status === 'confirmed' ? 'Confirmée' :\n                           enrollment.status === 'completed' ? 'Terminée' :\n                           enrollment.status === 'cancelled' ? 'Annulée' :\n                           enrollment.status === 'failed' ? 'Échouée' : enrollment.status}\n                        </span>\n                        <span className={`px-2 py-1 rounded text-xs font-medium ${getPaymentStatusColor(enrollment.payment_status)}`}>\n                          {enrollment.payment_status === 'pending' ? 'En attente' :\n                           enrollment.payment_status === 'partial' ? 'Partiel' :\n                           enrollment.payment_status === 'paid' ? 'Payé' :\n                           enrollment.payment_status === 'overdue' ? 'En retard' : enrollment.payment_status}\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                )\n              })}\n            </div>\n          ) : (\n            <div className=\"text-center py-12 text-muted-foreground\">\n              Aucun élève inscrit à cette session pour le moment.\n              <div className=\"mt-4\">\n                <Link href={`/dashboard/programs/${programId}/sessions`}>\n                  <Button variant=\"outline\" size=\"sm\">\n                    Inscrire un élève\n                  </Button>\n                </Link>\n              </div>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Métadonnées */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Informations supplémentaires</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm\">\n            <div>\n              <p className=\"font-medium text-gray-700 mb-1\">ID de la session</p>\n              <p className=\"text-muted-foreground font-mono text-xs\">{session.id}</p>\n            </div>\n            {session.created_at && (\n              <div>\n                <p className=\"font-medium text-gray-700 mb-1\">Date de création</p>\n                <p className=\"text-muted-foreground\">{formatDate(session.created_at)}</p>\n              </div>\n            )}\n            {session.updated_at && (\n              <div>\n                <p className=\"font-medium text-gray-700 mb-1\">Dernière modification</p>\n                <p className=\"text-muted-foreground\">{formatDate(session.updated_at)}</p>\n              </div>\n            )}\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"0DAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAGe,SAAS,IACtB,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IACT,CAAA,EAAA,EAAA,SAAA,AAAS,IACxB,IAAM,EAAY,EAAO,EAAE,CACrB,EAAY,EAAO,SAAS,CAC5B,EAAW,CAAA,EAAA,EAAA,YAAA,AAAY,IAEvB,CAAE,KAAM,CAAO,WAAE,CAAS,CAAE,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,CAC5C,SAAU,CAAC,UAAW,EAAU,CAChC,QAAS,IAAM,EAAA,cAAc,CAAC,cAAc,CAAC,GAC7C,QAAS,CAAC,CAAC,CACb,GAGM,CAAE,KAAM,CAAW,CAAE,UAAW,CAAkB,CAAE,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAS,CACpE,SAAU,CAAC,sBAAuB,EAAU,CAC5C,QAAS,UACP,GAAM,MAAE,CAAI,OAAE,CAAK,CAAE,CAAG,MAAM,EAC3B,IAAI,CAAC,eACL,MAAM,CAAC,kBACP,EAAE,CAAC,aAAc,GACjB,KAAK,CAAC,EADsB,gBACH,CAAE,UAAW,EAAM,GAC/C,GAAI,EAAO,MAAM,EACjB,OAAO,AAH4E,GAGpE,EAAE,AACnB,EACA,QAAS,CAAC,CAAC,CACb,GAGM,CAAE,KAAM,CAAO,CAAE,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,CACjC,SAAU,CAAC,UAAW,GAAS,WAAW,CAC1C,QAAS,UACP,GAAI,CAAC,GAAS,WAAY,OAAO,KACjC,GAAM,cAAE,CAAY,CAAE,CAAG,MAAA,EAAA,CAAA,CAAA,QACnB,EAAW,IACX,MAAE,CAAI,OAAE,CAAK,CAAE,CAAG,MAAM,EAC3B,IAAI,CAAC,SACL,MAAM,CAAC,wBACP,EAAE,CAAC,KAAM,EAAQ,UAAU,EAC3B,MAAM,UACT,AAAI,GAEF,IAFS,IAED,KAAK,CAAC,kDAAoD,GAC3D,MAEF,CACT,EACA,QAAS,CAAC,CAAC,GAAS,UACtB,GAgCA,GAAI,EACF,MACE,CAAA,EAFW,AAEX,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iCAAwB,sBAM/C,GAAI,CAAC,EACH,MACE,CAFU,AAEV,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iCAAwB,wBACvC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAM,CAAC,oBAAoB,EAAE,EAAU,SAAS,CAAC,UACrD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,gBAAO,+BAUnC,IAAM,EADc,GACW,OAAb,IACZ,EAAU,GAAW,SAE3B,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAM,CAAC,oBAAoB,EAAE,EAAU,SAAS,CAAC,UACrD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QAAQ,QAAQ,KAAK,gBAC3B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,gBAGzB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,4CAAoC,EAAQ,IAAI,GAC9D,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,uCAA6B,2BAChB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAM,CAAC,oBAAoB,EAAE,EAAA,CAAW,CAAE,UAAU,wCAAgC,GAAS,gBAIjI,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAW,CAAC,2CAA2C,EAAE,CA7EhD,AAAC,IACtB,OAAQ,GACN,IAAK,UACH,MAAO,2BACT,KAAK,UACH,MAAO,oCACT,KAAK,YAIL,QAHE,MAAO,2BACT,KAAK,YACH,MAAO,yBAGX,EACF,EAgEsF,EAAQ,MAAM,EAAA,CAAG,UAC5F,CA/DY,AAAC,IACtB,OAAQ,GACN,IAAK,UACH,MAAO,WACT,KAAK,UACH,MAAO,UACT,KAAK,YACH,MAAO,UACT,KAAK,YACH,MAAO,SACT,SACE,OAAO,CACX,CACF,GAkD0B,EAAQ,MAAM,IAEhC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAM,CAAC,oBAAoB,EAAE,EAAU,UAAU,EAAE,EAAU,WAAW,CAAC,UAC7E,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QAAQ,oBACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,iBAAiB,+BAQ1C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,UACT,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,8BACnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,iBAAiB,yBAIzC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,sBACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kDAAyC,kBACtD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,mBAAW,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,EAAQ,UAAU,OAEvD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kDAAyC,gBACtD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,mBAAW,CAAA,EAAA,EAAA,UAAU,AAAV,EAAW,EAAQ,QAAQ,OAEpD,EAAQ,UAAU,EAAI,EAAQ,QAAQ,EACrC,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kDAAyC,mBACtD,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,sCACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,iBAChB,EAAQ,UAAU,OAGvB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kDAAyC,iBACtD,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,sCACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,iBAChB,EAAQ,QAAQ,UAKxB,EAAQ,QAAQ,EACf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kDAAyC,SACtD,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,sCACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,iBACjB,EAAQ,QAAQ,aAO3B,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,UACT,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,8BACnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,iBAAiB,oBAItC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,sBACpB,EAAQ,YAAY,EACnB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kDAAyC,sBACtD,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,oBAAW,EAAQ,YAAY,CAAC,oBAGhD,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kDAAyC,oBACtD,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,+CACV,EAAY,MAAM,CAAC,IAAE,AAAuB,MAAX,MAAM,CAAS,QAAU,YAE5D,EAAQ,YAAY,EACnB,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,+CACV,KAAK,KAAK,CAAE,EAAY,MAAM,CAAG,EAAQ,YAAY,CAAI,KAAK,yBAKtE,EACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kDAAyC,eACtD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,mBAAW,EAAQ,SAAS,GACxC,EAAQ,KAAK,EACZ,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAiC,EAAQ,KAAK,MAG7D,EAAQ,UAAU,CACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kDAAyC,eACtD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,iCAG/C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kDAAyC,eACtD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,yCAQtD,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,UACT,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,8BACnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,iBAAiB,0BAIzC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UACV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kDAAyC,wBACtD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,mBACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAM,CAAC,oBAAoB,EAAE,EAAA,CAAW,CAAE,UAAU,wCACvD,EAAQ,IAAI,QAIlB,EAAQ,IAAI,EACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kDAAyC,SACtD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,mBAAW,EAAQ,IAAI,MAGvC,EAAQ,WAAW,EAClB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kDAAyC,gBACtD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAyB,EAAQ,WAAW,cASrE,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,UACT,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,8BACnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,iBAAiB,oBAChB,GAAa,QAAU,EAAE,OAE7C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAM,CAAC,oBAAoB,EAAE,EAAU,UAAU,EAAE,EAAU,WAAW,CAAC,UAC7E,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QAAQ,UAAU,KAAK,eAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,iBAAiB,8BAM1C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UACT,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kDAAyC,mCAGtD,GAAe,EAAY,MAAM,CAAG,EACtC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,EAAY,GAAG,CAAC,AAAC,IAChB,IAAM,EAAU,EAAW,QAAQ,QACnC,AAAK,EAmCH,CAAA,CAnCE,CAmCF,EAAA,EAnCY,CAmCZ,EAAC,MAAA,CAEC,UAAU,oEAEV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mBACb,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,kCACX,EAAQ,UAAU,CAAC,IAAE,EAAQ,SAAS,IAEzC,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,0CACV,EAAQ,cAAc,CACtB,EAAQ,KAAK,EAAI,CAAC,GAAG,EAAE,EAAQ,KAAK,CAAA,CAAE,IAEzC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,iCAAwB,wBAA2B,IACnE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uBAAe,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,EAAW,eAAe,OAErE,GAAW,EAAW,YAAY,CAAG,GACpC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,iCAAwB,aAAgB,IACxD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uBACb,CAAA,EAAA,EAAA,cAAA,AAAc,EAAC,EAAW,YAAY,CAAG,EAAgB,QAAQ,EAAI,SAEvE,EAAW,WAAW,CAAG,GACxB,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,sCAA4B,UAClC,CAAA,EAAA,EAAA,cAAA,AAAc,EAAC,EAAW,WAAW,CAAG,EAAgB,QAAQ,EAAI,OAAO,gBAO/F,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAW,CAAC,sCAAsC,EAAE,CAnE1C,AAAD,IACrB,OAAQ,GACN,IAAK,UACH,MAAO,oCACT,KAAK,YACH,MAAO,2BACT,KAAK,YACH,MAAO,oCACT,KAAK,YAIL,QAHE,MAAO,2BACT,KAAK,SACH,MAAO,yBAGX,EACF,EAoDiF,EAAW,MAAM,EAAA,CAAG,UACpE,YAAtB,EAAW,MAAM,CAAiB,aACZ,cAAtB,EAAW,MAAM,CAAmB,YACd,cAAtB,EAAW,MAAM,CAAmB,WACd,cAAtB,EAAW,MAAM,CAAmB,UACpC,AAAsB,aAAX,MAAM,CAAgB,UAAY,EAAW,MAAM,GAEjE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAW,CAAC,sCAAsC,EAAE,CAzDnC,AAAD,IAC5B,OAAQ,GACN,IAAK,UACH,MAAO,oCACT,KAAK,UACH,MAAO,2BACT,KAAK,OACH,MAAO,oCACT,KAAK,UACH,MAAO,yBACT,SACE,MAAO,2BACX,CACF,GA4CwF,EAAW,cAAc,EAAA,CAAG,UAC3E,YAA9B,EAAW,cAAc,CAAiB,aACZ,YAA9B,EAAW,cAAc,CAAiB,UACZ,SAA9B,EAAW,cAAc,CAAc,OACvC,AAA8B,cAAnB,cAAc,CAAiB,YAAc,EAAW,cAAc,UA5CnF,EAAW,EAAE,EApCD,IAsFvB,KAGF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oDAA0C,sDAEvD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAM,CAAC,oBAAoB,EAAE,EAAU,SAAS,CAAC,UACrD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QAAQ,UAAU,KAAK,cAAK,kCAWhD,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,UACT,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UAAC,mCAEb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UACV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0DACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,0CAAiC,qBAC9C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,mDAA2C,EAAQ,EAAE,MAEnE,EAAQ,UAAU,EACjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,0CAAiC,qBAC9C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAyB,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,EAAQ,UAAU,OAGtE,EAAQ,UAAU,EACjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,0CAAiC,0BAC9C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAyB,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,EAAQ,UAAU,iBAQnF"}