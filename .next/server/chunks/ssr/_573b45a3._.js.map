{"version":3,"sources":["../../../../node_modules/lucide-react/src/icons/arrow-left.ts","../../../../components/ui/glass-card.tsx","../../../../node_modules/lucide-react/src/icons/save.ts","../../../../node_modules/lucide-react/src/icons/upload.ts","../../../../node_modules/lucide-react/src/icons/link.ts","../../../../lib/services/educational-resources.service.ts","../../../../node_modules/lucide-react/src/icons/music.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ArrowLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTIgMTktNy03IDctNyIgLz4KICA8cGF0aCBkPSJNMTkgMTJINSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/arrow-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowLeft = createLucideIcon('ArrowLeft', [\n  ['path', { d: 'm12 19-7-7 7-7', key: '1l729n' }],\n  ['path', { d: 'M19 12H5', key: 'x3x0zl' }],\n]);\n\nexport default ArrowLeft;\n","'use client'\n\nimport * as React from 'react'\nimport { cn } from '@/lib/utils'\nimport { motion } from '@/components/ui/motion'\n\nexport interface GlassCardProps extends React.HTMLAttributes<HTMLDivElement> {\n  variant?: 'default' | 'premium' | 'subtle'\n  hoverable?: boolean\n  glow?: boolean\n  glowColor?: string\n}\n\nconst GlassCard = React.forwardRef<HTMLDivElement, GlassCardProps>(\n  ({ className, variant = 'default', hoverable = false, glow = false, glowColor = 'rgba(51, 90, 207, 0.3)', ...props }, ref) => {\n    return (\n      <motion.div\n        ref={ref}\n        className={cn(\n          'relative rounded-2xl border backdrop-blur-xl transition-all duration-300',\n          {\n            // Default variant\n            'bg-white/70 dark:bg-gray-900/70 border-white/20 dark:border-gray-700/30 shadow-lg': variant === 'default',\n            \n            // Premium variant with stronger glass effect\n            'bg-white/80 dark:bg-gray-900/80 border-white/30 dark:border-gray-700/40 shadow-xl': variant === 'premium',\n            \n            // Subtle variant\n            'bg-white/50 dark:bg-gray-900/50 border-white/10 dark:border-gray-700/20 shadow-md': variant === 'subtle',\n            \n            // Hoverable effects\n            'cursor-pointer': hoverable,\n            'hover:shadow-2xl hover:scale-[1.02]': hoverable,\n            'hover:bg-white/90 dark:hover:bg-gray-900/90': hoverable,\n          },\n          className\n        )}\n        whileHover={hoverable ? { scale: 1.02, y: -2 } : undefined}\n        transition={{ type: 'spring', stiffness: 300, damping: 30 }}\n        {...props}\n      >\n        {/* Glow effect */}\n        {glow && (\n          <motion.div\n            className=\"absolute inset-0 rounded-2xl opacity-0 blur-xl\"\n            style={{\n              background: `radial-gradient(circle, ${glowColor} 0%, transparent 70%)`,\n            }}\n            animate={{\n              opacity: [0, 0.5, 0],\n            }}\n            transition={{\n              duration: 3,\n              repeat: Infinity,\n              ease: 'easeInOut',\n            }}\n          />\n        )}\n        \n        {/* Content */}\n        <div className=\"relative z-10\">\n          {props.children}\n        </div>\n      </motion.div>\n    )\n  }\n)\nGlassCard.displayName = 'GlassCard'\n\nexport { GlassCard }\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Save\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTkgMjFINWEyIDIgMCAwIDEtMi0yVjVhMiAyIDAgMCAxIDItMmgxMWw1IDV2MTFhMiAyIDAgMCAxLTIgMnoiIC8+CiAgPHBvbHlsaW5lIHBvaW50cz0iMTcgMjEgMTcgMTMgNyAxMyA3IDIxIiAvPgogIDxwb2x5bGluZSBwb2ludHM9IjcgMyA3IDggMTUgOCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/save\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Save = createLucideIcon('Save', [\n  ['path', { d: 'M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z', key: '1owoqh' }],\n  ['polyline', { points: '17 21 17 13 7 13 7 21', key: '1md35c' }],\n  ['polyline', { points: '7 3 7 8 15 8', key: '8nz8an' }],\n]);\n\nexport default Save;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Upload\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTV2NGEyIDIgMCAwIDEtMiAySDVhMiAyIDAgMCAxLTItMnYtNCIgLz4KICA8cG9seWxpbmUgcG9pbnRzPSIxNyA4IDEyIDMgNyA4IiAvPgogIDxsaW5lIHgxPSIxMiIgeDI9IjEyIiB5MT0iMyIgeTI9IjE1IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/upload\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Upload = createLucideIcon('Upload', [\n  ['path', { d: 'M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4', key: 'ih7n3h' }],\n  ['polyline', { points: '17 8 12 3 7 8', key: 't8dd8p' }],\n  ['line', { x1: '12', x2: '12', y1: '3', y2: '15', key: 'widbto' }],\n]);\n\nexport default Upload;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Link\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAgMTNhNSA1IDAgMCAwIDcuNTQuNTRsMy0zYTUgNSAwIDAgMC03LjA3LTcuMDdsLTEuNzIgMS43MSIgLz4KICA8cGF0aCBkPSJNMTQgMTFhNSA1IDAgMCAwLTcuNTQtLjU0bC0zIDNhNSA1IDAgMCAwIDcuMDcgNy4wN2wxLjcxLTEuNzEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/link\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Link = createLucideIcon('Link', [\n  ['path', { d: 'M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71', key: '1cjeqo' }],\n  ['path', { d: 'M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71', key: '19qd67' }],\n]);\n\nexport default Link;\n","import { createClient } from '@/lib/supabase/client'\nimport type { SupabaseClient } from '@supabase/supabase-js'\nimport { Database } from '@/types/database.types'\nimport type { TableRow, TableInsert, TableUpdate } from '@/lib/types/supabase-helpers'\n\ntype EducationalResource = TableRow<'educational_resources'>\ntype ResourceCategory = TableRow<'resource_categories'>\ntype ResourceCollection = TableRow<'resource_collections'>\ntype ResourceComment = TableRow<'resource_comments'>\ntype ResourceRating = TableRow<'resource_ratings'>\n\nexport class EducationalResourcesService {\n  private supabase: SupabaseClient<Database>\n\n\n  constructor(supabaseClient?: SupabaseClient<Database>) {\n\n    this.supabase = supabaseClient || createClient()\n\n  }\n\n  // ========== CATEGORIES ==========\n\n  async getCategories(organizationId: string) {\n    const { data, error } = await this.supabase\n      .from('resource_categories')\n      .select('*')\n      .eq('organization_id', organizationId)\n      .eq('is_active', true)\n      .order('order_index', { ascending: true })\n\n    if (error) throw error\n    return data\n  }\n\n  async createCategory(category: TableInsert<'resource_categories'>) {\n    const { data, error } = await this.supabase\n      .from('resource_categories')\n      .insert(category)\n      .select()\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  async updateCategory(id: string, updates: TableUpdate<'resource_categories'>) {\n    const { data, error } = await this.supabase\n      .from('resource_categories')\n      .update(updates)\n      .eq('id', id)\n      .select()\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  async deleteCategory(id: string) {\n    const { error } = await this.supabase\n      .from('resource_categories')\n      .delete()\n      .eq('id', id)\n\n    if (error) throw error\n  }\n\n  // ========== RESOURCES ==========\n\n  async getResources(organizationId: string, filters?: {\n    categoryId?: string\n    resourceType?: string\n    search?: string\n    featured?: boolean\n    tags?: string[]\n  }) {\n    try {\n      let query = this.supabase\n        .from('educational_resources')\n        .select(`\n          *,\n          category:resource_categories(*),\n          author:users!author_id(id, full_name, email)\n        `)\n        .eq('organization_id', organizationId)\n        .eq('status', 'published')\n\n    if (filters?.categoryId) {\n      query = query.eq('category_id', filters.categoryId)\n    }\n\n    if (filters?.resourceType) {\n      query = query.eq('resource_type', filters.resourceType)\n    }\n\n    if (filters?.search) {\n      query = query.or(\n        `title.ilike.%${filters.search}%,description.ilike.%${filters.search}%`\n      )\n    }\n\n    if (filters?.featured) {\n      query = query.eq('is_featured', true)\n    }\n\n    if (filters?.tags && filters.tags.length > 0) {\n      query = query.contains('tags', filters.tags)\n    }\n\n      const { data, error } = await query\n        .order('created_at', { ascending: false })\n\n      if (error) {\n        // Si la table n'existe pas encore ou erreur 400, retourner un tableau vide\n        if (\n          error.code === 'PGRST116' ||\n          error.code === 'PGRST200' ||\n          error.code === '42P01' ||\n          error.code === 'PGRST301' ||\n          (error as any).status === 400 ||\n          error.code === '400' ||\n          error.message?.includes('relation') ||\n          error.message?.includes('relationship') ||\n          error.message?.includes('does not exist') ||\n          error.message?.includes('schema cache')\n        ) {\n          // Table ou relation n'existe pas encore - ignorer silencieusement\n          return []\n        }\n        throw error\n      }\n      return data || []\n    } catch (error: unknown) {\n      // Gérer les erreurs de table inexistante ou erreur 400\n      const errorObj = error as { code?: string; status?: number; message?: string }\n      if (\n        errorObj?.code === 'PGRST116' ||\n        errorObj?.code === 'PGRST200' ||\n        errorObj?.code === '42P01' ||\n        errorObj?.code === 'PGRST301' ||\n        errorObj?.status === 400 ||\n        errorObj?.code === '400' ||\n        errorObj?.message?.includes('relation') ||\n        errorObj?.message?.includes('relationship') ||\n        errorObj?.message?.includes('does not exist') ||\n        errorObj?.message?.includes('schema cache')\n      ) {\n        console.warn('Table educational_resources does not exist yet or invalid query:', errorObj?.message || String(error))\n        return []\n      }\n      throw error\n    }\n  }\n\n  async getResourceBySlug(slug: string, organizationId: string) {\n    try {\n      const { data, error } = await this.supabase\n        .from('educational_resources')\n        .select(`\n          *,\n          category:resource_categories(*),\n          author:users!author_id(id, full_name, email),\n          versions:resource_versions(*)\n      `)\n        .eq('slug', slug)\n        .eq('organization_id', organizationId)\n        .eq('status', 'published')\n        .single()\n\n      if (error) throw error\n\n      // Enregistrer une vue\n      await this.recordView(data.id)\n\n      return data\n    } catch (error: unknown) {\n      // Gérer les erreurs de table inexistante\n      const errorObj = error as { code?: string; message?: string }\n      if (errorObj?.code === 'PGRST116' || errorObj?.code === '42P01') {\n        console.warn('Table educational_resources does not exist yet:', errorObj?.message || String(error))\n        throw error\n      }\n      throw error\n    }\n  }\n\n  async createResource(resource: TableInsert<'educational_resources'>) {\n    const { data, error } = await this.supabase\n      .from('educational_resources')\n      .insert(resource)\n      .select()\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  async updateResource(id: string, updates: TableUpdate<'educational_resources'>) {\n    const { data, error } = await this.supabase\n      .from('educational_resources')\n      .update(updates)\n      .eq('id', id)\n      .select()\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  async deleteResource(id: string) {\n    const { error } = await this.supabase\n      .from('educational_resources')\n      .delete()\n      .eq('id', id)\n\n    if (error) throw error\n  }\n\n  // ========== FAVORITES ==========\n\n  async addToFavorites(userId: string, resourceId: string) {\n    const { data, error } = await this.supabase\n      .from('resource_favorites')\n      .insert({ user_id: userId, resource_id: resourceId })\n      .select()\n      .single()\n\n    if (error) throw error\n\n    // Incrémenter le compteur (fonction RPC personnalisée - peut ne pas exister)\n    try {\n      await (this.supabase as any).rpc('increment', {\n        table_name: 'educational_resources',\n        column_name: 'favorite_count',\n        row_id: resourceId,\n      })\n    } catch (rpcError) {\n      // Si la fonction RPC n'existe pas, on ignore l'erreur\n      console.warn('RPC increment not available, skipping favorite_count increment')\n    }\n\n    return data\n  }\n\n  async removeFromFavorites(userId: string, resourceId: string) {\n    const { error } = await this.supabase\n      .from('resource_favorites')\n      .delete()\n      .eq('user_id', userId)\n      .eq('resource_id', resourceId)\n\n    if (error) throw error\n\n    // Décrémenter le compteur (nécessite une fonction SQL ou mise à jour manuelle)\n    const { data: resource } = await this.supabase\n      .from('educational_resources')\n      .select('favorite_count')\n      .eq('id', resourceId)\n      .single()\n\n    if (resource && (resource.favorite_count ?? 0) > 0) {\n      await this.supabase\n        .from('educational_resources')\n        .update({ favorite_count: (resource.favorite_count ?? 0) - 1 })\n        .eq('id', resourceId)\n    }\n  }\n\n  async isFavorite(userId: string, resourceId: string): Promise<boolean> {\n    const { data, error } = await this.supabase\n      .from('resource_favorites')\n      .select('id')\n      .eq('user_id', userId)\n      .eq('resource_id', resourceId)\n      .maybeSingle()\n\n    if (error) throw error\n    return !!data\n  }\n\n  async getUserFavorites(userId: string) {\n    const { data, error } = await this.supabase\n      .from('resource_favorites')\n      .select('*, resource:educational_resources(*, category:resource_categories(*))')\n      .eq('user_id', userId)\n      .order('created_at', { ascending: false })\n\n    if (error) throw error\n    return data\n  }\n\n  // ========== DOWNLOADS ==========\n\n  async recordDownload(resourceId: string, userId: string, ipAddress?: string, userAgent?: string) {\n    const { data, error } = await this.supabase\n      .from('resource_downloads')\n      .insert({\n        resource_id: resourceId,\n        user_id: userId,\n        ip_address: ipAddress,\n        user_agent: userAgent,\n      })\n      .select()\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  async getResourceDownloads(resourceId: string) {\n    const { data, error } = await this.supabase\n      .from('resource_downloads')\n      .select('*, user:users(id, full_name, email)')\n      .eq('resource_id', resourceId)\n      .order('downloaded_at', { ascending: false })\n\n    if (error) throw error\n    return data\n  }\n\n  // ========== VIEWS ==========\n\n  async recordView(resourceId: string, userId?: string, duration?: number, ipAddress?: string, userAgent?: string) {\n    const { data, error } = await this.supabase\n      .from('resource_views')\n      .insert({\n        resource_id: resourceId,\n        user_id: userId,\n        view_duration_seconds: duration,\n        ip_address: ipAddress,\n        user_agent: userAgent,\n      })\n      .select()\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  // ========== COLLECTIONS ==========\n\n  async getCollections(organizationId: string, filters?: {\n    userId?: string\n    isPublic?: boolean\n    isFeatured?: boolean\n  }) {\n    let query = this.supabase\n      .from('resource_collections')\n      .select('*, user:users(id, full_name, email)')\n      .eq('organization_id', organizationId)\n\n    if (filters?.userId) {\n      query = query.eq('user_id', filters.userId)\n    }\n\n    if (filters?.isPublic !== undefined) {\n      query = query.eq('is_public', filters.isPublic)\n    }\n\n    if (filters?.isFeatured) {\n      query = query.eq('is_featured', true)\n    }\n\n    const { data, error } = await query\n      .order('created_at', { ascending: false })\n\n    if (error) throw error\n    return data\n  }\n\n  async getCollectionById(id: string) {\n    const { data, error } = await this.supabase\n      .from('resource_collections')\n      .select(`\n        *,\n        user:users(id, full_name, email),\n        resources:collection_resources(*, resource:educational_resources(*, category:resource_categories(*)))\n      `)\n      .eq('id', id)\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  async createCollection(collection: TableInsert<'resource_collections'>) {\n    const { data, error } = await this.supabase\n      .from('resource_collections')\n      .insert(collection)\n      .select()\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  async addResourceToCollection(collectionId: string, resourceId: string, userId: string) {\n    const { data, error } = await this.supabase\n      .from('collection_resources')\n      .insert({\n        collection_id: collectionId,\n        resource_id: resourceId,\n        added_by: userId,\n      })\n      .select()\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  async removeResourceFromCollection(collectionId: string, resourceId: string) {\n    const { error } = await this.supabase\n      .from('collection_resources')\n      .delete()\n      .eq('collection_id', collectionId)\n      .eq('resource_id', resourceId)\n\n    if (error) throw error\n  }\n\n  // ========== COMMENTS ==========\n\n  async getResourceComments(resourceId: string) {\n    const { data, error } = await this.supabase\n      .from('resource_comments')\n      .select('*, user:users(id, full_name, email), replies:resource_comments(*)')\n      .eq('resource_id', resourceId)\n      .is('parent_id', null)\n      .order('created_at', { ascending: false })\n\n    if (error) throw error\n    return data\n  }\n\n  async createComment(comment: TableInsert<'resource_comments'>) {\n    const { data, error } = await this.supabase\n      .from('resource_comments')\n      .insert(comment)\n      .select(`\n        *,\n        user:users(id, full_name, email)\n      `)\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  async updateComment(id: string, content: string) {\n    const { data, error } = await this.supabase\n      .from('resource_comments')\n      .update({ content, is_edited: true })\n      .eq('id', id)\n      .select()\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  async deleteComment(id: string) {\n    const { error } = await this.supabase\n      .from('resource_comments')\n      .delete()\n      .eq('id', id)\n\n    if (error) throw error\n  }\n\n  // ========== RATINGS ==========\n\n  async createRating(rating: TableInsert<'resource_ratings'>) {\n    const { data, error } = await this.supabase\n      .from('resource_ratings')\n      .insert(rating)\n      .select()\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  async updateRating(id: string, rating: number, comment?: string) {\n    const { data, error } = await this.supabase\n      .from('resource_ratings')\n      .update({ rating, comment })\n      .eq('id', id)\n      .select()\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  async getResourceRatings(resourceId: string) {\n    const { data, error } = await this.supabase\n      .from('resource_ratings')\n      .select('*, user:users(id, full_name, email)')\n      .eq('resource_id', resourceId)\n      .order('created_at', { ascending: false })\n\n    if (error) throw error\n    return data\n  }\n\n  async getResourceRatingStats(resourceId: string) {\n    const { data, error } = await this.supabase\n      .from('resource_ratings')\n      .select('rating')\n      .eq('resource_id', resourceId)\n\n    if (error) throw error\n\n    const stats = {\n      total: data.length,\n      average: 0,\n      distribution: { 1: 0, 2: 0, 3: 0, 4: 0, 5: 0 },\n    }\n\n    if (data.length > 0) {\n      const ratings = data.map((r) => r.rating).filter(Boolean) as number[]\n      stats.average = ratings.reduce((a, b) => a + b, 0) / ratings.length\n\n      ratings.forEach((rating) => {\n        stats.distribution[rating as keyof typeof stats.distribution]++\n      })\n    }\n\n    return stats\n  }\n\n  // ========== VERSIONS ==========\n\n  async getResourceVersions(resourceId: string) {\n    const { data, error } = await this.supabase\n      .from('resource_versions')\n      .select('*, created_by_user:users(id, full_name)')\n      .eq('resource_id', resourceId)\n      .order('created_at', { ascending: false })\n\n    if (error) throw error\n    return data\n  }\n\n  async createVersion(version: TableInsert<'resource_versions'>) {\n    const { data, error } = await this.supabase\n      .from('resource_versions')\n      .insert(version)\n      .select()\n      .single()\n\n    if (error) throw error\n    return data\n  }\n}\n\nexport const educationalResourcesService = new EducationalResourcesService()\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Music\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNOSAxOFY1bDEyLTJ2MTMiIC8+CiAgPGNpcmNsZSBjeD0iNiIgY3k9IjE4IiByPSIzIiAvPgogIDxjaXJjbGUgY3g9IjE4IiBjeT0iMTYiIHI9IjMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/music\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Music = createLucideIcon('Music', [\n  ['path', { d: 'M9 18V5l12-2v13', key: '1jmyc2' }],\n  ['circle', { cx: '6', cy: '18', r: '3', key: 'fqmcym' }],\n  ['circle', { cx: '18', cy: '16', r: '3', key: '1hluhg' }],\n]);\n\nexport default Music;\n"],"names":[],"mappings":"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","ignoreList":[0,2,3,4,6]}