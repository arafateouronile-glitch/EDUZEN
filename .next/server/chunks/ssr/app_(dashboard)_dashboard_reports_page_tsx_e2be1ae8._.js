module.exports=[314321,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(433217),e=a.i(269240),f=a.i(913216),g=a.i(703130),h=a.i(340695);a.i(460355);var i=a.i(346271),j=a.i(262036),k=a.i(497895),l=a.i(96659),m=a.i(211989),n=a.i(864037),o=a.i(819721),p=a.i(724669),q=a.i(660246),r=a.i(941675),s=a.i(911156),t=a.i(641710),u=a.i(111269),v=a.i(290821),w=a.i(104720),x=a.i(284505),y=a.i(669520),z=a.i(587532),A=a.i(922520),B=a.i(170106);let C=(0,B.default)("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);var D=a.i(523025),E=a.i(50429);let F=(0,B.default)("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);var G=a.i(630617);let H=(0,o.default)(async()=>{},{loadableGenerated:{modules:[967339]},ssr:!1,loading:()=>(0,b.jsx)("div",{className:"h-64 bg-gray-100 animate-pulse rounded-lg"})}),I=(0,o.default)(async()=>{},{loadableGenerated:{modules:[307353]},ssr:!1,loading:()=>(0,b.jsx)("div",{className:"h-64 bg-gray-100 animate-pulse rounded-lg"})});function J({title:a,value:c,change:d,changeType:e,icon:f,color:g,description:h}){let j={blue:"bg-blue-50 text-blue-600 border-blue-200",green:"bg-green-50 text-green-600 border-green-200",purple:"bg-purple-50 text-purple-600 border-purple-200",orange:"bg-orange-50 text-orange-600 border-orange-200",red:"bg-red-50 text-red-600 border-red-200",teal:"bg-teal-50 text-teal-600 border-teal-200"};return(0,b.jsx)(i.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:(0,k.cn)("rounded-xl border-2 p-5",j[g]),children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600",children:a}),(0,b.jsx)("p",{className:"text-3xl font-bold mt-1",children:c}),void 0!==d&&(0,b.jsxs)("div",{className:(0,k.cn)("flex items-center gap-1 mt-2 text-sm font-medium","increase"===e?"text-green-600":"decrease"===e?"text-red-600":"text-gray-500"),children:["increase"===e?(0,b.jsx)(A.ArrowUpRight,{className:"h-4 w-4"}):"decrease"===e?(0,b.jsx)(C,{className:"h-4 w-4"}):(0,b.jsx)(D.Minus,{className:"h-4 w-4"}),(0,b.jsxs)("span",{children:[d>0?"+":"",d,"%"]}),(0,b.jsx)("span",{className:"text-gray-400 font-normal",children:"vs période précédente"})]}),h&&(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:h})]}),(0,b.jsx)("div",{className:(0,k.cn)("p-3 rounded-xl",j[g]),children:(0,b.jsx)(f,{className:"h-6 w-6"})})]})})}function K({columns:a,data:c,emptyMessage:d="Aucune donnée",onRowClick:e}){return(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsx)("tr",{className:"border-b border-gray-200",children:a.map(a=>(0,b.jsx)("th",{className:"text-left py-3 px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:a.label},a.key))})}),(0,b.jsx)("tbody",{children:0===c.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:a.length,className:"text-center py-8 text-gray-500",children:d})}):c.map((c,d)=>(0,b.jsx)(i.motion.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.05*d},onClick:()=>e?.(c),className:(0,k.cn)("border-b border-gray-100 hover:bg-gray-50 transition-colors",e&&"cursor-pointer"),children:a.map(a=>(0,b.jsx)("td",{className:"py-3 px-4 text-sm text-gray-900",children:a.render?a.render(c[a.key],c):c[a.key]},a.key))},c.id||d))})]})})}function L({filters:a,onChange:c,sessions:d,formations:e}){return(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-3 p-4 bg-gray-50 rounded-xl",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(r.Calendar,{className:"h-4 w-4 text-gray-400"}),(0,b.jsxs)("select",{value:a.dateRange,onChange:b=>c({...a,dateRange:b.target.value}),className:"text-sm border border-gray-200 rounded-lg px-3 py-2 bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,b.jsx)("option",{value:"week",children:"Cette semaine"}),(0,b.jsx)("option",{value:"month",children:"Ce mois"}),(0,b.jsx)("option",{value:"quarter",children:"Ce trimestre"}),(0,b.jsx)("option",{value:"year",children:"Cette année"}),(0,b.jsx)("option",{value:"custom",children:"Personnalisé"})]})]}),"custom"===a.dateRange&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("input",{type:"date",value:a.customStart||"",onChange:b=>c({...a,customStart:b.target.value}),className:"text-sm border border-gray-200 rounded-lg px-3 py-2 bg-white"}),(0,b.jsx)("span",{className:"text-gray-400",children:"à"}),(0,b.jsx)("input",{type:"date",value:a.customEnd||"",onChange:b=>c({...a,customEnd:b.target.value}),className:"text-sm border border-gray-200 rounded-lg px-3 py-2 bg-white"})]}),e&&e.length>0&&(0,b.jsxs)("select",{value:a.formationId||"",onChange:b=>c({...a,formationId:b.target.value||void 0}),className:"text-sm border border-gray-200 rounded-lg px-3 py-2 bg-white",children:[(0,b.jsx)("option",{value:"",children:"Toutes les formations"}),e.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]}),d&&d.length>0&&(0,b.jsxs)("select",{value:a.sessionId||"",onChange:b=>c({...a,sessionId:b.target.value||void 0}),className:"text-sm border border-gray-200 rounded-lg px-3 py-2 bg-white",children:[(0,b.jsx)("option",{value:"",children:"Toutes les sessions"}),d.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]}),(0,b.jsxs)("select",{value:a.status||"",onChange:b=>c({...a,status:b.target.value||void 0}),className:"text-sm border border-gray-200 rounded-lg px-3 py-2 bg-white",children:[(0,b.jsx)("option",{value:"",children:"Tous les statuts"}),(0,b.jsx)("option",{value:"active",children:"Actif"}),(0,b.jsx)("option",{value:"completed",children:"Terminé"}),(0,b.jsx)("option",{value:"cancelled",children:"Annulé"})]}),(0,b.jsx)("div",{className:"flex-1 min-w-[200px]",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(z.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Rechercher...",value:a.search||"",onChange:b=>c({...a,search:b.target.value||void 0}),className:"w-full text-sm border border-gray-200 rounded-lg pl-9 pr-3 py-2 bg-white"})]})}),(0,b.jsxs)(h.Button,{variant:"ghost",size:"sm",onClick:()=>c({dateRange:"month"}),className:"text-gray-500",children:[(0,b.jsx)(y.RefreshCw,{className:"h-4 w-4 mr-1"}),"Réinitialiser"]})]})}function M(){let{user:a}=(0,f.useAuth)(),o=(0,e.createClient)(),{addToast:z}=(0,n.useToast)(),[A,B]=(0,c.useState)("overview"),[C,D]=(0,c.useState)({dateRange:"month"}),[M,N]=(0,c.useState)(!1),O=(0,c.useMemo)(()=>{let a,b=new Date,c=b;switch(C.dateRange){case"week":a=new Date(b.setDate(b.getDate()-7));break;case"month":default:a=new Date(b.getFullYear(),b.getMonth(),1);break;case"quarter":let d=Math.floor(b.getMonth()/3);a=new Date(b.getFullYear(),3*d,1);break;case"year":a=new Date(b.getFullYear(),0,1);break;case"custom":a=C.customStart?new Date(C.customStart):new Date(b.getFullYear(),0,1),c=C.customEnd?new Date(C.customEnd):b}return{start:a.toISOString(),end:c.toISOString()}},[C.dateRange,C.customStart,C.customEnd]),{data:P,isLoading:Q}=(0,d.useQuery)({queryKey:["report-stats",a?.organization_id,O],queryFn:async()=>{if(!a?.organization_id)return null;let[b,c,d,e,f,g]=await Promise.all([o.from("students").select("*",{count:"exact",head:!0}).eq("organization_id",a.organization_id).eq("status","active"),o.from("sessions").select("*, formations!inner(organization_id)",{count:"exact"}).eq("formations.organization_id",a.organization_id).gte("start_date",O.start).lte("end_date",O.end),o.from("enrollments").select("*, sessions!inner(formations!inner(organization_id))",{count:"exact"}).eq("sessions.formations.organization_id",a.organization_id).gte("created_at",O.start),o.from("attendance").select("status").eq("organization_id",a.organization_id).gte("date",O.start.split("T")[0]),o.from("payments").select("amount").eq("organization_id",a.organization_id).eq("status","completed").gte("paid_at",O.start),o.from("invoices").select("total_amount").eq("organization_id",a.organization_id).eq("status","overdue")]),h=e.data||[],i=h.length,j=h.filter(a=>"present"===a.status||"late"===a.status).length,k=i>0?Math.round(j/i*100):0,l=(f.data||[]).reduce((a,b)=>a+(b.amount||0),0),m=(g.data||[]).reduce((a,b)=>a+(b.total_amount||0),0);return{students:b.count||0,sessions:c.count||0,enrollments:d.count||0,attendanceRate:k,totalPayments:l,totalOverdue:m}},enabled:!!a?.organization_id}),{data:R}=(0,d.useQuery)({queryKey:["report-sessions",a?.organization_id,O,C.formationId],queryFn:async()=>{if(!a?.organization_id)return[];let b=o.from("sessions").select(`
          *,
          formations!inner(id, name, organization_id),
          enrollments(count),
          session_slots(count)
        `).eq("formations.organization_id",a.organization_id).order("start_date",{ascending:!1});C.formationId&&(b=b.eq("formation_id",C.formationId));let{data:c,error:d}=await b;if(d)throw d;return c||[]},enabled:!!a?.organization_id}),{data:S}=(0,d.useQuery)({queryKey:["report-formations",a?.organization_id],queryFn:async()=>{if(!a?.organization_id)return[];let{data:b,error:c}=await o.from("formations").select("id, name").eq("organization_id",a.organization_id).eq("is_active",!0).order("name");if(c)throw c;return b||[]},enabled:!!a?.organization_id}),{data:T}=(0,d.useQuery)({queryKey:["report-students",a?.organization_id,O,C.sessionId],queryFn:async()=>{if(!a?.organization_id)return[];let b=o.from("students").select(`
          *,
          enrollments(
            id,
            status,
            sessions(id, name)
          )
        `).eq("organization_id",a.organization_id).order("created_at",{ascending:!1}).limit(50),{data:c,error:d}=await b;if(d)throw d;return c||[]},enabled:!!a?.organization_id&&"students"===A}),U=[{id:"overview",label:"Vue d'ensemble",icon:G.LayoutDashboard},{id:"sessions",label:"Sessions",icon:r.Calendar},{id:"students",label:"Apprenants",icon:q.Users},{id:"attendance",label:"Présences",icon:u.CheckCircle2},{id:"finances",label:"Finances",icon:s.CreditCard}],V=(0,c.useMemo)(()=>({enrollmentsTrend:[{name:"Jan",value:45},{name:"Fév",value:52},{name:"Mar",value:48},{name:"Avr",value:61},{name:"Mai",value:55},{name:"Juin",value:67}],attendanceDistribution:[{name:"Présent",value:P?.attendanceRate||0,color:"#10B981"},{name:"Absent",value:100-(P?.attendanceRate||0),color:"#EF4444"}],paymentsTrend:[{name:"Jan",value:12500},{name:"Fév",value:15e3},{name:"Mar",value:18200},{name:"Avr",value:14800},{name:"Mai",value:21e3},{name:"Juin",value:P?.totalPayments||0}]}),[P]),W=async()=>{if(!a?.organization_id)return void z({type:"error",title:"Erreur",description:"Vous devez être connecté pour exporter les données"});N(!0);try{let b=(0,l.formatDate)(new Date,"yyyy-MM-dd"),c=[],d="",e="";switch(A){case"overview":c=[{Métrique:"Apprenants actifs",Valeur:P?.students||0},{Métrique:"Sessions en cours",Valeur:P?.sessions||0},{Métrique:"Inscriptions",Valeur:P?.enrollments||0},{Métrique:"Taux de présence",Valeur:`${P?.attendanceRate||0}%`},{Métrique:"Chiffre d'affaires",Valeur:(0,k.formatCurrency)(P?.totalPayments||0)},{Métrique:"Impayés",Valeur:(0,k.formatCurrency)(P?.totalOverdue||0)}],d=`rapport-vue-ensemble-${b}`,e="Vue d'ensemble";break;case"sessions":if(!R||0===R.length){z({type:"warning",title:"Aucune donnée",description:"Aucune session à exporter"}),N(!1);return}c=(R||[]).map(a=>({Session:a.name||"",Formation:a.formations?.name||"","Date de début":a.start_date?(0,l.formatDate)(a.start_date,"dd/MM/yyyy"):"","Date de fin":a.end_date?(0,l.formatDate)(a.end_date,"dd/MM/yyyy"):"",Statut:"ongoing"===a.status?"En cours":"completed"===a.status?"Terminée":"planned"===a.status?"Planifiée":a.status||"",Inscrits:a.enrollments?.[0]?.count||0})),d=`rapport-sessions-${b}`,e="Sessions";break;case"students":if(!T||0===T.length){z({type:"warning",title:"Aucune donnée",description:"Aucun apprenant à exporter"}),N(!1);return}c=(T||[]).map(a=>({Nom:`${a.first_name||""} ${a.last_name||""}`.trim()||"-",Email:a.email||"",Téléphone:a.phone||"",Statut:"active"===a.status?"Actif":"inactive"===a.status?"Inactif":a.status||"",Inscriptions:a.enrollments?.length||0,"Date d'inscription":a.created_at?(0,l.formatDate)(a.created_at,"dd/MM/yyyy"):""})),d=`rapport-apprenants-${b}`,e="Apprenants";break;case"attendance":c=[{Métrique:"Taux de présence global",Valeur:`${P?.attendanceRate||0}%`},{Métrique:"Présences totales",Valeur:P?.attendanceRate?Math.round(P.attendanceRate/100*(P.enrollments||0)):0},{Métrique:"Absences",Valeur:P?.attendanceRate?Math.round((100-P.attendanceRate)/100*(P.enrollments||0)):0}],d=`rapport-presences-${b}`,e="Présences";break;case"finances":c=[{Métrique:"Chiffre d'affaires",Valeur:(0,k.formatCurrency)(P?.totalPayments||0)},{Métrique:"Factures en attente",Valeur:(0,k.formatCurrency)(0)},{Métrique:"Impayés",Valeur:(0,k.formatCurrency)(P?.totalOverdue||0)},{Métrique:"Taux de recouvrement",Valeur:P?.totalPayments&&P?.totalOverdue?`${Math.round((P.totalPayments-P.totalOverdue)/P.totalPayments*100)}%`:"0%"}],d=`rapport-finances-${b}`,e="Finances";break;default:z({type:"error",title:"Erreur",description:"Onglet non supporté pour l'export"}),N(!1);return}if(0===c.length){z({type:"warning",title:"Aucune donnée",description:"Aucune donnée à exporter pour cet onglet"}),N(!1);return}await (0,m.exportData)(c,{filename:d,sheetName:e,format:"xlsx",entityType:"other",organizationId:a.organization_id,userId:a.id}),z({type:"success",title:"Export réussi",description:`Les donn\xe9es ont \xe9t\xe9 export\xe9es avec succ\xe8s (${c.length} ligne(s))`})}catch(a){console.error("Erreur lors de l'export:",a),z({type:"error",title:"Erreur d'export",description:a instanceof Error?a.message:"Une erreur est survenue lors de l'export"})}finally{N(!1)}};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Rapports & Analytics"}),(0,b.jsx)("p",{className:"text-gray-500 mt-1",children:"Suivez l'activité de votre organisation"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)(h.Button,{variant:"outline",className:"gap-2",onClick:W,disabled:M,children:[(0,b.jsx)(x.Download,{className:"h-4 w-4"}),M?"Export en cours...":"Exporter"]}),(0,b.jsxs)(h.Button,{className:"gap-2",onClick:()=>window.location.reload(),children:[(0,b.jsx)(y.RefreshCw,{className:"h-4 w-4"}),"Actualiser"]})]})]}),(0,b.jsx)("div",{className:"flex items-center gap-2 border-b border-gray-200 pb-4",children:U.map(a=>{let c=a.icon;return(0,b.jsxs)("button",{onClick:()=>B(a.id),className:(0,k.cn)("flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-all",A===a.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:[(0,b.jsx)(c,{className:"h-4 w-4"}),a.label]},a.id)})}),(0,b.jsx)(L,{filters:C,onChange:D,sessions:R?.map(a=>({id:a.id,name:a.name})),formations:S}),(0,b.jsxs)(j.AnimatePresence,{mode:"wait",children:["overview"===A&&(0,b.jsxs)(i.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,b.jsx)(J,{title:"Apprenants actifs",value:P?.students||0,change:12,changeType:"increase",icon:q.Users,color:"blue"}),(0,b.jsx)(J,{title:"Sessions en cours",value:P?.sessions||0,change:5,changeType:"increase",icon:r.Calendar,color:"purple"}),(0,b.jsx)(J,{title:"Taux de présence",value:`${P?.attendanceRate||0}%`,change:-2,changeType:"decrease",icon:u.CheckCircle2,color:"green"}),(0,b.jsx)(J,{title:"Chiffre d'affaires",value:(0,k.formatCurrency)(P?.totalPayments||0),change:18,changeType:"increase",icon:s.CreditCard,color:"teal"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsxs)(g.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(p.TrendingUp,{className:"h-5 w-5 text-blue-600"}),"Évolution des inscriptions"]})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsx)(H,{data:V.enrollmentsTrend,dataKey:"value",xAxisKey:"name",color:"#3B82F6",showArea:!0,gradientColors:{from:"#3B82F6",to:"#60A5FA"}})})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsxs)(g.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(F,{className:"h-5 w-5 text-green-600"}),"Répartition des présences"]})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsx)(I,{data:V.attendanceDistribution})})]})]}),P?.totalOverdue&&P.totalOverdue>0&&(0,b.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 flex items-center gap-3",children:[(0,b.jsx)(v.AlertCircle,{className:"h-6 w-6 text-red-600"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-red-800",children:"Attention : Factures impayées"}),(0,b.jsxs)("p",{className:"text-sm text-red-600",children:[(0,k.formatCurrency)(P.totalOverdue)," en factures impayées"]})]}),(0,b.jsx)(h.Button,{variant:"outline",size:"sm",className:"ml-auto border-red-300 text-red-600 hover:bg-red-100",children:"Voir les détails"})]})]},"overview"),"sessions"===A&&(0,b.jsx)(i.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(g.CardTitle,{children:"Suivi des Sessions"})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsx)(K,{columns:[{key:"name",label:"Session"},{key:"formations",label:"Formation",render:(a,b)=>b.formations?.name||"-"},{key:"start_date",label:"Début",render:a=>a?(0,l.formatDate)(a):"-"},{key:"end_date",label:"Fin",render:a=>a?(0,l.formatDate)(a):"-"},{key:"status",label:"Statut",render:a=>(0,b.jsx)("span",{className:(0,k.cn)("px-2 py-1 rounded-full text-xs font-medium","ongoing"===a?"bg-green-100 text-green-700":"completed"===a?"bg-blue-100 text-blue-700":"planned"===a?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-700"),children:"ongoing"===a?"En cours":"completed"===a?"Terminée":"planned"===a?"Planifiée":a})},{key:"enrollments",label:"Inscrits",render:a=>a?.[0]?.count||0}],data:R||[],emptyMessage:"Aucune session trouvée"})})]})},"sessions"),"students"===A&&(0,b.jsx)(i.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(g.CardTitle,{children:"Suivi des Apprenants"})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsx)(K,{columns:[{key:"full_name",label:"Nom",render:(a,b)=>`${b.first_name||""} ${b.last_name||""}`.trim()||"-"},{key:"email",label:"Email"},{key:"status",label:"Statut",render:a=>(0,b.jsx)("span",{className:(0,k.cn)("px-2 py-1 rounded-full text-xs font-medium","active"===a?"bg-green-100 text-green-700":"inactive"===a?"bg-gray-100 text-gray-700":"bg-blue-100 text-blue-700"),children:"active"===a?"Actif":"inactive"===a?"Inactif":a})},{key:"enrollments",label:"Inscriptions",render:a=>a?.length||0},{key:"created_at",label:"Inscrit le",render:a=>a?(0,l.formatDate)(a):"-"}],data:T||[],emptyMessage:"Aucun apprenant trouvé"})})]})},"students"),"attendance"===A&&(0,b.jsxs)(i.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,b.jsx)(J,{title:"Taux de présence global",value:`${P?.attendanceRate||0}%`,icon:u.CheckCircle2,color:"green"}),(0,b.jsx)(J,{title:"Présences ce mois",value:"1,245",icon:q.Users,color:"blue"}),(0,b.jsx)(J,{title:"Absences non justifiées",value:"23",icon:v.AlertCircle,color:"red"}),(0,b.jsx)(J,{title:"Retards",value:"45",icon:t.Clock,color:"orange"})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(g.CardTitle,{children:"Évolution du taux de présence"})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsx)(H,{data:[{name:"Sem 1",value:92},{name:"Sem 2",value:88},{name:"Sem 3",value:95},{name:"Sem 4",value:91}],dataKey:"value",xAxisKey:"name",color:"#10B981",showArea:!0,gradientColors:{from:"#10B981",to:"#34D399"}})})]})]},"attendance"),"finances"===A&&(0,b.jsxs)(i.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,b.jsx)(J,{title:"Chiffre d'affaires",value:(0,k.formatCurrency)(P?.totalPayments||0),change:18,changeType:"increase",icon:p.TrendingUp,color:"green"}),(0,b.jsx)(J,{title:"Factures en attente",value:(0,k.formatCurrency)(12500),icon:w.FileText,color:"orange"}),(0,b.jsx)(J,{title:"Impayés",value:(0,k.formatCurrency)(P?.totalOverdue||0),icon:v.AlertCircle,color:"red"}),(0,b.jsx)(J,{title:"Taux de recouvrement",value:"94%",icon:E.Target,color:"teal"})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(g.CardTitle,{children:"Évolution du chiffre d'affaires"})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsx)(H,{data:V.paymentsTrend,dataKey:"value",xAxisKey:"name",color:"#8B5CF6",showArea:!0,gradientColors:{from:"#8B5CF6",to:"#A78BFA"}})})]})]},"finances")]})]})}a.s(["default",()=>M],314321)}];

//# sourceMappingURL=app_%28dashboard%29_dashboard_reports_page_tsx_e2be1ae8._.js.map