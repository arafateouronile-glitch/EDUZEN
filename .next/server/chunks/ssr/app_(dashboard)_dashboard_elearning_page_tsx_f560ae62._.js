module.exports=[136746,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(370025),e=a.i(433217),f=a.i(937927),g=a.i(913216),h=a.i(266275),i=a.i(340695),j=a.i(219897),k=a.i(864037),l=a.i(587532),m=a.i(953722),n=a.i(821374),o=a.i(660246),p=a.i(641710),q=a.i(325015),r=a.i(469769),s=a.i(732860),t=a.i(581464),u=a.i(915618),v=a.i(699464),w=a.i(781560),x=a.i(177156),y=a.i(141379),z=a.i(170106);let A=(0,z.default)("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]),B=(0,z.default)("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);var C=a.i(238246),D=a.i(497895);a.i(460355);var E=a.i(346271),F=a.i(262036);function G(){let{user:a}=(0,g.useAuth)(),{addToast:z}=(0,k.useToast)(),G=(0,f.useQueryClient)(),[H,I]=(0,c.useState)(""),[J,K]=(0,c.useState)("all"),L=["super_admin","admin","secretary"].includes(a?.role||""),M=!L,{data:N,isLoading:O}=(0,e.useQuery)({queryKey:["elearning-courses",a?.organization_id,H],queryFn:()=>h.elearningService.getCourses(a?.organization_id||"",{isPublished:!!M||void 0,search:H||void 0}),enabled:!!a?.organization_id}),{data:P}=(0,e.useQuery)({queryKey:["featured-courses",a?.organization_id],queryFn:()=>h.elearningService.getCourses(a?.organization_id||"",{isPublished:!0,isFeatured:!0}),enabled:!!a?.organization_id&&M}),{data:Q}=(0,e.useQuery)({queryKey:["my-enrollments",a?.id],queryFn:()=>h.elearningService.getStudentEnrollments(a?.id||""),enabled:!!a?.id&&M}),R=a=>{switch(a){case"beginner":return"Débutant";case"intermediate":return"Intermédiaire";case"advanced":return"Avancé";default:return a}},S={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},T={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}},U=(0,d.useMutation)({mutationFn:async a=>{let b=!a.is_published;return h.elearningService.updateCourse(a.id,{is_published:b,published_at:b?new Date().toISOString():null})},onSuccess:()=>{G.invalidateQueries({queryKey:["elearning-courses"]}),G.invalidateQueries({queryKey:["featured-courses"]}),z({type:"success",title:"Visibilité mise à jour",description:"La séquence a été mise à jour."})},onError:a=>{z({type:"error",title:"Erreur",description:a?.message||"Impossible de mettre à jour la visibilité."})}}),V=(0,d.useMutation)({mutationFn:async a=>{let b=a.scores_enabled;return h.elearningService.updateCourse(a.id,{scores_enabled:!1===b})},onSuccess:()=>{G.invalidateQueries({queryKey:["elearning-courses"]}),z({type:"success",title:"Scores mis à jour",description:"Le paramètre de scoring a été mis à jour."})},onError:a=>{z({type:"error",title:"Erreur",description:a?.message||"Impossible de mettre à jour les scores (vérifie que la colonne 'scores_enabled' existe en base)."})}}),W=(0,d.useMutation)({mutationFn:async a=>{await h.elearningService.deleteCourse(a.id)},onSuccess:()=>{G.invalidateQueries({queryKey:["elearning-courses"]}),G.invalidateQueries({queryKey:["featured-courses"]}),z({type:"success",title:"Séquence supprimée",description:"La séquence a été supprimée."})},onError:a=>{z({type:"error",title:"Erreur",description:a?.message||"Impossible de supprimer la séquence."})}});return L?(0,b.jsxs)(E.motion.div,{className:"space-y-8 pb-8 max-w-[1600px] mx-auto p-6",variants:S,initial:"hidden",animate:"visible",children:[(0,b.jsxs)(E.motion.div,{variants:T,className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"inline-flex items-center gap-3 mb-2",children:[(0,b.jsx)("div",{className:"p-2.5 bg-gradient-to-br from-brand-blue to-brand-cyan rounded-xl shadow-lg",children:(0,b.jsx)(r.GraduationCap,{className:"h-7 w-7 text-white"})}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("h1",{className:"text-3xl lg:text-4xl font-bold bg-gradient-to-r from-brand-blue to-brand-cyan bg-clip-text text-transparent",children:"E-learning"}),N&&(0,b.jsxs)("span",{className:"px-3 py-1 bg-gradient-to-r from-brand-blue-ghost to-brand-cyan-ghost text-brand-blue rounded-full text-sm font-medium border border-brand-blue/20",children:[N.length," ",N.length>1?"séquences":"séquence"]})]})]}),(0,b.jsx)("p",{className:"text-gray-600 text-sm lg:text-base ml-1",children:"Gérez vos séquences : modification, suppression, publication et scores."})]}),(0,b.jsx)(C.default,{href:"/dashboard/elearning/new",children:(0,b.jsxs)(i.Button,{className:"bg-gradient-to-r from-brand-blue to-brand-cyan hover:from-brand-blue-dark hover:to-brand-cyan shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[(0,b.jsx)(u.Plus,{className:"h-4 w-4 mr-2"}),"Nouvelle séquence"]})})]}),(0,b.jsx)(E.motion.div,{variants:T,children:(0,b.jsx)(j.GlassCard,{variant:"default",className:"p-2 border-2 border-brand-blue/20 bg-gradient-to-br from-brand-blue-ghost/20 to-brand-cyan-ghost/20",children:(0,b.jsxs)("div",{className:"flex flex-col md:flex-row gap-2",children:[(0,b.jsxs)("div",{className:"relative flex-1 group",children:[(0,b.jsx)(l.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-brand-blue group-focus-within:text-brand-cyan transition-colors"}),(0,b.jsx)("input",{type:"text",placeholder:"Rechercher une séquence...",value:H,onChange:a=>I(a.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-lg bg-white border-2 border-brand-blue/20 focus:border-brand-blue focus:ring-4 focus:ring-brand-blue/10 transition-all outline-none text-sm"})]}),(0,b.jsxs)(i.Button,{variant:"ghost",className:"gap-2 text-gray-600 hover:bg-brand-blue-ghost hover:text-brand-blue",disabled:!0,children:[(0,b.jsx)(t.Filter,{className:"h-4 w-4"}),"Filtres"]})]})})}),(0,b.jsx)(E.motion.div,{variants:T,children:O?(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((a,c)=>(0,b.jsx)("div",{className:"h-72 bg-gray-100 rounded-2xl animate-pulse"},c))}):N&&N.length>0?(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map(a=>{let c=!1!==a.scores_enabled;return(0,b.jsxs)(j.GlassCard,{variant:"default",hoverable:!0,className:"p-0 overflow-hidden border-2 border-brand-blue/10 hover:border-brand-blue/30 bg-gradient-to-br from-white to-brand-blue-ghost/10 hover:shadow-lg transition-all duration-300",children:[(0,b.jsxs)("div",{className:"relative h-40 overflow-hidden bg-gradient-to-br from-gray-50 to-brand-blue-ghost/20",children:[a.thumbnail_url?(0,b.jsx)("img",{src:a.thumbnail_url,alt:a.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}):(0,b.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-brand-blue-ghost/30 to-brand-cyan-ghost/20",children:(0,b.jsx)(r.GraduationCap,{className:"h-10 w-10 text-brand-blue/40"})}),(0,b.jsxs)("div",{className:"absolute top-3 left-3 flex items-center gap-2",children:[(0,b.jsx)("span",{className:(0,D.cn)("px-2.5 py-1 rounded-lg text-xs font-semibold border-2 shadow-sm bg-white/95 backdrop-blur-sm",a.is_published?"text-brand-cyan border-brand-cyan/30 bg-gradient-to-br from-brand-cyan-ghost to-brand-cyan-ghost/50":"text-amber-700 border-amber-200 bg-gradient-to-br from-amber-50 to-amber-100/50"),children:a.is_published?"Publié":"Brouillon"}),(0,b.jsxs)("span",{className:(0,D.cn)("px-2.5 py-1 rounded-lg text-xs font-semibold border-2 shadow-sm bg-white/95 backdrop-blur-sm",c?"text-brand-blue border-brand-blue/30 bg-gradient-to-br from-brand-blue-ghost to-brand-blue-ghost/50":"text-gray-600 border-gray-200 bg-gradient-to-br from-gray-50 to-gray-100"),children:["Scores: ",c?"ON":"OFF"]})]})]}),(0,b.jsxs)("div",{className:"p-5 space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-bold text-gray-900 line-clamp-1 group-hover:text-brand-blue transition-colors",children:a.title}),a.short_description&&(0,b.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2 mt-1",children:a.short_description})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 pt-2 border-t border-brand-blue/10",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(p.Clock,{className:"h-3.5 w-3.5 text-brand-blue"}),(0,b.jsxs)("span",{className:"font-medium",children:[a.estimated_duration_hours||0,"h"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(m.BookOpen,{className:"h-3.5 w-3.5 text-brand-cyan"}),(0,b.jsxs)("span",{className:"font-medium",children:[a.total_lessons||0," leçons"]})]})]}),(0,b.jsxs)("span",{className:"text-xs",children:["Maj ",a.updated_at?(0,D.formatDate)(a.updated_at):"-"]})]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2 pt-2",children:[(0,b.jsx)(C.default,{href:`/dashboard/elearning/courses/${a.slug}`,children:(0,b.jsxs)(i.Button,{variant:"outline",size:"sm",className:"hover:bg-brand-blue-ghost hover:border-brand-blue/30 hover:text-brand-blue transition-all",children:[(0,b.jsx)(x.Eye,{className:"h-4 w-4 mr-2"}),"Ouvrir"]})}),(0,b.jsx)(C.default,{href:`/dashboard/elearning/courses/${a.slug}/edit`,children:(0,b.jsxs)(i.Button,{variant:"outline",size:"sm",className:"hover:bg-brand-cyan-ghost hover:border-brand-cyan/30 hover:text-brand-cyan transition-all",children:[(0,b.jsx)(v.Pencil,{className:"h-4 w-4 mr-2"}),"Modifier"]})}),(0,b.jsx)(i.Button,{variant:"outline",size:"sm",className:"hover:bg-brand-blue-ghost hover:border-brand-blue/30 hover:text-brand-blue transition-all",onClick:()=>U.mutate(a),disabled:U.isPending,children:a.is_published?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(y.EyeOff,{className:"h-4 w-4 mr-2"}),"Dépublier"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(x.Eye,{className:"h-4 w-4 mr-2"}),"Publier"]})}),(0,b.jsx)(i.Button,{variant:"outline",size:"sm",className:"hover:bg-brand-cyan-ghost hover:border-brand-cyan/30 hover:text-brand-cyan transition-all",onClick:()=>V.mutate(a),disabled:V.isPending,children:c?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(B,{className:"h-4 w-4 mr-2"}),"Scores ON"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(A,{className:"h-4 w-4 mr-2"}),"Scores OFF"]})}),(0,b.jsxs)(i.Button,{variant:"outline",size:"sm",className:"border-red-200 text-red-700 hover:bg-red-50 hover:border-red-300 transition-all",onClick:()=>{window.confirm(`Supprimer la s\xe9quence "${a.title}" ? Cette action est irr\xe9versible.`)&&W.mutate(a)},disabled:W.isPending,children:[(0,b.jsx)(w.Trash2,{className:"h-4 w-4 mr-2"}),"Supprimer"]})]})]})]},a.id)})}):(0,b.jsxs)(j.GlassCard,{variant:"default",className:"p-12 text-center border-2 border-brand-blue/20 bg-gradient-to-br from-brand-blue-ghost/30 to-brand-cyan-ghost/30",children:[(0,b.jsxs)("div",{className:"relative inline-block mb-6",children:[(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,b.jsx)("div",{className:"w-24 h-24 bg-gradient-to-br from-brand-blue-ghost to-brand-cyan-ghost rounded-full opacity-50 blur-2xl"})}),(0,b.jsx)("div",{className:"relative p-6 bg-gradient-to-br from-brand-blue-ghost to-brand-cyan-ghost rounded-2xl inline-block",children:(0,b.jsx)(r.GraduationCap,{className:"h-16 w-16 mx-auto text-brand-blue"})})]}),(0,b.jsxs)("div",{className:"space-y-2 mb-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Aucune séquence trouvée"}),(0,b.jsx)("p",{className:"text-gray-600",children:H?"Aucune séquence ne correspond à votre recherche.":"Commencez par créer votre première séquence."})]}),!H&&(0,b.jsx)(C.default,{href:"/dashboard/elearning/new",children:(0,b.jsxs)(i.Button,{className:"bg-gradient-to-r from-brand-blue to-brand-cyan hover:from-brand-blue-dark hover:to-brand-cyan shadow-md hover:shadow-lg transition-all",children:[(0,b.jsx)(u.Plus,{className:"mr-2 h-4 w-4"}),"Créer une séquence"]})})]})})]}):(0,b.jsxs)(E.motion.div,{className:"space-y-8 pb-8 max-w-[1600px] mx-auto p-6",variants:S,initial:"hidden",animate:"visible",children:[(0,b.jsx)(E.motion.div,{variants:T,className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-6",children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"inline-flex items-center gap-3 mb-2",children:[(0,b.jsx)("div",{className:"p-2.5 bg-gradient-to-br from-brand-blue to-brand-cyan rounded-xl shadow-lg",children:(0,b.jsx)(r.GraduationCap,{className:"h-7 w-7 text-white"})}),(0,b.jsx)("h1",{className:"text-3xl lg:text-4xl font-bold bg-gradient-to-r from-brand-blue to-brand-cyan bg-clip-text text-transparent",children:"E-learning"})]}),(0,b.jsx)("p",{className:"text-gray-600 text-sm lg:text-base ml-1",children:"Développez vos compétences avec nos parcours de formation en ligne"})]})}),(0,b.jsxs)(E.motion.div,{variants:T,className:"flex gap-4 border-b-2 border-brand-blue/10 pb-1",children:[(0,b.jsxs)("button",{onClick:()=>K("all"),className:(0,D.cn)("pb-3 px-4 text-sm font-semibold transition-all relative","all"===J?"text-brand-blue":"text-gray-500 hover:text-gray-700"),children:["Catalogue","all"===J&&(0,b.jsx)(E.motion.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-brand-blue to-brand-cyan rounded-full"})]}),(0,b.jsxs)("button",{onClick:()=>K("my-courses"),className:(0,D.cn)("pb-3 px-4 text-sm font-semibold transition-all relative","my-courses"===J?"text-brand-cyan":"text-gray-500 hover:text-gray-700"),children:["Mes apprentissages",Q&&Q.length>0&&(0,b.jsx)("span",{className:"ml-2 px-2 py-0.5 bg-gradient-to-r from-brand-cyan-ghost to-brand-cyan-ghost/50 text-brand-cyan text-xs font-bold rounded-full border border-brand-cyan/20",children:Q.length}),"my-courses"===J&&(0,b.jsx)(E.motion.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-brand-cyan to-brand-blue rounded-full"})]})]}),(0,b.jsx)(E.motion.div,{variants:T,children:(0,b.jsx)(j.GlassCard,{variant:"default",className:"p-2 border-2 border-brand-blue/20 bg-gradient-to-br from-brand-blue-ghost/20 to-brand-cyan-ghost/20",children:(0,b.jsxs)("div",{className:"flex flex-col md:flex-row gap-2",children:[(0,b.jsxs)("div",{className:"relative flex-1 group",children:[(0,b.jsx)(l.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-brand-blue group-focus-within:text-brand-cyan transition-colors"}),(0,b.jsx)("input",{type:"text",placeholder:"Rechercher un cours, une compétence...",value:H,onChange:a=>I(a.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-lg bg-white border-2 border-brand-blue/20 focus:border-brand-blue focus:ring-4 focus:ring-brand-blue/10 transition-all outline-none text-sm"})]}),(0,b.jsxs)(i.Button,{variant:"ghost",className:"gap-2 text-gray-600 hover:bg-brand-blue-ghost hover:text-brand-blue",children:[(0,b.jsx)(t.Filter,{className:"h-4 w-4"}),"Filtres"]})]})})}),(0,b.jsx)(F.AnimatePresence,{mode:"wait",children:"all"===J?(0,b.jsxs)(E.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:"space-y-8",children:[P&&P.length>0&&(0,b.jsxs)("section",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,b.jsx)("div",{className:"p-2 bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl border border-yellow-200 shadow-sm",children:(0,b.jsx)(n.Star,{className:"h-5 w-5 text-yellow-600 fill-yellow-500"})}),(0,b.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-yellow-600 to-yellow-500 bg-clip-text text-transparent",children:"Sélection du moment"})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:P.map((a,c)=>(0,b.jsx)(E.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.1*c},children:(0,b.jsx)(C.default,{href:`/dashboard/elearning/courses/${a.slug}`,children:(0,b.jsxs)(j.GlassCard,{variant:"default",hoverable:!0,className:"h-full p-0 overflow-hidden group flex flex-col border-2 border-yellow-200 hover:border-yellow-300 bg-gradient-to-br from-white to-yellow-50/30 hover:shadow-xl transition-all duration-300",children:[(0,b.jsxs)("div",{className:"relative h-48 overflow-hidden",children:[a.thumbnail_url?(0,b.jsx)("img",{src:a.thumbnail_url,alt:a.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}):(0,b.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-yellow-50 to-yellow-100/50 flex items-center justify-center",children:(0,b.jsx)(m.BookOpen,{className:"h-12 w-12 text-yellow-500/40"})}),(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-60"}),(0,b.jsx)("div",{className:"absolute top-3 right-3",children:(0,b.jsxs)("span",{className:"px-3 py-1.5 bg-white/95 backdrop-blur-md rounded-full text-xs font-bold text-yellow-600 flex items-center gap-1.5 shadow-lg border border-yellow-200",children:[(0,b.jsx)(n.Star,{className:"h-3.5 w-3.5 fill-yellow-500 text-yellow-500"}),"Populaire"]})}),(0,b.jsx)("div",{className:"absolute bottom-3 left-3 right-3 flex justify-between items-end",children:(0,b.jsx)("span",{className:(0,D.cn)("px-2.5 py-1 rounded-lg text-xs font-semibold backdrop-blur-md border-2 shadow-sm",(a=>{switch(a){case"beginner":return"bg-emerald-50 text-emerald-700 border-emerald-100";case"intermediate":return"bg-amber-50 text-amber-700 border-amber-100";case"advanced":return"bg-rose-50 text-rose-700 border-rose-100";default:return"bg-gray-50 text-gray-600 border-gray-100"}})(a.difficulty_level)),children:R(a.difficulty_level)})})]}),(0,b.jsxs)("div",{className:"p-5 flex-1 flex flex-col",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-2 line-clamp-2 group-hover:text-yellow-600 transition-colors",children:a.title}),a.short_description&&(0,b.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2 mb-4 flex-1",children:a.short_description}),(0,b.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t-2 border-yellow-100 text-xs text-gray-500 mt-auto",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(o.Users,{className:"h-3.5 w-3.5 text-yellow-600"}),(0,b.jsx)("span",{className:"font-medium",children:a.total_students||0})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(p.Clock,{className:"h-3.5 w-3.5 text-yellow-600"}),(0,b.jsxs)("span",{className:"font-medium",children:[a.estimated_duration_hours||0,"h"]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1 text-yellow-600 font-semibold group-hover:translate-x-1 transition-transform",children:["Voir",(0,b.jsx)(s.ArrowRight,{className:"h-3.5 w-3.5"})]})]})]})]})})},a.id))})]}),(0,b.jsxs)("section",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,b.jsx)("div",{className:"p-2 bg-gradient-to-br from-brand-blue-ghost to-brand-cyan-ghost rounded-xl border border-brand-blue/20 shadow-sm",children:(0,b.jsx)(m.BookOpen,{className:"h-5 w-5 text-brand-blue"})}),(0,b.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-brand-blue to-brand-cyan bg-clip-text text-transparent",children:"Catalogue complet"})]}),O?(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((a,c)=>(0,b.jsx)("div",{className:"h-80 bg-gray-100 rounded-2xl animate-pulse"},c))}):N&&N.length>0?(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map((a,c)=>(0,b.jsx)(E.motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.05*c},children:(0,b.jsx)(C.default,{href:`/dashboard/elearning/courses/${a.slug}`,children:(0,b.jsxs)(j.GlassCard,{variant:"default",hoverable:!0,className:"h-full p-0 overflow-hidden group flex flex-col border-2 border-brand-blue/10 hover:border-brand-blue/30 bg-gradient-to-br from-white to-brand-blue-ghost/10 hover:shadow-lg transition-all duration-300",children:[(0,b.jsxs)("div",{className:"relative h-40 overflow-hidden bg-gradient-to-br from-gray-50 to-brand-blue-ghost/20",children:[a.thumbnail_url?(0,b.jsx)("img",{src:a.thumbnail_url,alt:a.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}):(0,b.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-brand-blue-ghost/30 to-brand-cyan-ghost/20",children:(0,b.jsx)(r.GraduationCap,{className:"h-10 w-10 text-brand-blue/40"})}),(0,b.jsx)("div",{className:"absolute top-3 right-3",children:(0,b.jsx)("span",{className:(0,D.cn)("px-2.5 py-1 rounded-lg text-xs font-semibold border-2 shadow-sm bg-white/95 backdrop-blur-sm","beginner"===a.difficulty_level?"text-emerald-700 border-emerald-200 bg-gradient-to-br from-emerald-50 to-emerald-100/50":"intermediate"===a.difficulty_level?"text-amber-700 border-amber-200 bg-gradient-to-br from-amber-50 to-amber-100/50":"text-rose-700 border-rose-200 bg-gradient-to-br from-rose-50 to-rose-100/50"),children:R(a.difficulty_level)})})]}),(0,b.jsxs)("div",{className:"p-5 flex-1 flex flex-col",children:[(0,b.jsx)("h3",{className:"font-bold text-gray-900 mb-2 line-clamp-1 group-hover:text-brand-blue transition-colors",children:a.title}),a.short_description&&(0,b.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2 mb-4 flex-1",children:a.short_description}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-xs text-gray-500 mt-auto pt-3 border-t border-brand-blue/10",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(p.Clock,{className:"h-3.5 w-3.5 text-brand-blue"}),(0,b.jsxs)("span",{className:"font-medium",children:[a.estimated_duration_hours||0,"h"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(m.BookOpen,{className:"h-3.5 w-3.5 text-brand-cyan"}),(0,b.jsxs)("span",{className:"font-medium",children:[a.total_lessons||0," leçons"]})]})]})]})]})})},a.id))}):(0,b.jsxs)(j.GlassCard,{variant:"default",className:"p-12 text-center border-2 border-brand-blue/20 bg-gradient-to-br from-brand-blue-ghost/30 to-brand-cyan-ghost/30",children:[(0,b.jsxs)("div",{className:"relative inline-block mb-6",children:[(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,b.jsx)("div",{className:"w-24 h-24 bg-gradient-to-br from-brand-blue-ghost to-brand-cyan-ghost rounded-full opacity-50 blur-2xl"})}),(0,b.jsx)("div",{className:"relative p-6 bg-gradient-to-br from-brand-blue-ghost to-brand-cyan-ghost rounded-2xl inline-block",children:(0,b.jsx)(m.BookOpen,{className:"h-16 w-16 mx-auto text-brand-blue"})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Aucun cours trouvé"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Essayez de modifier vos critères de recherche."})]})]})]})]},"all"):(0,b.jsx)(E.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:Q&&Q.length>0?(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Q.map((a,c)=>{let d=a.course,e=Math.round(a.progress_percentage||0);return(0,b.jsx)(E.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*c},children:(0,b.jsx)(C.default,{href:`/dashboard/elearning/courses/${d.slug}`,children:(0,b.jsxs)(j.GlassCard,{variant:"default",hoverable:!0,className:"h-full p-0 overflow-hidden group border-2 border-brand-cyan/10 hover:border-brand-cyan/30 bg-gradient-to-br from-white to-brand-cyan-ghost/10 hover:shadow-lg transition-all duration-300",children:[(0,b.jsxs)("div",{className:"relative h-40 overflow-hidden",children:[d.thumbnail_url?(0,b.jsx)("img",{src:d.thumbnail_url,alt:d.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}):(0,b.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-brand-cyan-ghost/30 to-brand-blue-ghost/20 flex items-center justify-center",children:(0,b.jsx)(m.BookOpen,{className:"h-10 w-10 text-brand-cyan/40"})}),(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:(0,b.jsx)("div",{className:"bg-white/20 backdrop-blur-md p-3 rounded-full border-2 border-white/50 shadow-lg",children:(0,b.jsx)(q.Play,{className:"h-6 w-6 text-white fill-white ml-1"})})})]}),(0,b.jsxs)("div",{className:"p-5",children:[(0,b.jsx)("div",{className:"flex justify-between items-start mb-3",children:(0,b.jsx)("h3",{className:"font-bold text-gray-900 line-clamp-1 group-hover:text-brand-cyan transition-colors",children:d.title})}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsxs)("div",{className:"flex justify-between text-xs mb-2",children:[(0,b.jsx)("span",{className:"font-semibold text-gray-700",children:"Progression"}),(0,b.jsxs)("span",{className:"font-bold text-brand-cyan",children:[e,"%"]})]}),(0,b.jsx)("div",{className:"h-2.5 w-full bg-gradient-to-r from-gray-100 to-gray-50 rounded-full overflow-hidden border border-gray-200",children:(0,b.jsx)(E.motion.div,{initial:{width:0},animate:{width:`${e}%`},transition:{duration:1,delay:.2},className:(0,D.cn)("h-full rounded-full",100===e?"bg-gradient-to-r from-emerald-500 to-emerald-600":"bg-gradient-to-r from-brand-cyan to-brand-blue")})})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 pt-3 border-t-2 border-brand-cyan/10",children:[(0,b.jsx)("span",{className:(0,D.cn)("px-2.5 py-1 rounded-lg font-semibold border-2","completed"===a.enrollment_status?"bg-gradient-to-br from-emerald-50 to-emerald-100/50 text-emerald-700 border-emerald-200":"enrolled"===a.enrollment_status?"bg-gradient-to-br from-brand-cyan-ghost to-brand-cyan-ghost/50 text-brand-cyan border-brand-cyan/30":"bg-gradient-to-br from-gray-50 to-gray-100 text-gray-600 border-gray-200"),children:"completed"===a.enrollment_status?"Terminé":"enrolled"===a.enrollment_status?"En cours":"Archivé"}),a.last_accessed_at&&(0,b.jsxs)("span",{className:"font-medium",children:["Accédé le ",(0,D.formatDate)(a.last_accessed_at)]})]})]})]})})},a.id)})}):(0,b.jsxs)(j.GlassCard,{variant:"default",className:"p-12 text-center border-2 border-brand-cyan/20 bg-gradient-to-br from-brand-cyan-ghost/30 to-brand-blue-ghost/20",children:[(0,b.jsxs)("div",{className:"relative inline-block mb-6",children:[(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,b.jsx)("div",{className:"w-24 h-24 bg-gradient-to-br from-brand-cyan-ghost to-brand-blue-ghost rounded-full opacity-50 blur-2xl"})}),(0,b.jsx)("div",{className:"relative p-6 bg-gradient-to-br from-brand-cyan-ghost to-brand-blue-ghost rounded-2xl inline-block",children:(0,b.jsx)(r.GraduationCap,{className:"h-16 w-16 mx-auto text-brand-cyan"})})]}),(0,b.jsxs)("div",{className:"space-y-2 mb-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Commencez votre apprentissage"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Vous n'êtes inscrit à aucun cours pour le moment."})]}),(0,b.jsxs)(i.Button,{onClick:()=>K("all"),className:"bg-gradient-to-r from-brand-cyan to-brand-blue hover:from-brand-cyan-dark hover:to-brand-blue-dark shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[(0,b.jsx)(m.BookOpen,{className:"mr-2 h-4 w-4"}),"Parcourir le catalogue"]})]})},"my-courses")})]})}a.s(["default",()=>G],136746)}];

//# sourceMappingURL=app_%28dashboard%29_dashboard_elearning_page_tsx_f560ae62._.js.map