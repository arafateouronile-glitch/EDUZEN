module.exports=[915618,a=>{"use strict";let b=(0,a.i(170106).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],915618)},400210,a=>{"use strict";let b=(0,a.i(170106).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],400210)},641710,a=>{"use strict";let b=(0,a.i(170106).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);a.s(["Clock",()=>b],641710)},495756,a=>{"use strict";let b=(0,a.i(170106).default)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],495756)},724669,a=>{"use strict";let b=(0,a.i(170106).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);a.s(["TrendingUp",()=>b],724669)},683245,a=>{"use strict";let b=(0,a.i(170106).default)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);a.s(["Edit",()=>b],683245)},790166,a=>{"use strict";let b=(0,a.i(170106).default)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);a.s(["DollarSign",()=>b],790166)},482520,(a,b,c)=>{"use strict";b.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},324560,(a,b,c)=>{"use strict";var d=a.r(482520);function e(){}function f(){}f.resetWarningCache=e,b.exports=function(){function a(a,b,c,e,f,g){if(g!==d){var h=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}function b(){return a}a.isRequired=a;var c={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:b,element:a,elementType:a,instanceOf:b,node:a,objectOf:b,oneOf:b,oneOfType:b,shape:b,exact:b,checkPropTypes:f,resetWarningCache:e};return c.PropTypes=c,c}},341212,(a,b,c)=>{b.exports=a.r(324560)()},651442,a=>{"use strict";let{getOwnPropertyNames:b,getOwnPropertySymbols:c}=Object,{hasOwnProperty:d}=Object.prototype;function e(a,b){return function(c,d,e){return a(c,d,e)&&b(c,d,e)}}function f(a){return function(b,c,d){if(!b||!c||"object"!=typeof b||"object"!=typeof c)return a(b,c,d);let{cache:e}=d,f=e.get(b),g=e.get(c);if(f&&g)return f===c&&g===b;e.set(b,c),e.set(c,b);let h=a(b,c,d);return e.delete(b),e.delete(c),h}}function g(a){return b(a).concat(c(a))}let h=Object.hasOwn||((a,b)=>d.call(a,b));function i(a,b){return a===b||!a&&!b&&a!=a&&b!=b}let{getOwnPropertyDescriptor:j,keys:k}=Object;function l(a,b){return a.byteLength===b.byteLength&&x(new Uint8Array(a),new Uint8Array(b))}function m(a,b,c){let d=a.length;if(b.length!==d)return!1;for(;d-- >0;)if(!c.equals(a[d],b[d],d,d,a,b,c))return!1;return!0}function n(a,b){return a.byteLength===b.byteLength&&x(new Uint8Array(a.buffer,a.byteOffset,a.byteLength),new Uint8Array(b.buffer,b.byteOffset,b.byteLength))}function o(a,b){return i(a.getTime(),b.getTime())}function p(a,b){return a.name===b.name&&a.message===b.message&&a.cause===b.cause&&a.stack===b.stack}function q(a,b){return a===b}function r(a,b,c){let d,e,f=a.size;if(f!==b.size)return!1;if(!f)return!0;let g=Array(f),h=a.entries(),i=0;for(;(d=h.next())&&!d.done;){let f=b.entries(),h=!1,j=0;for(;(e=f.next())&&!e.done;){if(g[j]){j++;continue}let f=d.value,k=e.value;if(c.equals(f[0],k[0],i,j,a,b,c)&&c.equals(f[1],k[1],f[0],k[0],a,b,c)){h=g[j]=!0;break}j++}if(!h)return!1;i++}return!0}function s(a,b,c){let d=k(a),e=d.length;if(k(b).length!==e)return!1;for(;e-- >0;)if(!z(a,b,c,d[e]))return!1;return!0}function t(a,b,c){let d,e,f,h=g(a),i=h.length;if(g(b).length!==i)return!1;for(;i-- >0;)if(!z(a,b,c,d=h[i])||(e=j(a,d),f=j(b,d),(e||f)&&(!e||!f||e.configurable!==f.configurable||e.enumerable!==f.enumerable||e.writable!==f.writable)))return!1;return!0}function u(a,b){return i(a.valueOf(),b.valueOf())}function v(a,b){return a.source===b.source&&a.flags===b.flags}function w(a,b,c){let d,e,f=a.size;if(f!==b.size)return!1;if(!f)return!0;let g=Array(f),h=a.values();for(;(d=h.next())&&!d.done;){let f=b.values(),h=!1,i=0;for(;(e=f.next())&&!e.done;){if(!g[i]&&c.equals(d.value,e.value,d.value,e.value,a,b,c)){h=g[i]=!0;break}i++}if(!h)return!1}return!0}function x(a,b){let c=a.byteLength;if(b.byteLength!==c||a.byteOffset!==b.byteOffset)return!1;for(;c-- >0;)if(a[c]!==b[c])return!1;return!0}function y(a,b){return a.hostname===b.hostname&&a.pathname===b.pathname&&a.protocol===b.protocol&&a.port===b.port&&a.hash===b.hash&&a.username===b.username&&a.password===b.password}function z(a,b,c,d){return("_owner"===d||"__o"===d||"__v"===d)&&(!!a.$$typeof||!!b.$$typeof)||h(b,d)&&c.equals(a[d],b[d],d,d,a,b,c)}let A={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},B=Object.prototype.toString,C=D();function D(a={}){let{circular:b=!1,createInternalComparator:c,createState:d,strict:g=!1}=a,h=function({areArrayBuffersEqual:a,areArraysEqual:b,areDataViewsEqual:c,areDatesEqual:d,areErrorsEqual:e,areFunctionsEqual:f,areMapsEqual:g,areNumbersEqual:h,areObjectsEqual:i,arePrimitiveWrappersEqual:j,areRegExpsEqual:k,areSetsEqual:l,areTypedArraysEqual:m,areUrlsEqual:n,unknownTagComparators:o}){return function(p,q,r){if(p===q)return!0;if(null==p||null==q)return!1;let s=typeof p;if(s!==typeof q)return!1;if("object"!==s)return"number"===s?h(p,q,r):"function"===s&&f(p,q,r);let t=p.constructor;if(t!==q.constructor)return!1;if(t===Object)return i(p,q,r);if(Array.isArray(p))return b(p,q,r);if(t===Date)return d(p,q,r);if(t===RegExp)return k(p,q,r);if(t===Map)return g(p,q,r);if(t===Set)return l(p,q,r);let u=B.call(p);if("[object Date]"===u)return d(p,q,r);if("[object RegExp]"===u)return k(p,q,r);if("[object Map]"===u)return g(p,q,r);if("[object Set]"===u)return l(p,q,r);if("[object Object]"===u)return"function"!=typeof p.then&&"function"!=typeof q.then&&i(p,q,r);if("[object URL]"===u)return n(p,q,r);if("[object Error]"===u)return e(p,q,r);if("[object Arguments]"===u)return i(p,q,r);if(A[u])return m(p,q,r);if("[object ArrayBuffer]"===u)return a(p,q,r);if("[object DataView]"===u)return c(p,q,r);if("[object Boolean]"===u||"[object Number]"===u||"[object String]"===u)return j(p,q,r);if(o){let a=o[u];if(!a){let b=null!=p?p[Symbol.toStringTag]:void 0;b&&(a=o[b])}if(a)return a(p,q,r)}return!1}}(function({circular:a,createCustomConfig:b,strict:c}){let d={areArrayBuffersEqual:l,areArraysEqual:c?t:m,areDataViewsEqual:n,areDatesEqual:o,areErrorsEqual:p,areFunctionsEqual:q,areMapsEqual:c?e(r,t):r,areNumbersEqual:i,areObjectsEqual:c?t:s,arePrimitiveWrappersEqual:u,areRegExpsEqual:v,areSetsEqual:c?e(w,t):w,areTypedArraysEqual:c?e(x,t):x,areUrlsEqual:y,unknownTagComparators:void 0};if(b&&(d=Object.assign({},d,b(d))),a){let a=f(d.areArraysEqual),b=f(d.areMapsEqual),c=f(d.areObjectsEqual),e=f(d.areSetsEqual);d=Object.assign({},d,{areArraysEqual:a,areMapsEqual:b,areObjectsEqual:c,areSetsEqual:e})}return d}(a)),j=c?c(h):function(a,b,c,d,e,f,g){return h(a,b,g)};return function({circular:a,comparator:b,createState:c,equals:d,strict:e}){if(c)return function(f,g){let{cache:h=a?new WeakMap:void 0,meta:i}=c();return b(f,g,{cache:h,equals:d,meta:i,strict:e})};if(a)return function(a,c){return b(a,c,{cache:new WeakMap,equals:d,meta:void 0,strict:e})};let f={cache:void 0,equals:d,meta:void 0,strict:e};return function(a,c){return b(a,c,f)}}({circular:b,comparator:h,createState:d,equals:j,strict:g})}D({strict:!0}),D({circular:!0}),D({circular:!0,strict:!0}),D({createInternalComparator:()=>i}),D({strict:!0,createInternalComparator:()=>i}),D({circular:!0,createInternalComparator:()=>i}),D({circular:!0,createInternalComparator:()=>i,strict:!0}),a.s(["deepEqual",()=>C])},555074,a=>{"use strict";var b=a.i(269240);let c=async(a,b)=>(console.warn("videoconferenceService.createMeetingForSession not implemented"),null),d=new class{supabase;constructor(a){this.supabase=a||(0,b.createClient)()}async getAllSessions(a,b){let c=this.supabase.from("sessions").select(`
        *,
        formations!inner(
          *,
          programs(*)
        )
      `).eq("formations.organization_id",a);b?.formationId&&(c=c.eq("formation_id",b.formationId)),b?.status&&(c=c.eq("status",b.status)),b?.startDate&&(c=c.gte("start_date",b.startDate)),b?.endDate&&(c=c.lte("end_date",b.endDate)),b?.search&&(c=c.ilike("name",`%${b.search}%`));let{data:d,error:e}=await c.order("start_date",{ascending:!0});if(e)throw e;return d}async getSessionById(a){let{data:b,error:c}=await this.supabase.from("sessions").select(`
        *,
        formations!inner(
          *,
          programs(*)
        )
      `).eq("id",a).single();if(c)throw c;let{data:d,error:e}=await this.supabase.from("session_programs").select(`
        program_id,
        programs(*)
      `).eq("session_id",a);if(e)throw e;return{...b,session_programs:d?.map(a=>a.programs).filter(Boolean)||[]}}async createSession(a,b,c){if(a.formation_id){let{data:b,error:c}=await this.supabase.from("formations").select("id, organization_id").eq("id",a.formation_id).single();if(c)throw console.error("Erreur lors de la vérification de la formation:",c),Error(`Formation non trouv\xe9e: ${c.message}`);if(!b)throw Error("Formation non trouvée");console.log("Formation trouvée:",b)}let{data:d,error:e}=await this.supabase.from("sessions").insert(a).select().single();if(e)throw console.error("Erreur RLS lors de la création de la session:",{code:e.code,message:e.message,details:e.details,hint:e.hint,formation_id:a.formation_id}),e;if(b&&b.length>0&&d){let{data:a}=await this.supabase.from("formations").select("organization_id").eq("id",d.formation_id).single();if(a){let c=b.map(b=>({session_id:d.id,program_id:b,organization_id:a.organization_id})),{error:e}=await this.supabase.from("session_programs").insert(c);e&&console.error("Erreur lors de la création des associations session-programme:",e),a.organization_id&&await this.syncWithCalendars(d.id,a.organization_id,"create").catch(a=>{console.error("Erreur lors de la synchronisation calendrier:",a)}),a.organization_id&&await this.createVideoconferenceMeeting(d.id,a.organization_id).catch(a=>{console.error("Erreur lors de la création de la réunion visioconférence:",a)})}}return console.log("Session créée avec succès:",d),d}async updateSessionPrograms(a,b,c){let{error:d}=await this.supabase.from("session_programs").delete().eq("session_id",a);if(d)throw d;if(b.length>0){let d=b.map(b=>({session_id:a,program_id:b,organization_id:c})),{error:e}=await this.supabase.from("session_programs").insert(d);if(e)throw e}return!0}async getSessionPrograms(a){let{data:b,error:c}=await this.supabase.from("session_programs").select(`
        program_id,
        programs(*)
      `).eq("session_id",a);if(c)throw c;return b?.map(a=>a.programs).filter(Boolean)||[]}async updateSession(a,b){let{data:c}=await this.supabase.from("sessions").select("formation_id, formations(organization_id)").eq("id",a).single(),{data:d,error:e}=await this.supabase.from("sessions").update(b).eq("id",a).select().single();if(e)throw e;let f=c?.formations;return c&&f?.organization_id&&await this.syncWithCalendars(a,f.organization_id,"update").catch(a=>{console.error("Erreur lors de la synchronisation calendrier:",a)}),d}async deleteSession(a){let{data:b}=await this.supabase.from("sessions").select("formation_id, formations(organization_id)").eq("id",a).single(),c=b?.formations;b&&c?.organization_id&&await this.syncWithCalendars(a,c.organization_id,"delete").catch(a=>{console.error("Erreur lors de la suppression de l'événement calendrier:",a)});let{error:d}=await this.supabase.from("sessions").delete().eq("id",a);if(d)throw d}async createVideoconferenceMeeting(a,b){let{data:d}=await this.supabase.from("videoconference_integrations").select("*").eq("organization_id",b).eq("is_active",!0).eq("auto_create_meetings",!0);if(d&&0!==d.length)for(let e of d)try{await c(a,{organizationId:b,provider:e.provider})}catch(a){console.error(`Erreur lors de la cr\xe9ation de r\xe9union avec ${e.provider}:`,a)}}async syncWithCalendars(a,b,c){let{data:d}=await this.supabase.from("calendar_integrations").select("*").eq("organization_id",b).eq("is_active",!0).eq("sync_sessions",!0).eq("create_events_for_sessions",!0);if(d&&0!==d.length)for(let a of d)try{console.warn(`Calendar sync for ${c} not implemented yet for provider ${a.provider}`)}catch(b){console.error(`Erreur lors de la synchronisation avec ${a.provider}:`,b)}}async getUpcomingSessions(a,b=10){let c=new Date().toISOString().split("T")[0],{data:d,error:e}=await this.supabase.from("sessions").select(`
        *,
        formations!inner(
          *,
          programs(*)
        )
      `).eq("formations.organization_id",a).gte("start_date",c).eq("status","planned").order("start_date",{ascending:!0}).limit(b);if(e)throw e;return d}async getOngoingSessions(a){let b=new Date().toISOString().split("T")[0],{data:c,error:d}=await this.supabase.from("sessions").select(`
        *,
        formations!inner(
          *,
          programs(*)
        )
      `).eq("formations.organization_id",a).lte("start_date",b).gte("end_date",b).eq("status","ongoing").order("start_date",{ascending:!0});if(d)throw d;return c}async addSessionToFormations(a,b,c){let d=b.map((b,d)=>({session_id:a,formation_id:b,organization_id:c,order_index:d})),{data:e,error:f}=await this.supabase.from("formation_sessions").insert(d).select();if(f)throw f;return e}async removeSessionFromFormation(a,b){let{error:c}=await this.supabase.from("formation_sessions").delete().eq("session_id",a).eq("formation_id",b);if(c)throw c;return!0}async updateSessionFormations(a,b,c){let{error:d}=await this.supabase.from("formation_sessions").delete().eq("session_id",a);if(d)throw d;return b.length>0?this.addSessionToFormations(a,b,c):[]}async getSessionFormations(a){let{data:b,error:c}=await this.supabase.from("formation_sessions").select(`
        formation_id,
        order_index,
        formations(*)
      `).eq("session_id",a).order("order_index",{ascending:!0});if(c)throw c;return b?.map(a=>a.formations).filter(Boolean)||[]}async getFormationSessions(a){let{data:b,error:c}=await this.supabase.from("formation_sessions").select(`
        session_id,
        order_index,
        sessions(*)
      `).eq("formation_id",a).order("order_index",{ascending:!0});if(c)throw c;return b?.map(a=>a.sessions).filter(Boolean)||[]}async createIndependentSession(a,b,c){let{data:d,error:e}=await this.supabase.from("sessions").insert({...a,formation_id:null}).select().single();if(e)throw e;return b&&b.length>0&&d&&await this.updateSessionPrograms(d.id,b,a.organization_id),c&&c.length>0&&d&&await this.addSessionToFormations(d.id,c,a.organization_id),d}};a.s(["sessionService",0,d],555074)},337130,a=>{"use strict";var b=a.i(269240);let c=new class{supabase;constructor(a){this.supabase=a||(0,b.createClient)()}async getAllFormations(a,b){let c=this.supabase.from("formations").select(`
        *,
        programs(*)
      `).eq("organization_id",a);b?.programId&&(c=c.eq("program_id",b.programId)),b?.isActive!==void 0&&(c=c.eq("is_active",b.isActive)),b?.search&&(c=c.or(`name.ilike.%${b.search}%,code.ilike.%${b.search}%,description.ilike.%${b.search}%`));let{data:d,error:e}=await c.order("created_at",{ascending:!1});if(e)throw e;return d}async getFormationById(a){let{data:b,error:c}=await this.supabase.from("formations").select(`
        *,
        programs(*),
        sessions(*)
      `).eq("id",a).single();if(c)throw c;return b}async createFormation(a){let{data:b,error:c}=await this.supabase.from("formations").insert(a).select().single();if(c)throw c;return b}async updateFormation(a,b){let{data:c,error:d}=await this.supabase.from("formations").update(b).eq("id",a).select().single();if(d)throw d;return c}async deleteFormation(a){return this.updateFormation(a,{is_active:!1})}async getSessionsByFormation(a){let{data:b,error:c}=await this.supabase.from("sessions").select("*").eq("formation_id",a).order("start_date",{ascending:!0});if(c)throw c;return b}async getAllSessionsForFormation(a){let{data:b,error:c}=await this.supabase.from("formation_sessions").select(`
        session_id,
        order_index,
        sessions(*)
      `).eq("formation_id",a).order("order_index",{ascending:!0});if(c)throw c;let{data:d,error:e}=await this.supabase.from("sessions").select("*").eq("formation_id",a).order("start_date",{ascending:!0});if(e)throw e;let f=b?.map(a=>a.sessions).filter(Boolean)||[],g=[...f],h=new Set(f.map(a=>a.id));for(let a of d||[])h.has(a.id)||g.push(a);return g}async addSessionsToFormation(a,b,c){let d=b.map((b,d)=>({formation_id:a,session_id:b,organization_id:c,order_index:d})),{data:e,error:f}=await this.supabase.from("formation_sessions").insert(d).select();if(f)throw f;return e}async removeSessionFromFormation(a,b){let{error:c}=await this.supabase.from("formation_sessions").delete().eq("formation_id",a).eq("session_id",b);if(c)throw c;return!0}async updateFormationSessions(a,b,c){let{error:d}=await this.supabase.from("formation_sessions").delete().eq("formation_id",a);if(d)throw d;return b.length>0?this.addSessionsToFormation(a,b,c):[]}async getFormationWithAllSessions(a){let b=await this.getFormationById(a);if(!b)return null;let c=await this.getAllSessionsForFormation(a);return{...b,all_sessions:c}}};a.s(["formationService",0,c])}];

//# sourceMappingURL=_cd6b8846._.js.map