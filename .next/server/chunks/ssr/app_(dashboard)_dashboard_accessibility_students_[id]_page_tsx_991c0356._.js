module.exports=[635389,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(433217),e=a.i(913216),f=a.i(195308),g=a.i(269240),h=a.i(703130),i=a.i(340695),j=a.i(254161),k=a.i(621958),l=a.i(370025),m=a.i(937927),n=a.i(205522),o=a.i(917171),p=a.i(546893),q=a.i(46143),r=a.i(864037),s=a.i(613749),t=a.i(50522),u=a.i(114548);function v({studentId:a,organizationId:e,onSuccess:g,onCancel:j}){let k=(0,m.useQueryClient)(),{addToast:v}=(0,r.useToast)(),[w,x]=(0,c.useState)(1),{data:y=[]}=(0,d.useQuery)({queryKey:["disability-types"],queryFn:()=>f.accessibilityService.getDisabilityTypes(),retry:!1}),{data:z}=(0,d.useQuery)({queryKey:["student-need",a],queryFn:()=>f.accessibilityService.getStudentNeedByStudentId(a),retry:!1}),[A,B]=(0,c.useState)({has_disability:z?.has_disability||!1,disability_type_ids:z?.disability_type_ids||[],disability_description:z?.disability_description||"",has_mdph_recognition:z?.has_mdph_recognition||!1,mdph_number:z?.mdph_number||"",mdph_expiry_date:z?.mdph_expiry_date||"",needs_physical_accommodations:z?.needs_physical_accommodations||!1,physical_accommodations_detail:z?.physical_accommodations_detail||"",needs_pedagogical_accommodations:z?.needs_pedagogical_accommodations||!1,pedagogical_accommodations_detail:z?.pedagogical_accommodations_detail||"",needs_exam_accommodations:z?.needs_exam_accommodations||!1,exam_accommodations_detail:z?.exam_accommodations_detail||"",needs_technical_aids:z?.needs_technical_aids||!1,technical_aids_detail:z?.technical_aids_detail||"",external_referent_name:z?.external_referent_name||"",external_referent_contact:z?.external_referent_contact||"",consent_share_info:z?.consent_share_info||!1}),C=(0,l.useMutation)({mutationFn:async()=>{let b={organization_id:e,student_id:a,...A};return z?await f.accessibilityService.updateStudentNeed(z.id,b):await f.accessibilityService.createStudentNeed(b)},onSuccess:()=>{k.invalidateQueries({queryKey:["student-need"]}),k.invalidateQueries({queryKey:["accessibility-needs"]}),v({type:"success",title:"Déclaration enregistrée",description:"Vos besoins spécifiques ont été enregistrés avec succès."}),g?.()},onError:a=>{v({type:"error",title:"Erreur",description:a?.message||"Impossible d'enregistrer la déclaration."})}}),D=(a,b)=>{B(c=>({...c,[a]:b}))},E=a=>{B(b=>{let c=b.disability_type_ids;return c.includes(a)?{...b,disability_type_ids:c.filter(b=>b!==a)}:{...b,disability_type_ids:[...c,a]}})};return(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),C.mutate()},className:"space-y-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"flex items-center",children:Array.from({length:5}).map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center flex-1",children:[(0,b.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${c+1<=w?"bg-brand-blue text-white":"bg-gray-200 text-gray-500"}`,children:c+1}),c<4&&(0,b.jsx)("div",{className:`flex-1 h-1 ${c+1<w?"bg-brand-blue":"bg-gray-200"}`})]},c))}),(0,b.jsxs)("div",{className:"flex justify-between mt-2",children:[(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:"Déclaration"}),(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:"Types"}),(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:"Besoins"}),(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:"Référent"}),(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:"Consentement"})]})]})}),1===w&&(0,b.jsxs)(h.Card,{children:[(0,b.jsxs)(h.CardHeader,{children:[(0,b.jsx)(h.CardTitle,{children:"Déclaration de besoins spécifiques"}),(0,b.jsx)(h.CardDescription,{children:"Indiquez si vous avez des besoins spécifiques liés à un handicap"})]}),(0,b.jsxs)(h.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(q.Checkbox,{id:"has_disability",checked:A.has_disability,onCheckedChange:a=>D("has_disability",a)}),(0,b.jsx)("label",{htmlFor:"has_disability",className:"text-sm font-medium",children:"Je déclare une situation de handicap ou des besoins spécifiques"})]}),A.has_disability&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(o.Label,{htmlFor:"disability_description",children:"Description (optionnel)"}),(0,b.jsx)(p.Textarea,{id:"disability_description",placeholder:"Décrivez brièvement votre situation si vous le souhaitez...",rows:4,value:A.disability_description,onChange:a=>D("disability_description",a.target.value)})]}),(0,b.jsxs)("div",{className:"border-t pt-4",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,b.jsx)(q.Checkbox,{id:"has_mdph_recognition",checked:A.has_mdph_recognition,onCheckedChange:a=>D("has_mdph_recognition",a)}),(0,b.jsx)("label",{htmlFor:"has_mdph_recognition",className:"text-sm font-medium",children:"J'ai une reconnaissance MDPH / RQTH"})]}),A.has_mdph_recognition&&(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 ml-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(o.Label,{htmlFor:"mdph_number",children:"Numéro de dossier MDPH"}),(0,b.jsx)(n.Input,{id:"mdph_number",value:A.mdph_number,onChange:a=>D("mdph_number",a.target.value)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(o.Label,{htmlFor:"mdph_expiry_date",children:"Date d'expiration"}),(0,b.jsx)(n.Input,{id:"mdph_expiry_date",type:"date",value:A.mdph_expiry_date,onChange:a=>D("mdph_expiry_date",a.target.value)})]})]})]})]})]})]}),2===w&&(0,b.jsxs)(h.Card,{children:[(0,b.jsxs)(h.CardHeader,{children:[(0,b.jsx)(h.CardTitle,{children:"Types de handicap"}),(0,b.jsx)(h.CardDescription,{children:"Sélectionnez le ou les types de handicap qui correspondent à votre situation (optionnel)"})]}),(0,b.jsx)(h.CardContent,{children:(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:y.map(a=>(0,b.jsx)("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors ${A.disability_type_ids.includes(a.id)?"border-brand-blue bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>E(a.id),children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(q.Checkbox,{checked:A.disability_type_ids.includes(a.id),onCheckedChange:()=>E(a.id)}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:a.name_fr}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.description})]})]})},a.id))})})]}),3===w&&(0,b.jsxs)(h.Card,{children:[(0,b.jsxs)(h.CardHeader,{children:[(0,b.jsx)(h.CardTitle,{children:"Besoins spécifiques"}),(0,b.jsx)(h.CardDescription,{children:"Indiquez vos besoins pour faciliter votre parcours de formation"})]}),(0,b.jsxs)(h.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(q.Checkbox,{id:"needs_physical_accommodations",checked:A.needs_physical_accommodations,onCheckedChange:a=>D("needs_physical_accommodations",a)}),(0,b.jsx)("label",{htmlFor:"needs_physical_accommodations",className:"text-sm font-medium",children:"Aménagements physiques (accès, mobilité)"})]}),A.needs_physical_accommodations&&(0,b.jsx)(p.Textarea,{placeholder:"Ex: Besoin d'une salle accessible en fauteuil roulant, place de parking réservée...",rows:3,value:A.physical_accommodations_detail,onChange:a=>D("physical_accommodations_detail",a.target.value),className:"ml-6"})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(q.Checkbox,{id:"needs_pedagogical_accommodations",checked:A.needs_pedagogical_accommodations,onCheckedChange:a=>D("needs_pedagogical_accommodations",a)}),(0,b.jsx)("label",{htmlFor:"needs_pedagogical_accommodations",className:"text-sm font-medium",children:"Aménagements pédagogiques"})]}),A.needs_pedagogical_accommodations&&(0,b.jsx)(p.Textarea,{placeholder:"Ex: Documents en gros caractères, supports audio, interprète LSF...",rows:3,value:A.pedagogical_accommodations_detail,onChange:a=>D("pedagogical_accommodations_detail",a.target.value),className:"ml-6"})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(q.Checkbox,{id:"needs_exam_accommodations",checked:A.needs_exam_accommodations,onCheckedChange:a=>D("needs_exam_accommodations",a)}),(0,b.jsx)("label",{htmlFor:"needs_exam_accommodations",className:"text-sm font-medium",children:"Aménagements pour les examens"})]}),A.needs_exam_accommodations&&(0,b.jsx)(p.Textarea,{placeholder:"Ex: Temps supplémentaire, salle isolée, assistance humaine...",rows:3,value:A.exam_accommodations_detail,onChange:a=>D("exam_accommodations_detail",a.target.value),className:"ml-6"})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(q.Checkbox,{id:"needs_technical_aids",checked:A.needs_technical_aids,onCheckedChange:a=>D("needs_technical_aids",a)}),(0,b.jsx)("label",{htmlFor:"needs_technical_aids",className:"text-sm font-medium",children:"Aides techniques / matériel adapté"})]}),A.needs_technical_aids&&(0,b.jsx)(p.Textarea,{placeholder:"Ex: Logiciel de grossissement, clavier braille, ordinateur adapté...",rows:3,value:A.technical_aids_detail,onChange:a=>D("technical_aids_detail",a.target.value),className:"ml-6"})]})]})]}),4===w&&(0,b.jsxs)(h.Card,{children:[(0,b.jsxs)(h.CardHeader,{children:[(0,b.jsx)(h.CardTitle,{children:"Référent externe"}),(0,b.jsx)(h.CardDescription,{children:"Personne à contacter en cas de besoin (médecin, référent MDPH, etc.) - Optionnel"})]}),(0,b.jsxs)(h.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(o.Label,{htmlFor:"external_referent_name",children:"Nom du référent"}),(0,b.jsx)(n.Input,{id:"external_referent_name",placeholder:"Dr. Dupont, Référent MDPH...",value:A.external_referent_name,onChange:a=>D("external_referent_name",a.target.value)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(o.Label,{htmlFor:"external_referent_contact",children:"Contact (email ou téléphone)"}),(0,b.jsx)(n.Input,{id:"external_referent_contact",placeholder:"contact@exemple.fr ou 01 23 45 67 89",value:A.external_referent_contact,onChange:a=>D("external_referent_contact",a.target.value)})]})]})]}),5===w&&(0,b.jsxs)(h.Card,{children:[(0,b.jsxs)(h.CardHeader,{children:[(0,b.jsx)(h.CardTitle,{children:"Consentement"}),(0,b.jsx)(h.CardDescription,{children:"Autorisation de partage des informations"})]}),(0,b.jsxs)(h.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,b.jsx)("p",{className:"text-sm text-blue-900 mb-4",children:"Vos informations sont confidentielles et protégées. Le partage avec les formateurs permet de mieux adapter votre parcours de formation."}),(0,b.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,b.jsx)(q.Checkbox,{id:"consent_share_info",checked:A.consent_share_info,onCheckedChange:a=>D("consent_share_info",a)}),(0,b.jsx)("label",{htmlFor:"consent_share_info",className:"text-sm",children:"J'autorise le partage de mes besoins spécifiques avec les formateurs et le personnel pédagogique afin de bénéficier des aménagements nécessaires."})]})]}),(0,b.jsxs)("div",{className:"text-xs text-muted-foreground",children:[(0,b.jsx)("p",{children:"Conformément au RGPD, vous disposez d'un droit d'accès, de modification et de suppression de vos données."}),(0,b.jsx)("p",{className:"mt-1",children:"Ces informations seront conservées pendant la durée de votre formation et archivées ensuite selon les obligations légales."})]})]})]}),(0,b.jsxs)("div",{className:"flex justify-between pt-6",children:[(0,b.jsx)("div",{children:w>1&&(0,b.jsxs)(i.Button,{type:"button",variant:"outline",onClick:()=>{w>1&&x(w-1)},children:[(0,b.jsx)(s.ChevronLeft,{className:"h-4 w-4 mr-2"}),"Précédent"]})}),(0,b.jsxs)("div",{className:"flex gap-2",children:[j&&(0,b.jsx)(i.Button,{type:"button",variant:"ghost",onClick:j,children:"Annuler"}),w<5?(0,b.jsxs)(i.Button,{type:"button",onClick:()=>{w<5&&x(w+1)},children:["Suivant",(0,b.jsx)(t.ChevronRight,{className:"h-4 w-4 ml-2"})]}):(0,b.jsxs)(i.Button,{type:"submit",disabled:C.isPending,children:[(0,b.jsx)(u.Save,{className:"h-4 w-4 mr-2"}),C.isPending?"Enregistrement...":"Enregistrer la déclaration"]})]})]})]})}var w=a.i(633508);let x=[{value:"physical",label:"Physique"},{value:"pedagogical",label:"Pédagogique"},{value:"exam",label:"Examen"},{value:"technical",label:"Aide technique"},{value:"schedule",label:"Emploi du temps"}],y={physical:[{value:"accessible_room",label:"Salle accessible"},{value:"adapted_furniture",label:"Mobilier adapté"},{value:"parking",label:"Stationnement réservé"},{value:"elevator",label:"Accès ascenseur"}],pedagogical:[{value:"extra_time",label:"Temps supplémentaire"},{value:"adapted_materials",label:"Supports adaptés"},{value:"tutoring",label:"Tutorat renforcé"},{value:"small_group",label:"Petit groupe"}],exam:[{value:"extra_time",label:"Tiers-temps"},{value:"separate_room",label:"Salle séparée"},{value:"assistant",label:"Assistant (lecteur/scripteur)"},{value:"computer",label:"Ordinateur"}],technical:[{value:"screen_reader",label:"Lecteur d'écran"},{value:"magnifier",label:"Loupe électronique"},{value:"wheelchair",label:"Fauteuil roulant"},{value:"hearing_aid",label:"Aide auditive"}],schedule:[{value:"flexible_hours",label:"Horaires aménagés"},{value:"breaks",label:"Pauses supplémentaires"},{value:"reduced_schedule",label:"Temps partiel"},{value:"remote_learning",label:"Formation à distance"}]},z=[{value:"active",label:"Actif"},{value:"inactive",label:"Inactif"},{value:"expired",label:"Expiré"}];function A({organizationId:a,studentId:d,studentNeedId:e,accommodationId:g,initialData:j,onSuccess:k,onCancel:q}){let s=(0,m.useQueryClient)(),{addToast:t}=(0,r.useToast)(),[v,A]=(0,c.useState)({accommodation_type:j?.accommodation_type||"pedagogical",category:j?.category||"",title:j?.title||"",description:j?.description||"",start_date:j?.start_date||new Date().toISOString().split("T")[0],end_date:j?.end_date||"",status:j?.status||"active",completion_rate:j?.completion_rate||0,metadata:j?.metadata||{}}),B=y[v.accommodation_type]||[];(0,c.useEffect)(()=>{v.category&&!B.find(a=>a.value===v.category)&&A(a=>({...a,category:""}))},[v.accommodation_type]);let C=(0,l.useMutation)({mutationFn:async()=>{let b={organization_id:a,student_id:d,student_need_id:e||null,...v};return g?await f.accessibilityService.updateAccommodation(g,b):await f.accessibilityService.createAccommodation(b)},onSuccess:()=>{s.invalidateQueries({queryKey:["accessibility-accommodations"]}),s.invalidateQueries({queryKey:["accessibility-stats"]}),t({type:"success",title:g?"Aménagement mis à jour":"Aménagement créé",description:`L'am\xe9nagement a \xe9t\xe9 ${g?"mis à jour":"créé"} avec succ\xe8s.`}),k?.()},onError:a=>{t({type:"error",title:"Erreur",description:a?.message||"Impossible de sauvegarder l'aménagement."})}}),D=(a,b)=>{A(c=>({...c,[a]:b}))};return(0,b.jsxs)(h.Card,{children:[(0,b.jsx)(h.CardHeader,{children:(0,b.jsx)(h.CardTitle,{children:g?"Modifier l'aménagement":"Nouvel aménagement"})}),(0,b.jsx)(h.CardContent,{children:(0,b.jsxs)("form",{onSubmit:a=>{(a.preventDefault(),v.accommodation_type&&v.title)?C.mutate():t({type:"error",title:"Validation échouée",description:"Veuillez remplir tous les champs obligatoires."})},className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(o.Label,{htmlFor:"accommodation_type",children:"Type d'aménagement *"}),(0,b.jsx)("select",{id:"accommodation_type",value:v.accommodation_type,onChange:a=>D("accommodation_type",a.target.value),className:"w-full px-4 py-3 border-2 border-input rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors",required:!0,children:x.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(o.Label,{htmlFor:"category",children:"Catégorie"}),(0,b.jsxs)("select",{id:"category",value:v.category,onChange:a=>D("category",a.target.value),className:"w-full px-4 py-3 border-2 border-input rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors",children:[(0,b.jsx)("option",{value:"",children:"Sélectionner une catégorie..."}),B.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(o.Label,{htmlFor:"title",children:"Titre *"}),(0,b.jsx)(n.Input,{id:"title",value:v.title,onChange:a=>D("title",a.target.value),placeholder:"Ex: Tiers-temps aux examens",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(o.Label,{htmlFor:"description",children:"Description"}),(0,b.jsx)(p.Textarea,{id:"description",value:v.description,onChange:a=>D("description",a.target.value),placeholder:"Décrivez l'aménagement en détail...",rows:4})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(o.Label,{htmlFor:"start_date",children:"Date de début *"}),(0,b.jsx)(n.Input,{id:"start_date",type:"date",value:v.start_date,onChange:a=>D("start_date",a.target.value),required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(o.Label,{htmlFor:"end_date",children:"Date de fin"}),(0,b.jsx)(n.Input,{id:"end_date",type:"date",value:v.end_date,onChange:a=>D("end_date",a.target.value)}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Laisser vide si indéterminé"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(o.Label,{htmlFor:"status",children:"Statut"}),(0,b.jsx)("select",{id:"status",value:v.status,onChange:a=>D("status",a.target.value),className:"w-full px-4 py-3 border-2 border-input rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors",children:z.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(o.Label,{htmlFor:"completion_rate",children:"Progression (%)"}),(0,b.jsx)(n.Input,{id:"completion_rate",type:"number",min:"0",max:"100",value:v.completion_rate,onChange:a=>D("completion_rate",parseInt(a.target.value)||0)}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"0-100%"})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[q&&(0,b.jsxs)(i.Button,{type:"button",variant:"outline",onClick:q,children:[(0,b.jsx)(w.X,{className:"h-4 w-4 mr-2"}),"Annuler"]}),(0,b.jsxs)(i.Button,{type:"submit",disabled:C.isPending,children:[(0,b.jsx)(u.Save,{className:"h-4 w-4 mr-2"}),C.isPending?"Enregistrement...":"Enregistrer"]})]})]})})]})}var B=a.i(602150),C=a.i(941675),D=a.i(546842),E=a.i(436265),F=a.i(676504);let G={physical:"Physique",pedagogical:"Pédagogique",exam:"Examen",technical:"Aide technique",schedule:"Emploi du temps"},H={active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800",expired:"bg-red-100 text-red-800"};function I({accommodation:a,onEdit:c,onArchive:d,showActions:e=!0}){let f="active"===a.status,g=a.end_date&&new Date(a.end_date)<new Date;return(0,b.jsxs)(h.Card,{className:`${f?"border-green-200":""} hover:shadow-md transition-shadow`,children:[(0,b.jsx)(h.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)(h.CardTitle,{className:"text-base",children:a.title}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,b.jsx)(j.Badge,{variant:"outline",className:"text-xs",children:G[a.accommodation_type]||a.accommodation_type}),(0,b.jsx)(j.Badge,{className:`${H[a.status]} text-xs`,children:"active"===a.status?"Actif":"inactive"===a.status?"Inactif":"Expiré"})]})]}),e&&(0,b.jsxs)(F.DropdownMenu,{children:[(0,b.jsx)(F.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsx)(i.Button,{variant:"ghost",size:"sm",children:(0,b.jsx)(E.MoreVertical,{className:"h-4 w-4"})})}),(0,b.jsxs)(F.DropdownMenuContent,{align:"end",children:[(0,b.jsx)(F.DropdownMenuItem,{onClick:c,children:"Modifier"}),(0,b.jsx)(F.DropdownMenuItem,{onClick:d,className:"text-red-600",children:"Archiver"})]})]})]})}),(0,b.jsxs)(h.CardContent,{className:"space-y-3",children:[a.description&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2",children:a.description}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,b.jsx)(C.Calendar,{className:"h-3 w-3"}),(0,b.jsxs)("span",{children:[a.start_date?new Date(a.start_date).toLocaleDateString("fr-FR"):"Non défini"," → ",a.end_date?new Date(a.end_date).toLocaleDateString("fr-FR"):"Indéterminé"]})]}),a.assigned_to_user_id&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,b.jsx)(D.User,{className:"h-3 w-3"}),(0,b.jsxs)("span",{children:["Responsable: ",a.assigned_to_user_id.slice(0,8),"..."]})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Progression"}),(0,b.jsxs)("span",{className:"font-medium",children:[a.completion_rate,"%"]})]}),(0,b.jsx)(B.Progress,{value:a.completion_rate,className:"h-2"})]}),g&&(0,b.jsx)("p",{className:"text-xs text-red-600 font-medium",children:"⚠️ Cet aménagement a expiré"})]})]})}var J=a.i(773320),K=a.i(435487),L=a.i(781560),M=a.i(495756),N=a.i(290821),O=a.i(284505);let P=[{value:"mdph_certificate",label:"Certificat MDPH"},{value:"medical_certificate",label:"Certificat médical"},{value:"rqth",label:"Reconnaissance RQTH"},{value:"disability_card",label:"Carte d'invalidité"},{value:"other",label:"Autre"}];function Q({organizationId:a,studentId:e,studentNeedId:k,showExisting:p=!0}){let q=(0,m.useQueryClient)(),{addToast:s}=(0,r.useToast)(),t=(0,g.createClient)(),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)({document_type:"mdph_certificate",title:"",issue_date:"",expiry_date:"",issuer:"",reference_number:"",is_confidential:!0,notes:""}),{data:y=[],isLoading:z}=(0,d.useQuery)({queryKey:["accessibility-documents",e],queryFn:async()=>await f.accessibilityService.getDocuments(a,e),enabled:p&&!!e}),A=(0,l.useMutation)({mutationFn:async({file:b,metadata:c})=>{let d=b.name.split(".").pop(),g=`${e}/${Date.now()}.${d}`,{data:h,error:i}=await t.storage.from("accessibility-documents").upload(g,b,{cacheControl:"3600",upsert:!1});if(i)throw console.error("Upload error:",i),Error(`Erreur d'upload: ${i.message}`);return await f.accessibilityService.uploadDocument({organization_id:a,student_id:e,student_need_id:k||null,file_path:h.path,file_name:b.name,file_size:b.size,mime_type:b.type,...c})},onSuccess:()=>{q.invalidateQueries({queryKey:["accessibility-documents"]}),s({type:"success",title:"Document uploadé",description:"Le document a été uploadé avec succès."}),x({document_type:"mdph_certificate",title:"",issue_date:"",expiry_date:"",issuer:"",reference_number:"",is_confidential:!0,notes:""}),v(!1)},onError:a=>{v(!1),s({type:"error",title:"Erreur d'upload",description:a?.message||"Impossible d'uploader le document."})}}),B=(0,l.useMutation)({mutationFn:async a=>{let b=y.find(b=>b.id===a);return b?.file_path&&await t.storage.from("accessibility-documents").remove([b.file_path]),await f.accessibilityService.deleteDocument(a)},onSuccess:()=>{q.invalidateQueries({queryKey:["accessibility-documents"]}),s({type:"success",title:"Document supprimé",description:"Le document a été supprimé avec succès."})},onError:a=>{s({type:"error",title:"Erreur",description:a?.message||"Impossible de supprimer le document."})}}),C=async a=>{let b=a.target.files?.[0];b&&(b.size>0xa00000?s({type:"error",title:"Fichier trop volumineux",description:"Le fichier ne doit pas dépasser 10 MB."}):["application/pdf","image/jpeg","image/png","image/jpg"].includes(b.type)?(v(!0),A.mutate({file:b,metadata:w})):s({type:"error",title:"Type de fichier non autorisé",description:"Formats acceptés: PDF, JPG, PNG"}))},D=async a=>{try{let{data:b,error:c}=await t.storage.from("accessibility-documents").download(a.file_path);if(c)throw c;let d=URL.createObjectURL(b),e=window.document.createElement("a");e.href=d,e.download=a.file_name,e.click(),URL.revokeObjectURL(d)}catch(a){s({type:"error",title:"Erreur de téléchargement",description:a?.message||"Impossible de télécharger le document."})}},E=a=>a?new Date(a).toLocaleDateString("fr-FR"):"Non défini";return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(h.Card,{children:[(0,b.jsx)(h.CardHeader,{children:(0,b.jsxs)(h.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(J.Upload,{className:"h-5 w-5"}),"Uploader un document"]})}),(0,b.jsxs)(h.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(o.Label,{htmlFor:"document_type",children:"Type de document *"}),(0,b.jsx)("select",{id:"document_type",value:w.document_type,onChange:a=>x(b=>({...b,document_type:a.target.value})),className:"w-full px-4 py-3 border-2 border-input rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors",children:P.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(o.Label,{htmlFor:"title",children:"Titre *"}),(0,b.jsx)(n.Input,{id:"title",value:w.title,onChange:a=>x(b=>({...b,title:a.target.value})),placeholder:"Ex: Certificat MDPH 2024"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(o.Label,{htmlFor:"issue_date",children:"Date d'émission"}),(0,b.jsx)(n.Input,{id:"issue_date",type:"date",value:w.issue_date,onChange:a=>x(b=>({...b,issue_date:a.target.value}))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(o.Label,{htmlFor:"expiry_date",children:"Date d'expiration"}),(0,b.jsx)(n.Input,{id:"expiry_date",type:"date",value:w.expiry_date,onChange:a=>x(b=>({...b,expiry_date:a.target.value}))})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(o.Label,{htmlFor:"issuer",children:"Organisme émetteur"}),(0,b.jsx)(n.Input,{id:"issuer",value:w.issuer,onChange:a=>x(b=>({...b,issuer:a.target.value})),placeholder:"Ex: MDPH Paris"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(o.Label,{htmlFor:"reference_number",children:"Numéro de référence"}),(0,b.jsx)(n.Input,{id:"reference_number",value:w.reference_number,onChange:a=>x(b=>({...b,reference_number:a.target.value})),placeholder:"Ex: MDPH-2024-12345"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(o.Label,{htmlFor:"file_upload",children:"Fichier (PDF, JPG, PNG - 10MB max) *"}),(0,b.jsx)(n.Input,{id:"file_upload",type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:C,disabled:u||!w.title}),!w.title&&(0,b.jsx)("p",{className:"text-xs text-amber-600 mt-1",children:"Veuillez d'abord renseigner un titre"})]}),u&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-primary",children:[(0,b.jsx)("div",{className:"animate-spin h-4 w-4 border-2 border-primary border-t-transparent rounded-full"}),"Upload en cours..."]})]})]}),p&&(0,b.jsxs)(h.Card,{children:[(0,b.jsx)(h.CardHeader,{children:(0,b.jsxs)(h.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(K.File,{className:"h-5 w-5"}),"Documents uploadés (",y.length,")"]})}),(0,b.jsx)(h.CardContent,{children:z?(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Chargement..."}):0===y.length?(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Aucun document uploadé"}):(0,b.jsx)("div",{className:"space-y-3",children:y.map(a=>{var c,d;return(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(K.File,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)("span",{className:"font-medium",children:a.title}),a.verified&&(0,b.jsxs)(j.Badge,{variant:"outline",className:"bg-green-100 text-green-800 text-xs",children:[(0,b.jsx)(M.CheckCircle,{className:"h-3 w-3 mr-1"}),"Vérifié"]}),!!(c=a.expiry_date)&&new Date(c)<new Date&&(0,b.jsxs)(j.Badge,{variant:"outline",className:"bg-red-100 text-red-800 text-xs",children:[(0,b.jsx)(N.AlertCircle,{className:"h-3 w-3 mr-1"}),"Expiré"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 mt-1 text-xs text-muted-foreground",children:[(0,b.jsx)("span",{children:a.file_name}),(0,b.jsx)("span",{children:(d=a.file_size||0)<1024?d+" B":d<1048576?(d/1024).toFixed(1)+" KB":(d/1048576).toFixed(1)+" MB"}),a.issue_date&&(0,b.jsxs)("span",{children:["Émis le ",E(a.issue_date)]}),a.expiry_date&&(0,b.jsxs)("span",{children:["Expire le ",E(a.expiry_date)]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:()=>D(a),children:(0,b.jsx)(O.Download,{className:"h-4 w-4"})}),(0,b.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:()=>B.mutate(a.id),disabled:B.isPending,children:(0,b.jsx)(L.Trash2,{className:"h-4 w-4 text-red-600"})})]})]},a.id)})})})]})]})}var R=a.i(104720),S=a.i(883497),T=a.i(400210),U=a.i(915618),V=a.i(238246),W=a.i(50944),X=a.i(965733);function Y(){let a=(0,W.useParams)().id,{user:l}=(0,e.useAuth)(),m=(0,g.createClient)(),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(null),{data:t,isLoading:u}=(0,d.useQuery)({queryKey:["student",a],queryFn:async()=>{let{data:b,error:c}=await m.from("students").select("*, programs(name), cohorts(name)").eq("id",a).single();if(c)throw c;return b},enabled:!!a}),{data:w,isLoading:x}=(0,d.useQuery)({queryKey:["accessibility-student-need",a],queryFn:async()=>await f.accessibilityService.getStudentNeedByStudentId(a),enabled:!!a}),{data:y=[],isLoading:z}=(0,d.useQuery)({queryKey:["accessibility-accommodations",a],queryFn:async()=>await f.accessibilityService.getStudentAccommodations(a),enabled:!!a}),{data:B=[]}=(0,d.useQuery)({queryKey:["accessibility-disability-types"],queryFn:async()=>await f.accessibilityService.getDisabilityTypes()}),C=()=>{q(!1),s(null)};if(!l||u)return(0,b.jsx)("div",{className:"p-6",children:(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Chargement..."})});if(!t)return(0,b.jsx)("div",{className:"p-6",children:(0,b.jsx)(h.Card,{children:(0,b.jsxs)(h.CardContent,{className:"p-12 text-center",children:[(0,b.jsx)(N.AlertCircle,{className:"h-12 w-12 mx-auto text-red-600 mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Étudiant introuvable"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"L'étudiant demandé n'existe pas ou vous n'avez pas les permissions pour y accéder."}),(0,b.jsx)(V.default,{href:"/dashboard/accessibility",children:(0,b.jsxs)(i.Button,{children:[(0,b.jsx)(T.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Retour"]})})]})})});let E=w?.disability_type_ids?B.filter(a=>w.disability_type_ids.includes(a.id)):[];return(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(V.default,{href:"/dashboard/accessibility",children:(0,b.jsxs)(i.Button,{variant:"ghost",size:"sm",children:[(0,b.jsx)(T.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Retour"]})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[(0,b.jsx)(D.User,{className:"h-8 w-8 text-primary"}),t.first_name," ",t.last_name]}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1",children:"Suivi de l'accessibilité et des aménagements"})]})]})}),(0,b.jsxs)(h.Card,{children:[(0,b.jsx)(h.CardHeader,{children:(0,b.jsxs)(h.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(D.User,{className:"h-5 w-5"}),"Informations générales"]})}),(0,b.jsxs)(h.CardContent,{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Email"}),(0,b.jsx)("p",{className:"font-medium",children:t.email||"Non renseigné"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Programme"}),(0,b.jsx)("p",{className:"font-medium",children:t.programs?.name||"Non affecté"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Cohorte"}),(0,b.jsx)("p",{className:"font-medium",children:t.cohorts?.name||"Non affecté"})]})]})]}),w?(0,b.jsxs)(h.Card,{children:[(0,b.jsx)(h.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)(h.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(R.FileText,{className:"h-5 w-5"}),"Déclaration de besoins spécifiques"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:["pending"===w.status&&(0,b.jsx)(j.Badge,{className:"bg-amber-100 text-amber-800",children:"En attente de revue"}),"reviewed"===w.status&&(0,b.jsx)(j.Badge,{className:"bg-blue-100 text-blue-800",children:"Revue effectuée"}),"implemented"===w.status&&(0,b.jsxs)(j.Badge,{className:"bg-green-100 text-green-800",children:[(0,b.jsx)(M.CheckCircle,{className:"h-3 w-3 mr-1"}),"Aménagements en place"]}),(0,b.jsx)(i.Button,{onClick:()=>o(!0),variant:"outline",size:"sm",children:"Modifier"})]})]})}),(0,b.jsxs)(h.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Déclaration de handicap"}),(0,b.jsx)("p",{className:"font-medium",children:w.has_disability?(0,b.jsx)("span",{className:"text-blue-600",children:"Oui, un handicap est déclaré"}):(0,b.jsx)("span",{children:"Aucun handicap déclaré"})})]}),w.has_disability&&E.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Types de handicap"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:E.map(a=>(0,b.jsx)(j.Badge,{variant:"outline",children:a.name_fr},a.id))})]}),w.disability_description&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Description"}),(0,b.jsx)("p",{className:"text-sm",children:w.disability_description})]}),w.has_mdph_recognition&&(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 bg-blue-50 rounded-lg",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Reconnaissance MDPH/RQTH"}),(0,b.jsx)("p",{className:"font-medium text-blue-900",children:"Oui"})]}),w.mdph_number&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Numéro MDPH"}),(0,b.jsx)("p",{className:"font-medium text-blue-900",children:w.mdph_number})]}),w.mdph_expiry_date&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Date d'expiration"}),(0,b.jsx)("p",{className:"font-medium text-blue-900",children:new Date(w.mdph_expiry_date).toLocaleDateString("fr-FR")})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.needs_physical_accommodations&&(0,b.jsxs)("div",{className:"p-3 border rounded-lg",children:[(0,b.jsx)("p",{className:"text-sm font-medium mb-1",children:"Aménagements physiques"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:w.physical_accommodations_detail||"Demandés"})]}),w.needs_pedagogical_accommodations&&(0,b.jsxs)("div",{className:"p-3 border rounded-lg",children:[(0,b.jsx)("p",{className:"text-sm font-medium mb-1",children:"Aménagements pédagogiques"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:w.pedagogical_accommodations_detail||"Demandés"})]}),w.needs_exam_accommodations&&(0,b.jsxs)("div",{className:"p-3 border rounded-lg",children:[(0,b.jsx)("p",{className:"text-sm font-medium mb-1",children:"Aménagements examens"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:w.exam_accommodations_detail||"Demandés"})]}),w.needs_technical_aids&&(0,b.jsxs)("div",{className:"p-3 border rounded-lg",children:[(0,b.jsx)("p",{className:"text-sm font-medium mb-1",children:"Aides techniques"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:w.technical_aids_detail||"Demandées"})]})]})]})]}):(0,b.jsx)(h.Card,{className:"border-amber-200 bg-amber-50",children:(0,b.jsx)(h.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)(N.AlertCircle,{className:"h-6 w-6 text-amber-600 flex-shrink-0 mt-1"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"font-semibold text-amber-900 mb-2",children:"Aucune déclaration de besoins spécifiques"}),(0,b.jsx)("p",{className:"text-sm text-amber-800 mb-4",children:"Cet étudiant n'a pas encore rempli le formulaire d'auto-déclaration des besoins spécifiques."}),(0,b.jsxs)(i.Button,{onClick:()=>o(!0),variant:"outline",children:[(0,b.jsx)(U.Plus,{className:"h-4 w-4 mr-2"}),"Remplir la déclaration"]})]})]})})}),(0,b.jsxs)(k.Tabs,{defaultValue:"accommodations",className:"w-full",children:[(0,b.jsxs)(k.TabsList,{className:"grid w-full grid-cols-2",children:[(0,b.jsxs)(k.TabsTrigger,{value:"accommodations",children:["Aménagements (",y.length,")"]}),(0,b.jsx)(k.TabsTrigger,{value:"documents",children:"Documents justificatifs"})]}),(0,b.jsxs)(k.TabsContent,{value:"accommodations",className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold",children:"Aménagements mis en place"}),(0,b.jsxs)(i.Button,{onClick:()=>q(!0),size:"sm",children:[(0,b.jsx)(U.Plus,{className:"h-4 w-4 mr-2"}),"Nouvel aménagement"]})]}),z?(0,b.jsx)(h.Card,{children:(0,b.jsx)(h.CardContent,{className:"p-6",children:(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Chargement des aménagements..."})})}):0===y.length?(0,b.jsx)(h.Card,{children:(0,b.jsxs)(h.CardContent,{className:"p-12 text-center",children:[(0,b.jsx)(S.Package,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Aucun aménagement"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Aucun aménagement n'a encore été mis en place pour cet étudiant."}),(0,b.jsxs)(i.Button,{onClick:()=>q(!0),children:[(0,b.jsx)(U.Plus,{className:"h-4 w-4 mr-2"}),"Créer un aménagement"]})]})}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:y.map(a=>(0,b.jsx)(I,{accommodation:a,onEdit:()=>{s(a),q(!0)},showActions:!0},a.id))})]}),(0,b.jsx)(k.TabsContent,{value:"documents",children:(0,b.jsx)(Q,{organizationId:l.organization_id||"",studentId:a,studentNeedId:w?.id,showExisting:!0})})]}),(0,b.jsx)(X.Dialog,{open:n,onOpenChange:o,children:(0,b.jsxs)(X.DialogContent,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)(X.DialogHeader,{children:[(0,b.jsx)(X.DialogTitle,{children:"Déclaration de besoins spécifiques"}),(0,b.jsx)(X.DialogDescription,{children:"Formulaire d'auto-déclaration des besoins d'accessibilité"})]}),(0,b.jsx)(v,{studentId:a,organizationId:l.organization_id||"",onSuccess:()=>o(!1),onCancel:()=>o(!1)})]})}),(0,b.jsx)(X.Dialog,{open:p,onOpenChange:q,children:(0,b.jsxs)(X.DialogContent,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)(X.DialogHeader,{children:[(0,b.jsx)(X.DialogTitle,{children:r?"Modifier l'aménagement":"Nouvel aménagement"}),(0,b.jsx)(X.DialogDescription,{children:r?"Modifiez les informations de l'aménagement":"Créez un nouvel aménagement pour cet étudiant"})]}),(0,b.jsx)(A,{organizationId:l.organization_id||"",studentId:a,studentNeedId:w?.id,accommodationId:r?.id,initialData:r,onSuccess:C,onCancel:C})]})})]})}a.s(["default",()=>Y],635389)}];

//# sourceMappingURL=app_%28dashboard%29_dashboard_accessibility_students_%5Bid%5D_page_tsx_991c0356._.js.map