{"version":3,"sources":["../../../../app/%28dashboard%29/dashboard/programs/%5Bid%5D/enrollments/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { useParams, useRouter } from 'next/navigation'\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\nimport { createClient } from '@/lib/supabase/client'\nimport { programService } from '@/lib/services/program.service'\nimport { formationService } from '@/lib/services/formation.service'\nimport { useAuth } from '@/lib/hooks/use-auth'\nimport { Button } from '@/components/ui/button'\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\nimport { ArrowLeft, Plus, Users, Calendar, DollarSign, Search, Filter, X } from 'lucide-react'\nimport Link from 'next/link'\nimport { formatDate, formatCurrency } from '@/lib/utils'\nimport type { FormationWithRelations } from '@/lib/types/query-types'\n\ntype EnrollmentStatus = 'pending' | 'confirmed' | 'completed' | 'cancelled' | 'failed'\ntype PaymentStatus = 'pending' | 'partial' | 'paid' | 'overdue'\n\nexport default function ProgramEnrollmentsPage() {\n  const params = useParams()\n  const router = useRouter()\n  const programId = params.id as string\n  const supabase = createClient()\n  const queryClient = useQueryClient()\n  const { user } = useAuth()\n\n  // Cette page devrait afficher les formations du programme\n  // Pour l'instant, redirigeons vers la page des formations du programme\n  // ou affichons un message indiquant que les inscriptions sont au niveau des formations\n\n  const [searchTerm, setSearchTerm] = useState('')\n  const [selectedSessionId, setSelectedSessionId] = useState<string | null>(null)\n  const [statusFilter, setStatusFilter] = useState<EnrollmentStatus | 'all'>('all')\n  const [paymentStatusFilter, setPaymentStatusFilter] = useState<PaymentStatus | 'all'>('all')\n  const [showNewEnrollmentForm, setShowNewEnrollmentForm] = useState(false)\n  const [newEnrollmentForm, setNewEnrollmentForm] = useState({\n    student_id: '',\n    session_id: '', // Utiliser session_id au lieu de program_session_id\n    enrollment_date: new Date().toISOString().split('T')[0],\n    status: 'confirmed' as EnrollmentStatus,\n    payment_status: 'pending' as PaymentStatus,\n    total_amount: '0',\n    paid_amount: '0',\n  })\n\n  // Récupérer le programme et ses formations\n  const { data: program, isLoading: programLoading } = useQuery({\n    queryKey: ['program', programId],\n    queryFn: async () => {\n      const prog = await programService.getProgramById(programId)\n      // Récupérer toutes les formations du programme\n      const formations = await formationService.getAllFormations(user?.organization_id || '', {\n        programId: programId,\n      })\n      return { ...prog, formations }\n    },\n    enabled: !!programId && !!user?.organization_id,\n  })\n\n  // Récupérer toutes les sessions de toutes les formations du programme\n  const { data: sessions } = useQuery({\n    queryKey: ['program-sessions', programId],\n    queryFn: async () => {\n      if (!program?.formations) return []\n      const allSessions = []\n      for (const formation of (program.formations as FormationWithRelations[]) || []) {\n        const formationSessions = await formationService.getSessionsByFormation(formation.id)\n        allSessions.push(...formationSessions)\n      }\n      return allSessions\n    },\n    enabled: !!program?.formations,\n  })\n\n  // Récupérer les inscriptions\n  const { data: enrollments, isLoading: enrollmentsLoading } = useQuery({\n    queryKey: ['program-enrollments', programId, selectedSessionId],\n    queryFn: async () => {\n      let query = supabase\n        .from('enrollments')\n        .select('*, students(*), sessions(name, formations(name, programs(name)))')\n        .order('enrollment_date', { ascending: false })\n\n      // Filtrer par session si une session est sélectionnée\n      if (selectedSessionId) {\n        query = query.eq('session_id', selectedSessionId) // Utiliser session_id\n      } else {\n        // Sinon, récupérer toutes les inscriptions pour toutes les sessions du programme\n        if (sessions && sessions.length > 0) {\n          const sessionIds = (sessions || []).map((s: any) => s.id).filter((id): id is string => !!id)\n          if (sessionIds && sessionIds.length > 0) {\n            query = query.in('session_id', sessionIds) // Utiliser session_id\n          } else {\n            return []\n          }\n        } else {\n          return []\n        }\n      }\n\n      const { data, error } = await query\n      if (error) throw error\n      return data || []\n    },\n    enabled: !!programId && (selectedSessionId !== null || (sessions && sessions.length > 0)),\n  })\n\n  // Récupérer tous les élèves pour le formulaire de nouvelle inscription\n  const { data: students } = useQuery({\n    queryKey: ['students', user?.organization_id],\n    queryFn: async () => {\n      if (!user?.organization_id) return []\n      const { data, error } = await supabase\n        .from('students')\n        .select('id, first_name, last_name, student_number, email')\n        .eq('organization_id', user.organization_id)\n        .eq('status', 'active')\n        .order('last_name', { ascending: true })\n      if (error) throw error\n      return data || []\n    },\n    enabled: !!user?.organization_id,\n  })\n\n  // Filtrer les inscriptions\n  const filteredEnrollments = enrollments?.filter((enrollment: any) => {\n    // Filtre de recherche\n    if (searchTerm) {\n      const student = enrollment.students\n      const searchLower = searchTerm.toLowerCase()\n      const matchesSearch =\n        student?.first_name?.toLowerCase().includes(searchLower) ||\n        student?.last_name?.toLowerCase().includes(searchLower) ||\n        student?.student_number?.toLowerCase().includes(searchLower) ||\n        student?.email?.toLowerCase().includes(searchLower)\n      if (!matchesSearch) return false\n    }\n\n    // Filtre de statut\n    if (statusFilter !== 'all' && enrollment.status !== statusFilter) {\n      return false\n    }\n\n    // Filtre de statut de paiement\n    if (paymentStatusFilter !== 'all' && enrollment.payment_status !== paymentStatusFilter) {\n      return false\n    }\n\n    return true\n  })\n\n  const getStatusColor = (status: EnrollmentStatus) => {\n    switch (status) {\n      case 'pending':\n        return 'bg-warning-bg text-warning-primary'\n      case 'confirmed':\n        return 'bg-blue-100 text-blue-800'\n      case 'completed':\n        return 'bg-success-bg text-success-primary'\n      case 'cancelled':\n        return 'bg-gray-100 text-gray-800'\n      case 'failed':\n        return 'bg-red-100 text-red-800'\n      default:\n        return 'bg-gray-100 text-gray-800'\n    }\n  }\n\n  const getStatusLabel = (status: EnrollmentStatus) => {\n    switch (status) {\n      case 'pending':\n        return 'En attente'\n      case 'confirmed':\n        return 'Confirmée'\n      case 'completed':\n        return 'Terminée'\n      case 'cancelled':\n        return 'Annulée'\n      case 'failed':\n        return 'Échouée'\n      default:\n        return status\n    }\n  }\n\n  const getPaymentStatusColor = (status: PaymentStatus) => {\n    switch (status) {\n      case 'pending':\n        return 'bg-brand-cyan-ghost text-brand-cyan'\n      case 'partial':\n        return 'bg-brand-cyan-pale text-brand-cyan'\n      case 'paid':\n        return 'bg-brand-blue-ghost text-brand-blue'\n      case 'overdue':\n        return 'bg-red-100 text-red-800'\n      default:\n        return 'bg-gray-100 text-gray-800'\n    }\n  }\n\n  const getPaymentStatusLabel = (status: PaymentStatus) => {\n    switch (status) {\n      case 'pending':\n        return 'En attente'\n      case 'partial':\n        return 'Partiel'\n      case 'paid':\n        return 'Payé'\n      case 'overdue':\n        return 'En retard'\n      default:\n        return status\n    }\n  }\n\n  // Mutation pour créer une nouvelle inscription\n  const createEnrollmentMutation = useMutation({\n    mutationFn: async () => {\n      if (!newEnrollmentForm.student_id || !newEnrollmentForm.session_id) {\n        throw new Error('Veuillez sélectionner un élève et une session')\n      }\n\n      const { data, error } = await supabase\n        .from('enrollments')\n        .insert({\n          student_id: newEnrollmentForm.student_id,\n          session_id: newEnrollmentForm.session_id, // Utiliser session_id\n          enrollment_date: newEnrollmentForm.enrollment_date,\n          status: newEnrollmentForm.status,\n          payment_status: newEnrollmentForm.payment_status,\n          total_amount: parseFloat(newEnrollmentForm.total_amount) || 0,\n          paid_amount: parseFloat(newEnrollmentForm.paid_amount) || 0,\n        })\n        .select()\n        .single()\n\n      if (error) throw error\n      return data\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['program-enrollments', programId] })\n      setShowNewEnrollmentForm(false)\n      setNewEnrollmentForm({\n        student_id: '',\n        session_id: '',\n        enrollment_date: new Date().toISOString().split('T')[0],\n        status: 'confirmed',\n        payment_status: 'pending',\n        total_amount: (program as any)?.price?.toString() || '0',\n        paid_amount: '0',\n      })\n    },\n  })\n\n  // Mettre à jour le montant total quand le programme change\n  useEffect(() => {\n    if ((program as any)?.price && !newEnrollmentForm.total_amount) {\n      setNewEnrollmentForm((prev) => ({\n        ...prev,\n        total_amount: (program as any).price.toString(),\n      }))\n    }\n  }, [(program as any)?.price])\n\n  // Statistiques\n  const stats = enrollments\n    ? {\n        total: enrollments.length,\n        pending: enrollments.filter((e: any) => e.status === 'pending').length,\n        confirmed: enrollments.filter((e: any) => e.status === 'confirmed').length,\n        completed: enrollments.filter((e: any) => e.status === 'completed').length,\n        paid: enrollments.filter((e: any) => e.payment_status === 'paid').length,\n        totalAmount: enrollments.reduce((sum: number, e: any) => sum + (e.total_amount || 0), 0),\n        paidAmount: enrollments.reduce((sum: number, e: any) => sum + (e.paid_amount || 0), 0),\n      }\n    : null\n\n  if (programLoading || enrollmentsLoading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-center\">\n          <div className=\"text-muted-foreground\">Chargement...</div>\n        </div>\n      </div>\n    )\n  }\n\n  if (!program) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-center\">\n          <div className=\"text-muted-foreground\">Programme non trouvé</div>\n          <Link href=\"/dashboard/programs\">\n            <Button className=\"mt-4\">Retour à la liste</Button>\n          </Link>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* En-tête */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center space-x-4\">\n          <Link href={`/dashboard/programs/${programId}`}>\n            <Button variant=\"ghost\" size=\"icon\">\n              <ArrowLeft className=\"h-4 w-4\" />\n            </Button>\n          </Link>\n          <div>\n            <h1 className=\"text-3xl font-bold text-gray-900\">Inscriptions</h1>\n            <p className=\"mt-2 text-sm text-gray-600\">\n              Gestion des inscriptions pour <Link href={`/dashboard/programs/${programId}`} className=\"text-primary hover:underline\">{program.name}</Link>\n            </p>\n          </div>\n        </div>\n        <Button onClick={() => setShowNewEnrollmentForm(true)}>\n          <Plus className=\"mr-2 h-4 w-4\" />\n          Nouvelle inscription\n        </Button>\n      </div>\n\n      {/* Statistiques */}\n      {stats && (\n        <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4\">\n          <Card>\n            <CardContent className=\"pt-6\">\n              <div className=\"text-center\">\n                <div className=\"text-2xl font-bold\">{stats.total}</div>\n                <div className=\"text-sm text-muted-foreground\">Total</div>\n              </div>\n            </CardContent>\n          </Card>\n          <Card>\n            <CardContent className=\"pt-6\">\n              <div className=\"text-center\">\n                <div className=\"text-2xl font-bold text-brand-cyan\">{stats.pending}</div>\n                <div className=\"text-sm text-muted-foreground\">En attente</div>\n              </div>\n            </CardContent>\n          </Card>\n          <Card>\n            <CardContent className=\"pt-6\">\n              <div className=\"text-center\">\n                <div className=\"text-2xl font-bold text-blue-600\">{stats.confirmed}</div>\n                <div className=\"text-sm text-muted-foreground\">Confirmées</div>\n              </div>\n            </CardContent>\n          </Card>\n          <Card>\n            <CardContent className=\"pt-6\">\n              <div className=\"text-center\">\n                <div className=\"text-2xl font-bold text-brand-blue\">{stats.completed}</div>\n                <div className=\"text-sm text-muted-foreground\">Terminées</div>\n              </div>\n            </CardContent>\n          </Card>\n          <Card>\n            <CardContent className=\"pt-6\">\n              <div className=\"text-center\">\n                <div className=\"text-2xl font-bold text-brand-blue\">{stats.paid}</div>\n                <div className=\"text-sm text-muted-foreground\">Payées</div>\n              </div>\n            </CardContent>\n          </Card>\n          <Card>\n            <CardContent className=\"pt-6\">\n              <div className=\"text-center\">\n                <div className=\"text-lg font-bold\">{formatCurrency(stats.totalAmount, (program as any).currency || 'XOF')}</div>\n                <div className=\"text-sm text-muted-foreground\">Total</div>\n              </div>\n            </CardContent>\n          </Card>\n          <Card>\n            <CardContent className=\"pt-6\">\n              <div className=\"text-center\">\n                <div className=\"text-lg font-bold\">{formatCurrency(stats.paidAmount, (program as any).currency || 'XOF')}</div>\n                <div className=\"text-sm text-muted-foreground\">Payé</div>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      )}\n\n      {/* Filtres */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center\">\n            <Filter className=\"mr-2 h-5 w-5\" />\n            Filtres\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n            {/* Recherche */}\n            <div className=\"md:col-span-1\">\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n                <input\n                  type=\"text\"\n                  placeholder=\"Rechercher un élève...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  className=\"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent min-touch-target\"\n                />\n              </div>\n            </div>\n\n            {/* Filtre par session */}\n            <div>\n              <select\n                value={selectedSessionId || 'all'}\n                onChange={(e) => setSelectedSessionId(e.target.value === 'all' ? null : e.target.value)}\n                className=\"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent min-touch-target\"\n              >\n                <option value=\"all\">Toutes les sessions</option>\n                {sessions?.map((session: any) => (\n                  <option key={session.id} value={session.id}>\n                    {session.name}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            {/* Filtre par statut */}\n            <div>\n              <select\n                value={statusFilter}\n                onChange={(e) => setStatusFilter(e.target.value as EnrollmentStatus | 'all')}\n                className=\"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent min-touch-target\"\n              >\n                <option value=\"all\">Tous les statuts</option>\n                <option value=\"pending\">En attente</option>\n                <option value=\"confirmed\">Confirmée</option>\n                <option value=\"completed\">Terminée</option>\n                <option value=\"cancelled\">Annulée</option>\n                <option value=\"failed\">Échouée</option>\n              </select>\n            </div>\n\n            {/* Filtre par statut de paiement */}\n            <div>\n              <select\n                value={paymentStatusFilter}\n                onChange={(e) => setPaymentStatusFilter(e.target.value as PaymentStatus | 'all')}\n                className=\"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent min-touch-target\"\n              >\n                <option value=\"all\">Tous les paiements</option>\n                <option value=\"pending\">En attente</option>\n                <option value=\"partial\">Partiel</option>\n                <option value=\"paid\">Payé</option>\n                <option value=\"overdue\">En retard</option>\n              </select>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Formulaire de nouvelle inscription */}\n      {showNewEnrollmentForm && (\n        <Card>\n          <CardHeader>\n            <div className=\"flex items-center justify-between\">\n              <CardTitle>Nouvelle inscription</CardTitle>\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onClick={() => setShowNewEnrollmentForm(false)}\n              >\n                <X className=\"h-4 w-4\" />\n              </Button>\n            </div>\n          </CardHeader>\n          <CardContent>\n            <form\n              onSubmit={(e) => {\n                e.preventDefault()\n                createEnrollmentMutation.mutate()\n              }}\n              className=\"space-y-6\"\n            >\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                {/* Élève */}\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\">\n                    Élève *\n                  </label>\n                  <select\n                    required\n                    value={newEnrollmentForm.student_id}\n                    onChange={(e) =>\n                      setNewEnrollmentForm({\n                        ...newEnrollmentForm,\n                        student_id: e.target.value,\n                      })\n                    }\n                    className=\"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent min-touch-target\"\n                  >\n                    <option value=\"\">Sélectionner un élève</option>\n                    {students?.map((student) => (\n                      <option key={student.id} value={student.id}>\n                        {student.first_name} {student.last_name} ({student.student_number})\n                      </option>\n                    ))}\n                  </select>\n                </div>\n\n                {/* Session */}\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\">\n                    Session *\n                  </label>\n                  <select\n                    required\n                    value={newEnrollmentForm.session_id}\n                    onChange={(e) =>\n                      setNewEnrollmentForm({\n                        ...newEnrollmentForm,\n                        session_id: e.target.value,\n                      })\n                    }\n                    className=\"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent min-touch-target\"\n                  >\n                    <option value=\"\">Sélectionner une session</option>\n                    {sessions?.map((session: any) => (\n                      <option key={session.id} value={session.id}>\n                        {session.name} ({formatDate(session.start_date)} - {formatDate(session.end_date)})\n                      </option>\n                    ))}\n                  </select>\n                </div>\n\n                {/* Date d'inscription */}\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\">\n                    Date d'inscription *\n                  </label>\n                  <input\n                    type=\"date\"\n                    required\n                    value={newEnrollmentForm.enrollment_date}\n                    onChange={(e) =>\n                      setNewEnrollmentForm({\n                        ...newEnrollmentForm,\n                        enrollment_date: e.target.value,\n                      })\n                    }\n                    className=\"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent min-touch-target\"\n                  />\n                </div>\n\n                {/* Statut */}\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\">\n                    Statut *\n                  </label>\n                  <select\n                    required\n                    value={newEnrollmentForm.status}\n                    onChange={(e) =>\n                      setNewEnrollmentForm({\n                        ...newEnrollmentForm,\n                        status: e.target.value as EnrollmentStatus,\n                      })\n                    }\n                    className=\"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent min-touch-target\"\n                  >\n                    <option value=\"pending\">En attente</option>\n                    <option value=\"confirmed\">Confirmée</option>\n                    <option value=\"completed\">Terminée</option>\n                    <option value=\"cancelled\">Annulée</option>\n                    <option value=\"failed\">Échouée</option>\n                  </select>\n                </div>\n\n                {/* Montant total */}\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\">\n                    Montant total ({(program as any).currency || 'XOF'}) *\n                  </label>\n                  <input\n                    type=\"number\"\n                    required\n                    step=\"0.01\"\n                    min=\"0\"\n                    value={newEnrollmentForm.total_amount}\n                    onChange={(e) =>\n                      setNewEnrollmentForm({\n                        ...newEnrollmentForm,\n                        total_amount: e.target.value,\n                      })\n                    }\n                    className=\"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent min-touch-target\"\n                  />\n                </div>\n\n                {/* Montant payé */}\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\">\n                    Montant payé ({(program as any).currency || 'XOF'})\n                  </label>\n                  <input\n                    type=\"number\"\n                    step=\"0.01\"\n                    min=\"0\"\n                    value={newEnrollmentForm.paid_amount}\n                    onChange={(e) => {\n                      const paid = e.target.value\n                      const total = parseFloat(newEnrollmentForm.total_amount) || 0\n                      const paidAmount = parseFloat(paid) || 0\n                      \n                      let paymentStatus: PaymentStatus = 'pending'\n                      if (paidAmount >= total && total > 0) {\n                        paymentStatus = 'paid'\n                      } else if (paidAmount > 0) {\n                        paymentStatus = 'partial'\n                      }\n\n                      setNewEnrollmentForm({\n                        ...newEnrollmentForm,\n                        paid_amount: paid,\n                        payment_status: paymentStatus,\n                      })\n                    }}\n                    className=\"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent min-touch-target\"\n                  />\n                </div>\n\n                {/* Statut de paiement */}\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\">\n                    Statut de paiement\n                  </label>\n                  <select\n                    value={newEnrollmentForm.payment_status}\n                    onChange={(e) =>\n                      setNewEnrollmentForm({\n                        ...newEnrollmentForm,\n                        payment_status: e.target.value as PaymentStatus,\n                      })\n                    }\n                    className=\"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent min-touch-target\"\n                  >\n                    <option value=\"pending\">En attente</option>\n                    <option value=\"partial\">Partiel</option>\n                    <option value=\"paid\">Payé</option>\n                    <option value=\"overdue\">En retard</option>\n                  </select>\n                </div>\n              </div>\n\n              {createEnrollmentMutation.error && (\n                <div className=\"bg-destructive/10 text-destructive px-4 py-3 rounded-lg text-sm\">\n                  {createEnrollmentMutation.error instanceof Error\n                    ? createEnrollmentMutation.error.message\n                    : 'Une erreur est survenue lors de la création de l\\'inscription'}\n                </div>\n              )}\n\n              <div className=\"flex justify-end space-x-4\">\n                <Button\n                  type=\"button\"\n                  variant=\"outline\"\n                  onClick={() => setShowNewEnrollmentForm(false)}\n                >\n                  Annuler\n                </Button>\n                <Button type=\"submit\" disabled={createEnrollmentMutation.isPending}>\n                  {createEnrollmentMutation.isPending ? 'Création...' : 'Créer l\\'inscription'}\n                </Button>\n              </div>\n            </form>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Liste des inscriptions */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Liste des inscriptions ({filteredEnrollments?.length || 0})</CardTitle>\n        </CardHeader>\n        <CardContent>\n          {filteredEnrollments && filteredEnrollments.length > 0 ? (\n            <div className=\"space-y-4\">\n              {filteredEnrollments.map((enrollment: any) => {\n                const student = enrollment.students\n                const session = enrollment.sessions\n\n                return (\n                  <div\n                    key={enrollment.id}\n                    className=\"p-4 border rounded-lg hover:bg-gray-50 transition-colors\"\n                  >\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex-1\">\n                        <div className=\"flex items-center space-x-4\">\n                          <div>\n                            <h3 className=\"font-semibold text-lg\">\n                              {student?.first_name} {student?.last_name}\n                            </h3>\n                            <p className=\"text-sm text-muted-foreground\">\n                              {student?.student_number} {student?.email && `• ${student.email}`}\n                            </p>\n                          </div>\n                          {session && (\n                            <div className=\"flex items-center text-sm text-muted-foreground\">\n                              <Calendar className=\"mr-1 h-4 w-4\" />\n                              {session.name}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"mt-2 flex items-center space-x-4 text-sm\">\n                          <div>\n                            <span className=\"text-muted-foreground\">Date d'inscription:</span>{' '}\n                            <span className=\"font-medium\">{formatDate(enrollment.enrollment_date)}</span>\n                          </div>\n                          <div>\n                            <span className=\"text-muted-foreground\">Montant:</span>{' '}\n                            <span className=\"font-medium\">\n                              {formatCurrency(enrollment.total_amount || 0, (program as any).currency || 'XOF')}\n                            </span>\n                          </div>\n                          {enrollment.paid_amount > 0 && (\n                            <div>\n                              <span className=\"text-muted-foreground\">Payé:</span>{' '}\n                              <span className=\"font-medium\">\n                                {formatCurrency(enrollment.paid_amount, (program as any).currency || 'XOF')}\n                              </span>\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                      <div className=\"flex items-center space-x-3\">\n                        <span className={`px-2 py-1 rounded text-xs font-medium ${getStatusColor(enrollment.status)}`}>\n                          {getStatusLabel(enrollment.status)}\n                        </span>\n                        <span className={`px-2 py-1 rounded text-xs font-medium ${getPaymentStatusColor(enrollment.payment_status)}`}>\n                          {getPaymentStatusLabel(enrollment.payment_status)}\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                )\n              })}\n            </div>\n          ) : (\n            <div className=\"text-center py-12 text-muted-foreground\">\n              {enrollments && enrollments.length === 0\n                ? 'Aucune inscription pour ce programme'\n                : 'Aucune inscription ne correspond aux critères de recherche'}\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"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"}