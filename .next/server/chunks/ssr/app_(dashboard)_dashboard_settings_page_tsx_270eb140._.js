module.exports=[66233,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(433217),e=a.i(370025),f=a.i(937927),g=a.i(913216),h=a.i(269240),i=a.i(340695),j=a.i(219897),k=a.i(205522),l=a.i(917171),m=a.i(546893),n=a.i(280281),o=a.i(864037),p=a.i(321161),q=a.i(660246),r=a.i(603314),s=a.i(523312),t=a.i(911156),u=a.i(244494),v=a.i(104720),w=a.i(267900),x=a.i(992258),y=a.i(963519),z=a.i(941675),A=a.i(481402),B=a.i(469769),C=a.i(50522),D=a.i(773320),E=a.i(838632),F=a.i(93518),G=a.i(154347),H=a.i(633508),I=a.i(641710),J=a.i(238246);a.i(460355);var K=a.i(346271),L=a.i(262036),M=a.i(497895);function N(){let{user:a,isLoading:N,session:O,isAuthenticated:P}=(0,g.useAuth)(),Q=(0,h.createClient)(),R=(0,f.useQueryClient)(),{addToast:S}=(0,o.useToast)(),[T,U]=(0,c.useState)("organization");(0,c.useEffect)(()=>{"payments"===new URLSearchParams(window.location.search).get("tab")&&U("payments")},[]),(0,c.useEffect)(()=>{N?console.log("â³ [SETTINGS] Chargement en cours..."):(console.log("ðŸ” [SETTINGS] Ã‰tat:",{authLoading:N,isAuthenticated:P,hasSession:!!O,sessionUserId:O?.user?.id,user:a?{id:a.id,email:a.email,organization_id:a.organization_id,role:a.role}:null,hasUser:!!a}),a?console.log("âœ… [SETTINGS] Utilisateur chargÃ©:",{id:a.id,email:a.email,organization_id:a.organization_id,role:a.role}):P&&!a?console.warn("âš ï¸ [SETTINGS] Session active mais aucun utilisateur dans la table users pour:",O?.user?.id):P||console.warn("âš ï¸ [SETTINGS] Utilisateur non authentifiÃ©"))},[a,N,O,P]);let[V,W]=(0,c.useState)(!1),[X,Y]=(0,c.useState)(!1),[Z,$]=(0,c.useState)({name:"",code:"",type:"",country:"",currency:"",language:"fr",address:"",city:"",postal_code:"",phone:"",email:"",logo_url:"",qualiopi_certificate_url:"",brand_color:"#335ACF"}),[_,aa]=(0,c.useState)(!1),[ab,ac]=(0,c.useState)(!1),ad=(0,c.useRef)(null),ae=(0,c.useRef)(null),[af,ag]=(0,c.useState)({emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,invoiceReminders:!0,paymentReminders:!0,attendanceAlerts:!0,documentGenerated:!0,weeklyReports:!1}),[ah,ai]=(0,c.useState)({theme:"light",language:"fr",dateFormat:"DD/MM/YYYY",timeFormat:"24h",currency:"EUR",timezone:"Europe/Paris"}),{data:aj,refetch:ak,isLoading:al,isError:am,error:an}=(0,d.useQuery)({queryKey:["organization",a?.organization_id],queryFn:async()=>{if(!a?.organization_id)return console.warn("âš ï¸ [ORG] Aucun organization_id pour l'utilisateur:",a?.id),null;console.log("ðŸ” [ORG] Recherche de l'organisation:",a.organization_id);let{data:b,error:c}=await Q.from("organizations").select("*").eq("id",a.organization_id).maybeSingle();if(c)throw console.error("âŒ [ORG] Erreur lors de la rÃ©cupÃ©ration:",c),c;return b?(console.log("âœ… [ORG] Organisation rÃ©cupÃ©rÃ©e:",b),b):(console.warn("âš ï¸ [ORG] Aucune organisation trouvÃ©e pour l'ID:",a.organization_id),null)},enabled:!!a?.organization_id,retry:2,refetchOnWindowFocus:!0});(0,c.useEffect)(()=>{if(aj){let a=aj.settings||{};$({name:aj.name??"",code:aj.code??"",type:aj.type??"",country:aj.country??"",currency:aj.currency??"EUR",language:aj.language??"fr",address:aj.address??"",city:aj.city??"",postal_code:a.postal_code??"",phone:aj.phone??"",email:aj.email??"",logo_url:aj.logo_url??"",qualiopi_certificate_url:aj.qualiopi_certificate_url??"",brand_color:aj.brand_color??"#335ACF"})}},[aj]),(0,c.useEffect)(()=>{},[]);let ao=(0,e.useMutation)({mutationFn:async b=>{if(!a?.organization_id)throw Error("No organization ID");let{data:c,error:d}=await Q.from("organizations").select("*").eq("id",a.organization_id).single();if(d)throw d;let e={};if(b.name&&b.name.trim()&&b.name.trim()!==c?.name&&(e.name=b.name.trim()),b.code&&b.code.trim()&&b.code.trim()!==c?.code&&(e.code=b.code.trim()),b.type&&b.type.trim()&&b.type.trim()!==c?.type&&(e.type=b.type.trim()),b.country&&b.country.trim()&&b.country.trim()!==c?.country&&(e.country=b.country.trim()),b.currency&&b.currency.trim()&&b.currency.trim()!==c?.currency&&(e.currency=b.currency.trim()),b.language&&b.language.trim()&&b.language.trim()!==c?.language&&(e.language=b.language.trim()),void 0!==b.address&&b.address?.trim()!==c?.address&&(e.address=b.address?.trim()||null),void 0!==b.city&&b.city?.trim()!==c?.city&&(e.city=b.city?.trim()||null),void 0!==b.phone&&b.phone?.trim()!==c?.phone&&(e.phone=b.phone?.trim()||null),void 0!==b.email&&b.email?.trim()!==c?.email&&(e.email=b.email?.trim()||null),void 0!==b.logo_url&&b.logo_url!==c?.logo_url&&(e.logo_url=b.logo_url||null),void 0!==b.qualiopi_certificate_url&&b.qualiopi_certificate_url!==c?.qualiopi_certificate_url&&(e.qualiopi_certificate_url=b.qualiopi_certificate_url||null),void 0!==b.brand_color&&b.brand_color!==c?.brand_color&&(e.brand_color=b.brand_color||"#335ACF"),void 0!==b.postal_code){let a=c?.settings||{},d=b.postal_code?.trim()||null;d!==a.postal_code&&(e.settings={...a,postal_code:d})}if(0===Object.keys(e).length)return;let{error:f}=await Q.from("organizations").update(e).eq("id",a.organization_id);if(f)throw console.error("âŒ [UPDATE ORG] Erreur:",f),console.error("âŒ [UPDATE ORG] Champs envoyÃ©s:",e),f},onSuccess:()=>{R.invalidateQueries({queryKey:["organization"]}),W(!1),Y(!1),S({title:"SuccÃ¨s",description:"Les informations de l'organisation ont Ã©tÃ© mises Ã  jour",type:"success"})},onError:a=>{Y(!1),S({title:"Erreur",description:a.message||"Erreur lors de la mise Ã  jour",type:"error"})}}),ap=async b=>{let c=b.target.files?.[0];if(c&&a?.organization_id){if(!c.type.startsWith("image/"))return void S({title:"Erreur",description:"Veuillez sÃ©lectionner un fichier image",type:"error"});if(c.size>5242880)return void S({title:"Erreur",description:"Le fichier est trop volumineux (max 5MB)",type:"error"});aa(!0);try{let b=c.name.split(".").pop(),d=`${a.organization_id}/logo.${b}`;if(Z.logo_url){let a=Z.logo_url.split("/").slice(-2).join("/");await Q.storage.from("organizations").remove([a])}let{data:e,error:f}=await Q.storage.from("organizations").upload(d,c,{cacheControl:"3600",upsert:!0});if(f)throw f;let{data:g}=Q.storage.from("organizations").getPublicUrl(d);$({...Z,logo_url:g.publicUrl}),S({title:"SuccÃ¨s",description:"Logo tÃ©lÃ©chargÃ© avec succÃ¨s",type:"success"})}catch(a){console.error("Erreur upload logo:",a),S({title:"Erreur",description:a.message||"Erreur lors du tÃ©lÃ©chargement du logo",type:"error"})}finally{aa(!1)}}},aq=async b=>{let c=b.target.files?.[0];if(c&&a?.organization_id){if(!["application/pdf","image/png","image/jpeg","image/jpg"].includes(c.type))return void S({title:"Erreur",description:"Veuillez sÃ©lectionner un fichier PDF ou image",type:"error"});if(c.size>0xa00000)return void S({title:"Erreur",description:"Le fichier est trop volumineux (max 10MB)",type:"error"});ac(!0);try{let b=c.name.split(".").pop(),d=`${a.organization_id}/qualiopi.${b}`;if(Z.qualiopi_certificate_url){let a=Z.qualiopi_certificate_url.split("/").slice(-2).join("/");await Q.storage.from("organizations").remove([a])}let{data:e,error:f}=await Q.storage.from("organizations").upload(d,c,{cacheControl:"3600",upsert:!0});if(f)throw f;let{data:g}=Q.storage.from("organizations").getPublicUrl(d);$({...Z,qualiopi_certificate_url:g.publicUrl}),S({title:"SuccÃ¨s",description:"Attestation Qualiopi tÃ©lÃ©chargÃ©e avec succÃ¨s",type:"success"})}catch(a){console.error("Erreur upload Qualiopi:",a),S({title:"Erreur",description:a.message||"Erreur lors du tÃ©lÃ©chargement de l'attestation",type:"error"})}finally{ac(!1)}}},ar=async()=>{if(Z.logo_url&&a?.organization_id)try{let a=Z.logo_url.split("/").slice(-2).join("/");await Q.storage.from("organizations").remove([a]),$({...Z,logo_url:""}),S({title:"SuccÃ¨s",description:"Logo supprimÃ©",type:"success"})}catch(a){console.error("Erreur suppression logo:",a),S({title:"Erreur",description:"Erreur lors de la suppression du logo",type:"error"})}},as=async()=>{if(Z.qualiopi_certificate_url&&a?.organization_id)try{let a=Z.qualiopi_certificate_url.split("/").slice(-2).join("/");await Q.storage.from("organizations").remove([a]),$({...Z,qualiopi_certificate_url:""}),S({title:"SuccÃ¨s",description:"Attestation Qualiopi supprimÃ©e",type:"success"})}catch(a){console.error("Erreur suppression Qualiopi:",a),S({title:"Erreur",description:"Erreur lors de la suppression de l'attestation",type:"error"})}},at=[{id:"organization",label:"Organisation",icon:w.Building2},{id:"users",label:"Utilisateurs",icon:q.Users,href:"/dashboard/settings/users"},{id:"permissions",label:"Permissions",icon:r.Shield},{id:"security",label:"SÃ©curitÃ©",icon:r.Shield,href:"/dashboard/settings/security"},{id:"notifications",label:"Notifications",icon:s.Bell,href:"/dashboard/settings/notifications"},{id:"billing",label:"Abonnement",icon:t.CreditCard},{id:"general",label:"GÃ©nÃ©ral",icon:u.Globe}],au=[{id:"payment-reminders",label:"Rappels",icon:s.Bell,href:"/dashboard/settings/payment-reminders"},{id:"stripe",label:"Stripe",icon:t.CreditCard,href:"/dashboard/settings/stripe"},{id:"sepa",label:"SEPA",icon:t.CreditCard,href:"/dashboard/settings/sepa"},{id:"accounting",label:"Compta",icon:w.Building2,href:"/dashboard/settings/accounting"},{id:"calendar",label:"Calendrier",icon:z.Calendar,href:"/dashboard/settings/calendar"},{id:"lms",label:"LMS",icon:B.GraduationCap,href:"/dashboard/settings/lms"},{id:"document-templates",label:"ModÃ¨les",icon:v.FileText,href:"/dashboard/settings/document-templates"},{id:"email-templates",label:"ModÃ¨les d'emails",icon:x.Mail,href:"/dashboard/settings/email-templates"},{id:"email-schedules",label:"Planification d'emails",icon:I.Clock,href:"/dashboard/settings/email-schedules"},{id:"email-test",label:"Test Email",icon:x.Mail,href:"/dashboard/settings/email-test"},{id:"api",label:"API",icon:A.Key,href:"/dashboard/settings/api"}],av={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:[.16,1,.3,1]}}};return(0,b.jsxs)(K.motion.div,{className:"space-y-8 pb-8 max-w-[1600px] mx-auto relative",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"visible",children:[(0,b.jsx)("div",{className:"fixed inset-0 pointer-events-none overflow-hidden z-0",children:[...Array(8)].map((a,c)=>(0,b.jsx)(K.motion.div,{className:"absolute w-1 h-1 bg-brand-blue/15 rounded-full",style:{left:`${100*Math.random()}%`,top:`${100*Math.random()}%`},animate:{y:[0,-30,0],opacity:[0,.4,0],scale:[0,1.2,0]},transition:{duration:3+2*Math.random(),repeat:1/0,delay:2*Math.random(),ease:"easeInOut"}},c))}),(0,b.jsxs)(K.motion.div,{variants:av,className:"relative overflow-hidden rounded-[2rem] shadow-[0_20px_80px_-20px_rgba(51,90,207,0.4)]",children:[(0,b.jsx)(K.motion.div,{className:"absolute inset-0 bg-gradient-to-br from-brand-blue via-brand-blue-light to-brand-cyan",animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:10,repeat:1/0,ease:"easeInOut"},style:{backgroundSize:"200% 200%"}}),(0,b.jsx)("div",{className:"absolute inset-0 opacity-40",style:{backgroundImage:"radial-gradient(at 40% 20%, rgba(255, 255, 255, 0.3) 0px, transparent 50%), radial-gradient(at 80% 0%, rgba(52, 185, 238, 0.4) 0px, transparent 50%)"}}),(0,b.jsx)(K.motion.div,{animate:{y:[0,-20,0],x:[-10,10,-10],transition:{duration:6,repeat:1/0,ease:"easeInOut"}},className:"absolute top-10 right-10 w-32 h-32 bg-white/10 rounded-full blur-3xl"}),(0,b.jsx)("div",{className:"relative z-10 p-8 md:p-12",children:(0,b.jsxs)(K.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.8,ease:[.16,1,.3,1]},className:"flex items-center gap-4",children:[(0,b.jsx)(K.motion.div,{className:"p-4 bg-white/15 backdrop-blur-md rounded-2xl shadow-xl border border-white/20",whileHover:{scale:1.15,rotate:10},transition:{type:"spring",stiffness:400,damping:10},children:(0,b.jsx)(p.Settings,{className:"h-8 w-8 text-white drop-shadow-lg"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-4xl md:text-5xl font-display font-bold text-white tracking-tighter leading-none drop-shadow-2xl",children:"ParamÃ¨tres"}),(0,b.jsx)("p",{className:"text-white/95 text-lg font-medium tracking-tight drop-shadow-lg mt-1",children:"Configuration gÃ©nÃ©rale de votre Ã©tablissement"})]})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[(0,b.jsx)(K.motion.div,{variants:av,className:"lg:col-span-3 space-y-6",children:(0,b.jsxs)(j.GlassCard,{variant:"premium",className:"relative overflow-hidden p-6 border-2 border-gray-100/50 hover:border-brand-blue/20 transition-all duration-500 shadow-[0_10px_40px_-15px_rgba(0,0,0,0.1)]",children:[(0,b.jsx)(K.motion.div,{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-brand-blue/5 to-transparent rounded-full blur-2xl",animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),(0,b.jsxs)("div",{className:"relative z-10 space-y-1",children:[(0,b.jsxs)("div",{className:"px-3 py-2 text-xs font-bold text-gray-500 uppercase tracking-wider mb-3 flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-1 h-4 bg-brand-blue rounded-full"}),"GÃ©nÃ©ral"]}),at.map(a=>{let c=a.icon,d=T===a.id;return a.href?(0,b.jsx)(K.motion.div,{whileHover:{x:4*!d},transition:{type:"spring",stiffness:400,damping:20},children:(0,b.jsxs)(J.default,{href:a.href,className:(0,M.cn)("flex items-center justify-between px-4 py-3 text-sm font-semibold rounded-xl transition-all duration-300 group relative overflow-hidden",d?"bg-gradient-to-r from-brand-blue to-brand-blue-dark text-white shadow-lg shadow-brand-blue/30":"text-gray-600 hover:bg-gradient-to-r hover:from-gray-50 hover:to-brand-blue-ghost hover:text-brand-blue"),children:[d&&(0,b.jsx)(K.motion.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent",initial:{x:"-100%"},animate:{x:"100%"},transition:{duration:2,repeat:1/0,ease:"linear"}}),(0,b.jsxs)("div",{className:"flex items-center gap-3 relative z-10",children:[(0,b.jsx)(K.motion.div,{whileHover:{rotate:360*!d},transition:{duration:.6},children:(0,b.jsx)(c,{className:(0,M.cn)("h-5 w-5 transition-colors",d?"text-white":"text-gray-400 group-hover:text-brand-blue")})}),a.label]}),!d&&(0,b.jsx)(C.ChevronRight,{className:"h-4 w-4 text-gray-300 opacity-0 group-hover:opacity-100 transition-all group-hover:translate-x-1"})]})},a.id):(0,b.jsx)(K.motion.div,{whileHover:{x:4*!d},transition:{type:"spring",stiffness:400,damping:20},children:(0,b.jsxs)("button",{onClick:()=>U(a.id),className:(0,M.cn)("w-full flex items-center justify-between px-4 py-3 text-sm font-semibold rounded-xl transition-all duration-300 group relative overflow-hidden",d?"bg-gradient-to-r from-brand-blue to-brand-blue-dark text-white shadow-lg shadow-brand-blue/30":"text-gray-600 hover:bg-gradient-to-r hover:from-gray-50 hover:to-brand-blue-ghost hover:text-brand-blue"),children:[d&&(0,b.jsx)(K.motion.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent",initial:{x:"-100%"},animate:{x:"100%"},transition:{duration:2,repeat:1/0,ease:"linear"}}),(0,b.jsxs)("div",{className:"flex items-center gap-3 relative z-10",children:[(0,b.jsx)(K.motion.div,{whileHover:{rotate:360*!d},transition:{duration:.6},children:(0,b.jsx)(c,{className:(0,M.cn)("h-5 w-5 transition-colors",d?"text-white":"text-gray-400 group-hover:text-brand-blue")})}),a.label]}),!d&&(0,b.jsx)(C.ChevronRight,{className:"h-4 w-4 text-gray-300 opacity-0 group-hover:opacity-100 transition-all group-hover:translate-x-1"})]})},a.id)}),(0,b.jsxs)("div",{className:"px-3 py-2 text-xs font-bold text-gray-500 uppercase tracking-wider mt-6 mb-3 flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-1 h-4 bg-brand-cyan rounded-full"}),"Modules"]}),(0,b.jsx)("div",{className:"space-y-1",children:au.map(a=>{let c=a.icon;return(0,b.jsx)(K.motion.div,{whileHover:{x:4},transition:{type:"spring",stiffness:400,damping:20},children:(0,b.jsxs)(J.default,{href:a.href,className:"flex items-center justify-between px-4 py-2.5 text-sm font-medium rounded-xl text-gray-600 hover:bg-gradient-to-r hover:from-gray-50 hover:to-brand-cyan-ghost hover:text-brand-cyan transition-all duration-300 group",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(K.motion.div,{whileHover:{rotate:360},transition:{duration:.6},children:(0,b.jsx)(c,{className:"h-4 w-4 text-gray-400 group-hover:text-brand-cyan transition-colors"})}),a.label]}),(0,b.jsx)(C.ChevronRight,{className:"h-3.5 w-3.5 text-gray-300 opacity-0 group-hover:opacity-100 transition-all group-hover:translate-x-1"})]})},a.id)})})]})]})}),(0,b.jsx)("div",{className:"lg:col-span-9",children:(0,b.jsxs)(L.AnimatePresence,{mode:"wait",children:["organization"===T&&(0,b.jsx)(K.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:(0,b.jsxs)(j.GlassCard,{variant:"premium",className:"relative overflow-hidden p-8 border-2 border-gray-100/50 hover:border-brand-blue/20 transition-all duration-500 shadow-[0_10px_40px_-15px_rgba(0,0,0,0.1)]",children:[(0,b.jsx)(K.motion.div,{className:"absolute inset-0 opacity-0 group-hover:opacity-100 pointer-events-none",initial:{x:"-100%",y:"-100%"},whileHover:{x:"100%",y:"100%"},transition:{duration:.8,ease:"easeInOut"},style:{background:"linear-gradient(45deg, transparent 30%, rgba(255, 255, 255, 0.1) 50%, transparent 70%)"}}),(0,b.jsxs)("div",{className:"flex items-center justify-between mb-8 relative z-10",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(K.motion.div,{className:"p-3 bg-gradient-to-br from-brand-blue to-brand-blue-dark rounded-2xl shadow-xl",whileHover:{rotate:10,scale:1.1},transition:{type:"spring",stiffness:500,damping:15},children:(0,b.jsx)(w.Building2,{className:"h-6 w-6 text-white drop-shadow-lg"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-display font-bold text-gray-900 tracking-tight",children:"Informations de l'organisation"}),(0,b.jsx)("p",{className:"text-gray-600 font-semibold tracking-tight",children:"GÃ©rez les informations de base de votre Ã©tablissement"})]})]}),V?(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(K.motion.div,{whileHover:{scale:1.05},whileTap:{scale:.98},children:(0,b.jsx)(i.Button,{onClick:()=>{if(W(!1),aj){let a=aj.settings||{};$({name:aj.name??"",code:aj.code??"",type:aj.type??"",country:aj.country??"",currency:aj.currency??"EUR",language:aj.language??"fr",address:aj.address??"",city:aj.city??"",postal_code:a.postal_code??"",phone:aj.phone??"",email:aj.email??"",logo_url:aj.logo_url??"",qualiopi_certificate_url:aj.qualiopi_certificate_url??"",brand_color:aj.brand_color??"#335ACF"})}},variant:"ghost",className:"hover:bg-gray-100 transition-colors",children:"Annuler"})}),(0,b.jsx)(K.motion.div,{whileHover:{scale:1.05},whileTap:{scale:.98},children:(0,b.jsxs)(i.Button,{onClick:()=>{Y(!0),ao.mutate(Z)},disabled:X,className:"group relative overflow-hidden bg-gradient-to-r from-brand-blue to-brand-blue-dark shadow-lg shadow-brand-blue/30 hover:shadow-xl hover:shadow-brand-blue/40 transition-all duration-300",children:[(0,b.jsx)(K.motion.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent",initial:{x:"-100%"},animate:X?{}:{x:["âˆ’100%","100%"]},transition:{duration:2,repeat:1/0,ease:"linear"}}),(0,b.jsx)("span",{className:"relative z-10",children:X?"Enregistrement...":"Enregistrer"})]})})]}):(0,b.jsx)(K.motion.div,{whileHover:{scale:1.05},whileTap:{scale:.98},transition:{type:"spring",stiffness:400,damping:10},children:(0,b.jsxs)(i.Button,{onClick:()=>{if(aj){let a=aj.settings||{};$({name:aj.name??"",code:aj.code??"",type:aj.type??"",country:aj.country??"",currency:aj.currency??"EUR",language:aj.language??"fr",address:aj.address??"",city:aj.city??"",postal_code:a.postal_code??"",phone:aj.phone??"",email:aj.email??"",logo_url:aj.logo_url??"",qualiopi_certificate_url:aj.qualiopi_certificate_url??"",brand_color:aj.brand_color??"#335ACF"})}W(!0)},variant:"outline",className:"group relative overflow-hidden border-2 border-brand-blue/20 hover:border-brand-blue shadow-md hover:shadow-lg transition-all duration-300",children:[(0,b.jsx)(K.motion.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-brand-blue/10 to-transparent",initial:{x:"-100%"},whileHover:{x:"100%"},transition:{duration:.6}}),(0,b.jsx)("span",{className:"relative z-10",children:"Modifier"})]})})]}),al&&(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-brand-blue mb-4"}),(0,b.jsx)("p",{className:"text-gray-500",children:"Chargement des informations de l'organisation..."})]})}),am&&(0,b.jsx)("div",{className:"p-6 bg-red-50 border border-red-200 rounded-xl",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-red-100 rounded-lg",children:(0,b.jsx)(p.Settings,{className:"h-5 w-5 text-red-600"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"font-semibold text-red-900 mb-1",children:"Erreur de chargement"}),(0,b.jsx)("p",{className:"text-sm text-red-700 mb-4",children:an instanceof Error?an.message:"Impossible de charger les informations de l'organisation"}),(0,b.jsx)(i.Button,{onClick:()=>ak(),variant:"outline",size:"sm",className:"border-red-300 text-red-700 hover:bg-red-100",children:"RÃ©essayer"})]})]})}),(N||al)&&(0,b.jsx)("div",{className:"p-6 bg-blue-50 border border-blue-200 rounded-xl",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}),(0,b.jsx)("p",{className:"text-sm text-blue-700",children:"Chargement des informations..."})]})}),!N&&!al&&!am&&!aj&&a&&(0,b.jsx)("div",{className:"p-6 bg-yellow-50 border border-yellow-200 rounded-xl",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-yellow-100 rounded-lg",children:(0,b.jsx)(w.Building2,{className:"h-5 w-5 text-yellow-600"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"font-semibold text-yellow-900 mb-1",children:"Aucune organisation trouvÃ©e"}),(0,b.jsx)("p",{className:"text-sm text-yellow-700",children:a.organization_id?`Aucune organisation trouv\xe9e pour l'ID: ${a.organization_id}. Veuillez contacter un administrateur.`:"Aucune organisation n'est associÃ©e Ã  votre compte. Veuillez contacter un administrateur."})]})]})}),!N&&!a&&(0,b.jsx)("div",{className:"p-6 bg-red-50 border border-red-200 rounded-xl",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-red-100 rounded-lg",children:(0,b.jsx)(w.Building2,{className:"h-5 w-5 text-red-600"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"font-semibold text-red-900 mb-1",children:"Utilisateur non authentifiÃ©"}),(0,b.jsx)("p",{className:"text-sm text-red-700",children:"Vous devez Ãªtre connectÃ© pour accÃ©der Ã  cette page."})]})]})}),!al&&!am&&aj&&(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Nom de l'organisation"}),(0,b.jsx)(k.Input,{value:Z.name??"",onChange:a=>$({...Z,name:a.target.value}),disabled:!V,className:"bg-gray-50/50"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Code Ã©tablissement"}),(0,b.jsx)(k.Input,{value:Z.code??"",onChange:a=>$({...Z,code:a.target.value}),disabled:!V,className:"bg-gray-50/50"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Type"}),(0,b.jsx)(k.Input,{value:Z.type??"",onChange:a=>$({...Z,type:a.target.value}),disabled:!V,placeholder:"Ã‰cole, UniversitÃ©...",className:"bg-gray-50/50"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Pays"}),(0,b.jsx)(k.Input,{value:Z.country??"",onChange:a=>$({...Z,country:a.target.value}),disabled:!V,className:"bg-gray-50/50"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Adresse"}),(0,b.jsx)(m.Textarea,{value:Z.address??"",onChange:a=>$({...Z,address:a.target.value}),disabled:!V,className:"bg-gray-50/50 min-h-[80px]"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Ville"}),(0,b.jsx)(k.Input,{value:Z.city??"",onChange:a=>$({...Z,city:a.target.value}),disabled:!V,className:"bg-gray-50/50"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Code postal"}),(0,b.jsx)(k.Input,{value:Z.postal_code??"",onChange:a=>$({...Z,postal_code:a.target.value}),disabled:!V,className:"bg-gray-50/50"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"TÃ©lÃ©phone"}),(0,b.jsx)(k.Input,{value:Z.phone??"",onChange:a=>$({...Z,phone:a.target.value}),disabled:!V,className:"bg-gray-50/50"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Email de contact"}),(0,b.jsx)(k.Input,{value:Z.email??"",onChange:a=>$({...Z,email:a.target.value}),disabled:!V,className:"bg-gray-50/50"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Devise"}),(0,b.jsxs)("select",{value:Z.currency??"EUR",onChange:a=>$({...Z,currency:a.target.value}),disabled:!V,className:"w-full px-3 py-2 bg-gray-50/50 border border-input rounded-md text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[(0,b.jsx)("option",{value:"EUR",children:"EUR (â‚¬)"}),(0,b.jsx)("option",{value:"USD",children:"USD ($)"}),(0,b.jsx)("option",{value:"GBP",children:"GBP (Â£)"}),(0,b.jsx)("option",{value:"XOF",children:"XOF (CFA)"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Langue par dÃ©faut"}),(0,b.jsxs)("select",{value:Z.language??"fr",onChange:a=>$({...Z,language:a.target.value}),disabled:!V,className:"w-full px-3 py-2 bg-gray-50/50 border border-input rounded-md text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[(0,b.jsx)("option",{value:"fr",children:"FranÃ§ais"}),(0,b.jsx)("option",{value:"en",children:"English"}),(0,b.jsx)("option",{value:"pt",children:"PortuguÃªs"})]})]})]}),(0,b.jsxs)(K.motion.div,{className:"pt-8 border-t border-gray-200",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,b.jsx)(K.motion.div,{className:"p-3 bg-gradient-to-br from-purple-500 to-pink-600 rounded-2xl shadow-xl",whileHover:{rotate:10,scale:1.1},transition:{type:"spring",stiffness:500,damping:15},children:(0,b.jsx)(G.Palette,{className:"h-5 w-5 text-white drop-shadow-lg"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-display font-bold text-gray-900 tracking-tight",children:"Personnalisation des documents"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 font-semibold",children:"Configurez l'identitÃ© visuelle de vos documents"})]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(l.Label,{className:"flex items-center gap-2",children:[(0,b.jsx)(E.Image,{className:"h-4 w-4"}),"Logo de l'organisation"]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[Z.logo_url?(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("img",{src:Z.logo_url,alt:"Logo",className:"h-20 w-auto object-contain border border-gray-200 rounded-lg p-2 bg-white"}),V&&(0,b.jsx)("button",{onClick:ar,className:"absolute -top-2 -right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",type:"button",children:(0,b.jsx)(H.X,{className:"h-4 w-4"})})]}):(0,b.jsx)("div",{className:"h-20 w-32 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center text-gray-400 text-sm",children:"Aucun logo"}),V&&(0,b.jsxs)("div",{children:[(0,b.jsx)("input",{ref:ad,type:"file",accept:"image/*",onChange:ap,disabled:_,className:"hidden",id:"logo-upload"}),(0,b.jsxs)(i.Button,{type:"button",variant:"outline",disabled:_,className:"cursor-pointer",onClick:()=>ad.current?.click(),children:[(0,b.jsx)(D.Upload,{className:"h-4 w-4 mr-2"}),_?"TÃ©lÃ©chargement...":Z.logo_url?"Remplacer":"TÃ©lÃ©charger"]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG max 5MB"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(l.Label,{className:"flex items-center gap-2",children:[(0,b.jsx)(F.Award,{className:"h-4 w-4"}),"Attestation Qualiopi"]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[Z.qualiopi_certificate_url?(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("a",{href:Z.qualiopi_certificate_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:(0,b.jsx)("div",{className:"h-20 w-32 border border-gray-200 rounded-lg p-2 bg-white flex items-center justify-center hover:bg-gray-50 transition-colors",children:(0,b.jsx)(v.FileText,{className:"h-8 w-8 text-gray-400"})})}),V&&(0,b.jsx)("button",{onClick:as,className:"absolute -top-2 -right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",type:"button",children:(0,b.jsx)(H.X,{className:"h-4 w-4"})})]}):(0,b.jsx)("div",{className:"h-20 w-32 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center text-gray-400 text-sm",children:"Aucune attestation"}),V&&(0,b.jsxs)("div",{children:[(0,b.jsx)("input",{ref:ae,type:"file",accept:".pdf,image/*",onChange:aq,disabled:ab,className:"hidden",id:"qualiopi-upload"}),(0,b.jsxs)(i.Button,{type:"button",variant:"outline",disabled:ab,className:"cursor-pointer",onClick:()=>ae.current?.click(),children:[(0,b.jsx)(D.Upload,{className:"h-4 w-4 mr-2"}),ab?"TÃ©lÃ©chargement...":Z.qualiopi_certificate_url?"Remplacer":"TÃ©lÃ©charger"]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"PDF, PNG, JPG max 10MB"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(l.Label,{className:"flex items-center gap-2",children:[(0,b.jsx)(G.Palette,{className:"h-4 w-4"}),"Couleur de personnalisation"]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("input",{type:"color",value:Z.brand_color||"#335ACF",onChange:a=>$({...Z,brand_color:a.target.value||"#335ACF"}),disabled:!V,className:"h-12 w-24 rounded-lg border border-gray-300 cursor-pointer disabled:cursor-not-allowed"}),(0,b.jsx)(k.Input,{type:"text",value:Z.brand_color,onChange:a=>$({...Z,brand_color:a.target.value}),disabled:!V,className:"bg-gray-50/50 w-32",placeholder:"#335ACF"}),(0,b.jsx)("div",{className:"h-12 w-12 rounded-lg border border-gray-300",style:{backgroundColor:Z.brand_color||"#335ACF"}})]}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Cette couleur sera utilisÃ©e pour personnaliser vos documents"})]})]})]})]})]})},"organization"),"notifications"===T&&(0,b.jsx)(K.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:(0,b.jsxs)(j.GlassCard,{variant:"premium",className:"p-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"PrÃ©fÃ©rences de notifications"}),(0,b.jsx)("p",{className:"text-gray-500",children:"Configurez comment et quand vous recevez des alertes"})]}),(0,b.jsx)(i.Button,{onClick:()=>{localStorage.setItem("notificationSettings",JSON.stringify(af)),S({title:"SuccÃ¨s",description:"Les paramÃ¨tres de notifications ont Ã©tÃ© sauvegardÃ©s",type:"success"})},className:"shadow-lg shadow-brand-blue/20",children:"Enregistrer"})]}),(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2 text-gray-900",children:[(0,b.jsx)("div",{className:"p-1.5 bg-brand-blue-ghost rounded-lg",children:(0,b.jsx)(s.Bell,{className:"h-4 w-4 text-brand-blue"})}),"Canaux de notification"]}),(0,b.jsx)("div",{className:"grid gap-4",children:[{label:"Email",desc:"Recevoir par email",key:"emailNotifications",icon:x.Mail},{label:"Push",desc:"Notifications navigateur",key:"pushNotifications",icon:s.Bell},{label:"SMS",desc:"Recevoir par SMS",key:"smsNotifications",icon:y.Phone}].map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-100 rounded-xl bg-white hover:shadow-md transition-all duration-300",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"p-2 bg-gray-50 rounded-lg text-gray-500",children:(0,b.jsx)(a.icon,{className:"h-5 w-5"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)(l.Label,{className:"text-base font-medium text-gray-900",children:a.label}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:a.desc})]})]}),(0,b.jsx)(n.Switch,{checked:af[a.key],onCheckedChange:b=>ag({...af,[a.key]:b})})]},a.key))})]}),(0,b.jsxs)("div",{className:"space-y-4 pt-6 border-t border-gray-100",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2 text-gray-900",children:[(0,b.jsx)("div",{className:"p-1.5 bg-purple-50 rounded-lg",children:(0,b.jsx)(p.Settings,{className:"h-4 w-4 text-purple-600"})}),"Types d'alertes"]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{label:"Factures",desc:"Rappels de facturation",key:"invoiceReminders"},{label:"Paiements",desc:"Retards de paiement",key:"paymentReminders"},{label:"PrÃ©sence",desc:"Absences et retards",key:"attendanceAlerts"},{label:"Documents",desc:"GÃ©nÃ©ration de docs",key:"documentGenerated"},{label:"Rapports",desc:"RÃ©sumÃ© hebdomadaire",key:"weeklyReports"}].map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-100 rounded-xl bg-white hover:shadow-md transition-all duration-300",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(l.Label,{className:"text-base font-medium text-gray-900",children:a.label}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:a.desc})]}),(0,b.jsx)(n.Switch,{checked:af[a.key],onCheckedChange:b=>ag({...af,[a.key]:b})})]},a.key))})]})]})]})},"notifications"),"general"===T&&(0,b.jsx)(K.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:(0,b.jsxs)(j.GlassCard,{variant:"premium",className:"p-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"ParamÃ¨tres gÃ©nÃ©raux"}),(0,b.jsx)("p",{className:"text-gray-500",children:"Personnalisez votre expÃ©rience"})]}),(0,b.jsx)(i.Button,{onClick:()=>{localStorage.setItem("generalSettings",JSON.stringify(ah)),"dark"===ah.theme?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),S({title:"SuccÃ¨s",description:"Les paramÃ¨tres gÃ©nÃ©raux ont Ã©tÃ© sauvegardÃ©s",type:"success"})},className:"shadow-lg shadow-brand-blue/20",children:"Enregistrer"})]}),(0,b.jsx)("div",{className:"space-y-8",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2 text-gray-900",children:[(0,b.jsx)("div",{className:"p-1.5 bg-orange-50 rounded-lg",children:(0,b.jsx)(u.Globe,{className:"h-4 w-4 text-orange-600"})}),"Localisation & Affichage"]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"ThÃ¨me"}),(0,b.jsxs)("select",{value:ah.theme,onChange:a=>ai({...ah,theme:a.target.value}),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue outline-none transition-all",children:[(0,b.jsx)("option",{value:"light",children:"Clair â˜€ï¸"}),(0,b.jsx)("option",{value:"dark",children:"Sombre ðŸŒ™"}),(0,b.jsx)("option",{value:"auto",children:"SystÃ¨me ðŸ’»"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Langue"}),(0,b.jsxs)("select",{value:ah.language,onChange:a=>ai({...ah,language:a.target.value}),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue outline-none transition-all",children:[(0,b.jsx)("option",{value:"fr",children:"FranÃ§ais ðŸ‡«ðŸ‡·"}),(0,b.jsx)("option",{value:"en",children:"English ðŸ‡¬ðŸ‡§"}),(0,b.jsx)("option",{value:"pt",children:"PortuguÃªs ðŸ‡µðŸ‡¹"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Format de date"}),(0,b.jsxs)("select",{value:ah.dateFormat,onChange:a=>ai({...ah,dateFormat:a.target.value}),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue outline-none transition-all",children:[(0,b.jsx)("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),(0,b.jsx)("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),(0,b.jsx)("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Fuseau horaire"}),(0,b.jsxs)("select",{value:ah.timezone,onChange:a=>ai({...ah,timezone:a.target.value}),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue outline-none transition-all",children:[(0,b.jsx)("option",{value:"Europe/Paris",children:"Europe/Paris"}),(0,b.jsx)("option",{value:"Europe/London",children:"Europe/London"}),(0,b.jsx)("option",{value:"America/New_York",children:"America/New_York"}),(0,b.jsx)("option",{value:"Africa/Abidjan",children:"Africa/Abidjan"})]})]})]})]})})]})},"general"),"billing"===T&&(0,b.jsx)(K.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:(0,b.jsxs)(j.GlassCard,{variant:"premium",className:"relative overflow-hidden p-8 border-2 border-gray-100/50 hover:border-brand-blue/20 transition-all duration-500 shadow-[0_10px_40px_-15px_rgba(0,0,0,0.1)]",children:[(0,b.jsxs)("div",{className:"mb-8 flex items-center gap-4",children:[(0,b.jsx)(K.motion.div,{className:"p-3 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl shadow-xl",whileHover:{rotate:10,scale:1.1},transition:{type:"spring",stiffness:500,damping:15},children:(0,b.jsx)(t.CreditCard,{className:"h-6 w-6 text-white drop-shadow-lg"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-display font-bold text-gray-900 tracking-tight",children:"Abonnement & Facturation"}),(0,b.jsx)("p",{className:"text-gray-600 font-semibold tracking-tight",children:"GÃ©rez votre plan et accÃ©dez Ã  vos factures"})]})]}),aj&&(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)(K.motion.div,{className:"p-8 bg-gradient-to-br from-brand-blue via-brand-blue-light to-brand-cyan rounded-2xl text-white shadow-xl shadow-brand-blue/30 relative overflow-hidden",whileHover:{scale:1.01},transition:{type:"spring",stiffness:300,damping:20},children:[(0,b.jsx)(K.motion.div,{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl",animate:{scale:[1,1.2,1],opacity:[.5,.8,.5]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),(0,b.jsx)(K.motion.div,{className:"absolute bottom-0 left-0 w-48 h-48 bg-brand-cyan/20 rounded-full blur-3xl",animate:{y:[0,-20,0],x:[0,20,0]},transition:{duration:6,repeat:1/0,ease:"easeInOut"}}),(0,b.jsxs)("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,b.jsx)(K.motion.span,{className:"text-sm font-bold bg-white/20 backdrop-blur-sm px-4 py-1.5 rounded-full border border-white/30 shadow-lg",whileHover:{scale:1.05},children:"Plan Actuel"}),"active"===aj.subscription_status&&(0,b.jsxs)(K.motion.span,{className:"flex items-center gap-2 text-sm font-bold text-emerald-300 bg-emerald-900/40 px-4 py-1.5 rounded-full backdrop-blur-sm border border-emerald-400/40 shadow-lg",whileHover:{scale:1.05},children:[(0,b.jsx)(K.motion.span,{className:"w-2 h-2 rounded-full bg-emerald-400",animate:{scale:[1,1.2,1],opacity:[1,.5,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),"Actif"]})]}),(0,b.jsx)(K.motion.h3,{className:"text-5xl font-display font-bold mb-2 tracking-tight drop-shadow-lg",whileHover:{scale:1.02},children:"free"===aj.subscription_tier?"Gratuit":"starter"===aj.subscription_tier?"Starter":"professional"===aj.subscription_tier?"Professionnel":"Enterprise"}),(0,b.jsx)("p",{className:"text-white/90 font-semibold drop-shadow-md",children:"Renouvellement le 01/01/2025"})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-3 w-full md:w-auto",children:[(0,b.jsx)(K.motion.div,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.98},children:(0,b.jsxs)(i.Button,{className:"group relative overflow-hidden bg-white text-brand-blue hover:bg-white shadow-xl hover:shadow-2xl border-0 w-full md:w-auto font-bold",children:[(0,b.jsx)(K.motion.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-brand-blue/10 to-transparent",initial:{x:"-100%"},whileHover:{x:"100%"},transition:{duration:.6}}),(0,b.jsx)("span",{className:"relative z-10",children:"Changer de plan"})]})}),(0,b.jsx)(K.motion.div,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.98},children:(0,b.jsx)(i.Button,{variant:"outline",className:"bg-white/10 backdrop-blur-sm border-white/30 text-white hover:bg-white/20 hover:border-white/50 hover:text-white w-full md:w-auto font-bold shadow-lg",children:"Historique factures"})})]})]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:(0,b.jsxs)("div",{className:"p-6 border border-gray-100 rounded-xl bg-gray-50/50",children:[(0,b.jsx)("h4",{className:"font-semibold text-gray-900 mb-4",children:"Inclus dans votre offre"}),(0,b.jsxs)("ul",{className:"space-y-3 text-sm text-gray-600",children:[(0,b.jsxs)("li",{className:"flex items-center gap-2",children:[(0,b.jsx)(r.Shield,{className:"h-4 w-4 text-emerald-600"}),(0,b.jsx)("span",{children:"Support prioritaire 24/7"})]}),(0,b.jsxs)("li",{className:"flex items-center gap-2",children:[(0,b.jsx)(q.Users,{className:"h-4 w-4 text-emerald-600"}),(0,b.jsx)("span",{children:"Utilisateurs illimitÃ©s"})]}),(0,b.jsxs)("li",{className:"flex items-center gap-2",children:[(0,b.jsx)(u.Globe,{className:"h-4 w-4 text-emerald-600"}),(0,b.jsx)("span",{children:"Domaine personnalisÃ©"})]})]})]})})]})]})},"billing")]})})]})]})}a.s(["default",()=>N])}];

//# sourceMappingURL=app_%28dashboard%29_dashboard_settings_page_tsx_270eb140._.js.map