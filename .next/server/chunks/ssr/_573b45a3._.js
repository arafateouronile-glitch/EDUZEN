module.exports=[400210,a=>{"use strict";let b=(0,a.i(170106).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],400210)},219897,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(497895);a.i(460355);var e=a.i(346271);let f=c.forwardRef(({className:a,variant:c="default",hoverable:f=!1,glow:g=!1,glowColor:h="rgba(51, 90, 207, 0.3)",...i},j)=>(0,b.jsxs)(e.motion.div,{ref:j,className:(0,d.cn)("relative rounded-2xl border backdrop-blur-xl transition-all duration-300",{"bg-white/70 dark:bg-gray-900/70 border-white/20 dark:border-gray-700/30 shadow-lg":"default"===c,"bg-white/80 dark:bg-gray-900/80 border-white/30 dark:border-gray-700/40 shadow-xl":"premium"===c,"bg-white/50 dark:bg-gray-900/50 border-white/10 dark:border-gray-700/20 shadow-md":"subtle"===c,"cursor-pointer":f,"hover:shadow-2xl hover:scale-[1.02]":f,"hover:bg-white/90 dark:hover:bg-gray-900/90":f},a),whileHover:f?{scale:1.02,y:-2}:void 0,transition:{type:"spring",stiffness:300,damping:30},...i,children:[g&&(0,b.jsx)(e.motion.div,{className:"absolute inset-0 rounded-2xl opacity-0 blur-xl",style:{background:`radial-gradient(circle, ${h} 0%, transparent 70%)`},animate:{opacity:[0,.5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),(0,b.jsx)("div",{className:"relative z-10",children:i.children})]}));f.displayName="GlassCard",a.s(["GlassCard",()=>f])},114548,a=>{"use strict";let b=(0,a.i(170106).default)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);a.s(["Save",()=>b],114548)},773320,a=>{"use strict";let b=(0,a.i(170106).default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);a.s(["Upload",()=>b],773320)},179257,a=>{"use strict";let b=(0,a.i(170106).default)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);a.s(["Link",()=>b],179257)},235792,216686,a=>{"use strict";var b=a.i(269240);let c=new class{supabase;constructor(a){this.supabase=a||(0,b.createClient)()}async getCategories(a){let{data:b,error:c}=await this.supabase.from("resource_categories").select("*").eq("organization_id",a).eq("is_active",!0).order("order_index",{ascending:!0});if(c)throw c;return b}async createCategory(a){let{data:b,error:c}=await this.supabase.from("resource_categories").insert(a).select().single();if(c)throw c;return b}async updateCategory(a,b){let{data:c,error:d}=await this.supabase.from("resource_categories").update(b).eq("id",a).select().single();if(d)throw d;return c}async deleteCategory(a){let{error:b}=await this.supabase.from("resource_categories").delete().eq("id",a);if(b)throw b}async getResources(a,b){try{let c=this.supabase.from("educational_resources").select(`
          *,
          category:resource_categories(*),
          author:users!author_id(id, full_name, email)
        `).eq("organization_id",a).eq("status","published");b?.categoryId&&(c=c.eq("category_id",b.categoryId)),b?.resourceType&&(c=c.eq("resource_type",b.resourceType)),b?.search&&(c=c.or(`title.ilike.%${b.search}%,description.ilike.%${b.search}%`)),b?.featured&&(c=c.eq("is_featured",!0)),b?.tags&&b.tags.length>0&&(c=c.contains("tags",b.tags));let{data:d,error:e}=await c.order("created_at",{ascending:!1});if(e){if("PGRST116"===e.code||"PGRST200"===e.code||"42P01"===e.code||"PGRST301"===e.code||400===e.status||"400"===e.code||e.message?.includes("relation")||e.message?.includes("relationship")||e.message?.includes("does not exist")||e.message?.includes("schema cache"))return[];throw e}return d||[]}catch(a){if(a?.code==="PGRST116"||a?.code==="PGRST200"||a?.code==="42P01"||a?.code==="PGRST301"||a?.status===400||a?.code==="400"||a?.message?.includes("relation")||a?.message?.includes("relationship")||a?.message?.includes("does not exist")||a?.message?.includes("schema cache"))return console.warn("Table educational_resources does not exist yet or invalid query:",a?.message||String(a)),[];throw a}}async getResourceBySlug(a,b){try{let{data:c,error:d}=await this.supabase.from("educational_resources").select(`
          *,
          category:resource_categories(*),
          author:users!author_id(id, full_name, email),
          versions:resource_versions(*)
      `).eq("slug",a).eq("organization_id",b).eq("status","published").single();if(d)throw d;return await this.recordView(c.id),c}catch(a){throw(a?.code==="PGRST116"||a?.code==="42P01")&&console.warn("Table educational_resources does not exist yet:",a?.message||String(a)),a}}async createResource(a){let{data:b,error:c}=await this.supabase.from("educational_resources").insert(a).select().single();if(c)throw c;return b}async updateResource(a,b){let{data:c,error:d}=await this.supabase.from("educational_resources").update(b).eq("id",a).select().single();if(d)throw d;return c}async deleteResource(a){let{error:b}=await this.supabase.from("educational_resources").delete().eq("id",a);if(b)throw b}async addToFavorites(a,b){let{data:c,error:d}=await this.supabase.from("resource_favorites").insert({user_id:a,resource_id:b}).select().single();if(d)throw d;try{await this.supabase.rpc("increment",{table_name:"educational_resources",column_name:"favorite_count",row_id:b})}catch(a){console.warn("RPC increment not available, skipping favorite_count increment")}return c}async removeFromFavorites(a,b){let{error:c}=await this.supabase.from("resource_favorites").delete().eq("user_id",a).eq("resource_id",b);if(c)throw c;let{data:d}=await this.supabase.from("educational_resources").select("favorite_count").eq("id",b).single();d&&(d.favorite_count??0)>0&&await this.supabase.from("educational_resources").update({favorite_count:(d.favorite_count??0)-1}).eq("id",b)}async isFavorite(a,b){let{data:c,error:d}=await this.supabase.from("resource_favorites").select("id").eq("user_id",a).eq("resource_id",b).maybeSingle();if(d)throw d;return!!c}async getUserFavorites(a){let{data:b,error:c}=await this.supabase.from("resource_favorites").select("*, resource:educational_resources(*, category:resource_categories(*))").eq("user_id",a).order("created_at",{ascending:!1});if(c)throw c;return b}async recordDownload(a,b,c,d){let{data:e,error:f}=await this.supabase.from("resource_downloads").insert({resource_id:a,user_id:b,ip_address:c,user_agent:d}).select().single();if(f)throw f;return e}async getResourceDownloads(a){let{data:b,error:c}=await this.supabase.from("resource_downloads").select("*, user:users(id, full_name, email)").eq("resource_id",a).order("downloaded_at",{ascending:!1});if(c)throw c;return b}async recordView(a,b,c,d,e){let{data:f,error:g}=await this.supabase.from("resource_views").insert({resource_id:a,user_id:b,view_duration_seconds:c,ip_address:d,user_agent:e}).select().single();if(g)throw g;return f}async getCollections(a,b){let c=this.supabase.from("resource_collections").select("*, user:users(id, full_name, email)").eq("organization_id",a);b?.userId&&(c=c.eq("user_id",b.userId)),b?.isPublic!==void 0&&(c=c.eq("is_public",b.isPublic)),b?.isFeatured&&(c=c.eq("is_featured",!0));let{data:d,error:e}=await c.order("created_at",{ascending:!1});if(e)throw e;return d}async getCollectionById(a){let{data:b,error:c}=await this.supabase.from("resource_collections").select(`
        *,
        user:users(id, full_name, email),
        resources:collection_resources(*, resource:educational_resources(*, category:resource_categories(*)))
      `).eq("id",a).single();if(c)throw c;return b}async createCollection(a){let{data:b,error:c}=await this.supabase.from("resource_collections").insert(a).select().single();if(c)throw c;return b}async addResourceToCollection(a,b,c){let{data:d,error:e}=await this.supabase.from("collection_resources").insert({collection_id:a,resource_id:b,added_by:c}).select().single();if(e)throw e;return d}async removeResourceFromCollection(a,b){let{error:c}=await this.supabase.from("collection_resources").delete().eq("collection_id",a).eq("resource_id",b);if(c)throw c}async getResourceComments(a){let{data:b,error:c}=await this.supabase.from("resource_comments").select("*, user:users(id, full_name, email), replies:resource_comments(*)").eq("resource_id",a).is("parent_id",null).order("created_at",{ascending:!1});if(c)throw c;return b}async createComment(a){let{data:b,error:c}=await this.supabase.from("resource_comments").insert(a).select(`
        *,
        user:users(id, full_name, email)
      `).single();if(c)throw c;return b}async updateComment(a,b){let{data:c,error:d}=await this.supabase.from("resource_comments").update({content:b,is_edited:!0}).eq("id",a).select().single();if(d)throw d;return c}async deleteComment(a){let{error:b}=await this.supabase.from("resource_comments").delete().eq("id",a);if(b)throw b}async createRating(a){let{data:b,error:c}=await this.supabase.from("resource_ratings").insert(a).select().single();if(c)throw c;return b}async updateRating(a,b,c){let{data:d,error:e}=await this.supabase.from("resource_ratings").update({rating:b,comment:c}).eq("id",a).select().single();if(e)throw e;return d}async getResourceRatings(a){let{data:b,error:c}=await this.supabase.from("resource_ratings").select("*, user:users(id, full_name, email)").eq("resource_id",a).order("created_at",{ascending:!1});if(c)throw c;return b}async getResourceRatingStats(a){let{data:b,error:c}=await this.supabase.from("resource_ratings").select("rating").eq("resource_id",a);if(c)throw c;let d={total:b.length,average:0,distribution:{1:0,2:0,3:0,4:0,5:0}};if(b.length>0){let a=b.map(a=>a.rating).filter(Boolean);d.average=a.reduce((a,b)=>a+b,0)/a.length,a.forEach(a=>{d.distribution[a]++})}return d}async getResourceVersions(a){let{data:b,error:c}=await this.supabase.from("resource_versions").select("*, created_by_user:users(id, full_name)").eq("resource_id",a).order("created_at",{ascending:!1});if(c)throw c;return b}async createVersion(a){let{data:b,error:c}=await this.supabase.from("resource_versions").insert(a).select().single();if(c)throw c;return b}};a.s(["educationalResourcesService",0,c],235792);let d=(0,a.i(170106).default)("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);a.s(["Music",()=>d],216686)}];

//# sourceMappingURL=_573b45a3._.js.map