module.exports=[638509,a=>{"use strict";var b=a.i(187924),c=a.i(433217),d=a.i(572131),e=a.i(323625),f=a.i(727163),g=a.i(219897),h=a.i(340695);a.i(460355);var i=a.i(346271),j=a.i(469769),k=a.i(71277),l=a.i(641710),m=a.i(941675),n=a.i(93518),o=a.i(724669),p=a.i(732860),q=a.i(953722),r=a.i(104720),s=a.i(50429),t=a.i(170106);let u=(0,t.default)("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);var v=a.i(50522),w=a.i(808406);let x=(0,t.default)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);var y=a.i(238246),z=a.i(497895),A=a.i(325383);let B=(0,t.default)("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),C=[{icon:k.PlayCircle,label:"Reprendre un cours",href:"/learner/elearning",color:"bg-gradient-to-br from-blue-500 to-indigo-600",iconColor:"text-white"},{icon:m.Calendar,label:"Planning",href:"/learner/planning",color:"bg-gradient-to-br from-purple-500 to-pink-600",iconColor:"text-white"},{icon:r.FileText,label:"Mes documents",href:"/learner/documents",color:"bg-gradient-to-br from-emerald-500 to-teal-600",iconColor:"text-white"},{icon:B,label:"Messages",href:"/learner/messages",color:"bg-gradient-to-br from-orange-500 to-red-600",iconColor:"text-white"}];function D(){let a={hidden:{opacity:0,y:20,scale:.9},visible:{opacity:1,y:0,scale:1,transition:{duration:.5,ease:[.16,1,.3,1]}}};return(0,b.jsx)(i.motion.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"visible",className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:C.map((c,d)=>(0,b.jsx)(i.motion.div,{variants:a,children:(0,b.jsx)(y.default,{href:c.href,children:(0,b.jsxs)(i.motion.div,{whileHover:{scale:1.05,y:-5},whileTap:{scale:.95},className:"group relative overflow-hidden rounded-2xl p-4 cursor-pointer transition-shadow hover:shadow-2xl",children:[(0,b.jsx)("div",{className:`absolute inset-0 ${c.color} opacity-90 group-hover:opacity-100 transition-opacity`}),(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),(0,b.jsxs)("div",{className:"relative z-10 flex flex-col items-center gap-2 text-center",children:[(0,b.jsx)("div",{className:"p-3 bg-white/20 backdrop-blur-sm rounded-xl group-hover:bg-white/30 transition-colors",children:(0,b.jsx)(c.icon,{className:`h-6 w-6 ${c.iconColor}`})}),(0,b.jsx)("span",{className:"text-sm font-semibold text-white",children:c.label})]}),(0,b.jsx)(i.motion.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent",initial:{x:"-100%"},whileHover:{x:"100%"},transition:{duration:.6}})]})})},c.href))})}var E=a.i(39622),F=a.i(985811),G=a.i(758042),H=a.i(994222),I=a.i(54419),J=a.i(659854),K=a.i(48662),L=a.i(800515),M=a.i(547209);function N({data:a,timeRange:c=14}){let e=(0,d.useMemo)(()=>{if(a&&a.length>0)return a;let b=[];for(let a=c-1;a>=0;a--){let c=(0,M.subDays)(new Date,a);b.push({date:(0,L.format)(c,"dd/MM"),hours:4*Math.random(),courses:Math.floor(3*Math.random())})}return b},[a,c]);return(0,b.jsx)("div",{className:"w-full h-[300px]",children:(0,b.jsx)(K.ResponsiveContainer,{width:"100%",height:"100%",children:(0,b.jsxs)(E.AreaChart,{data:e,margin:{top:10,right:10,left:0,bottom:0},children:[(0,b.jsxs)("defs",{children:[(0,b.jsxs)("linearGradient",{id:"colorHours",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,b.jsx)("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),(0,b.jsx)("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]}),(0,b.jsxs)("linearGradient",{id:"colorCourses",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,b.jsx)("stop",{offset:"5%",stopColor:"#a855f7",stopOpacity:.3}),(0,b.jsx)("stop",{offset:"95%",stopColor:"#a855f7",stopOpacity:0})]})]}),(0,b.jsx)(I.CartesianGrid,{strokeDasharray:"3 3",stroke:"#e5e7eb",vertical:!1}),(0,b.jsx)(G.XAxis,{dataKey:"date",stroke:"#9ca3af",style:{fontSize:"12px"},tickLine:!1,axisLine:!1}),(0,b.jsx)(H.YAxis,{stroke:"#9ca3af",style:{fontSize:"12px"},tickLine:!1,axisLine:!1}),(0,b.jsx)(J.Tooltip,{content:(0,b.jsx)(({active:a,payload:c})=>a&&c&&c.length?(0,b.jsxs)(i.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white/95 backdrop-blur-xl border border-gray-200 rounded-xl p-3 shadow-xl",children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:c[0].payload.date}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-3 h-3 rounded-full bg-brand-blue"}),(0,b.jsxs)("span",{className:"text-xs text-gray-600",children:["Heures: ",c[0].value.toFixed(1),"h"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-3 h-3 rounded-full bg-purple-500"}),(0,b.jsxs)("span",{className:"text-xs text-gray-600",children:["Cours: ",c[1].value]})]})]})]}):null,{}),cursor:{stroke:"#3b82f6",strokeWidth:2}}),(0,b.jsx)(F.Area,{type:"monotone",dataKey:"hours",stroke:"#3b82f6",strokeWidth:3,fill:"url(#colorHours)",animationDuration:1500,animationEasing:"ease-out"}),(0,b.jsx)(F.Area,{type:"monotone",dataKey:"courses",stroke:"#a855f7",strokeWidth:3,fill:"url(#colorCourses)",animationDuration:1500,animationEasing:"ease-out"})]})})})}var O=a.i(539680),P=a.i(88143),Q=a.i(433363);function R({activityData:a=[],weeks:c=12}){let{grid:e,months:f,maxCount:g}=(0,d.useMemo)(()=>{let b=new Date,d=(0,M.subDays)(b,7*c),e=(0,O.startOfWeek)(d,{weekStartsOn:1}),f=new Map;a.forEach(({date:a,count:b})=>{let c=(0,L.format)(a,"yyyy-MM-dd");f.set(c,b)});let g=[],h=[],i="",j=0;for(let a=0;a<c;a++){let b=[];for(let c=0;c<7;c++){let d=(0,P.addDays)(e,7*a+c),g=(0,L.format)(d,"yyyy-MM-dd"),k=f.get(g)||Math.floor(5*Math.random());k>j&&(j=k),b.push({date:d,count:k,day:(0,L.format)(d,"EEE",{locale:Q.fr})});let l=(0,L.format)(d,"MMM",{locale:Q.fr});l!==i&&0===c&&(h.push({name:l,offset:a}),i=l)}g.push(b)}return{grid:g,months:h,maxCount:j}},[a,c]);return(0,b.jsx)("div",{className:"w-full overflow-x-auto",children:(0,b.jsxs)("div",{className:"inline-flex flex-col gap-2 min-w-full",children:[(0,b.jsx)("div",{className:"flex gap-1 pl-8 mb-1",children:f.map((a,c)=>(0,b.jsx)("div",{className:"text-xs text-gray-500 font-medium",style:{marginLeft:c>0?`${(a.offset-f[c-1].offset)*14}px`:"0"},children:a.name},c))}),(0,b.jsxs)("div",{className:"flex gap-1",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-1 justify-around text-xs text-gray-500 pr-2",children:[(0,b.jsx)("div",{children:"Lun"}),(0,b.jsx)("div",{className:"opacity-0",children:"Mar"}),(0,b.jsx)("div",{children:"Mer"}),(0,b.jsx)("div",{className:"opacity-0",children:"Jeu"}),(0,b.jsx)("div",{children:"Ven"}),(0,b.jsx)("div",{className:"opacity-0",children:"Sam"}),(0,b.jsx)("div",{className:"opacity-0",children:"Dim"})]}),e.map((a,c)=>(0,b.jsx)("div",{className:"flex flex-col gap-1",children:a.map((a,d)=>(0,b.jsxs)(i.motion.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:(7*c+d)*.01,duration:.3,ease:[.16,1,.3,1]},className:"group relative",children:[(0,b.jsx)("div",{className:`
                      w-3 h-3 rounded-sm transition-all cursor-pointer
                      ${(a=>{if(0===a)return"bg-gray-100";let b=Math.min(a/g,1);return b<.25?"bg-emerald-200":b<.5?"bg-emerald-400":b<.75?"bg-emerald-600":"bg-emerald-700"})(a.count)}
                      hover:ring-2 hover:ring-brand-blue hover:scale-110
                    `,title:`${(0,L.format)(a.date,"dd MMM yyyy",{locale:Q.fr})}: ${a.count} activit\xe9${a.count>1?"s":""}`}),(0,b.jsx)("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10",children:(0,b.jsxs)("div",{className:"bg-gray-900 text-white text-xs rounded-lg px-3 py-2 whitespace-nowrap shadow-xl",children:[(0,b.jsx)("div",{className:"font-semibold",children:(0,L.format)(a.date,"dd MMM yyyy",{locale:Q.fr})}),(0,b.jsxs)("div",{className:"text-gray-300",children:[a.count," activitÃ©",a.count>1?"s":""]}),(0,b.jsx)("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})})]},`${c}-${d}`))},c))]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-2 pl-8",children:[(0,b.jsx)("span",{className:"text-xs text-gray-500",children:"Moins"}),(0,b.jsxs)("div",{className:"flex gap-1",children:[(0,b.jsx)("div",{className:"w-3 h-3 bg-gray-100 rounded-sm"}),(0,b.jsx)("div",{className:"w-3 h-3 bg-emerald-200 rounded-sm"}),(0,b.jsx)("div",{className:"w-3 h-3 bg-emerald-400 rounded-sm"}),(0,b.jsx)("div",{className:"w-3 h-3 bg-emerald-600 rounded-sm"}),(0,b.jsx)("div",{className:"w-3 h-3 bg-emerald-700 rounded-sm"})]}),(0,b.jsx)("span",{className:"text-xs text-gray-500",children:"Plus"})]})]})})}function S({value:a,max:c,label:e,color:f,size:g=120}){let[h,j]=(0,d.useState)(0),k=c>0?Math.min(a/c*100,100):0;(0,d.useEffect)(()=>{let a=setTimeout(()=>j(k),100);return()=>clearTimeout(a)},[k]);let l=2*Math.PI*(g/2-10),m=l-h/100*l;return(0,b.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,b.jsxs)("div",{className:"relative",style:{width:g,height:g},children:[(0,b.jsxs)("svg",{width:g,height:g,className:"transform -rotate-90",children:[(0,b.jsx)("circle",{cx:g/2,cy:g/2,r:g/2-10,fill:"none",stroke:"currentColor",strokeWidth:"8",className:"text-gray-200"}),(0,b.jsx)(i.motion.circle,{cx:g/2,cy:g/2,r:g/2-10,fill:"none",stroke:f,strokeWidth:"8",strokeLinecap:"round",strokeDasharray:l,strokeDashoffset:m,initial:{strokeDashoffset:l},animate:{strokeDashoffset:m},transition:{duration:1.5,ease:[.16,1,.3,1]},style:{filter:`drop-shadow(0 0 8px ${f}40)`}})]}),(0,b.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[(0,b.jsx)(i.motion.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.5,duration:.5,ease:[.16,1,.3,1]},className:"text-2xl font-bold text-gray-900",children:a}),(0,b.jsxs)("div",{className:"text-xs text-gray-500",children:["/ ",c]})]})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-sm font-medium text-gray-700",children:e}),(0,b.jsxs)("div",{className:"text-xs text-gray-500",children:[Math.round(k),"% complÃ©tÃ©"]})]})]})}function T(){let{student:a,studentId:t}=(0,e.useLearnerContext)(),B=(0,d.useMemo)(()=>t?(0,f.createLearnerClient)(t):null,[t]),{data:C,isLoading:E}=(0,c.useQuery)({queryKey:["learner-enrollments",t],queryFn:async()=>{if(!t||!B)return[];try{let{data:a,error:b}=await B.from("enrollments").select(`
          *,
          sessions(
            id,
            name,
            start_date,
            end_date,
            status,
            location,
            formations(
              id,
              name,
              description
            )
          )
        `).eq("student_id",t).order("created_at",{ascending:!1});if(b){if("PGRST116"===b.code||"42P01"===b.code||"PGRST301"===b.code||"400"===b.code||b.message?.includes("relation")||b.message?.includes("relationship")||b.message?.includes("does not exist")||b.message?.includes("schema cache"))return A.logger.warn("Enrollments table may not be accessible (RLS or missing)",{studentId:(0,A.maskId)(t),error:(0,A.sanitizeError)(b)}),[];return A.logger.error("Error fetching enrollments",b,{studentId:(0,A.maskId)(t),error:(0,A.sanitizeError)(b)}),[]}return a||[]}catch(a){return A.logger.error("Unexpected error fetching enrollments",a,{studentId:(0,A.maskId)(t),error:(0,A.sanitizeError)(a)}),[]}},enabled:!!t&&!!B,refetchOnWindowFocus:!0,refetchOnMount:!0}),{data:F,isLoading:G}=(0,c.useQuery)({queryKey:["learner-session-courses",t],queryFn:async()=>{if(!t||!B)return[];try{let{data:a,error:b}=await B.from("session_courses").select(`
            *,
            course:courses(
              id, title, slug, short_description, description,
              difficulty_level, estimated_duration_hours, thumbnail_url, is_published
            )
          `).order("assigned_at",{ascending:!1});if(b){if("PGRST116"===b.code||"42P01"===b.code||b.message?.includes("does not exist"))return[];throw b}return a||[]}catch(a){return A.logger.warn("Error fetching session courses (dashboard)",{studentId:(0,A.maskId)(t),error:(0,A.sanitizeError)(a)}),[]}},enabled:!!t&&!!B,refetchOnWindowFocus:!0,refetchOnMount:!0}),{data:H}=(0,c.useQuery)({queryKey:["learner-lesson-progress",t,F?.map(a=>a.course_id)],queryFn:async()=>{if(!t||!F?.length||!B)return{};let a=(F||[]).map(a=>a.course_id);try{let{data:b,error:c}=await B.from("lesson_progress").select("*, lessons(course_id)").eq("student_id",t);if(c)return A.logger.warn("Error fetching lesson progress (dashboard)",{studentId:(0,A.maskId)(t),error:(0,A.sanitizeError)(c)}),{};let{data:d,error:e}=await B.from("lessons").select("id, course_id").in("course_id",a);if(e)return A.logger.warn("Error fetching lessons (dashboard)",{studentId:(0,A.maskId)(t),error:(0,A.sanitizeError)(e)}),{};let f={};for(let c of a){let a=(d||[]).filter(a=>a.course_id===c),e=(b||[]).filter(a=>a.lessons?.course_id===c&&a.is_completed).length,g=a.length,h=g>0?Math.round(e/g*100):0;f[c]={completed:e,total:g,percentage:h}}return f}catch(a){return A.logger.warn("Error calculating progress (dashboard)",{studentId:(0,A.maskId)(t),error:(0,A.sanitizeError)(a)}),{}}},enabled:!!t&&!!B&&!!F?.length,refetchOnWindowFocus:!0,refetchOnMount:!0}),I=(0,d.useMemo)(()=>(F||[]).map(a=>{let b=H?.[a.course_id]?.percentage||0;return{id:a.id,course_id:a.course_id,courses:a.course,progress_percentage:b,status:100===b?"completed":b>0?"in_progress":"not_started"}}),[F,H]),{data:J}=(0,c.useQuery)({queryKey:["learner-documents",t],queryFn:async()=>{if(!t||!B)return[];let{data:a}=await B.from("documents").select("*").eq("student_id",t).order("created_at",{ascending:!1}).limit(5);return a||[]},enabled:!!t&&!!B,refetchOnWindowFocus:!0,refetchOnMount:!0}),{data:K}=(0,c.useQuery)({queryKey:["learner-certificates",t],queryFn:async()=>{if(!t||!B)return[];let{data:a}=await B.from("course_certificates").select(`
          *,
          courses(title)
        `).eq("student_id",t).order("issued_at",{ascending:!1});return a||[]},enabled:!!t&&!!B,refetchOnWindowFocus:!0,refetchOnMount:!0}),{data:L}=(0,c.useQuery)({queryKey:["learner-attendance",t],queryFn:async()=>{if(!t||!B)return[];try{let{data:a,error:b}=await B.from("attendance").select(`
            *,
            sessions(
              id,
              start_time,
              end_time,
              start_date,
              end_date
            )
          `).eq("student_id",t).eq("status","present").order("date",{ascending:!1});if(b)return A.logger.warn("Error fetching attendance",{studentId:(0,A.maskId)(t),error:(0,A.sanitizeError)(b)}),[];let c=[...new Set((a||[]).map(a=>a.session_id).filter(Boolean))];if(0===c.length)return a||[];let{data:d,error:e}=await B.from("session_slots").select("*").in("session_id",c).order("date",{ascending:!0}).order("start_time",{ascending:!0});if(e)return A.logger.warn("Error fetching session_slots",{studentId:(0,A.maskId)(t),error:(0,A.sanitizeError)(e)}),a||[];return(a||[]).map(a=>{let b=a.session_id,c=a.date,e=(d||[]).filter(a=>a.session_id===b&&a.date===c);return{...a,sessions:a.sessions?{...a.sessions,session_slots:e}:null}})}catch(a){return A.logger.warn("Unexpected error fetching attendance",{studentId:(0,A.maskId)(t),error:(0,A.sanitizeError)(a)}),[]}},enabled:!!t&&!!B,refetchOnWindowFocus:!0,refetchOnMount:!0}),M=(0,d.useMemo)(()=>{let a=(C||[]).filter(a=>{let b=a.sessions?.status,c=a.sessions?.end_date;return!!("completed"===b||c&&new Date(c)<new Date&&"cancelled"!==b)}).length,b=(C||[]).filter(a=>{let b=a.sessions?.status,c=a.sessions?.start_date,d=a.sessions?.end_date;if("cancelled"===b)return!1;if(c&&d){let a=new Date,b=new Date(c),e=new Date(d);return a>=b&&a<=e}return"confirmed"===b||"in_progress"===b}).length,c=0;L&&L.length>0&&(A.logger.info("Calculating attendance hours",{studentId:t?(0,A.maskId)(t):void 0,recordCount:L.length}),L.forEach(a=>{let b=a.sessions,d=a.date;if(b?.session_slots&&Array.isArray(b.session_slots)&&b.session_slots.length>0)b.session_slots.forEach(a=>{if(a.start_time&&a.end_time&&a.date)try{let b=5===a.start_time.length?`${a.start_time}:00`:a.start_time,d=5===a.end_time.length?`${a.end_time}:00`:a.end_time,e=new Date(`${a.date}T${b}`),f=new Date(`${a.date}T${d}`);if(!isNaN(e.getTime())&&!isNaN(f.getTime())){let a=(f.getTime()-e.getTime())/36e5;a>0&&a<24&&(c+=a)}}catch(b){A.logger.warn("Error calculating hours from slot",{studentId:t?(0,A.maskId)(t):void 0,slotId:a?.id?(0,A.maskId)(a.id):void 0,error:(0,A.sanitizeError)(b)})}});else if(b?.start_time&&b?.end_time)try{let a=5===b.start_time.length?`${b.start_time}:00`:b.start_time,e=5===b.end_time.length?`${b.end_time}:00`:b.end_time,f=new Date(`${d}T${a}`),g=new Date(`${d}T${e}`);if(!isNaN(f.getTime())&&!isNaN(g.getTime())){let a=(g.getTime()-f.getTime())/36e5;a>0&&a<24&&(c+=a)}}catch(a){A.logger.warn("Error calculating hours from session times",{studentId:t?(0,A.maskId)(t):void 0,sessionId:b?.id?(0,A.maskId)(b.id):void 0,error:(0,A.sanitizeError)(a)})}else A.logger.warn("No time information available for attendance",{studentId:t?(0,A.maskId)(t):void 0,attendanceId:a?.id?(0,A.maskId)(a.id):void 0})}));let d=0,e=I?.filter(a=>"completed"===a.status)||[];e.forEach(a=>{let b=a.courses;b?.estimated_duration_hours&&(d+=b.estimated_duration_hours)});let f=Math.round((c+d)*10)/10;return A.logger.info("Hours calculation completed",{studentId:t?(0,A.maskId)(t):void 0,attendanceHours:Math.round(10*c)/10,elearningHours:Math.round(10*d)/10,totalHours:f,attendanceRecordsCount:L?.length||0,completedCoursesCount:e.length}),{totalEnrollments:C?.length||0,completedSessions:a,ongoingSessions:b,totalCourses:I?.length||0,completedCourses:e.length,certificates:K?.length||0,totalHours:f}},[C,I,K,L]),O=C?.filter(a=>{let b=a.sessions;return!!b?.start_date&&new Date(b.start_date)>new Date&&"cancelled"!==b.status}).slice(0,3)||[],P=I?.filter(a=>"in_progress"===a.status).slice(0,3)||[],Q={hidden:{opacity:0,y:30,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.6,ease:[.16,1,.3,1]}}},T={y:[-10,10,-10],transition:{duration:6,repeat:1/0,ease:"easeInOut"}};return(0,b.jsxs)(i.motion.div,{className:"space-y-8 pb-24 lg:pb-8",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08,delayChildren:.1}}},initial:"hidden",animate:"visible",children:[(0,b.jsxs)(i.motion.div,{variants:Q,className:"relative overflow-hidden",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-brand-blue via-indigo-600 to-purple-700 opacity-90"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-white/10 via-transparent to-transparent"}),(0,b.jsx)(i.motion.div,{animate:T,className:"absolute top-10 right-10 w-32 h-32 bg-white/5 rounded-full blur-3xl"}),(0,b.jsx)(i.motion.div,{animate:{...T,transition:{...T.transition,delay:1}},className:"absolute bottom-10 left-10 w-40 h-40 bg-purple-400/10 rounded-full blur-3xl"}),(0,b.jsx)("div",{className:"relative z-10 p-8 md:p-12",children:(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)(i.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3,duration:.6},className:"flex items-center gap-2 mb-3",children:[(0,b.jsx)(w.Sparkles,{className:"h-5 w-5 text-yellow-300"}),(0,b.jsx)("span",{className:"text-sm font-semibold text-yellow-200 uppercase tracking-wider",children:"Bienvenue sur votre espace"})]}),(0,b.jsxs)(i.motion.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},className:"text-3xl md:text-5xl font-bold text-white mb-3",children:["Bonjour, ",a?.first_name||"Apprenant"," ğŸ‘‹"]}),(0,b.jsx)(i.motion.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},className:"text-lg text-white/80 max-w-2xl",children:"PrÃªt Ã  continuer votre parcours d'excellence ? DÃ©couvrez vos formations et suivez votre progression."})]}),(0,b.jsxs)(i.motion.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.6,duration:.6},className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("div",{className:"text-4xl font-bold text-white",children:[M.totalHours,"h"]}),(0,b.jsx)("div",{className:"text-sm text-white/70",children:"Temps de formation"})]}),(0,b.jsx)("div",{className:"w-px h-16 bg-white/20"}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("div",{className:"text-4xl font-bold text-white",children:M.certificates}),(0,b.jsx)("div",{className:"text-sm text-white/70",children:"Certificats"})]})]})]})})]}),(0,b.jsx)(i.motion.div,{variants:Q,children:(0,b.jsx)(D,{})}),(0,b.jsx)(i.motion.div,{variants:Q,className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6",children:[{label:"Sessions inscrites",value:M.totalEnrollments,subtitle:`${M.completedSessions} termin\xe9e${M.completedSessions>1?"s":""}`,icon:j.GraduationCap,gradient:"from-blue-500 to-indigo-600",iconBg:"bg-blue-100",iconColor:"text-blue-600"},{label:"Cours e-learning",value:M.totalCourses,subtitle:`${M.completedCourses} compl\xe9t\xe9${M.completedCourses>1?"s":""}`,icon:k.PlayCircle,gradient:"from-purple-500 to-pink-600",iconBg:"bg-purple-100",iconColor:"text-purple-600"},{label:"Heures de formation",value:`${M.totalHours}h`,subtitle:"Temps total",icon:l.Clock,gradient:"from-emerald-500 to-teal-600",iconBg:"bg-emerald-100",iconColor:"text-emerald-600"},{label:"Certificats",value:M.certificates,subtitle:"DiplÃ´mes obtenus",icon:n.Award,gradient:"from-amber-500 to-orange-600",iconBg:"bg-amber-100",iconColor:"text-amber-600"}].map((a,c)=>(0,b.jsx)(i.motion.div,{whileHover:{y:-8,scale:1.02},whileTap:{scale:.98},transition:{duration:.3,ease:[.16,1,.3,1]},children:(0,b.jsxs)(g.GlassCard,{className:"relative p-6 overflow-hidden group cursor-pointer",children:[(0,b.jsx)("div",{className:`absolute inset-0 bg-gradient-to-br ${a.gradient} opacity-0 group-hover:opacity-5 transition-opacity duration-500`}),(0,b.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl opacity-0 group-hover:opacity-20 blur-xl transition-opacity duration-500"}),(0,b.jsxs)("div",{className:"relative z-10",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsx)("div",{className:`p-3 ${a.iconBg} rounded-xl group-hover:scale-110 transition-transform duration-300`,children:(0,b.jsx)(a.icon,{className:`h-6 w-6 ${a.iconColor}`})}),(0,b.jsx)(o.TrendingUp,{className:"h-4 w-4 text-green-500 opacity-0 group-hover:opacity-100 transition-opacity"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:a.label}),(0,b.jsx)(i.motion.p,{className:"text-3xl font-bold text-gray-900",initial:{scale:1},whileHover:{scale:1.1},transition:{duration:.2},children:a.value}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:a.subtitle})]})]})]})},a.label))}),(0,b.jsx)(i.motion.div,{variants:Q,children:(0,b.jsxs)(g.GlassCard,{className:"p-6 md:p-8",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,b.jsx)("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl",children:(0,b.jsx)(o.TrendingUp,{className:"h-5 w-5 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Votre progression"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"ActivitÃ© des 14 derniers jours"})]})]}),(0,b.jsx)(N,{})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsx)(i.motion.div,{variants:Q,children:(0,b.jsxs)(g.GlassCard,{className:"p-6 md:p-8",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,b.jsx)("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl",children:(0,b.jsx)(s.Target,{className:"h-5 w-5 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Objectifs"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Votre avancement"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-6 mt-8",children:[(0,b.jsx)(S,{value:M.completedSessions,max:M.totalEnrollments,label:"Sessions",color:"#3b82f6"}),(0,b.jsx)(S,{value:M.completedCourses,max:M.totalCourses,label:"Cours",color:"#a855f7"})]})]})}),(0,b.jsx)(i.motion.div,{variants:Q,children:(0,b.jsxs)(g.GlassCard,{className:"p-6 md:p-8",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,b.jsx)("div",{className:"p-2 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-xl",children:(0,b.jsx)(u,{className:"h-5 w-5 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"ActivitÃ©"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Heatmap de vos 12 derniÃ¨res semaines"})]})]}),(0,b.jsx)("div",{className:"mt-6",children:(0,b.jsx)(R,{weeks:12})})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsx)(i.motion.div,{variants:Q,children:(0,b.jsxs)(g.GlassCard,{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-gradient-to-br from-brand-blue to-indigo-600 rounded-xl",children:(0,b.jsx)(m.Calendar,{className:"h-5 w-5 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg font-bold text-gray-900",children:"Sessions Ã  venir"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Vos prochaines formations"})]})]}),(0,b.jsxs)(y.default,{href:"/learner/formations",className:"text-sm text-brand-blue hover:underline flex items-center group",children:["Voir tout ",(0,b.jsx)(v.ChevronRight,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform"})]})]}),O.length>0?(0,b.jsx)("div",{className:"space-y-3",children:O.map((a,c)=>{let d=a.sessions,e=d?.formations;return(0,b.jsx)(i.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*c},children:(0,b.jsx)(y.default,{href:`/learner/formations/${d?.id}`,children:(0,b.jsx)(i.motion.div,{whileHover:{x:4,backgroundColor:"rgba(249, 250, 251, 0.8)"},className:"p-4 bg-gray-50/50 rounded-xl transition-all group cursor-pointer border border-transparent hover:border-brand-blue/20",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900 group-hover:text-brand-blue transition-colors",children:e?.name||d?.name||"Session"}),(0,b.jsx)("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500",children:(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(m.Calendar,{className:"h-4 w-4"}),d?.start_date?(0,z.formatDate)(d.start_date):"Date Ã  dÃ©finir"]})}),d?.location&&(0,b.jsxs)("p",{className:"text-sm text-gray-500 mt-1 flex items-center gap-1",children:[(0,b.jsx)("span",{children:"ğŸ“"})," ",d.location]})]}),(0,b.jsx)(p.ArrowRight,{className:"h-5 w-5 text-gray-400 group-hover:text-brand-blue group-hover:translate-x-1 transition-all"})]})})})},a.id)})}):(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(m.Calendar,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-gray-500 mb-4",children:"Aucune session Ã  venir"}),(0,b.jsx)(y.default,{href:"/learner/formations",children:(0,b.jsx)(h.Button,{variant:"outline",size:"sm",children:"DÃ©couvrir les formations"})})]})]})}),(0,b.jsx)(i.motion.div,{variants:Q,children:(0,b.jsxs)(g.GlassCard,{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl",children:(0,b.jsx)(k.PlayCircle,{className:"h-5 w-5 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg font-bold text-gray-900",children:"Continuer l'apprentissage"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Vos cours en cours"})]})]}),(0,b.jsxs)(y.default,{href:"/learner/elearning",className:"text-sm text-brand-blue hover:underline flex items-center group",children:["Voir tout ",(0,b.jsx)(v.ChevronRight,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform"})]})]}),P.length>0?(0,b.jsx)("div",{className:"space-y-3",children:P.map((a,c)=>{let d=a.courses,e=a.progress_percentage||0,f=d?.slug?`/learner/elearning/${d.slug}`:"/learner/elearning";return(0,b.jsx)(i.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*c},children:(0,b.jsx)(y.default,{href:f,children:(0,b.jsx)(i.motion.div,{whileHover:{x:4,backgroundColor:"rgba(249, 250, 251, 0.8)"},className:"p-4 bg-gray-50/50 rounded-xl transition-all group cursor-pointer border border-transparent hover:border-purple-500/20",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[d?.thumbnail_url?(0,b.jsx)(i.motion.img,{whileHover:{scale:1.05},src:d.thumbnail_url,alt:d.title,className:"w-16 h-16 rounded-lg object-cover"}):(0,b.jsx)("div",{className:"w-16 h-16 rounded-lg bg-gradient-to-br from-brand-blue to-indigo-600 flex items-center justify-center group-hover:scale-105 transition-transform",children:(0,b.jsx)(q.BookOpen,{className:"h-8 w-8 text-white"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900 truncate group-hover:text-brand-blue transition-colors",children:d?.title||"Cours"}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,b.jsx)("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,b.jsx)(i.motion.div,{initial:{width:0},animate:{width:`${e}%`},transition:{duration:1,ease:[.16,1,.3,1]},className:"h-full bg-gradient-to-r from-brand-blue to-indigo-500 rounded-full",style:{boxShadow:"0 0 10px rgba(59, 130, 246, 0.5)"}})}),(0,b.jsxs)("span",{className:"text-sm font-medium text-gray-600",children:[e,"%"]})]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Cours e-learning"})]})]})})})},a.id)})}):(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(k.PlayCircle,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-gray-500 mb-4",children:"Aucun cours en cours"}),(0,b.jsx)(y.default,{href:"/learner/elearning",children:(0,b.jsx)(h.Button,{variant:"outline",size:"sm",children:"Explorer les cours"})})]})]})})]}),(0,b.jsx)(i.motion.div,{variants:Q,children:(0,b.jsxs)(g.GlassCard,{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-xl",children:(0,b.jsx)(r.FileText,{className:"h-5 w-5 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg font-bold text-gray-900",children:"Documents rÃ©cents"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Vos derniers documents"})]})]}),(0,b.jsxs)(y.default,{href:"/learner/documents",className:"text-sm text-brand-blue hover:underline flex items-center group",children:["Voir tout ",(0,b.jsx)(v.ChevronRight,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform"})]})]}),J&&J.length>0?(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:J.map((a,c)=>(0,b.jsx)(i.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*c},whileHover:{y:-4,scale:1.02},className:"p-4 bg-gray-50/50 rounded-xl hover:bg-gray-100/50 transition-all cursor-pointer border border-transparent hover:border-emerald-500/20",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`p-2 rounded-lg ${"certificate"===a.type?"bg-amber-100":"convocation"===a.type?"bg-blue-100":"bg-gray-100"}`,children:"certificate"===a.type?(0,b.jsx)(n.Award,{className:"h-5 w-5 text-amber-600"}):(0,b.jsx)(r.FileText,{className:"h-5 w-5 text-gray-600"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"font-medium text-gray-900 truncate",children:a.name}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:a.created_at&&(0,z.formatDate)(a.created_at)})]})]})},a.id))}):(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(r.FileText,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-gray-500",children:"Aucun document disponible"})]})]})}),(0,b.jsx)(i.motion.div,{variants:Q,children:(0,b.jsxs)("div",{className:"relative overflow-hidden rounded-2xl",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-600"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-[url('/patterns/dots.svg')] opacity-10"}),(0,b.jsx)(i.motion.div,{animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute top-0 right-0 w-64 h-64 bg-white/20 rounded-full blur-3xl"}),(0,b.jsx)(i.motion.div,{animate:{scale:[1.2,1,1.2],opacity:[.5,.3,.5]},transition:{duration:4,repeat:1/0,ease:"easeInOut",delay:2},className:"absolute bottom-0 left-0 w-72 h-72 bg-pink-400/20 rounded-full blur-3xl"}),(0,b.jsx)("div",{className:"relative z-10 p-8 md:p-12",children:(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,b.jsx)(x,{className:"h-6 w-6 text-yellow-300"}),(0,b.jsx)("span",{className:"text-sm font-semibold text-yellow-200 uppercase tracking-wider",children:"Continuez comme Ã§a !"})]}),(0,b.jsx)("h3",{className:"text-3xl md:text-4xl font-bold text-white mb-3",children:"Vous Ãªtes sur la bonne voie ğŸ‰"}),(0,b.jsxs)("p",{className:"text-lg text-white/80 max-w-2xl",children:["Vous avez complÃ©tÃ© ",M.completedSessions+M.completedCourses," formations. Chaque pas vous rapproche de vos objectifs !"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-6",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsxs)(i.motion.div,{className:"text-5xl font-bold text-white mb-1",whileHover:{scale:1.1},children:[M.totalHours,"h"]}),(0,b.jsx)("p",{className:"text-sm text-white/70",children:"heures formÃ©"})]}),(0,b.jsx)("div",{className:"w-px h-16 bg-white/20"}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(i.motion.div,{className:"text-5xl font-bold text-white mb-1",whileHover:{scale:1.1},children:M.certificates}),(0,b.jsx)("p",{className:"text-sm text-white/70",children:"certificats"})]})]})]})})]})})]})}a.s(["default",()=>T],638509)}];

//# sourceMappingURL=app_%28learner%29_learner_page_tsx_330f7095._.js.map