{"version":3,"sources":["../../../../node_modules/lucide-react/src/icons/plus.ts","../../../../node_modules/lucide-react/src/icons/arrow-left.ts","../../../../node_modules/lucide-react/src/icons/clock.ts","../../../../node_modules/lucide-react/src/icons/check-circle.ts","../../../../node_modules/lucide-react/src/icons/x-circle.ts","../../../../node_modules/lucide-react/src/icons/receipt.ts","../../../../lib/utils/document-generation/variable-extractor.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Plus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJNMTIgNXYxNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Plus = createLucideIcon('Plus', [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'M12 5v14', key: 's699le' }],\n]);\n\nexport default Plus;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ArrowLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTIgMTktNy03IDctNyIgLz4KICA8cGF0aCBkPSJNMTkgMTJINSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/arrow-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowLeft = createLucideIcon('ArrowLeft', [\n  ['path', { d: 'm12 19-7-7 7-7', key: '1l729n' }],\n  ['path', { d: 'M19 12H5', key: 'x3x0zl' }],\n]);\n\nexport default ArrowLeft;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Clock\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cG9seWxpbmUgcG9pbnRzPSIxMiA2IDEyIDEyIDE2IDE0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/clock\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Clock = createLucideIcon('Clock', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['polyline', { points: '12 6 12 12 16 14', key: '68esgv' }],\n]);\n\nexport default Clock;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name CheckCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjIgMTEuMDhWMTJhMTAgMTAgMCAxIDEtNS45My05LjE0IiAvPgogIDxwYXRoIGQ9Im05IDExIDMgM0wyMiA0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/check-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CheckCircle = createLucideIcon('CheckCircle', [\n  ['path', { d: 'M22 11.08V12a10 10 0 1 1-5.93-9.14', key: 'g774vq' }],\n  ['path', { d: 'm9 11 3 3L22 4', key: '1pflzl' }],\n]);\n\nexport default CheckCircle;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name XCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJtMTUgOS02IDYiIC8+CiAgPHBhdGggZD0ibTkgOSA2IDYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/x-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst XCircle = createLucideIcon('XCircle', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'm15 9-6 6', key: '1uzhvr' }],\n  ['path', { d: 'm9 9 6 6', key: 'z0biqf' }],\n]);\n\nexport default XCircle;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Receipt\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNCAydjIwbDItMSAyIDEgMi0xIDIgMSAyLTEgMiAxIDItMSAyIDFWMmwtMiAxLTItMS0yIDEtMi0xLTIgMS0yLTEtMiAxLTItMVoiIC8+CiAgPHBhdGggZD0iTTE2IDhoLTZhMiAyIDAgMSAwIDAgNGg0YTIgMiAwIDEgMSAwIDRIOCIgLz4KICA8cGF0aCBkPSJNMTIgMTdWNyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/receipt\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Receipt = createLucideIcon('Receipt', [\n  [\n    'path',\n    {\n      d: 'M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z',\n      key: 'wqdwcb',\n    },\n  ],\n  ['path', { d: 'M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8', key: '1h4pet' }],\n  ['path', { d: 'M12 17V7', key: 'pyj7ub' }],\n]);\n\nexport default Receipt;\n","/**\n * Extrait les variables pour la génération de documents\n */\n\nimport type { DocumentVariables } from '@/lib/types/document-templates'\nimport type { StudentWithRelations, SessionWithRelations, InvoiceWithRelations } from '@/lib/types/query-types'\nimport type { TableRow } from '@/lib/types/supabase-helpers'\n\ntype Organization = TableRow<'organizations'>\ntype Student = TableRow<'students'>\ntype Session = TableRow<'sessions'>\ntype Invoice = TableRow<'invoices'>\n\ntype Program = TableRow<'programs'>\n\nexport interface ExtractVariablesOptions {\n  student?: StudentWithRelations | Student\n  organization?: Organization\n  session?: SessionWithRelations | Session\n  invoice?: InvoiceWithRelations | Invoice\n  program?: Program & { formations?: Array<{ id: string; name: string; duration_hours?: number }> }\n  academicYear?: { name: string } | null\n  language?: 'fr' | 'en'\n  issueDate?: string\n}\n\n/**\n * Extrait les variables de document depuis les données fournies\n */\nexport function extractDocumentVariables(options: ExtractVariablesOptions): DocumentVariables {\n  const {\n    student,\n    organization,\n    session,\n    invoice,\n    program,\n    academicYear,\n    language = 'fr',\n    issueDate = new Date().toISOString(),\n  } = options\n\n  const variables: any = {\n    // Date actuelle\n    date_emission: new Date().toLocaleDateString('fr-FR'),\n    date_aujourd_hui: new Date().toLocaleDateString('fr-FR'),\n    date_jour: new Date().toLocaleDateString('fr-FR'),\n    annee_courante: new Date().getFullYear().toString(),\n    annee_actuelle: new Date().getFullYear().toString(),\n    date_generation: new Date().toLocaleDateString('fr-FR'),\n    heure: new Date().toLocaleTimeString('fr-FR', { hour: '2-digit', minute: '2-digit' }),\n\n    // Organisation/École (utiliser les deux formats pour compatibilité)\n    // Format standard (ecole_*)\n    ecole_nom: organization?.name || '',\n    ecole_logo: organization?.logo_url || '',\n    ecole_adresse: organization?.address || '',\n    ecole_ville: (organization?.address || '').split(',').pop()?.trim() || '',\n    ecole_telephone: organization?.phone || '',\n    ecole_email: organization?.email || '',\n    ecole_site_web: (organization as any)?.website || '',\n    ecole_code_postal: (organization?.address || '').match(/\\d{5}/)?.[0] || '',\n    \n    // Format alternatif (organisation_*) pour compatibilité avec anciens templates\n    organisation_nom: organization?.name || '',\n    organisation_adresse: organization?.address || '',\n    organisation_telephone: organization?.phone || '',\n    organisation_email: organization?.email || '',\n    organisation_logo: organization?.logo_url || '',\n    organisation_site_web: (organization as any)?.website || '',\n\n    // Étudiant/Élève (utiliser les deux formats pour compatibilité)\n    // Format standard (eleve_*)\n    eleve_nom: student?.last_name || '',\n    eleve_prenom: student?.first_name || '',\n    eleve_numero: student?.student_number || '',\n    eleve_date_naissance: student?.date_of_birth\n      ? new Date(student.date_of_birth).toLocaleDateString('fr-FR')\n      : '',\n    eleve_classe: ((student as StudentWithRelations) as any)?.classes\n      ? (((student as StudentWithRelations) as any).classes as { name: string }).name\n      : '',\n    eleve_photo: (student as any)?.photo_url || '',\n    eleve_adresse: (student as any)?.address || '',\n    eleve_telephone: (student as any)?.phone || '',\n    eleve_email: (student as any)?.email || '',\n    \n    // Format alternatif (etudiant_*) pour compatibilité\n    etudiant_nom: student?.last_name || '',\n    etudiant_prenom: student?.first_name || '',\n    etudiant_nom_complet: student\n      ? `${student.first_name} ${student.last_name}`\n      : '',\n    etudiant_numero: student?.student_number || '',\n    etudiant_date_naissance: student?.date_of_birth\n      ? new Date(student.date_of_birth).toLocaleDateString('fr-FR')\n      : '',\n    etudiant_adresse: (student as any)?.address || '',\n    etudiant_telephone: (student as any)?.phone || '',\n    etudiant_email: (student as any)?.email || '',\n    etudiant_photo: (student as any)?.photo_url || '',\n\n    // Classe\n    classe_nom: ((student as StudentWithRelations) as any)?.classes\n      ? (((student as StudentWithRelations) as any).classes as { name: string }).name\n      : '',\n\n    // Année académique\n    annee_academique: academicYear?.name || new Date().getFullYear().toString(),\n    annee_scolaire: academicYear?.name || new Date().getFullYear().toString(),\n\n    // Session/Formation\n    session_nom: session?.name || '',\n    session_debut: session?.start_date\n      ? new Date(session.start_date).toLocaleDateString('fr-FR')\n      : '',\n    session_fin: session?.end_date\n      ? new Date(session.end_date).toLocaleDateString('fr-FR')\n      : '',\n    session_date_debut: session?.start_date\n      ? new Date(session.start_date).toLocaleDateString('fr-FR')\n      : '',\n    session_date_fin: session?.end_date\n      ? new Date(session.end_date).toLocaleDateString('fr-FR')\n      : '',\n    formation_nom: (session as SessionWithRelations)?.formations?.name || '',\n    formation_duree: (session as SessionWithRelations)?.formations?.duration_hours\n      ? `${(session as SessionWithRelations).formations?.duration_hours} heures`\n      : '',\n    formation_objectifs: ((session as SessionWithRelations)?.formations as any)?.objectives || (program as any)?.objectives || '',\n    formation_public_concerne: ((session as SessionWithRelations)?.formations as any)?.target_audience || (program as any)?.target_audience || '',\n    formation_prerequis: ((session as SessionWithRelations)?.formations as any)?.prerequisites || (program as any)?.prerequisites || '',\n    formation_qualite_et_resultats: ((session as SessionWithRelations)?.formations as any)?.quality_indicators || (program as any)?.quality_indicators || '',\n    formation_contenu: ((session as SessionWithRelations)?.formations as any)?.content || (program as any)?.content || '',\n    formation_equipe_pedagogique: ((session as SessionWithRelations)?.formations as any)?.pedagogical_team || (program as any)?.pedagogical_team || '',\n    formation_ressources: ((session as SessionWithRelations)?.formations as any)?.resources || (program as any)?.resources || '',\n    formation_supports: ((session as SessionWithRelations)?.formations as any)?.materials || (program as any)?.materials || '',\n    session_lieu: (session as any)?.location || (session as any)?.venue || '',\n    session_effectif: (session as any)?.enrollment_count?.toString() || (session as any)?.student_count?.toString() || '',\n    diplome_ou_certification: ((session as SessionWithRelations)?.formations as any)?.certification || (program as any)?.certification || '',\n    ecole_region: (organization as any)?.region || (organization as any)?.administrative_region || '',\n    // Programme\n    programme_nom: program?.name || (session as SessionWithRelations)?.formations?.programs?.name || '',\n    programme_code: (program as any)?.code || '',\n    programme_description: (program as any)?.description || '',\n    programme_objectifs: (program as any)?.objectives || '',\n    programme_duree_totale: program?.formations\n      ? `${program.formations.reduce((total, f) => total + (f.duration_hours || 0), 0)} heures`\n      : '',\n    programme_nombre_formations: program?.formations ? `${program.formations.length}` : '',\n    programme_nombre_sessions: '', // À calculer si nécessaire\n    programme_public_concerne: (program as any)?.target_audience || '',\n    programme_modalites: (program as any)?.modalities || '',\n    programme_certification: (program as any)?.certification || '',\n\n    // Facture\n    numero_facture: invoice?.invoice_number || '',\n    facture_numero: invoice?.invoice_number || '',\n    facture_date_emission: invoice?.issue_date\n      ? new Date(invoice.issue_date).toLocaleDateString('fr-FR')\n      : '',\n    facture_date_echeance: invoice?.due_date\n      ? new Date(invoice.due_date).toLocaleDateString('fr-FR')\n      : '',\n    date_echeance: invoice?.due_date\n      ? new Date(invoice.due_date).toLocaleDateString('fr-FR')\n      : '',\n    montant: invoice?.amount ? Number(invoice.amount).toFixed(2) : '0.00',\n    montant_ht: invoice?.amount ? Number(invoice.amount).toFixed(2) : '0.00',\n    montant_ttc: invoice?.total_amount\n      ? Number(invoice.total_amount).toFixed(2)\n      : '0.00',\n    tva: invoice?.tax_amount\n      ? Number(invoice.tax_amount).toFixed(2)\n      : '0.00',\n    taux_tva: invoice?.tax_amount && invoice?.amount\n      ? ((Number(invoice.tax_amount) / Number(invoice.amount)) * 100).toFixed(2)\n      : '0.00',\n    facture_montant: invoice?.amount ? Number(invoice.amount).toFixed(2) : '0.00',\n    facture_tva: invoice?.tax_amount\n      ? Number(invoice.tax_amount).toFixed(2)\n      : '0.00',\n    facture_total: invoice?.total_amount\n      ? Number(invoice.total_amount).toFixed(2)\n      : '0.00',\n    facture_devise: invoice?.currency || 'EUR',\n    facture_items: invoice?.items\n      ? JSON.stringify(invoice.items)\n      : '[]',\n\n    // Variables supplémentaires pour factures\n    montant_lettres: invoice?.total_amount\n      ? convertNumberToWords(Number(invoice.total_amount), language)\n      : '',\n    mode_paiement: (invoice as any)?.payment_method || '',\n    date_paiement: (invoice as any)?.paid_at\n      ? new Date((invoice as any).paid_at).toLocaleDateString('fr-FR')\n      : '',\n    ecole_siret: (organization as any)?.siret || '',\n    ecole_numero_declaration: (organization as any)?.declaration_number || '',\n    ecole_representant: (organization as any)?.representative_name || '',\n\n    // Langue\n    langue: language,\n  }\n\n  return variables\n}\n\n/**\n * Convertit un nombre en lettres (français)\n */\nfunction convertNumberToWords(num: number, language: 'fr' | 'en' = 'fr'): string {\n  if (language === 'en') {\n    return convertNumberToWordsEN(num)\n  }\n  return convertNumberToWordsFR(num)\n}\n\n/**\n * Convertit un nombre en lettres en français\n */\nfunction convertNumberToWordsFR(num: number): string {\n  if (num === 0) return 'zéro euro'\n  if (num < 0) return 'moins ' + convertNumberToWordsFR(-num)\n  \n  const integerPart = Math.floor(num)\n  const decimalPart = Math.round((num - integerPart) * 100)\n  \n  let result = convertIntegerToWordsFR(integerPart)\n  \n  if (decimalPart > 0) {\n    result += ' virgule ' + convertIntegerToWordsFR(decimalPart)\n  }\n  \n  return result + (integerPart > 1 ? ' euros' : ' euro')\n}\n\nfunction convertIntegerToWordsFR(num: number): string {\n  if (num === 0) return ''\n  if (num < 10) {\n    const units = ['', 'un', 'deux', 'trois', 'quatre', 'cinq', 'six', 'sept', 'huit', 'neuf']\n    return units[num]\n  }\n  if (num < 20) {\n    const teens = ['dix', 'onze', 'douze', 'treize', 'quatorze', 'quinze', 'seize', 'dix-sept', 'dix-huit', 'dix-neuf']\n    return teens[num - 10]\n  }\n  if (num < 100) {\n    const tens = ['', '', 'vingt', 'trente', 'quarante', 'cinquante', 'soixante', 'soixante', 'quatre-vingt', 'quatre-vingt']\n    const ten = Math.floor(num / 10)\n    const unit = num % 10\n    let result = tens[ten]\n    if (ten === 7 || ten === 9) {\n      result += '-' + (unit === 1 ? 'et-' : '') + convertIntegerToWordsFR(10 + unit)\n    } else if (unit > 0) {\n      result += (unit === 1 && ten !== 8 ? '-et-' : '-') + convertIntegerToWordsFR(unit)\n    } else if (ten === 8) {\n      result += 's'\n    }\n    return result\n  }\n  if (num < 1000) {\n    const hundred = Math.floor(num / 100)\n    const remainder = num % 100\n    let result = hundred === 1 ? 'cent' : convertIntegerToWordsFR(hundred) + '-cent'\n    if (remainder > 0) {\n      result += '-' + convertIntegerToWordsFR(remainder)\n    } else if (hundred > 1) {\n      result += 's'\n    }\n    return result\n  }\n  if (num < 1000000) {\n    const thousand = Math.floor(num / 1000)\n    const remainder = num % 1000\n    let result = thousand === 1 ? 'mille' : convertIntegerToWordsFR(thousand) + '-mille'\n    if (remainder > 0) {\n      result += '-' + convertIntegerToWordsFR(remainder)\n    }\n    return result\n  }\n  // Pour les nombres plus grands, on simplifie\n  return num.toString()\n}\n\nfunction convertNumberToWordsEN(num: number): string {\n  // Implémentation simplifiée en anglais\n  return num.toFixed(2) + ' euros'\n}\n\n/**\n * Mappe les anciens types de documents vers les nouveaux types\n */\nexport function mapDocumentTypeToTemplateType(\n  oldType: string\n): string {\n  const mapping: Record<string, string> = {\n    // Mapping vers les valeurs valides de l'enum document_type\n    attestation: 'attestation_reussite', // Utilise attestation_reussite (peut être changé selon le contexte)\n    certificate: 'certificat_scolarite',\n    invoice: 'facture',\n    receipt: 'facture', // Les reçus utilisent le même type que les factures\n    transcript: 'releve_notes',\n    report_card: 'releve_notes',\n    convocation: 'convocation',\n    contract: 'contrat',\n  }\n\n  return mapping[oldType] || oldType\n}\n\n"],"names":[],"mappings":"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","ignoreList":[0,1,2,3,4,5]}