module.exports=[193695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},994367,a=>{a.n(a.i(216893))},70864,a=>{a.n(a.i(233290))},565897,a=>{a.n(a.i(396647))},102894,a=>{a.n(a.i(666188))},13718,a=>{a.n(a.i(685523))},118198,a=>{a.n(a.i(545518))},508899,a=>{"use strict";a.s(["CatalogStyles",()=>b]);let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call CatalogStyles() from the server but CatalogStyles is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/public/catalog-styles.tsx <module evaluation>","CatalogStyles")},820760,a=>{"use strict";a.s(["CatalogStyles",()=>b]);let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call CatalogStyles() from the server but CatalogStyles is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/public/catalog-styles.tsx","CatalogStyles")},186802,a=>{"use strict";a.i(508899);var b=a.i(820760);a.n(b)},566760,a=>{"use strict";a.s(["PublicProgramsList",()=>b]);let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call PublicProgramsList() from the server but PublicProgramsList is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/public/programs-list.tsx <module evaluation>","PublicProgramsList")},710352,a=>{"use strict";a.s(["PublicProgramsList",()=>b]);let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call PublicProgramsList() from the server but PublicProgramsList is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/public/programs-list.tsx","PublicProgramsList")},911973,a=>{"use strict";a.i(566760);var b=a.i(710352);a.n(b)},863178,a=>{"use strict";a.s(["CatalogNavbar",()=>b]);let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call CatalogNavbar() from the server but CatalogNavbar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/public/catalog-navbar.tsx <module evaluation>","CatalogNavbar")},151394,a=>{"use strict";a.s(["CatalogNavbar",()=>b]);let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call CatalogNavbar() from the server but CatalogNavbar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/public/catalog-navbar.tsx","CatalogNavbar")},56198,a=>{"use strict";a.i(863178);var b=a.i(151394);a.n(b)},691360,a=>{"use strict";a.s(["CatalogFooter",()=>b]);let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call CatalogFooter() from the server but CatalogFooter is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/public/catalog-footer.tsx <module evaluation>","CatalogFooter")},297532,a=>{"use strict";a.s(["CatalogFooter",()=>b]);let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call CatalogFooter() from the server but CatalogFooter is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/public/catalog-footer.tsx","CatalogFooter")},238756,a=>{"use strict";a.i(691360);var b=a.i(297532);a.n(b)},333343,a=>{"use strict";a.s(["CatalogHero",()=>b]);let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call CatalogHero() from the server but CatalogHero is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/public/catalog-hero.tsx <module evaluation>","CatalogHero")},308082,a=>{"use strict";a.s(["CatalogHero",()=>b]);let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call CatalogHero() from the server but CatalogHero is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/public/catalog-hero.tsx","CatalogHero")},464742,a=>{"use strict";a.i(333343);var b=a.i(308082);a.n(b)},760897,a=>{"use strict";a.s(["CatalogOrganizationInfo",()=>b]);let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call CatalogOrganizationInfo() from the server but CatalogOrganizationInfo is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/public/catalog-organization-info.tsx <module evaluation>","CatalogOrganizationInfo")},369021,a=>{"use strict";a.s(["CatalogOrganizationInfo",()=>b]);let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call CatalogOrganizationInfo() from the server but CatalogOrganizationInfo is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/public/catalog-organization-info.tsx","CatalogOrganizationInfo")},239774,a=>{"use strict";a.i(760897);var b=a.i(369021);a.n(b)},237367,a=>{"use strict";a.s(["CatalogStats",()=>b]);let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call CatalogStats() from the server but CatalogStats is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/public/catalog-stats.tsx <module evaluation>","CatalogStats")},81026,a=>{"use strict";a.s(["CatalogStats",()=>b]);let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call CatalogStats() from the server but CatalogStats is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/public/catalog-stats.tsx","CatalogStats")},653059,a=>{"use strict";a.i(237367);var b=a.i(81026);a.n(b)},597926,a=>{"use strict";var b=a.i(907997);a.i(570396);var c=a.i(673727),d=a.i(911973),e=a.i(998310),f=a.i(56198),g=a.i(238756),h=a.i(186802),i=a.i(464742),j=a.i(239774),k=a.i(653059);async function l({params:a}){let b=await (0,e.createClient)(),{slug:c}=await a,{data:d}=await b.from("organizations").select("name, code, logo_url").ilike("code",c).maybeSingle();if(!d){let{data:a}=await b.from("organizations").select("name, code, logo_url").eq("code",c).maybeSingle();d=a||null}if(!d&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(c)){let{data:a}=await b.from("organizations").select("name, code, logo_url").eq("id",c).maybeSingle();d=a||null}if(!d)return{title:"Catalogue non trouvé"};let{data:f}=await b.from("public_catalog_settings").select("meta_title, meta_description, meta_image_url, site_title").eq("organization_id",d.id).eq("is_enabled",!0).maybeSingle();return{title:f?.meta_title||f?.site_title||`${d.name} - Catalogue des Formations`,description:f?.meta_description||`D\xe9couvrez le catalogue complet de formations de ${d.name}. Formations certifi\xe9es, \xe9ligibles CPF, avec inscription en ligne.`,keywords:["formations","formation professionnelle","CPF","certification","formation continue"],openGraph:{title:f?.meta_title||f?.site_title||`${d.name} - Catalogue des Formations`,description:f?.meta_description||`D\xe9couvrez le catalogue complet de formations de ${d.name}`,images:f?.meta_image_url||d.logo_url?[f?.meta_image_url||d.logo_url]:[],type:"website"}}}async function m({params:a,searchParams:l}){let{slug:m}=await a,n=await l,o="string"==typeof n.search?n.search:void 0,p=await (0,e.createClient)(),{data:q}=await p.from("organizations").select("*").ilike("code",m).maybeSingle();if(!q){let{data:a}=await p.from("organizations").select("*").eq("code",m).maybeSingle();q=a||null}if(!q&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(m)){let{data:a}=await p.from("organizations").select("*").eq("id",m).maybeSingle();q=a||null}q||(0,c.notFound)();let{data:r}=await p.from("public_catalog_settings").select("*").eq("organization_id",q.id).eq("is_enabled",!0).maybeSingle(),s=p.from("programs").select(`
      *,
      formations(
        *,
        sessions(*)
      )
    `).eq("organization_id",q.id).eq("is_public",!0).eq("is_active",!0);o&&(s=s.or(`name.ilike.%${o}%,description.ilike.%${o}%,public_description.ilike.%${o}%`));let{data:t=[]}=await s.order("created_at",{ascending:!1}),u=t.map(a=>({...a,formations:(a.formations||[]).filter(a=>a.is_active).map(a=>({...a,sessions:(a.sessions||[]).filter(a=>"scheduled"===a.status||"ongoing"===a.status)}))})),v=r?.hero_title||q.name||"Catalogue des Formations",w=r?.hero_subtitle||"Découvrez nos formations professionnelles certifiées et éligibles au CPF",x=r?.hero_description,y=r?.hero_button_text||"Découvrir nos formations",z=r?.hero_button_link||"#programmes",A=r?.logo_url||q.logo_url,B=r?.primary_color||"#274472",C=r?.cover_image_url;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(h.CatalogStyles,{primaryColor:B}),(0,b.jsx)(f.CatalogNavbar,{organizationName:q.name,logoUrl:A,primaryColor:B}),(0,b.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,b.jsx)(i.CatalogHero,{title:v,subtitle:w,description:x,buttonText:y,buttonLink:z,coverImageUrl:C,primaryColor:B}),(0,b.jsx)(j.CatalogOrganizationInfo,{organization:q,logoUrl:A,primaryColor:B}),(0,b.jsx)(k.CatalogStats,{primaryColor:B,stats:{courses:u.length,learners:1200,certifications:98,successRate:95}}),(0,b.jsxs)("section",{id:"programmes",className:"py-24 lg:py-32 scroll-mt-20 relative overflow-hidden bg-gray-50",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-50/60 via-white to-white"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808006_1px,transparent_1px),linear-gradient(to_bottom,#80808006_1px,transparent_1px)] bg-[size:60px_60px]"}),(0,b.jsx)("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full max-w-4xl h-px opacity-30",style:{background:`linear-gradient(to right, transparent, ${B}, transparent)`}}),(0,b.jsxs)("div",{className:"relative container mx-auto px-6 lg:px-8",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-16",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h2",{className:"text-4xl lg:text-6xl xl:text-7xl font-extrabold text-gray-900 mb-4 tracking-tight leading-tight",children:o?`R\xe9sultats pour "${o}"`:"Nos programmes de formation"}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"h-2 w-32 rounded-full",style:{background:`linear-gradient(to right, ${B}, ${B}88, transparent)`}}),(0,b.jsx)("div",{className:"h-px flex-1 bg-gradient-to-r from-gray-300 to-transparent max-w-md"})]})]}),(0,b.jsx)("div",{className:"px-6 py-3 bg-white/90 backdrop-blur-md border border-gray-200/60 rounded-2xl shadow-lg",children:(0,b.jsxs)("span",{className:"text-gray-800 font-bold text-lg",children:[u.length," programme",u.length>1?"s":""]})})]}),u.length>0?(0,b.jsx)(d.PublicProgramsList,{programs:u,primaryColor:B}):(0,b.jsxs)("div",{className:"text-center py-24",children:[(0,b.jsx)("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-3xl bg-gradient-to-br from-gray-100 to-gray-200 mb-8 shadow-lg",children:(0,b.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),(0,b.jsx)("p",{className:"text-gray-600 text-xl font-semibold",children:"Aucun programme disponible pour le moment."})]})]})]})]}),(0,b.jsx)(g.CatalogFooter,{organizationName:q.name,footerContent:r?.footer_text,contactEmail:r?.contact_email||q.email,contactPhone:r?.contact_phone||q.phone,contactAddress:r?.contact_address||q.address,primaryColor:B})]})}a.s(["default",()=>m,"generateMetadata",()=>l])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__023e19ff._.js.map