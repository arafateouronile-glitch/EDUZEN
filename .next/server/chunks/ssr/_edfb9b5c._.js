module.exports=[915618,a=>{"use strict";let b=(0,a.i(170106).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],915618)},903001,a=>{"use strict";var b=a.i(187924),c=a.i(703130),d=a.i(340695),e=a.i(915618),f=a.i(633508),g=a.i(911300),h=a.i(497895);let i=[{id:"preformation",title:"Évaluation préformation pour les apprenants",description:"Sondez les attentes et diagnostiquez le besoin avant la session.",subject:"Évaluation préformation"},{id:"a_chaud",title:"Évaluation à chaud pour les apprenants",description:"Envoyez une évaluation dématérialisée à l'apprenant pour qu'il note à chaud la formation.",subject:"Évaluation à chaud"},{id:"a_froid",title:"Évaluation à froid pour les apprenants",description:"Mesurez l'impact professionnel de la formation pour entrer dans une démarche qualité quantitative.",subject:"Évaluation à froid"},{id:"managers",title:"Questionnaire pour les managers des apprenants",description:"Impliquez les prescripteurs de la formation dans votre démarche qualité.",subject:"Questionnaire managers"},{id:"intervenants",title:"Questionnaire pour les intervenants",description:"Demandez aux intervenants d'évaluer la session.",subject:"Questionnaire intervenants"}];function j({grades:a=[],gradesStats:j,students:k=[],showEvaluationForm:l,evaluationForm:m,onEvaluationFormChange:n,onCreateEvaluation:o,createEvaluationMutation:p,onCloseEvaluationForm:q,onShowEvaluationForm:r}){return(0,b.jsxs)("div",{className:"space-y-6",children:[l&&(0,b.jsxs)(c.Card,{children:[(0,b.jsx)(c.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(c.CardTitle,{children:"Créer une évaluation"}),(0,b.jsx)(d.Button,{variant:"ghost",size:"icon",onClick:q,children:(0,b.jsx)(f.X,{className:"h-4 w-4"})})]})}),(0,b.jsx)(c.CardContent,{children:(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),o()},className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Sujet *"}),(0,b.jsx)("input",{type:"text",value:m.subject,onChange:a=>n({...m,subject:a.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Ex: Évaluation de fin de module",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Élève (optionnel)"}),(0,b.jsxs)("select",{value:m.student_id||"",onChange:a=>n({...m,student_id:a.target.value||void 0}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[(0,b.jsx)("option",{value:"",children:"Tous les apprenants (évaluation collective)"}),k.map(a=>(0,b.jsxs)("option",{value:a.id,children:[a.first_name," ",a.last_name," (",a.student_number,")"]},a.id))]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Note (optionnel)"}),(0,b.jsx)("input",{type:"number",step:"0.01",min:"0",value:m.score,onChange:a=>{let b=a.target.value,c=parseFloat(m.max_score)||20,d=b&&c?Math.round(parseFloat(b)/c*100).toString():"";n({...m,score:b,percentage:m.percentage||d})},className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Laisser vide si la note sera calculée plus tard"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"La note peut être ajoutée plus tard après correction"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Note maximale (optionnel)"}),(0,b.jsx)("input",{type:"number",step:"0.01",min:"1",value:m.max_score,onChange:a=>{let b=parseFloat(a.target.value)||20,c=parseFloat(m.score)||0,d=c&&b?Math.round(c/b*100).toString():"";n({...m,max_score:a.target.value,percentage:m.percentage||d})},className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"20"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Par défaut : 20 points"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Pourcentage (optionnel)"}),(0,b.jsx)("input",{type:"number",step:"0.01",min:"0",max:"100",value:m.percentage,onChange:a=>n({...m,percentage:a.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Calculé automatiquement si vide"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Si vide, le pourcentage sera calculé automatiquement (note / note max × 100)"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Date de correction"}),(0,b.jsx)("input",{type:"date",value:m.graded_at,onChange:a=>n({...m,graded_at:a.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Notes/Commentaires (optionnel)"}),(0,b.jsx)("textarea",{value:m.notes,onChange:a=>n({...m,notes:a.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",rows:4,placeholder:"Ajoutez des commentaires, observations ou remarques sur cette évaluation..."})]}),p.error&&(0,b.jsx)("div",{className:"bg-destructive/10 text-destructive px-4 py-3 rounded-lg text-sm",children:p.error instanceof Error?p.error.message:"Une erreur est survenue"}),(0,b.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,b.jsx)(d.Button,{type:"button",variant:"outline",onClick:q,children:"Annuler"}),(0,b.jsx)(d.Button,{type:"submit",disabled:p.isPending,children:p.isPending?"Création...":"Créer l'évaluation"})]})]})})]}),a.length>0&&(0,b.jsxs)(c.Card,{children:[(0,b.jsx)(c.CardHeader,{children:(0,b.jsx)(c.CardTitle,{className:"text-lg",children:"Statistiques des évaluations"})}),(0,b.jsx)(c.CardContent,{children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:a.length}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Évaluations totales"})]}),(0,b.jsxs)("div",{className:"text-center p-4 bg-brand-blue-ghost rounded-lg",children:[(0,b.jsxs)("p",{className:"text-2xl font-bold text-brand-blue",children:[j?.average?.toFixed(2)||"0","/",j?.averagePercentage?Math.round(j.average*(100/j.averagePercentage)):20]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Note moyenne"})]}),(0,b.jsxs)("div",{className:"text-center p-4 bg-brand-cyan-ghost rounded-lg",children:[(0,b.jsxs)("p",{className:"text-2xl font-bold text-brand-cyan",children:[j?.averagePercentage?.toFixed(1)||0,"%"]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Moyenne en %"})]}),(0,b.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:a.filter(a=>a.graded_at).length}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Corrigées"})]})]})})]}),a.length>0&&(0,b.jsxs)(c.Card,{children:[(0,b.jsx)(c.CardHeader,{children:(0,b.jsxs)(c.CardTitle,{className:"text-lg flex items-center justify-between",children:[(0,b.jsx)("span",{children:"Évaluations enregistrées"}),(0,b.jsxs)(d.Button,{variant:"outline",size:"sm",onClick:()=>r("evaluation_generale","Évaluation générale"),children:[(0,b.jsx)(e.Plus,{className:"h-4 w-4 mr-2"}),"Nouvelle évaluation"]})]})}),(0,b.jsx)(c.CardContent,{children:(0,b.jsx)("div",{className:"space-y-3",children:a.map(a=>{let c=a.students;return(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:(0,b.jsx)(g.ClipboardList,{className:"h-5 w-5 text-primary"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:a.subject}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[c?`${c.first_name} ${c.last_name}`:"Évaluation collective"," • ",a.assessment_type||"Évaluation",a.graded_at&&` • ${(0,h.formatDate)(a.graded_at)}`]})]})]})}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("p",{className:"font-bold text-lg",children:[a.score,"/",a.max_score||20]}),null!==a.percentage&&(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[a.percentage,"%"]})]})]},a.id)})})})]}),(0,b.jsxs)(c.Card,{children:[(0,b.jsx)(c.CardHeader,{children:(0,b.jsx)(c.CardTitle,{children:"Types d'évaluations disponibles"})}),(0,b.jsx)(c.CardContent,{className:"space-y-4",children:(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.map(a=>(0,b.jsxs)(c.Card,{children:[(0,b.jsx)(c.CardHeader,{children:(0,b.jsx)(c.CardTitle,{className:"text-base",children:a.title})}),(0,b.jsxs)(c.CardContent,{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:a.description}),(0,b.jsxs)(d.Button,{variant:"outline",size:"sm",className:"w-full",onClick:()=>r(a.id,a.subject),children:[(0,b.jsx)(e.Plus,{className:"mr-2 h-4 w-4"}),"Créer une ",a.subject.toLowerCase()]})]})]},a.id))})})]})]})}a.s(["GestionEvaluations",()=>j])}];

//# sourceMappingURL=_edfb9b5c._.js.map