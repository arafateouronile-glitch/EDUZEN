{"version":3,"sources":["../../../../app/%28dashboard%29/dashboard/payments/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\nimport { useAuth } from '@/lib/hooks/use-auth'\nimport { invoiceService } from '@/lib/services/invoice.service'\nimport { paymentService } from '@/lib/services/payment.service'\nimport { sessionChargesService } from '@/lib/services/session-charges.service'\nimport { createClient } from '@/lib/supabase/client'\nimport { Button } from '@/components/ui/button'\nimport { GlassCard } from '@/components/ui/glass-card'\nimport { BentoGrid, BentoCard } from '@/components/ui/bento-grid'\nimport { Plus, Search, FileText, AlertCircle, CheckCircle, TrendingUp, Calendar, Download, Filter, X, ArrowRight, DollarSign, Receipt, CreditCard, ArrowUpRight, SlidersHorizontal, TrendingDown, ChevronDown, ChevronUp } from 'lucide-react'\nimport { formatCurrency, formatDate, cn } from '@/lib/utils'\nimport Link from 'next/link'\nimport { BarChart, Bar, LineChart, Line, PieChart, Pie, Cell, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts'\nimport { motion, AnimatePresence } from '@/components/ui/motion'\nimport type { TableRow } from '@/lib/types/supabase-helpers'\nimport type { InvoiceWithRelations } from '@/lib/types/query-types'\nimport { CardTitle } from '@/components/ui/card'\nimport { RoleGuard, FINANCE_ROLES } from '@/components/auth/role-guard'\n\ntype Payment = TableRow<'payments'>\ntype Invoice = TableRow<'invoices'>\n\nexport default function PaymentsPage() {\n  return (\n    <RoleGuard allowedRoles={FINANCE_ROLES}>\n      <PaymentsPageContent />\n    </RoleGuard>\n  )\n}\n\nfunction PaymentsPageContent() {\n  const { user } = useAuth()\n  const supabase = createClient()\n  const queryClient = useQueryClient()\n  const [search, setSearch] = useState('')\n  const [statusFilter, setStatusFilter] = useState<string>('all')\n  const [dateRangeFilter, setDateRangeFilter] = useState<string>('all')\n  const [showFilters, setShowFilters] = useState(false)\n  const [documentTypeFilter, setDocumentTypeFilter] = useState<'all' | 'quote' | 'invoice'>('all')\n  const [activeTab, setActiveTab] = useState<'all' | 'quotes' | 'invoices'>('all')\n  const [showChargesSection, setShowChargesSection] = useState(false)\n  const [showChargeForm, setShowChargeForm] = useState(false)\n  const [selectedSessionId, setSelectedSessionId] = useState<string>('')\n\n  // R√©cup√©rer les sessions pour le formulaire de charge\n  const { data: sessions } = useQuery({\n    queryKey: ['sessions', user?.organization_id],\n    queryFn: async () => {\n      if (!user?.organization_id) return []\n      const { data, error } = await supabase\n        .from('sessions')\n        .select('id, name, start_date, end_date')\n        .eq('organization_id', user.organization_id)\n        .order('start_date', { ascending: false })\n        .limit(100)\n      if (error) {\n        console.error('Erreur r√©cup√©ration sessions:', error)\n        return []\n      }\n      return data || []\n    },\n    enabled: !!user?.organization_id,\n  })\n\n  // R√©cup√©rer les cat√©gories de charges\n  const { data: chargeCategories } = useQuery({\n    queryKey: ['charge-categories', user?.organization_id],\n    queryFn: async () => {\n      if (!user?.organization_id) return []\n      const categories = await sessionChargesService.getCategories(user.organization_id)\n      if (categories.length === 0) {\n        await sessionChargesService.initDefaultCategories(user.organization_id)\n        return sessionChargesService.getCategories(user.organization_id)\n      }\n      return categories\n    },\n    enabled: !!user?.organization_id,\n  })\n\n  // R√©cup√©rer toutes les charges de l'organisation\n  const { data: allCharges, isLoading: isLoadingCharges } = useQuery({\n    queryKey: ['all-session-charges', user?.organization_id],\n    queryFn: async () => {\n      if (!user?.organization_id) return []\n      return await sessionChargesService.getAll(user.organization_id)\n    },\n    enabled: !!user?.organization_id && showChargesSection,\n  })\n\n  // Formulaire de charge\n  const [chargeForm, setChargeForm] = useState({\n    description: '',\n    amount: '',\n    currency: 'EUR',\n    charge_date: new Date().toISOString().split('T')[0],\n    category_id: '',\n    payment_method: '',\n    payment_status: 'pending' as 'pending' | 'paid' | 'cancelled',\n    vendor: '',\n    vendor_invoice_number: '',\n    vendor_invoice_date: '',\n    notes: '',\n  })\n\n  // Mutation pour cr√©er une charge\n  const createChargeMutation = useMutation({\n    mutationFn: async () => {\n      if (!user?.organization_id) throw new Error('Organisation non trouv√©e')\n      if (!selectedSessionId) throw new Error('Veuillez s√©lectionner une session')\n      if (!chargeForm.description || !chargeForm.amount) {\n        throw new Error('La description et le montant sont requis')\n      }\n\n      return sessionChargesService.create(\n        user.organization_id,\n        selectedSessionId,\n        {\n          description: chargeForm.description,\n          amount: parseFloat(chargeForm.amount),\n          currency: chargeForm.currency,\n          charge_date: chargeForm.charge_date,\n          category_id: chargeForm.category_id || null,\n          payment_method: chargeForm.payment_method || null,\n          payment_status: chargeForm.payment_status,\n          paid_at: chargeForm.payment_status === 'paid' ? new Date().toISOString() : null,\n          vendor: chargeForm.vendor || null,\n          vendor_invoice_number: chargeForm.vendor_invoice_number || null,\n          vendor_invoice_date: chargeForm.vendor_invoice_date || null,\n          notes: chargeForm.notes || null,\n        }\n      )\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['session-charges'] })\n      queryClient.invalidateQueries({ queryKey: ['session-charges-summary'] })\n      queryClient.invalidateQueries({ queryKey: ['all-session-charges', user?.organization_id] })\n      setShowChargeForm(false)\n      setChargeForm({\n        description: '',\n        amount: '',\n        currency: 'EUR',\n        charge_date: new Date().toISOString().split('T')[0],\n        category_id: '',\n        payment_method: '',\n        payment_status: 'pending',\n        vendor: '',\n        vendor_invoice_number: '',\n        vendor_invoice_date: '',\n        notes: '',\n      })\n      setSelectedSessionId('')\n    },\n  })\n\n  // Mutation pour transformer un devis en facture\n  const convertQuoteMutation = useMutation({\n    mutationFn: async (quoteId: string) => {\n      return invoiceService.convertQuoteToInvoice(quoteId)\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['invoices'] })\n      queryClient.invalidateQueries({ queryKey: ['overdue-invoices'] })\n    },\n  })\n\n  const { data: invoices, isLoading } = useQuery({\n    queryKey: ['invoices', user?.organization_id, search, statusFilter, documentTypeFilter],\n    queryFn: async () => {\n      if (!user?.organization_id) return []\n      try {\n        return await invoiceService.getAll(user.organization_id, {\n          search,\n          status: statusFilter !== 'all' ? (statusFilter as Invoice['status']) : undefined,\n          documentType: documentTypeFilter !== 'all' ? documentTypeFilter : undefined,\n        })\n      } catch (error: any) {\n        if (error?.code === 'PGRST116' || error?.code === '42P01') return []\n        throw error\n      }\n    },\n    enabled: !!user?.organization_id,\n    retry: false,\n  })\n\n  // Filtrer selon l'onglet actif\n  const filteredInvoices = invoices?.filter((inv: any) => {\n    if (activeTab === 'quotes') {\n      return (inv as any).document_type === 'quote'\n    } else if (activeTab === 'invoices') {\n      return (inv as any).document_type === 'invoice' || !(inv as any).document_type\n    }\n    return true\n  }) || []\n\n  // R√©cup√©rer les factures impay√©es\n  const { data: overdueInvoices } = useQuery({\n    queryKey: ['overdue-invoices', user?.organization_id],\n    queryFn: async () => {\n      if (!user?.organization_id) return []\n      try {\n        return await invoiceService.getOverdue(user.organization_id)\n      } catch (error: any) {\n        if (error?.code === 'PGRST116' || error?.code === '42P01') return []\n        throw error\n      }\n    },\n    enabled: !!user?.organization_id,\n    retry: false,\n  })\n\n  // Calculer les statistiques des paiements par p√©riode\n  const { data: paymentStats } = useQuery({\n    queryKey: ['payment-stats', user?.organization_id, dateRangeFilter],\n    queryFn: async () => {\n      if (!user?.organization_id) return null\n\n      let startDate: Date | null = null\n      const now = new Date()\n\n      switch (dateRangeFilter) {\n        case 'month':\n          startDate = new Date(now.getFullYear(), now.getMonth(), 1)\n          break\n        case 'quarter':\n          const quarter = Math.floor(now.getMonth() / 3)\n          startDate = new Date(now.getFullYear(), quarter * 3, 1)\n          break\n        case 'year':\n          startDate = new Date(now.getFullYear(), 0, 1)\n          break\n        default:\n          startDate = null\n      }\n\n      let query = supabase\n        .from('payments')\n        .select('amount, currency, payment_method, paid_at')\n        .eq('organization_id', user.organization_id)\n        .eq('status', 'completed')\n\n      if (startDate) {\n        query = query.gte('paid_at', startDate.toISOString())\n      }\n\n      const { data: payments, error } = await query\n\n      if (error) {\n        // G√©rer les erreurs de table inexistante, erreurs 400, ou probl√®mes de sch√©ma\n        if (\n          error.code === 'PGRST116' ||\n          error.code === '42P01' ||\n          error.code === 'PGRST301' ||\n          error.code === '400' ||\n          error.message?.includes('relation') ||\n          error.message?.includes('relationship') ||\n          error.message?.includes('does not exist') ||\n          error.message?.includes('schema cache') ||\n          error.message?.includes('column') ||\n          error.message?.includes('permission')\n        ) {\n          console.warn('Erreur lors de la r√©cup√©ration des paiements:', error.message)\n          return { totalAmount: 0, count: 0, byMethod: [], monthlyData: [] }\n        }\n        throw error\n      }\n\n      const paymentsArray = (payments as Payment[]) || []\n      const totalAmount = paymentsArray.reduce((sum, p) => sum + Number(p.amount), 0)\n\n      // Grouper par m√©thode de paiement\n      const byMethod: Record<string, number> = {}\n      paymentsArray.forEach((p) => {\n        const method = p.payment_method || 'unknown'\n        byMethod[method] = (byMethod[method] || 0) + Number(p.amount)\n      })\n\n      // Grouper par mois\n      const byMonth: Record<string, number> = {}\n      paymentsArray.forEach((p) => {\n        if (p.paid_at) {\n          const date = new Date(p.paid_at)\n          const monthKey = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}`\n          byMonth[monthKey] = (byMonth[monthKey] || 0) + Number(p.amount)\n        }\n      })\n\n      const monthlyData = Object.entries(byMonth)\n        .sort(([a], [b]) => a.localeCompare(b))\n        .slice(-6)\n        .map(([month, amount]) => ({\n          month: new Date(month + '-01').toLocaleDateString('fr-FR', { month: 'short', year: 'numeric' }),\n          amount: Math.round(amount),\n        }))\n\n      const methodData = Object.entries(byMethod).map(([method, amount]) => ({\n        name: method === 'cash' ? 'Esp√®ces' :\n              method === 'mobile_money' ? 'Mobile Money' :\n              method === 'card' ? 'Carte' :\n              method === 'bank_transfer' ? 'Virement' : method,\n        value: Math.round(amount),\n        color: method === 'cash' ? '#335ACF' :\n               method === 'mobile_money' ? '#34B9EE' :\n               method === 'card' ? '#3B82F6' :\n               method === 'bank_transfer' ? '#8B5CF6' : '#6B7280',\n      }))\n\n      return {\n        totalAmount,\n        count: payments?.length || 0,\n        byMethod: methodData,\n        monthlyData,\n      }\n    },\n    enabled: !!user?.organization_id,\n  })\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'paid': return 'bg-emerald-50 text-emerald-700 border-emerald-100'\n      case 'sent': return 'bg-blue-50 text-blue-700 border-blue-100'\n      case 'partial': return 'bg-amber-50 text-amber-700 border-amber-100'\n      case 'overdue': return 'bg-red-50 text-red-700 border-red-100'\n      case 'draft': return 'bg-gray-50 text-gray-700 border-gray-100'\n      default: return 'bg-gray-50 text-gray-700 border-gray-100'\n    }\n  }\n\n  const getStatusLabel = (status: string) => {\n    switch (status) {\n      case 'paid': return 'Pay√©e'\n      case 'sent': return 'Envoy√©e'\n      case 'partial': return 'Partielle'\n      case 'overdue': return 'En retard'\n      case 'draft': return 'Brouillon'\n      case 'cancelled': return 'Annul√©e'\n      default: return status\n    }\n  }\n\n  // Filtrer uniquement les factures\n  const invoicesOnly = invoices?.filter((inv: any) => \n    (inv as any).document_type === 'invoice' || !(inv as any).document_type\n  ) || []\n\n  const totalPaid = invoicesOnly.filter((inv: any) => inv.status === 'paid')\n    .reduce((sum: number, inv: any) => sum + Number(inv.total_amount), 0) || 0\n  const totalOverdue = overdueInvoices?.reduce(\n    (sum: number, inv: any) => sum + Number(inv.total_amount) - Number(inv.paid_amount || 0),\n    0\n  ) || 0\n  const totalPending = invoicesOnly.filter((inv: any) => ['sent', 'partial'].includes(inv.status))\n    .reduce((sum: number, inv: any) => {\n      const paidAmount = inv.paid_amount || 0\n      return sum + Number(inv.total_amount) - Number(paidAmount)\n    }, 0) || 0\n\n  const containerVariants = {\n    hidden: { opacity: 0 },\n    visible: {\n      opacity: 1,\n      transition: { staggerChildren: 0.1 }\n    }\n  }\n\n  const itemVariants = {\n    hidden: { opacity: 0, y: 20 },\n    visible: {\n      opacity: 1,\n      y: 0,\n      transition: { duration: 0.5, ease: [0.16, 1, 0.3, 1] as const }\n    }\n  }\n\n  return (\n    <motion.div\n      className=\"space-y-8 pb-12 max-w-[1600px] mx-auto\"\n      variants={containerVariants}\n      initial=\"hidden\"\n      animate=\"visible\"\n    >\n      {/* Header Premium avec Gradient Background */}\n      <motion.div variants={itemVariants} className=\"relative\">\n        <div className=\"absolute inset-0 bg-gradient-mesh opacity-30 rounded-3xl\" />\n        <div className=\"relative flex flex-col md:flex-row items-start md:items-center justify-between gap-6 p-8 rounded-3xl bg-white/50 backdrop-blur-sm border border-gray-100\">\n          <div className=\"flex-1\">\n            <div className=\"flex items-center gap-3 mb-3\">\n              <motion.div\n                className=\"p-3 rounded-2xl bg-gradient-to-br from-brand-blue to-brand-cyan\"\n                whileHover={{ scale: 1.05, rotate: 5 }}\n                transition={{ duration: 0.3 }}\n              >\n                <DollarSign className=\"h-6 w-6 text-white\" />\n              </motion.div>\n              <div>\n                <h1 className=\"text-5xl font-black text-gray-900 tracking-tightest font-display\">\n                  Paiements\n                </h1>\n                <div className=\"flex items-center gap-3 mt-2\">\n                  <span className=\"px-4 py-1.5 bg-brand-blue-ghost text-brand-blue rounded-full text-sm font-semibold\">\n                    {filteredInvoices.length} documents\n                  </span>\n                  <span className=\"text-sm text-gray-400\">‚Ä¢</span>\n                  <span className=\"text-sm text-gray-500 font-medium\">\n                    {formatCurrency(totalPaid + totalPending + totalOverdue, 'EUR')} au total\n                  </span>\n                </div>\n              </div>\n            </div>\n            <p className=\"text-lg text-gray-600 font-light ml-[72px]\">\n              G√©rez vos devis, factures et suivez les paiements en temps r√©el\n            </p>\n          </div>\n\n          <motion.div whileHover={{ scale: 1.02, y: -2 }} whileTap={{ scale: 0.98 }}>\n            <Link href=\"/dashboard/payments/new\">\n              <Button className=\"h-14 px-8 text-base font-semibold shadow-2xl shadow-brand-blue/20 hover:shadow-brand-blue/40 bg-gradient-to-r from-brand-blue to-brand-cyan hover:opacity-90 transition-all duration-300\">\n                <Plus className=\"mr-2 h-5 w-5\" />\n                Nouvelle transaction\n              </Button>\n            </Link>\n          </motion.div>\n        </div>\n      </motion.div>\n\n      {/* Statistiques Premium avec Glassmorphism */}\n      <motion.div variants={itemVariants}>\n        <BentoGrid columns={4} gap=\"md\">\n          {[\n            {\n              title: 'Total pay√©',\n              value: formatCurrency(totalPaid, 'EUR'),\n              icon: CheckCircle,\n              color: 'text-emerald-600',\n              bg: 'bg-gradient-to-br from-emerald-50 to-emerald-100/50',\n              borderColor: 'border-emerald-200',\n              trend: '+12%',\n              trendUp: true,\n            },\n            {\n              title: 'En attente',\n              value: formatCurrency(totalPending, 'EUR'),\n              icon: AlertCircle,\n              color: 'text-amber-600',\n              bg: 'bg-gradient-to-br from-amber-50 to-amber-100/50',\n              borderColor: 'border-amber-200',\n              trend: '-5%',\n              trendUp: false,\n            },\n            {\n              title: 'En retard',\n              value: formatCurrency(totalOverdue, 'EUR'),\n              icon: X,\n              color: 'text-red-600',\n              bg: 'bg-gradient-to-br from-red-50 to-red-100/50',\n              borderColor: 'border-red-200',\n              trend: '-15%',\n              trendUp: false,\n            },\n            {\n              title: 'Total factures',\n              value: invoicesOnly.length.toString(),\n              icon: Receipt,\n              color: 'text-brand-blue',\n              bg: 'bg-gradient-to-br from-brand-blue-ghost to-brand-blue-pale/50',\n              borderColor: 'border-brand-blue-pale',\n              trend: '+8%',\n              trendUp: true,\n            },\n          ].map((stat, index) => (\n            <BentoCard key={stat.title} span={1}>\n              <motion.div\n                whileHover={{ y: -8, scale: 1.02 }}\n                transition={{ duration: 0.4, ease: [0.16, 1, 0.3, 1] }}\n              >\n                <GlassCard\n                  variant=\"premium\"\n                  hoverable\n                  glow={index === 2 && totalOverdue > 0}\n                  glowColor=\"rgba(239, 68, 68, 0.2)\"\n                  className={cn(\"h-full p-8 border-2\", stat.borderColor, stat.bg)}\n                >\n                  <div className=\"flex items-start justify-between mb-6\">\n                    <div>\n                      <p className=\"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-1\">\n                        {stat.title}\n                      </p>\n                      <div className={cn(\"text-3xl font-black tracking-tighter font-display mt-2\", stat.color)}>\n                        {stat.value}\n                      </div>\n                    </div>\n                    <motion.div\n                      className={cn(\"p-4 rounded-2xl shadow-lg\", stat.bg)}\n                      whileHover={{ scale: 1.15, rotate: 10 }}\n                      transition={{ duration: 0.3 }}\n                    >\n                      <stat.icon className={cn(\"h-6 w-6\", stat.color)} />\n                    </motion.div>\n                  </div>\n                  <div className=\"flex items-center gap-2 pt-4 border-t border-gray-200/50\">\n                    <motion.div\n                      initial={{ scale: 0 }}\n                      animate={{ scale: 1 }}\n                      transition={{ delay: index * 0.1 + 0.3, type: 'spring' }}\n                      className={cn(\n                        'flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-bold',\n                        stat.trendUp ? 'bg-emerald-100 text-emerald-700' : 'bg-red-100 text-red-700'\n                      )}\n                    >\n                      {stat.trendUp ? '‚Üó' : '‚Üò'} {stat.trend}\n                    </motion.div>\n                    <span className=\"text-xs text-gray-500 font-medium\">vs mois dernier</span>\n                  </div>\n                </GlassCard>\n              </motion.div>\n            </BentoCard>\n          ))}\n        </BentoGrid>\n      </motion.div>\n\n      {/* Onglets et Filtres - Design Premium */}\n      <motion.div variants={itemVariants}>\n        <GlassCard variant=\"default\" className=\"p-4 shadow-xl\">\n          <div className=\"flex flex-col lg:flex-row gap-6 items-center justify-between\">\n            {/* Onglets avec Animation */}\n            <div className=\"relative flex p-1.5 bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl w-full lg:w-auto shadow-inner\">\n              {(['all', 'quotes', 'invoices'] as const).map((tab) => (\n                <motion.button\n                  key={tab}\n                  onClick={() => setActiveTab(tab)}\n                  className={cn(\n                    'relative px-8 py-3 rounded-xl text-sm font-semibold transition-all duration-300 flex-1 lg:flex-none',\n                    activeTab === tab\n                      ? 'text-white'\n                      : 'text-gray-600 hover:text-gray-900'\n                  )}\n                  whileHover={{ scale: activeTab !== tab ? 1.05 : 1 }}\n                  whileTap={{ scale: 0.98 }}\n                >\n                  {activeTab === tab && (\n                    <motion.div\n                      layoutId=\"activeTabBg\"\n                      className=\"absolute inset-0 bg-gradient-to-r from-brand-blue to-brand-cyan rounded-xl shadow-lg\"\n                      transition={{ duration: 0.4, ease: [0.16, 1, 0.3, 1] }}\n                    />\n                  )}\n                  <span className=\"relative z-10\">\n                    {tab === 'all' ? 'Tous' : tab === 'quotes' ? 'Devis' : 'Factures'}\n                  </span>\n                </motion.button>\n              ))}\n            </div>\n\n            {/* Barre de Recherche et Filtres */}\n            <div className=\"flex flex-1 w-full lg:w-auto gap-3\">\n              <div className=\"relative flex-1 group\">\n                <Search className=\"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400 group-focus-within:text-brand-blue transition-all duration-300 group-focus-within:scale-110\" />\n                <input\n                  type=\"text\"\n                  placeholder=\"Rechercher un document...\"\n                  value={search}\n                  onChange={(e) => setSearch(e.target.value)}\n                  className=\"w-full pl-12 pr-4 py-3 rounded-xl bg-gray-50 border-2 border-transparent focus:bg-white focus:border-brand-blue/30 focus:ring-4 focus:ring-brand-blue/10 transition-all outline-none text-sm font-medium placeholder:text-gray-400\"\n                />\n              </div>\n\n              <motion.div whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.95 }}>\n                <Button\n                  variant=\"ghost\"\n                  onClick={() => setShowFilters(!showFilters)}\n                  className={cn(\n                    'h-12 px-5 gap-2 rounded-xl font-semibold transition-all duration-300',\n                    showFilters\n                      ? 'bg-brand-blue text-white shadow-lg shadow-brand-blue/30'\n                      : 'bg-gray-50 text-gray-700 hover:bg-gray-100'\n                  )}\n                >\n                  <SlidersHorizontal className=\"h-4 w-4\" />\n                  Filtres\n                </Button>\n              </motion.div>\n            </div>\n          </div>\n\n          <AnimatePresence>\n            {showFilters && (\n              <motion.div\n                initial={{ height: 0, opacity: 0, y: -20 }}\n                animate={{ height: 'auto', opacity: 1, y: 0 }}\n                exit={{ height: 0, opacity: 0, y: -20 }}\n                transition={{ duration: 0.4, ease: [0.16, 1, 0.3, 1] }}\n                className=\"overflow-hidden\"\n              >\n                <div className=\"pt-6 mt-6 grid grid-cols-1 md:grid-cols-3 gap-5 border-t border-gray-200\">\n                  <motion.div\n                    initial={{ opacity: 0, x: -20 }}\n                    animate={{ opacity: 1, x: 0 }}\n                    transition={{ delay: 0.1 }}\n                    className=\"space-y-2\"\n                  >\n                    <label className=\"flex items-center gap-2 text-xs font-bold text-gray-700 uppercase tracking-widest\">\n                      <div className=\"w-1.5 h-1.5 rounded-full bg-brand-blue\" />\n                      Statut\n                    </label>\n                    <select\n                      value={statusFilter}\n                      onChange={(e) => setStatusFilter(e.target.value)}\n                      className=\"w-full px-4 py-3 rounded-xl bg-gradient-to-br from-gray-50 to-white border-2 border-gray-200 focus:border-brand-blue/50 focus:ring-4 focus:ring-brand-blue/10 outline-none text-sm font-medium transition-all shadow-sm\"\n                    >\n                      <option value=\"all\">Tous les statuts</option>\n                      <option value=\"paid\">‚úì Pay√©e</option>\n                      <option value=\"sent\">‚Üí Envoy√©e</option>\n                      <option value=\"partial\">‚ö° Partielle</option>\n                      <option value=\"overdue\">‚ö† En retard</option>\n                      <option value=\"draft\">üìù Brouillon</option>\n                    </select>\n                  </motion.div>\n\n                  <motion.div\n                    initial={{ opacity: 0, x: -20 }}\n                    animate={{ opacity: 1, x: 0 }}\n                    transition={{ delay: 0.2 }}\n                    className=\"space-y-2\"\n                  >\n                    <label className=\"flex items-center gap-2 text-xs font-bold text-gray-700 uppercase tracking-widest\">\n                      <div className=\"w-1.5 h-1.5 rounded-full bg-brand-cyan\" />\n                      P√©riode\n                    </label>\n                    <select\n                      value={dateRangeFilter}\n                      onChange={(e) => setDateRangeFilter(e.target.value)}\n                      className=\"w-full px-4 py-3 rounded-xl bg-gradient-to-br from-gray-50 to-white border-2 border-gray-200 focus:border-brand-cyan/50 focus:ring-4 focus:ring-brand-cyan/10 outline-none text-sm font-medium transition-all shadow-sm\"\n                    >\n                      <option value=\"all\">Toutes les p√©riodes</option>\n                      <option value=\"month\">üìÖ Ce mois</option>\n                      <option value=\"quarter\">üìä Ce trimestre</option>\n                      <option value=\"year\">üìÜ Cette ann√©e</option>\n                    </select>\n                  </motion.div>\n\n                  <motion.div\n                    initial={{ opacity: 0, x: -20 }}\n                    animate={{ opacity: 1, x: 0 }}\n                    transition={{ delay: 0.3 }}\n                    className=\"space-y-2\"\n                  >\n                    <label className=\"flex items-center gap-2 text-xs font-bold text-gray-700 uppercase tracking-widest\">\n                      <div className=\"w-1.5 h-1.5 rounded-full bg-emerald-500\" />\n                      Type de document\n                    </label>\n                    <select\n                      value={documentTypeFilter}\n                      onChange={(e) => setDocumentTypeFilter(e.target.value as any)}\n                      className=\"w-full px-4 py-3 rounded-xl bg-gradient-to-br from-gray-50 to-white border-2 border-gray-200 focus:border-emerald-500/50 focus:ring-4 focus:ring-emerald-500/10 outline-none text-sm font-medium transition-all shadow-sm\"\n                    >\n                      <option value=\"all\">Tous les types</option>\n                      <option value=\"quote\">üìÑ Devis</option>\n                      <option value=\"invoice\">üßæ Factures</option>\n                    </select>\n                  </motion.div>\n                </div>\n              </motion.div>\n            )}\n          </AnimatePresence>\n        </GlassCard>\n      </motion.div>\n\n      {/* Graphiques Premium avec Glassmorphism */}\n      {paymentStats && (paymentStats.byMethod.length > 0 || paymentStats.monthlyData.length > 0) && (\n        <motion.div variants={itemVariants} className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n          {paymentStats.byMethod.length > 0 && (\n            <motion.div\n              initial={{ opacity: 0, y: 40 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ duration: 0.6, ease: [0.16, 1, 0.3, 1] }}\n            >\n              <GlassCard variant=\"premium\" className=\"p-8 h-full border-2 border-gray-100 shadow-xl hover:shadow-2xl transition-all duration-500\">\n                <div className=\"mb-8 flex items-center justify-between\">\n                  <div className=\"flex items-center gap-3\">\n                    <motion.div\n                      className=\"p-3 rounded-2xl bg-gradient-to-br from-brand-blue-ghost to-brand-blue-pale\"\n                      whileHover={{ scale: 1.1, rotate: 5 }}\n                    >\n                      <CreditCard className=\"h-6 w-6 text-brand-blue\" />\n                    </motion.div>\n                    <div>\n                      <h3 className=\"text-xl font-black text-gray-900 tracking-tight font-display\">\n                        M√©thodes de paiement\n                      </h3>\n                      <p className=\"text-sm text-gray-500 font-medium\">R√©partition par type</p>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"h-[340px] relative\">\n                  <div className=\"absolute inset-0 bg-gradient-mesh opacity-20 rounded-2xl\" />\n                  <ResponsiveContainer width=\"100%\" height=\"100%\">\n                    <PieChart>\n                      <Pie\n                        data={paymentStats.byMethod}\n                        cx=\"50%\"\n                        cy=\"50%\"\n                        innerRadius={70}\n                        outerRadius={100}\n                        paddingAngle={6}\n                        dataKey=\"value\"\n                      >\n                        {paymentStats.byMethod.map((entry, index) => (\n                          <Cell key={`cell-${index}`} fill={entry.color} />\n                        ))}\n                      </Pie>\n                      <Tooltip\n                        formatter={(value) => formatCurrency(Number(value), 'EUR')}\n                        contentStyle={{\n                          borderRadius: '16px',\n                          border: 'none',\n                          boxShadow: '0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)',\n                          padding: '12px 16px',\n                          fontWeight: '600',\n                        }}\n                      />\n                      <Legend\n                        verticalAlign=\"bottom\"\n                        height={48}\n                        wrapperStyle={{ fontSize: '14px', fontWeight: '600' }}\n                      />\n                    </PieChart>\n                  </ResponsiveContainer>\n                </div>\n              </GlassCard>\n            </motion.div>\n          )}\n\n          {paymentStats.monthlyData.length > 0 && (\n            <motion.div\n              initial={{ opacity: 0, y: 40 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ duration: 0.6, delay: 0.1, ease: [0.16, 1, 0.3, 1] }}\n            >\n              <GlassCard variant=\"premium\" className=\"p-8 h-full border-2 border-gray-100 shadow-xl hover:shadow-2xl transition-all duration-500\">\n                <div className=\"mb-8 flex items-center justify-between\">\n                  <div className=\"flex items-center gap-3\">\n                    <motion.div\n                      className=\"p-3 rounded-2xl bg-gradient-to-br from-cyan-50 to-cyan-100\"\n                      whileHover={{ scale: 1.1, rotate: 5 }}\n                    >\n                      <TrendingUp className=\"h-6 w-6 text-brand-cyan\" />\n                    </motion.div>\n                    <div>\n                      <h3 className=\"text-xl font-black text-gray-900 tracking-tight font-display\">\n                        √âvolution des paiements\n                      </h3>\n                      <p className=\"text-sm text-gray-500 font-medium\">6 derniers mois</p>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"h-[340px] relative\">\n                  <div className=\"absolute inset-0 bg-gradient-aurora opacity-20 rounded-2xl\" />\n                  <ResponsiveContainer width=\"100%\" height=\"100%\">\n                    <LineChart data={paymentStats.monthlyData}>\n                      <CartesianGrid strokeDasharray=\"5 5\" vertical={false} stroke=\"#E5E7EB\" />\n                      <XAxis\n                        dataKey=\"month\"\n                        axisLine={false}\n                        tickLine={false}\n                        tick={{ fill: '#6B7280', fontSize: 12, fontWeight: '600' }}\n                        dy={12}\n                      />\n                      <YAxis\n                        axisLine={false}\n                        tickLine={false}\n                        tick={{ fill: '#6B7280', fontSize: 12, fontWeight: '600' }}\n                        dx={-10}\n                      />\n                      <Tooltip\n                        formatter={(value) => formatCurrency(Number(value), 'EUR')}\n                        contentStyle={{\n                          borderRadius: '16px',\n                          border: 'none',\n                          boxShadow: '0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)',\n                          padding: '12px 16px',\n                          fontWeight: '600',\n                        }}\n                      />\n                      <Line\n                        type=\"monotone\"\n                        dataKey=\"amount\"\n                        stroke=\"url(#colorGradient)\"\n                        strokeWidth={4}\n                        dot={{ fill: '#34B9EE', r: 5, strokeWidth: 3, stroke: '#fff' }}\n                        activeDot={{ r: 7, strokeWidth: 0, fill: '#274472' }}\n                      />\n                      <defs>\n                        <linearGradient id=\"colorGradient\" x1=\"0\" y1=\"0\" x2=\"1\" y2=\"0\">\n                          <stop offset=\"0%\" stopColor=\"#274472\" />\n                          <stop offset=\"100%\" stopColor=\"#34B9EE\" />\n                        </linearGradient>\n                      </defs>\n                    </LineChart>\n                  </ResponsiveContainer>\n                </div>\n              </GlassCard>\n            </motion.div>\n          )}\n        </motion.div>\n      )}\n\n      {/* Liste des documents Premium */}\n      <motion.div variants={itemVariants}>\n        {isLoading ? (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5\">\n            {[...Array(8)].map((_, i) => (\n              <motion.div\n                key={i}\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                transition={{ delay: i * 0.05 }}\n                className=\"h-64 bg-gradient-to-br from-gray-50 to-gray-100 rounded-3xl animate-pulse\"\n              />\n            ))}\n          </div>\n        ) : filteredInvoices.length === 0 ? (\n          <GlassCard variant=\"premium\" className=\"p-16 text-center border-2 border-dashed border-gray-200\">\n            <motion.div\n              initial={{ scale: 0.8, opacity: 0 }}\n              animate={{ scale: 1, opacity: 1 }}\n              transition={{ duration: 0.5 }}\n            >\n              <div className=\"w-24 h-24 bg-gradient-to-br from-gray-50 to-gray-100 rounded-full flex items-center justify-center mx-auto mb-6 shadow-inner\">\n                <Receipt className=\"h-12 w-12 text-gray-300\" />\n              </div>\n              <h3 className=\"text-2xl font-black text-gray-900 mb-3 font-display\">Aucun document trouv√©</h3>\n              <p className=\"text-lg text-gray-500 mb-8 max-w-md mx-auto\">\n                {search || statusFilter !== 'all' || documentTypeFilter !== 'all'\n                  ? 'Essayez de modifier vos filtres de recherche.'\n                  : 'Commencez par cr√©er votre premier document de paiement.'}\n              </p>\n              {!search && statusFilter === 'all' && documentTypeFilter === 'all' && (\n                <motion.div whileHover={{ scale: 1.05, y: -2 }} whileTap={{ scale: 0.98 }}>\n                  <Link href=\"/dashboard/payments/new\">\n                    <Button className=\"h-12 px-8 text-base font-semibold shadow-lg\">\n                      <Plus className=\"mr-2 h-5 w-5\" />\n                      Cr√©er un document\n                    </Button>\n                  </Link>\n                </motion.div>\n              )}\n            </motion.div>\n          </GlassCard>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5\">\n            <AnimatePresence mode=\"popLayout\">\n              {(filteredInvoices as InvoiceWithRelations[]).map((invoice, index) => {\n                const isQuote = (invoice as any).document_type === 'quote'\n                const student = invoice.students\n                return (\n                  <motion.div\n                    key={invoice.id}\n                    layout\n                    initial={{ opacity: 0, scale: 0.9, y: 20 }}\n                    animate={{ opacity: 1, scale: 1, y: 0 }}\n                    exit={{ opacity: 0, scale: 0.9, y: -20 }}\n                    transition={{ delay: index * 0.04, duration: 0.4, ease: [0.16, 1, 0.3, 1] }}\n                  >\n                    <Link href={`/dashboard/payments/${invoice.id}`}>\n                      <motion.div\n                        whileHover={{ y: -8, scale: 1.02 }}\n                        transition={{ duration: 0.3 }}\n                      >\n                        <GlassCard\n                          variant=\"premium\"\n                          hoverable\n                          className=\"h-full p-6 group flex flex-col justify-between relative overflow-hidden border-2 border-gray-100 hover:border-brand-blue/30 transition-all duration-300\"\n                        >\n                          {/* Badge Devis/Facture */}\n                          {isQuote && (\n                            <div className=\"absolute top-0 right-0 bg-gradient-to-br from-blue-100 to-blue-200 text-blue-700 text-[10px] font-bold px-3 py-1.5 rounded-bl-2xl uppercase tracking-widest shadow-sm\">\n                              Devis\n                            </div>\n                          )}\n\n                          <div>\n                            <div className=\"flex items-start justify-between mb-5\">\n                              <motion.div\n                                whileHover={{ scale: 1.15, rotate: 8 }}\n                                transition={{ duration: 0.3 }}\n                                className={cn(\n                                  'h-14 w-14 rounded-2xl flex items-center justify-center shadow-lg',\n                                  isQuote\n                                    ? 'bg-gradient-to-br from-blue-50 to-blue-100 text-blue-600'\n                                    : 'bg-gradient-to-br from-brand-blue-ghost to-brand-blue-pale text-brand-blue'\n                                )}\n                              >\n                                {isQuote ? <FileText className=\"h-6 w-6\" /> : <Receipt className=\"h-6 w-6\" />}\n                              </motion.div>\n                              <span\n                                className={cn(\n                                  'px-3 py-1.5 rounded-xl text-xs font-bold border-2 shadow-sm',\n                                  getStatusColor(invoice.status || 'draft')\n                                )}\n                              >\n                                {getStatusLabel(invoice.status || 'draft')}\n                              </span>\n                            </div>\n\n                            <div className=\"mb-5\">\n                              <h3 className=\"text-lg font-black text-gray-900 truncate group-hover:text-brand-blue transition-colors font-display tracking-tight\">\n                                {invoice.invoice_number || 'Brouillon'}\n                              </h3>\n                              <p className=\"text-sm text-gray-500 mt-1.5 font-medium\">\n                                {student ? `${student.first_name} ${student.last_name}` : 'Client inconnu'}\n                              </p>\n                            </div>\n\n                            <div className=\"space-y-3 text-sm\">\n                              <div className=\"flex items-center justify-between p-3 bg-gray-50 rounded-xl\">\n                                <span className=\"text-gray-500 font-medium\">Montant</span>\n                                <span className=\"text-lg font-black text-brand-blue font-display\">\n                                  {formatCurrency(Number(invoice.total_amount), invoice.currency || 'EUR')}\n                                </span>\n                              </div>\n                              {invoice.issue_date && (\n                                <div className=\"flex items-center justify-between text-xs\">\n                                  <span className=\"text-gray-400 font-medium\">Date d'√©mission</span>\n                                  <span className=\"text-gray-600 font-semibold\">{formatDate(invoice.issue_date)}</span>\n                                </div>\n                              )}\n                            </div>\n                          </div>\n\n                          <div className=\"mt-6 pt-5 border-t-2 border-gray-100 flex items-center justify-between\">\n                            {isQuote ? (\n                              <Button\n                                variant=\"ghost\"\n                                size=\"sm\"\n                                className=\"h-9 text-xs font-semibold hover:text-brand-blue hover:bg-brand-blue-ghost -ml-2 px-3\"\n                                onClick={(e) => {\n                                  e.preventDefault()\n                                  convertQuoteMutation.mutate(invoice.id)\n                                }}\n                                disabled={convertQuoteMutation.isPending}\n                              >\n                                Convertir en facture\n                              </Button>\n                            ) : (\n                              <span className=\"text-xs text-gray-400 font-medium\">Voir les d√©tails</span>\n                            )}\n                            <motion.div\n                              whileHover={{ x: 2, y: -2 }}\n                              transition={{ duration: 0.2 }}\n                            >\n                              <ArrowUpRight className=\"h-5 w-5 text-gray-300 group-hover:text-brand-blue transition-colors\" />\n                            </motion.div>\n                          </div>\n                        </GlassCard>\n                      </motion.div>\n                    </Link>\n                  </motion.div>\n                )\n              })}\n            </AnimatePresence>\n          </div>\n        )}\n      </motion.div>\n\n      {/* Section Charges */}\n      <motion.div variants={itemVariants}>\n        <GlassCard variant=\"default\" className=\"p-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <div className=\"flex items-center gap-2\">\n              <TrendingDown className=\"h-5 w-5 text-red-600\" />\n              <h3 className=\"font-bold text-gray-900\">Charges de session</h3>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={() => {\n                  setShowChargeForm(true)\n                  setShowChargesSection(true)\n                }}\n              >\n                <Plus className=\"mr-2 h-4 w-4\" />\n                Nouvelle charge\n              </Button>\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onClick={() => setShowChargesSection(!showChargesSection)}\n              >\n                {showChargesSection ? <ChevronUp className=\"h-4 w-4\" /> : <ChevronDown className=\"h-4 w-4\" />}\n              </Button>\n            </div>\n          </div>\n\n          {showChargesSection && (\n            <div className=\"space-y-4\">\n              {showChargeForm && (\n                <div className=\"border rounded-lg p-6 bg-gray-50\">\n                  <h4 className=\"font-semibold mb-4\">Cr√©er une nouvelle charge</h4>\n                  <form\n                    onSubmit={(e) => {\n                      e.preventDefault()\n                      createChargeMutation.mutate()\n                    }}\n                    className=\"space-y-4\"\n                  >\n                    <div>\n                      <label className=\"block text-sm font-medium mb-2\">Session *</label>\n                      <select\n                        required\n                        value={selectedSessionId}\n                        onChange={(e) => setSelectedSessionId(e.target.value)}\n                        className=\"w-full px-4 py-2 rounded-lg bg-white border focus:ring-2 focus:ring-brand-blue focus:border-transparent\"\n                      >\n                        <option value=\"\">S√©lectionner une session</option>\n                        {sessions?.map((session: any) => (\n                          <option key={session.id} value={session.id}>\n                            {session.name} ({session.start_date ? new Date(session.start_date).toLocaleDateString('fr-FR') : 'N/A'})\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium mb-2\">Description *</label>\n                      <input\n                        type=\"text\"\n                        required\n                        value={chargeForm.description}\n                        onChange={(e) => setChargeForm({ ...chargeForm, description: e.target.value })}\n                        className=\"w-full px-4 py-2 rounded-lg bg-white border focus:ring-2 focus:ring-brand-blue focus:border-transparent\"\n                        placeholder=\"Ex: Location de salle pour la formation\"\n                      />\n                    </div>\n\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <div>\n                        <label className=\"block text-sm font-medium mb-2\">Montant *</label>\n                        <input\n                          type=\"number\"\n                          required\n                          step=\"0.01\"\n                          min=\"0.01\"\n                          value={chargeForm.amount}\n                          onChange={(e) => setChargeForm({ ...chargeForm, amount: e.target.value })}\n                          className=\"w-full px-4 py-2 rounded-lg bg-white border focus:ring-2 focus:ring-brand-blue focus:border-transparent\"\n                          placeholder=\"0.00\"\n                        />\n                      </div>\n\n                      <div>\n                        <label className=\"block text-sm font-medium mb-2\">Devise</label>\n                        <select\n                          value={chargeForm.currency}\n                          onChange={(e) => setChargeForm({ ...chargeForm, currency: e.target.value })}\n                          className=\"w-full px-4 py-2 rounded-lg bg-white border focus:ring-2 focus:ring-brand-blue focus:border-transparent\"\n                        >\n                          <option value=\"EUR\">EUR</option>\n                          <option value=\"USD\">USD</option>\n                          <option value=\"XOF\">XOF</option>\n                        </select>\n                      </div>\n                    </div>\n\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <div>\n                        <label className=\"block text-sm font-medium mb-2\">Date *</label>\n                        <input\n                          type=\"date\"\n                          required\n                          value={chargeForm.charge_date}\n                          onChange={(e) => setChargeForm({ ...chargeForm, charge_date: e.target.value })}\n                          className=\"w-full px-4 py-2 rounded-lg bg-white border focus:ring-2 focus:ring-brand-blue focus:border-transparent\"\n                        />\n                      </div>\n\n                      <div>\n                        <label className=\"block text-sm font-medium mb-2\">Cat√©gorie</label>\n                        <select\n                          value={chargeForm.category_id}\n                          onChange={(e) => setChargeForm({ ...chargeForm, category_id: e.target.value })}\n                          className=\"w-full px-4 py-2 rounded-lg bg-white border focus:ring-2 focus:ring-brand-blue focus:border-transparent\"\n                        >\n                          <option value=\"\">S√©lectionner une cat√©gorie</option>\n                          {chargeCategories?.map((cat) => (\n                            <option key={cat.id} value={cat.id}>\n                              {cat.name}\n                            </option>\n                          ))}\n                        </select>\n                      </div>\n                    </div>\n\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <div>\n                        <label className=\"block text-sm font-medium mb-2\">M√©thode de paiement</label>\n                        <select\n                          value={chargeForm.payment_method}\n                          onChange={(e) => setChargeForm({ ...chargeForm, payment_method: e.target.value })}\n                          className=\"w-full px-4 py-2 rounded-lg bg-white border focus:ring-2 focus:ring-brand-blue focus:border-transparent\"\n                        >\n                          <option value=\"\">Non sp√©cifi√©</option>\n                          <option value=\"cash\">Esp√®ces</option>\n                          <option value=\"bank_transfer\">Virement bancaire</option>\n                          <option value=\"card\">Carte bancaire</option>\n                          <option value=\"mobile_money\">Mobile Money</option>\n                          <option value=\"check\">Ch√®que</option>\n                        </select>\n                      </div>\n\n                      <div>\n                        <label className=\"block text-sm font-medium mb-2\">Statut de paiement</label>\n                        <select\n                          value={chargeForm.payment_status}\n                          onChange={(e) => setChargeForm({ ...chargeForm, payment_status: e.target.value as 'pending' | 'paid' | 'cancelled' })}\n                          className=\"w-full px-4 py-2 rounded-lg bg-white border focus:ring-2 focus:ring-brand-blue focus:border-transparent\"\n                        >\n                          <option value=\"pending\">En attente</option>\n                          <option value=\"paid\">Pay√©</option>\n                          <option value=\"cancelled\">Annul√©</option>\n                        </select>\n                      </div>\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium mb-2\">Fournisseur</label>\n                      <input\n                        type=\"text\"\n                        value={chargeForm.vendor}\n                        onChange={(e) => setChargeForm({ ...chargeForm, vendor: e.target.value })}\n                        className=\"w-full px-4 py-2 rounded-lg bg-white border focus:ring-2 focus:ring-brand-blue focus:border-transparent\"\n                        placeholder=\"Nom du fournisseur/prestataire\"\n                      />\n                    </div>\n\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <div>\n                        <label className=\"block text-sm font-medium mb-2\">N¬∞ facture fournisseur</label>\n                        <input\n                          type=\"text\"\n                          value={chargeForm.vendor_invoice_number}\n                          onChange={(e) => setChargeForm({ ...chargeForm, vendor_invoice_number: e.target.value })}\n                          className=\"w-full px-4 py-2 rounded-lg bg-white border focus:ring-2 focus:ring-brand-blue focus:border-transparent\"\n                          placeholder=\"N¬∞ de facture\"\n                        />\n                      </div>\n\n                      <div>\n                        <label className=\"block text-sm font-medium mb-2\">Date facture fournisseur</label>\n                        <input\n                          type=\"date\"\n                          value={chargeForm.vendor_invoice_date}\n                          onChange={(e) => setChargeForm({ ...chargeForm, vendor_invoice_date: e.target.value })}\n                          className=\"w-full px-4 py-2 rounded-lg bg-white border focus:ring-2 focus:ring-brand-blue focus:border-transparent\"\n                        />\n                      </div>\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium mb-2\">Notes</label>\n                      <textarea\n                        value={chargeForm.notes}\n                        onChange={(e) => setChargeForm({ ...chargeForm, notes: e.target.value })}\n                        rows={3}\n                        className=\"w-full px-4 py-2 rounded-lg bg-white border focus:ring-2 focus:ring-brand-blue focus:border-transparent\"\n                        placeholder=\"Notes suppl√©mentaires...\"\n                      />\n                    </div>\n\n                    <div className=\"flex space-x-2\">\n                      <Button\n                        type=\"button\"\n                        variant=\"outline\"\n                        className=\"flex-1\"\n                        onClick={() => {\n                          setShowChargeForm(false)\n                          setSelectedSessionId('')\n                        }}\n                      >\n                        Annuler\n                      </Button>\n                      <Button\n                        type=\"submit\"\n                        className=\"flex-1\"\n                        disabled={createChargeMutation.isPending}\n                      >\n                        {createChargeMutation.isPending ? 'Cr√©ation...' : 'Cr√©er la charge'}\n                      </Button>\n                    </div>\n                  </form>\n                </div>\n              )}\n\n              {!showChargeForm && (\n                <div className=\"space-y-4\">\n                  {isLoadingCharges ? (\n                    <div className=\"text-center py-8\">\n                      <div className=\"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-current border-r-transparent\"></div>\n                      <p className=\"mt-4 text-muted-foreground\">Chargement des charges...</p>\n                    </div>\n                  ) : allCharges && allCharges.length > 0 ? (\n                    <div className=\"space-y-3\">\n                      <div className=\"flex items-center justify-between mb-4\">\n                        <h4 className=\"font-semibold text-gray-900\">\n                          {allCharges.length} charge{allCharges.length > 1 ? 's' : ''} enregistr√©e{allCharges.length > 1 ? 's' : ''}\n                        </h4>\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          onClick={() => setShowChargeForm(true)}\n                        >\n                          <Plus className=\"mr-2 h-4 w-4\" />\n                          Ajouter une charge\n                        </Button>\n                      </div>\n                      <div className=\"space-y-2\">\n                        {allCharges.map((charge: any) => {\n                          const session = charge.sessions\n                          const category = charge.charge_categories\n                          const statusColors = {\n                            pending: 'bg-yellow-100 text-yellow-800 border-yellow-200',\n                            paid: 'bg-green-100 text-green-800 border-green-200',\n                            cancelled: 'bg-red-100 text-red-800 border-red-200',\n                          }\n                          return (\n                            <div\n                              key={charge.id}\n                              className=\"border rounded-lg p-4 bg-white hover:shadow-md transition-shadow\"\n                            >\n                              <div className=\"flex items-start justify-between\">\n                                <div className=\"flex-1\">\n                                  <div className=\"flex items-center gap-2 mb-2\">\n                                    <h5 className=\"font-semibold text-gray-900\">\n                                      {charge.description}\n                                    </h5>\n                                    <span\n                                      className={`px-2 py-1 rounded text-xs font-medium border ${\n                                        statusColors[charge.payment_status as keyof typeof statusColors] || statusColors.pending\n                                      }`}\n                                    >\n                                      {charge.payment_status === 'pending'\n                                        ? 'En attente'\n                                        : charge.payment_status === 'paid'\n                                        ? 'Pay√©'\n                                        : 'Annul√©'}\n                                    </span>\n                                  </div>\n                                  <div className=\"grid grid-cols-2 gap-4 text-sm text-gray-600\">\n                                    <div>\n                                      <span className=\"font-medium\">Montant:</span>{' '}\n                                      <span className=\"font-bold text-gray-900\">\n                                        {formatCurrency(Number(charge.amount), charge.currency || 'EUR')}\n                                      </span>\n                                    </div>\n                                    {session && (\n                                      <div>\n                                        <span className=\"font-medium\">Session:</span>{' '}\n                                        <span className=\"text-gray-900\">{session.name}</span>\n                                      </div>\n                                    )}\n                                    {category && (\n                                      <div>\n                                        <span className=\"font-medium\">Cat√©gorie:</span>{' '}\n                                        <span className=\"text-gray-900\">{category.name}</span>\n                                      </div>\n                                    )}\n                                    {charge.charge_date && (\n                                      <div>\n                                        <span className=\"font-medium\">Date:</span>{' '}\n                                        <span className=\"text-gray-900\">\n                                          {formatDate(charge.charge_date)}\n                                        </span>\n                                      </div>\n                                    )}\n                                  </div>\n                                  {charge.vendor && (\n                                    <div className=\"mt-2 text-sm text-gray-600\">\n                                      <span className=\"font-medium\">Fournisseur:</span>{' '}\n                                      <span className=\"text-gray-900\">{charge.vendor}</span>\n                                    </div>\n                                  )}\n                                  {charge.notes && (\n                                    <div className=\"mt-2 text-sm text-gray-600\">\n                                      <span className=\"font-medium\">Notes:</span>{' '}\n                                      <span className=\"text-gray-900\">{charge.notes}</span>\n                                    </div>\n                                  )}\n                                </div>\n                              </div>\n                            </div>\n                          )\n                        })}\n                      </div>\n                    </div>\n                  ) : (\n                    <div className=\"text-center py-8 text-muted-foreground\">\n                      <TrendingDown className=\"h-12 w-12 mx-auto mb-4 opacity-50\" />\n                      <p>G√©rez les charges (d√©penses) associ√©es aux sessions de formation.</p>\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        className=\"mt-4\"\n                        onClick={() => setShowChargeForm(true)}\n                      >\n                        <Plus className=\"mr-2 h-4 w-4\" />\n                        Ajouter une charge\n                      </Button>\n                    </div>\n                  )}\n                </div>\n              )}\n            </div>\n          )}\n        </GlassCard>\n      </motion.div>\n    </motion.div>\n  )\n}\n"],"names":[],"mappings":"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"}