{"version":3,"sources":["../../../../node_modules/lucide-react/src/icons/arrow-left.ts","../../../../node_modules/lucide-react/src/icons/clock.ts","../../../../node_modules/lucide-react/src/icons/check-circle.ts","../../../../node_modules/lucide-react/src/icons/x-circle.ts","../../../../node_modules/lucide-react/src/icons/send.ts","../../../../node_modules/lucide-react/src/icons/star.ts","../../../../lib/services/support.service.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ArrowLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTIgMTktNy03IDctNyIgLz4KICA8cGF0aCBkPSJNMTkgMTJINSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/arrow-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowLeft = createLucideIcon('ArrowLeft', [\n  ['path', { d: 'm12 19-7-7 7-7', key: '1l729n' }],\n  ['path', { d: 'M19 12H5', key: 'x3x0zl' }],\n]);\n\nexport default ArrowLeft;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Clock\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cG9seWxpbmUgcG9pbnRzPSIxMiA2IDEyIDEyIDE2IDE0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/clock\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Clock = createLucideIcon('Clock', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['polyline', { points: '12 6 12 12 16 14', key: '68esgv' }],\n]);\n\nexport default Clock;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name CheckCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjIgMTEuMDhWMTJhMTAgMTAgMCAxIDEtNS45My05LjE0IiAvPgogIDxwYXRoIGQ9Im05IDExIDMgM0wyMiA0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/check-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CheckCircle = createLucideIcon('CheckCircle', [\n  ['path', { d: 'M22 11.08V12a10 10 0 1 1-5.93-9.14', key: 'g774vq' }],\n  ['path', { d: 'm9 11 3 3L22 4', key: '1pflzl' }],\n]);\n\nexport default CheckCircle;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name XCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJtMTUgOS02IDYiIC8+CiAgPHBhdGggZD0ibTkgOSA2IDYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/x-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst XCircle = createLucideIcon('XCircle', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'm15 9-6 6', key: '1uzhvr' }],\n  ['path', { d: 'm9 9 6 6', key: 'z0biqf' }],\n]);\n\nexport default XCircle;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Send\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjIgMi03IDIwLTQtOS05LTRaIiAvPgogIDxwYXRoIGQ9Ik0yMiAyIDExIDEzIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/send\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Send = createLucideIcon('Send', [\n  ['path', { d: 'm22 2-7 20-4-9-9-4Z', key: '1q3vgg' }],\n  ['path', { d: 'M22 2 11 13', key: 'nzbqef' }],\n]);\n\nexport default Send;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Star\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cG9seWdvbiBwb2ludHM9IjEyIDIgMTUuMDkgOC4yNiAyMiA5LjI3IDE3IDE0LjE0IDE4LjE4IDIxLjAyIDEyIDE3Ljc3IDUuODIgMjEuMDIgNyAxNC4xNCAyIDkuMjcgOC45MSA4LjI2IDEyIDIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/star\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Star = createLucideIcon('Star', [\n  [\n    'polygon',\n    {\n      points:\n        '12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2',\n      key: '8f66p6',\n    },\n  ],\n]);\n\nexport default Star;\n","import { createClient } from '@/lib/supabase/client'\nimport type { SupabaseClient } from '@supabase/supabase-js'\nimport { Database } from '@/types/database.types'\nimport type { TableRow, TableInsert, TableUpdate } from '@/lib/types/supabase-helpers'\n\ntype SupportTicket = TableRow<'support_tickets'>\ntype SupportTicketMessage = TableRow<'support_ticket_messages'>\ntype SupportCategory = TableRow<'support_categories'>\ntype SupportTicketNote = TableRow<'support_ticket_notes'>\ntype SupportTicketRating = TableRow<'support_ticket_ratings'>\ntype SupportResponseTemplate = TableRow<'support_response_templates'>\n\nexport class SupportService {\n  private supabase: SupabaseClient<Database>\n\n\n  constructor(supabaseClient?: SupabaseClient<Database>) {\n\n    this.supabase = supabaseClient || createClient()\n\n  }\n\n  // ========== CATEGORIES ==========\n\n  async getCategories(organizationId: string) {\n    const { data, error } = await this.supabase\n      .from('support_categories')\n      .select('*')\n      .eq('organization_id', organizationId)\n      .eq('is_active', true)\n      .order('order_index', { ascending: true })\n\n    if (error) {\n      // Si la table n'existe pas encore ou erreur 404, retourner un tableau vide\n      const errorObj = error as { code?: string; status?: number; message?: string }\n      if (\n        errorObj.code === 'PGRST116' ||\n        errorObj.code === '42P01' ||\n        errorObj.code === 'PGRST301' ||\n        errorObj.status === 404 ||\n        errorObj.code === '404' ||\n        errorObj.message?.includes('relation') ||\n        errorObj.message?.includes('relationship') ||\n        errorObj.message?.includes('does not exist') ||\n        errorObj.message?.includes('schema cache')\n      ) {\n        console.warn('Table support_categories does not exist yet or invalid query:', errorObj?.message)\n        return []\n      }\n      throw error\n    }\n    return data || []\n  }\n\n  async createCategory(category: TableInsert<'support_categories'>) {\n    const { data, error } = await this.supabase\n      .from('support_categories')\n      .insert(category)\n      .select()\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  async updateCategory(id: string, updates: TableUpdate<'support_categories'>) {\n    const { data, error } = await this.supabase\n      .from('support_categories')\n      .update(updates)\n      .eq('id', id)\n      .select()\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  async deleteCategory(id: string) {\n    const { error } = await this.supabase\n      .from('support_categories')\n      .delete()\n      .eq('id', id)\n\n    if (error) throw error\n  }\n\n  // ========== TICKETS ==========\n\n  async getTickets(organizationId: string, filters?: {\n    userId?: string\n    status?: SupportTicket['status']\n    priority?: SupportTicket['priority']\n    categoryId?: string\n    assignedTo?: string\n  }) {\n    let query = this.supabase\n      .from('support_tickets')\n      .select(`\n        *,\n        user:users(id, full_name, email),\n        assigned_user:users!support_tickets_assigned_to_fkey(id, full_name, email),\n        category:support_categories(*)\n      `)\n      .eq('organization_id', organizationId)\n\n    if (filters?.userId) {\n      query = query.eq('user_id', filters.userId)\n    }\n\n    if (filters?.status) {\n      query = query.eq('status', filters.status)\n    }\n\n    if (filters?.priority) {\n      query = query.eq('priority', filters.priority)\n    }\n\n    if (filters?.categoryId) {\n      query = query.eq('category_id', filters.categoryId)\n    }\n\n    if (filters?.assignedTo) {\n      query = query.eq('assigned_to', filters.assignedTo)\n    }\n\n    const { data, error } = await query\n      .order('created_at', { ascending: false })\n\n    if (error) {\n      // Si la table n'existe pas encore ou erreur 404/400, retourner un tableau vide\n      const errorObj = error as { code?: string; status?: number; message?: string }\n      if (\n        errorObj.code === 'PGRST116' ||\n        errorObj.code === '42P01' ||\n        errorObj.code === 'PGRST301' ||\n        errorObj.status === 404 ||\n        errorObj.status === 400 ||\n        errorObj.code === '404' ||\n        errorObj.code === '400' ||\n        errorObj.message?.includes('relation') ||\n        errorObj.message?.includes('relationship') ||\n        errorObj.message?.includes('does not exist') ||\n        errorObj.message?.includes('schema cache') ||\n        errorObj.message?.includes('Could not find a relationship')\n      ) {\n        // Ne pas logger en mode production pour éviter le bruit dans la console\n        if (process.env.NODE_ENV === 'development') {\n          console.warn('Table support_tickets does not exist yet or invalid query:', error?.message)\n        }\n        return []\n      }\n      throw error\n    }\n    return data || []\n  }\n\n  async getTicketById(id: string) {\n    const { data, error } = await this.supabase\n      .from('support_tickets')\n      .select(`\n        *,\n        user:users(id, full_name, email),\n        assigned_user:users!support_tickets_assigned_to_fkey(id, full_name, email),\n        category:support_categories(*)\n      `)\n      .eq('id', id)\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  async createTicket(ticket: TableInsert<'support_tickets'>) {\n    const { data, error } = await this.supabase\n      .from('support_tickets')\n      .insert(ticket)\n      .select()\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  async updateTicket(id: string, updates: TableUpdate<'support_tickets'>) {\n    const { data, error } = await this.supabase\n      .from('support_tickets')\n      .update(updates)\n      .eq('id', id)\n      .select()\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  async assignTicket(ticketId: string, userId: string) {\n    return this.updateTicket(ticketId, {\n      assigned_to: userId,\n      assigned_at: new Date().toISOString(),\n      status: 'in_progress',\n    })\n  }\n\n  async resolveTicket(ticketId: string) {\n    return this.updateTicket(ticketId, {\n      status: 'resolved',\n      resolved_at: new Date().toISOString(),\n    })\n  }\n\n  async closeTicket(ticketId: string) {\n    return this.updateTicket(ticketId, {\n      status: 'closed',\n      closed_at: new Date().toISOString(),\n    })\n  }\n\n  // ========== MESSAGES ==========\n\n  async getTicketMessages(ticketId: string) {\n    const { data, error } = await this.supabase\n      .from('support_ticket_messages')\n      .select(`\n        *,\n        user:users(id, full_name, email)\n      `)\n      .eq('ticket_id', ticketId)\n      .order('created_at', { ascending: true })\n\n    if (error) throw error\n    return data\n  }\n\n  async createMessage(message: TableInsert<'support_ticket_messages'>) {\n    const { data, error } = await this.supabase\n      .from('support_ticket_messages')\n      .insert(message)\n      .select(`\n        *,\n        user:users(id, full_name, email)\n      `)\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  async markMessageAsRead(messageId: string) {\n    const { data, error } = await this.supabase\n      .from('support_ticket_messages')\n      .update({\n        is_read: true,\n        read_at: new Date().toISOString(),\n      })\n      .eq('id', messageId)\n      .select()\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  // ========== NOTES ==========\n\n  async getTicketNotes(ticketId: string) {\n    const { data, error } = await this.supabase\n      .from('support_ticket_notes')\n      .select(`\n        *,\n        user:users(id, full_name, email)\n      `)\n      .eq('ticket_id', ticketId)\n      .order('created_at', { ascending: false })\n\n    if (error) throw error\n    return data\n  }\n\n  async createNote(note: TableInsert<'support_ticket_notes'>) {\n    const { data, error } = await this.supabase\n      .from('support_ticket_notes')\n      .insert(note)\n      .select(`\n        *,\n        user:users(id, full_name, email)\n      `)\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  async updateNote(id: string, updates: TableUpdate<'support_ticket_notes'>) {\n    const { data, error } = await this.supabase\n      .from('support_ticket_notes')\n      .update(updates)\n      .eq('id', id)\n      .select()\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  async deleteNote(id: string) {\n    const { error } = await this.supabase\n      .from('support_ticket_notes')\n      .delete()\n      .eq('id', id)\n\n    if (error) throw error\n  }\n\n  // ========== RATINGS ==========\n\n  async createRating(rating: TableInsert<'support_ticket_ratings'>) {\n    const { data, error } = await this.supabase\n      .from('support_ticket_ratings')\n      .insert(rating)\n      .select()\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  async getTicketRating(ticketId: string) {\n    const { data, error } = await this.supabase\n      .from('support_ticket_ratings')\n      .select('*')\n      .eq('ticket_id', ticketId)\n      .maybeSingle()\n\n    if (error) throw error\n    return data\n  }\n\n  // ========== TEMPLATES ==========\n\n  async getTemplates(organizationId: string) {\n    const { data, error } = await this.supabase\n      .from('support_response_templates')\n      .select('*')\n      .eq('organization_id', organizationId)\n      .eq('is_active', true)\n      .order('name', { ascending: true })\n\n    if (error) throw error\n    return data\n  }\n\n  async createTemplate(template: TableInsert<'support_response_templates'>) {\n    const { data, error } = await this.supabase\n      .from('support_response_templates')\n      .insert(template)\n      .select()\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  async updateTemplate(id: string, updates: TableUpdate<'support_response_templates'>) {\n    const { data, error } = await this.supabase\n      .from('support_response_templates')\n      .update(updates)\n      .eq('id', id)\n      .select()\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  async deleteTemplate(id: string) {\n    const { error } = await this.supabase\n      .from('support_response_templates')\n      .delete()\n      .eq('id', id)\n\n    if (error) throw error\n  }\n\n  // ========== STATISTICS ==========\n\n  async getStatistics(organizationId: string, filters?: {\n    startDate?: string\n    endDate?: string\n  }) {\n    let query = this.supabase\n      .from('support_tickets')\n      .select('status, priority, created_at, resolved_at, first_response_at')\n      .eq('organization_id', organizationId)\n\n    if (filters?.startDate) {\n      query = query.gte('created_at', filters.startDate)\n    }\n\n    if (filters?.endDate) {\n      query = query.lte('created_at', filters.endDate)\n    }\n\n    const { data, error } = await query\n\n    if (error) throw error\n\n    const ticketsData = (data || []) as any[]\n\n    const stats = {\n      total: ticketsData.length,\n      byStatus: {\n        open: 0,\n        in_progress: 0,\n        waiting_customer: 0,\n        resolved: 0,\n        closed: 0,\n      },\n      byPriority: {\n        low: 0,\n        medium: 0,\n        high: 0,\n        urgent: 0,\n      },\n      averageResponseTime: 0,\n      averageResolutionTime: 0,\n      resolutionRate: 0,\n    }\n\n    let totalResponseTime = 0\n    let responseCount = 0\n    let totalResolutionTime = 0\n    let resolutionCount = 0\n    let resolvedCount = 0\n\n    ticketsData.forEach((ticket: any) => {\n      // Par statut\n      if (ticket.status && ticket.status in stats.byStatus) {\n        stats.byStatus[ticket.status as keyof typeof stats.byStatus]++\n      }\n\n      // Par priorité\n      if (ticket.priority && ticket.priority in stats.byPriority) {\n        stats.byPriority[ticket.priority as keyof typeof stats.byPriority]++\n      }\n\n      // Temps de réponse moyen\n      if (ticket.first_response_at && ticket.created_at) {\n        const responseTime =\n          new Date(ticket.first_response_at).getTime() -\n          new Date(ticket.created_at).getTime()\n        totalResponseTime += responseTime\n        responseCount++\n      }\n\n      // Temps de résolution moyen\n      if (ticket.resolved_at && ticket.created_at) {\n        const resolutionTime =\n          new Date(ticket.resolved_at).getTime() -\n          new Date(ticket.created_at).getTime()\n        totalResolutionTime += resolutionTime\n        resolutionCount++\n      }\n\n      // Taux de résolution\n      if (ticket.status === 'resolved' || ticket.status === 'closed') {\n        resolvedCount++\n      }\n    })\n\n    if (responseCount > 0) {\n      stats.averageResponseTime = totalResponseTime / responseCount / (1000 * 60) // en minutes\n    }\n\n    if (resolutionCount > 0) {\n      stats.averageResolutionTime = totalResolutionTime / resolutionCount / (1000 * 60 * 60) // en heures\n    }\n\n    if (data.length > 0) {\n      stats.resolutionRate = (resolvedCount / data.length) * 100\n    }\n\n    return stats\n  }\n}\n\nexport const supportService = new SupportService()\n"],"names":[],"mappings":"wCAaM,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAY,AAAZ,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,MAAY,OAAA,EAAiB,WAAa,CAAA,CAAA,AAC9C,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA,CAAA,AAAE,EAAG,CAAkB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAK,QAAA,CAAU,CAAA,CAAA,AAC/C,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA,CAAA,AAAE,EAAG,CAAY,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAK,AAAL,QAAK,CAAU,CAAA,CAC1C,CAAA,CAAA,yDCHK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAQ,CAAR,CAAA,UAAQ,OAAA,EAAiB,OAAS,CAAA,CAAA,AACtC,CAAC,QAAU,CAAA,CAAA,AAAE,EAAI,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,CAAI,CAAA,CAAA,IAAA,CAAM,CAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAM,GAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,CACzD,AADyD,CACxD,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAY,CAAA,CAAA,AAAE,OAAQ,CAAoB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAK,QAAA,CAAU,CAAA,CAC3D,CAAA,CAAA,qDCHK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAc,CAAd,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,IAAc,OAAA,EAAiB,aAAe,CAAA,CAAA,AAClD,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA,CAAA,AAAE,EAAG,CAAsC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAK,QAAA,CAAU,CAAA,CACnE,AADmE,CAClE,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA,CAAA,AAAE,EAAG,CAAkB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAK,QAAA,CAAU,CAAA,CAChD,CAAA,CAAA,0DCHK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAU,CAAV,CAAA,CAAA,CAAA,QAAU,OAAA,EAAiB,SAAW,CAAA,CAAA,AAC1C,CAAC,QAAU,CAAA,CAAE,AAAF,EAAM,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,CAAI,CAAA,CAAA,IAAA,CAAM,CAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,AAAN,GAAW,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,CAAA,AACzD,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA,CAAA,AAAE,EAAG,CAAa,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAK,QAAA,CAAU,CAAA,CAAA,AAC1C,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA,CAAE,AAAF,EAAK,CAAY,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAK,QAAA,CAAU,CAAA,CAC1C,CAAA,CAAA,sDCJK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAO,CAAP,WAAO,OAAA,EAAiB,MAAQ,CAAA,CAAA,AACpC,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA,CAAA,AAAE,EAAG,CAAuB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAK,QAAA,CAAU,CAAA,CAAA,AACpD,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA,CAAA,AAAE,EAAG,CAAe,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAK,QAAA,CAAU,CAAA,CAC7C,CAAA,CAAA,oDCHK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAO,AAAP,CAAA,WAAO,OAAA,EAAiB,MAAQ,CAAA,CAAA,AACpC,CAAA,AACE,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AACA,CAAA,AACE,CAAA,CAAA,CAAA,CAAA,CAAA,CACE,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AACF,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AACP,CAAA,CACF,CACD,CAAA,CAAA,oDCtBD,IAAA,EAAA,EAAA,CAAA,CAAA,QAqeO,IAAM,EAAiB,IAzdvB,AAyd2B,MAzdrB,AACH,QAGR,AAH0C,aAG9B,CAAyC,CAAE,CAErD,IAAI,CAAC,QAAQ,CAAG,GAAkB,CAAA,EAAA,EAAA,YAAA,AAAY,GAEhD,CAIA,MAAM,cAAc,CAAsB,CAAE,CAC1C,GAAM,MAAE,CAAI,OAAE,CAAK,CAAE,CAAG,MAAM,IAAI,CAAC,QAAQ,CACxC,IAAI,CAAC,sBACL,MAAM,CAAC,KACP,EAAE,CAAC,kBAAmB,GACtB,EAAE,CAAC,YAAa,IAChB,KAAK,CAAC,cAAe,CAAE,WAAW,CAAK,GAE1C,GAAI,EAAO,CAGT,GACoB,aAFH,AAEf,EAAS,IAAI,EACK,UAAlB,EAAS,IAAI,EACb,AAAkB,eAAT,IAAI,EACO,MAApB,EAAS,MAAM,EACG,AAAlB,UAAS,IAAI,EACb,EAAS,OAAO,EAAE,SAAS,aAC3B,EAAS,OAAO,EAAE,SAAS,iBAC3B,EAAS,OAAO,EAAE,SAAS,mBAC3B,EAAS,OAAO,EAAE,SAAS,gBAG3B,CAFA,MACA,QAAQ,IAAI,CAAC,iEAAiE,EAAU,SACjF,EAAE,AAEX,OAAM,CACR,CACA,OAAO,GAAQ,EAAE,AACnB,CAEA,MAAM,eAAe,CAA2C,CAAE,CAChE,GAAM,MAAE,CAAI,OAAE,CAAK,CAAE,CAAG,MAAM,IAAI,CAAC,QAAQ,CACxC,IAAI,CAAC,sBACL,MAAM,CAAC,GACP,MAAM,GACN,MAAM,GAET,GAAI,EAAO,MAAM,EACjB,OAAO,CACT,CAEA,MAAM,eAAe,CAAU,CAAE,CAA0C,CAAE,CAC3E,GAAM,MAAE,CAAI,OAAE,CAAK,CAAE,CAAG,MAAM,IAAI,CAAC,QAAQ,CACxC,IAAI,CAAC,sBACL,MAAM,CAAC,GACP,EAAE,CAAC,KAAM,GACT,MAAM,GACN,MAAM,GAET,GAAI,EAAO,MAAM,EACjB,OAAO,CACT,CAEA,MAAM,eAAe,CAAU,CAAE,CAC/B,GAAM,OAAE,CAAK,CAAE,CAAG,MAAM,IAAI,CAAC,QAAQ,CAClC,IAAI,CAAC,sBACL,MAAM,GACN,EAAE,CAAC,KAAM,GAEZ,GAAI,EAAO,MAAM,CACnB,CAIA,MAAM,WAAW,CAAsB,CAAE,CAMxC,CAAE,CACD,IAAI,EAAQ,IAAI,CAAC,QAAQ,CACtB,IAAI,CAAC,mBACL,MAAM,CAAC,CAAC;;;;;MAKT,CAAC,EACA,EAAE,CAAC,kBAAmB,GAErB,GAAS,QAAQ,AACnB,GAAQ,EAAM,EAAE,CAAC,UAAW,EAAQ,OAAM,EAGxC,GAAS,QAAQ,CACnB,EAAQ,EAAM,EAAE,CAAC,SAAU,EAAQ,OAAM,EAGvC,GAAS,UAAU,CACrB,EAAQ,EAAM,EAAE,CAAC,WAAY,EAAQ,SAAQ,EAG3C,GAAS,YAAY,CACvB,EAAQ,EAAM,EAAE,CAAC,cAAe,EAAQ,WAAU,EAGhD,GAAS,YAAY,AACvB,GAAQ,EAAM,EAAE,CAAC,cAAe,EAAQ,WAAU,EAGpD,GAAM,MAAE,CAAI,OAAE,CAAK,CAAE,CAAG,MAAM,EAC3B,KAAK,CAAC,aAAc,CAAE,WAAW,CAAM,GAE1C,GAAI,EAAO,CAGT,GACE,AAAkB,eAAT,IAAI,EACK,UAAlB,EAAS,IAAI,EACK,aAAlB,EAAS,IAAI,EACO,MAApB,EAAS,MAAM,EACf,AAAoB,QAAX,MAAM,EACG,QAAlB,EAAS,IAAI,EACK,QAAlB,EAAS,IAAI,EACb,EAAS,OAAO,EAAE,SAAS,aAC3B,EAAS,OAAO,EAAE,SAAS,iBAC3B,EAAS,OAAO,EAAE,SAAS,mBAC3B,EAAS,OAAO,EAAE,SAAS,iBAC3B,AAbe,EAaN,OAAO,EAAE,SAAS,iCAM3B,CALA,KAKO,EAAE,AAEX,OAAM,CACR,CACA,OAAO,GAAQ,EAAE,AACnB,CAEA,MAAM,cAAc,CAAU,CAAE,CAC9B,GAAM,MAAE,CAAI,OAAE,CAAK,CAAE,CAAG,MAAM,IAAI,CAAC,QAAQ,CACxC,IAAI,CAAC,mBACL,MAAM,CAAC,CAAC;;;;;MAKT,CAAC,EACA,EAAE,CAAC,KAAM,GACT,MAAM,GAET,GAAI,EAAO,MAAM,EACjB,OAAO,CACT,CAEA,MAAM,aAAa,CAAsC,CAAE,CACzD,GAAM,MAAE,CAAI,OAAE,CAAK,CAAE,CAAG,MAAM,IAAI,CAAC,QAAQ,CACxC,IAAI,CAAC,mBACL,MAAM,CAAC,GACP,MAAM,GACN,MAAM,GAET,GAAI,EAAO,MAAM,EACjB,OAAO,CACT,CAEA,MAAM,aAAa,CAAU,CAAE,CAAuC,CAAE,CACtE,GAAM,MAAE,CAAI,OAAE,CAAK,CAAE,CAAG,MAAM,IAAI,CAAC,QAAQ,CACxC,IAAI,CAAC,mBACL,MAAM,CAAC,GACP,EAAE,CAAC,KAAM,GACT,MAAM,GACN,MAAM,GAET,GAAI,EAAO,MAAM,EACjB,OAAO,CACT,CAEA,MAAM,aAAa,CAAgB,CAAE,CAAc,CAAE,CACnD,OAAO,IAAI,CAAC,YAAY,CAAC,EAAU,CACjC,YAAa,EACb,YAAa,IAAI,OAAO,WAAW,GACnC,OAAQ,aACV,EACF,CAEA,MAAM,cAAc,CAAgB,CAAE,CACpC,OAAO,IAAI,CAAC,YAAY,CAAC,EAAU,CACjC,OAAQ,WACR,YAAa,IAAI,OAAO,WAAW,EACrC,EACF,CAEA,MAAM,YAAY,CAAgB,CAAE,CAClC,OAAO,IAAI,CAAC,YAAY,CAAC,EAAU,CACjC,OAAQ,SACR,UAAW,IAAI,OAAO,WAAW,EACnC,EACF,CAIA,MAAM,kBAAkB,CAAgB,CAAE,CACxC,GAAM,MAAE,CAAI,CAAE,OAAK,CAAE,CAAG,MAAM,IAAI,CAAC,QAAQ,CACxC,IAAI,CAAC,2BACL,MAAM,CAAC,CAAC;;;MAGT,CAAC,EACA,EAAE,CAAC,YAAa,GAChB,KAAK,CAAC,aAAc,CAAE,WAAW,CAAK,GAEzC,GAAI,EAAO,MAAM,EACjB,OAAO,CACT,CAEA,MAAM,cAAc,CAA+C,CAAE,CACnE,GAAM,MAAE,CAAI,OAAE,CAAK,CAAE,CAAG,MAAM,IAAI,CAAC,QAAQ,CACxC,IAAI,CAAC,2BACL,MAAM,CAAC,GACP,MAAM,CAAC,CAAC;;;MAGT,CAAC,EACA,MAAM,GAET,GAAI,EAAO,MAAM,EACjB,OAAO,CACT,CAEA,MAAM,kBAAkB,CAAiB,CAAE,CACzC,GAAM,MAAE,CAAI,OAAE,CAAK,CAAE,CAAG,MAAM,IAAI,CAAC,QAAQ,CACxC,IAAI,CAAC,2BACL,MAAM,CAAC,CACN,SAAS,EACT,QAAS,IAAI,OAAO,WAAW,EACjC,GACC,EAAE,CAAC,KAAM,GACT,MAAM,GACN,MAAM,GAET,GAAI,EAAO,MAAM,EACjB,OAAO,CACT,CAIA,MAAM,eAAe,CAAgB,CAAE,CACrC,GAAM,MAAE,CAAI,OAAE,CAAK,CAAE,CAAG,MAAM,IAAI,CAAC,QAAQ,CACxC,IAAI,CAAC,wBACL,MAAM,CAAC,CAAC;;;MAGT,CAAC,EACA,EAAE,CAAC,YAAa,GAChB,KAAK,CAAC,aAAc,CAAE,WAAW,CAAM,GAE1C,GAAI,EAAO,MAAM,EACjB,OAAO,CACT,CAEA,MAAM,WAAW,CAAyC,CAAE,CAC1D,GAAM,MAAE,CAAI,OAAE,CAAK,CAAE,CAAG,MAAM,IAAI,CAAC,QAAQ,CACxC,IAAI,CAAC,wBACL,MAAM,CAAC,GACP,MAAM,CAAC,CAAC;;;MAGT,CAAC,EACA,MAAM,GAET,GAAI,EAAO,MAAM,EACjB,OAAO,CACT,CAEA,MAAM,WAAW,CAAU,CAAE,CAA4C,CAAE,CACzE,GAAM,MAAE,CAAI,OAAE,CAAK,CAAE,CAAG,MAAM,IAAI,CAAC,QAAQ,CACxC,IAAI,CAAC,wBACL,MAAM,CAAC,GACP,EAAE,CAAC,KAAM,GACT,MAAM,GACN,MAAM,GAET,GAAI,EAAO,MAAM,EACjB,OAAO,CACT,CAEA,MAAM,WAAW,CAAU,CAAE,CAC3B,GAAM,CAAE,OAAK,CAAE,CAAG,MAAM,IAAI,CAAC,QAAQ,CAClC,IAAI,CAAC,wBACL,MAAM,GACN,EAAE,CAAC,KAAM,GAEZ,GAAI,EAAO,MAAM,CACnB,CAIA,MAAM,aAAa,CAA6C,CAAE,CAChE,GAAM,MAAE,CAAI,OAAE,CAAK,CAAE,CAAG,MAAM,IAAI,CAAC,QAAQ,CACxC,IAAI,CAAC,0BACL,MAAM,CAAC,GACP,MAAM,GACN,MAAM,GAET,GAAI,EAAO,MAAM,EACjB,OAAO,CACT,CAEA,MAAM,gBAAgB,CAAgB,CAAE,CACtC,GAAM,MAAE,CAAI,OAAE,CAAK,CAAE,CAAG,MAAM,IAAI,CAAC,QAAQ,CACxC,IAAI,CAAC,0BACL,MAAM,CAAC,KACP,EAAE,CAAC,YAAa,GAChB,WAAW,GAEd,GAAI,EAAO,MAAM,EACjB,OAAO,CACT,CAIA,MAAM,aAAa,CAAsB,CAAE,CACzC,GAAM,MAAE,CAAI,OAAE,CAAK,CAAE,CAAG,MAAM,IAAI,CAAC,QAAQ,CACxC,IAAI,CAAC,8BACL,MAAM,CAAC,KACP,EAAE,CAAC,kBAAmB,GACtB,EAAE,CAAC,aAAa,GAChB,KAAK,CAAC,OAAQ,CAAE,WAAW,CAAK,GAEnC,GAAI,EAAO,MAAM,EACjB,OAAO,CACT,CAEA,MAAM,eAAe,CAAmD,CAAE,CACxE,GAAM,MAAE,CAAI,OAAE,CAAK,CAAE,CAAG,MAAM,IAAI,CAAC,QAAQ,CACxC,IAAI,CAAC,8BACL,MAAM,CAAC,GACP,MAAM,GACN,MAAM,GAET,GAAI,EAAO,MAAM,EACjB,OAAO,CACT,CAEA,MAAM,eAAe,CAAU,CAAE,CAAkD,CAAE,CACnF,GAAM,CAAE,MAAI,OAAE,CAAK,CAAE,CAAG,MAAM,IAAI,CAAC,QAAQ,CACxC,IAAI,CAAC,8BACL,MAAM,CAAC,GACP,EAAE,CAAC,KAAM,GACT,MAAM,GACN,MAAM,GAET,GAAI,EAAO,MAAM,EACjB,OAAO,CACT,CAEA,MAAM,eAAe,CAAU,CAAE,CAC/B,GAAM,OAAE,CAAK,CAAE,CAAG,MAAM,IAAI,CAAC,QAAQ,CAClC,IAAI,CAAC,8BACL,MAAM,GACN,EAAE,CAAC,KAAM,GAEZ,GAAI,EAAO,MAAM,CACnB,CAIA,MAAM,cAAc,CAAsB,CAAE,CAG3C,CAAE,CACD,IAAI,EAAQ,IAAI,CAAC,QAAQ,CACtB,IAAI,CAAC,mBACL,MAAM,CAAC,gEACP,EAAE,CAAC,kBAAmB,GAErB,GAAS,WAAW,CACtB,EAAQ,EAAM,GAAG,CAAC,aAAc,EAAQ,UAAS,EAG/C,GAAS,SAAS,CACpB,EAAQ,EAAM,GAAG,CAAC,aAAc,EAAQ,QAAO,EAGjD,GAAM,MAAE,CAAI,OAAE,CAAK,CAAE,CAAG,MAAM,EAE9B,GAAI,EAAO,MAAM,EAEjB,IAAM,EAAe,GAAQ,EAAE,CAEzB,EAAQ,CACZ,MAAO,EAAY,MAAM,CACzB,SAAU,CACR,KAAM,EACN,YAAa,EACb,iBAAkB,EAClB,SAAU,EACV,OAAQ,CACV,EACA,WAAY,CACV,IAAK,EACL,OAAQ,EACR,KAAM,EACN,OAAQ,CACV,EACA,oBAAqB,EACrB,sBAAuB,EACvB,eAAgB,CAClB,EAEI,EAAoB,EACpB,EAAgB,EAChB,EAAsB,EACtB,EAAkB,EAClB,EAAgB,EAiDpB,OA/CA,EAAY,OAAO,CAAC,AAAC,IAYnB,GAVI,EAAO,MAAM,EAAI,EAAO,MAAM,IAAI,EAAM,QAAQ,EAAE,AACpD,EAAM,QAAQ,CAAC,EAAO,MAAM,CAAgC,GAI1D,EAAO,QAAQ,EAAI,EAAO,QAAQ,IAAI,EAAM,UAAU,EAAE,AAC1D,EAAM,UAAU,CAAC,EAAO,QAAQ,CAAkC,GAIhE,EAAO,iBAAiB,EAAI,EAAO,UAAU,CAAE,CACjD,IAAM,EACJ,IAAI,KAAK,EAAO,iBAAiB,EAAE,OAAO,GAC1C,IAAI,KAAK,EAAO,UAAU,EAAE,OAAO,GACrC,GAAqB,EACrB,GACF,CAGA,GAAI,EAAO,WAAW,EAAI,EAAO,UAAU,CAAE,CAC3C,IAAM,EACJ,IAAI,KAAK,EAAO,WAAW,EAAE,OAAO,GACpC,IAAI,KAAK,EAAO,UAAU,EAAE,OAAO,GACrC,GAAuB,EACvB,GACF,EAGsB,aAAlB,EAAO,MAAM,EAAqC,WAAlB,EAAO,MAAM,AAAK,GAAU,AAC9D,GAEJ,GAEI,EAAgB,GAAG,CACrB,EAAM,mBAAmB,CAAG,EAAoB,EAAiB,GAAS,EAGxE,CAH0E,CAAJ,AAGpD,GAAG,CACvB,EAAM,CAJ0D,KAAyB,eAI9D,CAAG,EAAsB,EAAmB,IAAc,EAGnF,CAH4E,AAAS,CAGhF,IAH4E,EAGtE,CAAG,CAHsD,EAGnD,CAHgF,AAInG,EAAM,cAAc,CAAI,EAAgB,EAAK,MAAM,CAAI,GAAA,EAGlD,CACT,CACF","ignoreList":[0,1,2,3,4,5]}