{"version":3,"sources":["../../../../node_modules/lucide-react/src/icons/trending-up.ts","../../../../components/auth/role-guard.tsx","../../../../node_modules/lucide-react/src/icons/shield-alert.ts","../../../../node_modules/lucide-react/src/icons/filter.ts","../../../../components/ui/skeleton.tsx","../../../../lib/services/export-history.service.ts","../../../../node_modules/lucide-react/src/icons/file-spreadsheet.ts","../../../../app/%28dashboard%29/dashboard/admin/exports/page.tsx"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name TrendingUp\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cG9seWxpbmUgcG9pbnRzPSIyMiA3IDEzLjUgMTUuNSA4LjUgMTAuNSAyIDE3IiAvPgogIDxwb2x5bGluZSBwb2ludHM9IjE2IDcgMjIgNyAyMiAxMyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/trending-up\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst TrendingUp = createLucideIcon('TrendingUp', [\n  ['polyline', { points: '22 7 13.5 15.5 8.5 10.5 2 17', key: '126l90' }],\n  ['polyline', { points: '16 7 22 7 22 13', key: 'kwv8wd' }],\n]);\n\nexport default TrendingUp;\n","'use client'\n\nimport { useAuth } from '@/lib/hooks/use-auth'\nimport { useRouter } from 'next/navigation'\nimport { useEffect, useState } from 'react'\nimport { AlertCircle, ShieldAlert } from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport { Card, CardContent } from '@/components/ui/card'\nimport Link from 'next/link'\n\ninterface RoleGuardProps {\n  children: React.ReactNode\n  allowedRoles: string[]\n  fallback?: React.ReactNode\n  redirectTo?: string\n}\n\n// Rôles avec accès administratif\nexport const ADMIN_ROLES = ['super_admin', 'admin', 'secretary', 'accountant']\n// Rôles avec accès aux finances (incluant secrétaire)\nexport const FINANCE_ROLES = ['super_admin', 'admin', 'secretary', 'accountant']\n// Rôles avec accès à la gestion des formations\nexport const FORMATION_MANAGEMENT_ROLES = ['super_admin', 'admin', 'secretary']\n\nexport function RoleGuard({ \n  children, \n  allowedRoles, \n  fallback,\n  redirectTo = '/dashboard'\n}: RoleGuardProps) {\n  const { user, isLoading } = useAuth()\n  const router = useRouter()\n  const [hasAccess, setHasAccess] = useState<boolean | null>(null)\n\n  useEffect(() => {\n    if (!isLoading && user) {\n      const userRole = user.role || ''\n      const access = allowedRoles.includes(userRole)\n      setHasAccess(access)\n      \n      // Si l'utilisateur n'a pas accès et qu'une redirection est définie\n      if (!access && redirectTo && !fallback) {\n        router.push(redirectTo)\n      }\n    }\n  }, [user, isLoading, allowedRoles, redirectTo, router, fallback])\n\n  // Pendant le chargement\n  if (isLoading || hasAccess === null) {\n    return (\n      <div className=\"flex items-center justify-center min-h-[200px]\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-blue\"></div>\n      </div>\n    )\n  }\n\n  // Si l'utilisateur n'a pas accès\n  if (!hasAccess) {\n    if (fallback) {\n      return <>{fallback}</>\n    }\n    \n    return (\n      <div className=\"container mx-auto py-16 px-4\">\n        <Card className=\"max-w-md mx-auto\">\n          <CardContent className=\"py-12 text-center\">\n            <div className=\"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6\">\n              <ShieldAlert className=\"h-8 w-8 text-red-600\" />\n            </div>\n            <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">\n              Accès non autorisé\n            </h2>\n            <p className=\"text-gray-600 mb-6\">\n              Vous n'avez pas les permissions nécessaires pour accéder à cette page.\n            </p>\n            <Link href=\"/dashboard\">\n              <Button>\n                Retour au tableau de bord\n              </Button>\n            </Link>\n          </CardContent>\n        </Card>\n      </div>\n    )\n  }\n\n  // L'utilisateur a accès\n  return <>{children}</>\n}\n\n// Hook pour vérifier l'accès basé sur le rôle\nexport function useRoleAccess(allowedRoles: string[]): boolean {\n  const { user, isLoading } = useAuth()\n  \n  if (isLoading || !user) {\n    return false\n  }\n  \n  return allowedRoles.includes(user.role || '')\n}\n\n// Vérifier si l'utilisateur est un administrateur\nexport function useIsAdmin(): boolean {\n  return useRoleAccess(ADMIN_ROLES)\n}\n\n// Vérifier si l'utilisateur peut accéder aux finances\nexport function useCanAccessFinances(): boolean {\n  return useRoleAccess(FINANCE_ROLES)\n}\n\n// Vérifier si l'utilisateur est un enseignant\nexport function useIsTeacher(): boolean {\n  const { user } = useAuth()\n  return user?.role === 'teacher'\n}\n\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ShieldAlert\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgMjJzOC00IDgtMTBWNWwtOC0zLTggM3Y3YzAgNiA4IDEwIDggMTAiIC8+CiAgPHBhdGggZD0iTTEyIDh2NCIgLz4KICA8cGF0aCBkPSJNMTIgMTZoLjAxIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/shield-alert\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ShieldAlert = createLucideIcon('ShieldAlert', [\n  ['path', { d: 'M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10', key: '1irkt0' }],\n  ['path', { d: 'M12 8v4', key: '1got3b' }],\n  ['path', { d: 'M12 16h.01', key: '1drbdi' }],\n]);\n\nexport default ShieldAlert;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Filter\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cG9seWdvbiBwb2ludHM9IjIyIDMgMiAzIDEwIDEyLjQ2IDEwIDE5IDE0IDIxIDE0IDEyLjQ2IDIyIDMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/filter\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Filter = createLucideIcon('Filter', [\n  ['polygon', { points: '22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3', key: '1yg77f' }],\n]);\n\nexport default Filter;\n","import { cn } from '@/lib/utils'\n\n/**\n * Composant Skeleton pour les états de chargement\n */\nexport function Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn('animate-pulse rounded-md bg-gray-200', className)}\n      {...props}\n    />\n  )\n}\n\n/**\n * Skeleton pour les cartes de statistiques\n */\nexport function StatsCardSkeleton() {\n  return (\n    <div className=\"rounded-2xl p-6 border-2 border-gray-200 bg-white\">\n      <div className=\"flex items-start justify-between mb-4\">\n        <Skeleton className=\"h-12 w-12 rounded-2xl\" />\n        <Skeleton className=\"h-6 w-20\" />\n      </div>\n      <Skeleton className=\"h-8 w-24 mb-2\" />\n      <Skeleton className=\"h-4 w-32\" />\n    </div>\n  )\n}\n\n/**\n * Skeleton pour les graphiques\n */\nexport function ChartSkeleton() {\n  return (\n    <div className=\"rounded-2xl p-6 border-2 border-gray-200 bg-white\">\n      <Skeleton className=\"h-6 w-48 mb-4\" />\n      <Skeleton className=\"h-64 w-full\" />\n    </div>\n  )\n}\n\n/**\n * Skeleton pour les listes\n */\nexport function ListSkeleton({ count = 3 }: { count?: number }) {\n  return (\n    <div className=\"space-y-3\">\n      {Array.from({ length: count }).map((_, i) => (\n        <div key={i} className=\"flex items-center gap-4 p-4 border rounded-lg\">\n          <Skeleton className=\"h-12 w-12 rounded-full\" />\n          <div className=\"flex-1 space-y-2\">\n            <Skeleton className=\"h-4 w-3/4\" />\n            <Skeleton className=\"h-3 w-1/2\" />\n          </div>\n          <Skeleton className=\"h-8 w-20\" />\n        </div>\n      ))}\n    </div>\n  )\n}\n\n/**\n * Alias pour ListSkeleton (compatibilité)\n */\nexport function SkeletonList({ count = 3 }: { count?: number }) {\n  return <ListSkeleton count={count} />\n}\n\n/**\n * Skeleton pour les grilles Bento\n */\nexport function SkeletonBentoGrid({ items = 4 }: { items?: number }) {\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n      {Array.from({ length: items }).map((_, i) => (\n        <StatsCardSkeleton key={i} />\n      ))}\n    </div>\n  )\n}\n","/**\n * Service pour gérer l'historique des exports\n *\n * NOTE: La table 'export_history' n'existe pas encore dans Supabase.\n * Les types sont définis manuellement ici jusqu'à ce que la table soit créée\n * et les types régénérés avec: supabase gen types typescript\n */\n\nimport { createClient } from '@/lib/supabase/client'\nimport type { SupabaseClient } from '@supabase/supabase-js'\n\n// Types définis manuellement car la table n'existe pas encore dans database.types.ts\n// TODO: Supprimer ces définitions après avoir créé la table et régénéré les types\nexport type ExportType = 'excel' | 'csv' | 'pdf'\nexport type EntityType = 'students' | 'documents' | 'payments' | 'dashboard_report' | 'attendance_report' | 'other'\n\nexport interface ExportHistory {\n  id: string\n  organization_id: string\n  user_id: string\n  export_type: ExportType\n  entity_type: EntityType\n  filename: string\n  record_count: number\n  file_size_bytes: number | null\n  filters: string | null\n  created_at: string\n}\n\ntype ExportHistoryInsert = Omit<ExportHistory, 'id' | 'created_at'>\n\nexport interface ExportHistoryWithUser extends ExportHistory {\n  users?: {\n    full_name: string | null\n    email: string\n  } | null\n}\n\nexport interface CreateExportHistoryParams {\n  organizationId: string\n  userId: string\n  exportType: ExportType\n  entityType: EntityType\n  filename: string\n  recordCount?: number\n  fileSizeBytes?: number\n  filters?: Record<string, any>\n}\n\nexport class ExportHistoryService {\n  private supabase: SupabaseClient<any>\n\n\n  constructor(supabaseClient?: SupabaseClient<any>) {\n\n    this.supabase = supabaseClient || createClient()\n\n  }\n\n  /**\n   * Enregistre un export dans l'historique\n   * Retourne null si la table n'existe pas (non bloquant)\n   */\n  async create(params: CreateExportHistoryParams): Promise<ExportHistory | null> {\n    try {\n      const { data, error } = await this.supabase\n        .from('export_history')\n        .insert({\n          organization_id: params.organizationId,\n          user_id: params.userId,\n          export_type: params.exportType,\n          entity_type: params.entityType,\n          filename: params.filename,\n          record_count: params.recordCount || 0,\n          file_size_bytes: params.fileSizeBytes,\n          filters: params.filters ? JSON.stringify(params.filters) : null,\n        })\n        .select()\n        .single()\n\n      if (error) {\n        // Si la table n'existe pas, retourner null silencieusement\n        if (error.code === 'PGRST205' || error.message?.includes('Could not find the table')) {\n          return null\n        }\n        throw error\n      }\n      return data\n    } catch (error: any) {\n      // Si la table n'existe pas, retourner null silencieusement\n      if (error?.code === 'PGRST205' || error?.message?.includes('Could not find the table')) {\n        return null\n      }\n      throw error\n    }\n  }\n\n  /**\n   * Récupère l'historique des exports d'une organisation\n   */\n  async getByOrganization(\n    organizationId: string,\n    filters?: {\n      userId?: string\n      exportType?: ExportType\n      entityType?: EntityType\n      page?: number\n      limit?: number\n    }\n  ) {\n    try {\n      const page = filters?.page || 1\n      const limit = filters?.limit || 50\n      const offset = (page - 1) * limit\n\n      let query = this.supabase\n        .from('export_history')\n        .select('*, users(full_name, email)', { count: 'exact' })\n        .eq('organization_id', organizationId)\n        .order('created_at', { ascending: false })\n\n      if (filters?.userId) {\n        query = query.eq('user_id', filters.userId)\n      }\n\n      if (filters?.exportType) {\n        query = query.eq('export_type', filters.exportType)\n      }\n\n      if (filters?.entityType) {\n        query = query.eq('entity_type', filters.entityType)\n      }\n\n      const { data, error, count } = await query.range(offset, offset + limit - 1)\n\n      if (error) {\n        // Si la table n'existe pas encore ou erreur 400/404, retourner un résultat vide\n        if (\n          error.code === 'PGRST116' ||\n          error.code === 'PGRST200' ||\n          error.code === '42P01' ||\n          error.code === 'PGRST301' ||\n          (error as any).status === 400 ||\n          (error as any).status === 404 ||\n          error.code === '400' ||\n          error.code === '404' ||\n          error.message?.includes('relation') ||\n          error.message?.includes('does not exist')\n        ) {\n          return {\n            data: [],\n            total: 0,\n            page,\n            limit,\n            totalPages: 0,\n          }\n        }\n        throw error\n      }\n\n      return {\n        data: (data || []) as ExportHistoryWithUser[],\n        total: count || 0,\n        page,\n        limit,\n        totalPages: Math.ceil((count || 0) / limit),\n      }\n    } catch (error: any) {\n      // Gérer les erreurs de table inexistante\n      if (\n        error?.code === 'PGRST116' ||\n        error?.code === 'PGRST200' ||\n        error?.code === '42P01' ||\n        error?.code === 'PGRST301' ||\n        error?.status === 400 ||\n        error?.status === 404 ||\n        error?.code === '400' ||\n        error?.code === '404' ||\n        error?.message?.includes('relation') ||\n        error?.message?.includes('does not exist')\n      ) {\n        return {\n          data: [],\n          total: 0,\n          page: filters?.page || 1,\n          limit: filters?.limit || 50,\n          totalPages: 0,\n        }\n      }\n      throw error\n    }\n  }\n\n  /**\n   * Récupère les statistiques d'export d'une organisation\n   */\n  async getStats(organizationId: string) {\n    try {\n      const { data, error } = await this.supabase\n        .from('export_history')\n        .select('export_type, entity_type, record_count, file_size_bytes')\n        .eq('organization_id', organizationId)\n\n      if (error) {\n        // Si la table n'existe pas encore ou erreur 400/404, retourner des stats vides\n        if (\n          error.code === 'PGRST116' ||\n          error.code === 'PGRST200' ||\n          error.code === '42P01' ||\n          error.code === 'PGRST301' ||\n          (error as any).status === 400 ||\n          (error as any).status === 404 ||\n          error.code === '400' ||\n          error.code === '404' ||\n          error.message?.includes('relation') ||\n          error.message?.includes('does not exist')\n        ) {\n          return {\n            total: 0,\n            byType: {} as Record<ExportType, number>,\n            byEntity: {} as Record<EntityType, number>,\n            totalRecords: 0,\n            totalSizeBytes: 0,\n          }\n        }\n        throw error\n      }\n\n      const stats = {\n        total: data?.length || 0,\n        byType: {} as Record<ExportType, number>,\n        byEntity: {} as Record<EntityType, number>,\n        totalRecords: 0,\n        totalSizeBytes: 0,\n      }\n\n      data?.forEach((export_) => {\n        stats.byType[export_.export_type as ExportType] =\n          (stats.byType[export_.export_type as ExportType] || 0) + 1\n        stats.byEntity[export_.entity_type as EntityType] =\n          (stats.byEntity[export_.entity_type as EntityType] || 0) + 1\n        stats.totalRecords += export_.record_count || 0\n        stats.totalSizeBytes += export_.file_size_bytes || 0\n      })\n\n      return stats\n    } catch (error: any) {\n      // Gérer les erreurs de table inexistante\n      if (\n        error?.code === 'PGRST116' ||\n        error?.code === 'PGRST200' ||\n        error?.code === '42P01' ||\n        error?.code === 'PGRST301' ||\n        error?.status === 400 ||\n        error?.status === 404 ||\n        error?.code === '400' ||\n        error?.code === '404' ||\n        error?.message?.includes('relation') ||\n        error?.message?.includes('does not exist')\n      ) {\n        return {\n          total: 0,\n          byType: {} as Record<ExportType, number>,\n          byEntity: {} as Record<EntityType, number>,\n          totalRecords: 0,\n          totalSizeBytes: 0,\n        }\n      }\n      throw error\n    }\n  }\n\n  /**\n   * Supprime un export de l'historique\n   */\n  async delete(exportId: string, userId: string): Promise<void> {\n    const { error } = await this.supabase\n      .from('export_history')\n      .delete()\n      .eq('id', exportId)\n      .eq('user_id', userId) // Sécurité : seul le créateur peut supprimer\n\n    if (error) throw error\n  }\n\n  /**\n   * Supprime tous les exports d'un utilisateur\n   */\n  async deleteByUser(userId: string, organizationId: string): Promise<void> {\n    const { error } = await this.supabase\n      .from('export_history')\n      .delete()\n      .eq('user_id', userId)\n      .eq('organization_id', organizationId)\n\n    if (error) throw error\n  }\n}\n\nexport const exportHistoryService = new ExportHistoryService()\n\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name FileSpreadsheet\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTQuNSAySDZhMiAyIDAgMCAwLTIgMnYxNmEyIDIgMCAwIDAgMiAyaDEyYTIgMiAwIDAgMCAyLTJWNy41TDE0LjUgMnoiIC8+CiAgPHBvbHlsaW5lIHBvaW50cz0iMTQgMiAxNCA4IDIwIDgiIC8+CiAgPHBhdGggZD0iTTggMTNoMiIgLz4KICA8cGF0aCBkPSJNOCAxN2gyIiAvPgogIDxwYXRoIGQ9Ik0xNCAxM2gyIiAvPgogIDxwYXRoIGQ9Ik0xNCAxN2gyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/file-spreadsheet\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst FileSpreadsheet = createLucideIcon('FileSpreadsheet', [\n  [\n    'path',\n    { d: 'M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z', key: '1nnpy2' },\n  ],\n  ['polyline', { points: '14 2 14 8 20 8', key: '1ew0cm' }],\n  ['path', { d: 'M8 13h2', key: 'yr2amv' }],\n  ['path', { d: 'M8 17h2', key: '2yhykz' }],\n  ['path', { d: 'M14 13h2', key: 'un5t4a' }],\n  ['path', { d: 'M14 17h2', key: '10kma7' }],\n]);\n\nexport default FileSpreadsheet;\n","'use client'\n\nimport { useState } from 'react'\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\nimport { useAuth } from '@/lib/hooks/use-auth'\nimport { exportHistoryService, type ExportType, type EntityType, type ExportHistoryWithUser } from '@/lib/services/export-history.service'\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card'\nimport { Button } from '@/components/ui/button'\nimport { Badge } from '@/components/ui/badge'\nimport { SkeletonList } from '@/components/ui/skeleton'\nimport { useToast } from '@/components/ui/toast'\nimport { \n  FileSpreadsheet, \n  FileText, \n  FileDown, \n  Trash2, \n  Download, \n  Filter,\n  Calendar,\n  User,\n  BarChart3,\n  TrendingUp\n} from 'lucide-react'\nimport { formatDate, formatRelativeTime, formatFileSize } from '@/lib/utils'\nimport { motion } from '@/components/ui/motion'\nimport { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuTrigger } from '@/components/ui/dropdown-menu'\nimport { RoleGuard, ADMIN_ROLES } from '@/components/auth/role-guard'\n\nfunction ExportsHistoryPageContent() {\n  const { user } = useAuth()\n  const { addToast } = useToast()\n  const queryClient = useQueryClient()\n  const [page, setPage] = useState(1)\n  const [exportTypeFilter, setExportTypeFilter] = useState<ExportType | 'all'>('all')\n  const [entityTypeFilter, setEntityTypeFilter] = useState<EntityType | 'all'>('all')\n  const pageSize = 20\n\n  // Récupérer l'historique des exports\n  const { data: exportsData, isLoading } = useQuery({\n    queryKey: ['export-history', user?.organization_id, page, exportTypeFilter, entityTypeFilter],\n    queryFn: async () => {\n      if (!user?.organization_id) return { data: [], total: 0, page: 1, limit: pageSize, totalPages: 0 }\n      \n      return exportHistoryService.getByOrganization(user.organization_id, {\n        page,\n        limit: pageSize,\n        exportType: exportTypeFilter !== 'all' ? exportTypeFilter : undefined,\n        entityType: entityTypeFilter !== 'all' ? entityTypeFilter : undefined,\n      })\n    },\n    enabled: !!user?.organization_id,\n  })\n\n  // Récupérer les statistiques\n  const { data: stats } = useQuery({\n    queryKey: ['export-stats', user?.organization_id],\n    queryFn: async () => {\n      if (!user?.organization_id) return null\n      return exportHistoryService.getStats(user.organization_id)\n    },\n    enabled: !!user?.organization_id,\n  })\n\n  // Mutation pour supprimer un export\n  const deleteMutation = useMutation({\n    mutationFn: async (exportId: string) => {\n      if (!user?.id) throw new Error('Utilisateur non authentifié')\n      await exportHistoryService.delete(exportId, user.id)\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['export-history'] })\n      queryClient.invalidateQueries({ queryKey: ['export-stats'] })\n      addToast({\n        type: 'success',\n        title: 'Export supprimé',\n        description: 'L\\'export a été supprimé de l\\'historique avec succès.',\n      })\n    },\n    onError: (error: Error) => {\n      addToast({\n        type: 'error',\n        title: 'Erreur',\n        description: error.message || 'Une erreur est survenue lors de la suppression.',\n      })\n    },\n  })\n\n  const exports: ExportHistoryWithUser[] = exportsData?.data || []\n  const totalPages = exportsData?.totalPages || 0\n\n  const getExportTypeIcon = (type: ExportType) => {\n    switch (type) {\n      case 'excel':\n        return <FileSpreadsheet className=\"h-4 w-4\" />\n      case 'csv':\n        return <FileText className=\"h-4 w-4\" />\n      case 'pdf':\n        return <FileDown className=\"h-4 w-4\" />\n    }\n  }\n\n  const getExportTypeLabel = (type: ExportType) => {\n    switch (type) {\n      case 'excel':\n        return 'Excel'\n      case 'csv':\n        return 'CSV'\n      case 'pdf':\n        return 'PDF'\n    }\n  }\n\n  const getEntityTypeLabel = (type: EntityType) => {\n    const labels: Record<EntityType, string> = {\n      students: 'Étudiants',\n      documents: 'Documents',\n      payments: 'Paiements',\n      dashboard_report: 'Rapport Dashboard',\n      attendance_report: 'Rapport Présence',\n      other: 'Autre',\n    }\n    return labels[type] || type\n  }\n\n  const getExportTypeColor = (type: ExportType) => {\n    switch (type) {\n      case 'excel':\n        return 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200'\n      case 'csv':\n        return 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200'\n      case 'pdf':\n        return 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200'\n    }\n  }\n\n  return (\n    <div className=\"flex flex-col gap-6 p-6 md:p-8\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white\">\n            Historique des Exports\n          </h1>\n          <p className=\"text-gray-500 dark:text-gray-400 mt-1\">\n            Consultez tous les exports effectués dans votre organisation\n          </p>\n        </div>\n      </div>\n\n      {/* Statistiques */}\n      {stats && (\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n          <Card>\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className=\"text-sm font-medium\">Total Exports</CardTitle>\n              <BarChart3 className=\"h-4 w-4 text-muted-foreground\" />\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold\">{stats.total}</div>\n              <p className=\"text-xs text-muted-foreground\">Tous les exports</p>\n            </CardContent>\n          </Card>\n          <Card>\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className=\"text-sm font-medium\">Excel</CardTitle>\n              <FileSpreadsheet className=\"h-4 w-4 text-muted-foreground\" />\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold\">{stats.byType.excel || 0}</div>\n              <p className=\"text-xs text-muted-foreground\">Fichiers Excel</p>\n            </CardContent>\n          </Card>\n          <Card>\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className=\"text-sm font-medium\">CSV</CardTitle>\n              <FileText className=\"h-4 w-4 text-muted-foreground\" />\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold\">{stats.byType.csv || 0}</div>\n              <p className=\"text-xs text-muted-foreground\">Fichiers CSV</p>\n            </CardContent>\n          </Card>\n          <Card>\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className=\"text-sm font-medium\">PDF</CardTitle>\n              <FileDown className=\"h-4 w-4 text-muted-foreground\" />\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold\">{stats.byType.pdf || 0}</div>\n              <p className=\"text-xs text-muted-foreground\">Rapports PDF</p>\n            </CardContent>\n          </Card>\n        </div>\n      )}\n\n      {/* Filtres */}\n      <div className=\"flex items-center gap-4\">\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button variant=\"outline\" className=\"gap-2\">\n              <Filter className=\"h-4 w-4\" />\n              Type: {exportTypeFilter === 'all' ? 'Tous' : getExportTypeLabel(exportTypeFilter)}\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent>\n            <DropdownMenuItem onClick={() => setExportTypeFilter('all')}>\n              Tous\n            </DropdownMenuItem>\n            <DropdownMenuItem onClick={() => setExportTypeFilter('excel')}>\n              Excel\n            </DropdownMenuItem>\n            <DropdownMenuItem onClick={() => setExportTypeFilter('csv')}>\n              CSV\n            </DropdownMenuItem>\n            <DropdownMenuItem onClick={() => setExportTypeFilter('pdf')}>\n              PDF\n            </DropdownMenuItem>\n          </DropdownMenuContent>\n        </DropdownMenu>\n\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button variant=\"outline\" className=\"gap-2\">\n              <Filter className=\"h-4 w-4\" />\n              Entité: {entityTypeFilter === 'all' ? 'Toutes' : getEntityTypeLabel(entityTypeFilter)}\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent>\n            <DropdownMenuItem onClick={() => setEntityTypeFilter('all')}>\n              Toutes\n            </DropdownMenuItem>\n            <DropdownMenuItem onClick={() => setEntityTypeFilter('students')}>\n              Étudiants\n            </DropdownMenuItem>\n            <DropdownMenuItem onClick={() => setEntityTypeFilter('documents')}>\n              Documents\n            </DropdownMenuItem>\n            <DropdownMenuItem onClick={() => setEntityTypeFilter('payments')}>\n              Paiements\n            </DropdownMenuItem>\n            <DropdownMenuItem onClick={() => setEntityTypeFilter('dashboard_report')}>\n              Rapport Dashboard\n            </DropdownMenuItem>\n            <DropdownMenuItem onClick={() => setEntityTypeFilter('attendance_report')}>\n              Rapport Présence\n            </DropdownMenuItem>\n          </DropdownMenuContent>\n        </DropdownMenu>\n      </div>\n\n      {/* Liste des exports */}\n      {isLoading ? (\n        <SkeletonList count={pageSize} />\n      ) : exports.length === 0 ? (\n        <Card>\n          <CardContent className=\"flex flex-col items-center justify-center py-12\">\n            <FileDown className=\"h-16 w-16 text-gray-400 mb-4\" />\n            <p className=\"text-xl font-semibold text-gray-700 dark:text-gray-300\">\n              Aucun export trouvé\n            </p>\n            <p className=\"text-gray-500 dark:text-gray-400 mt-2\">\n              Les exports que vous effectuez apparaîtront ici.\n            </p>\n          </CardContent>\n        </Card>\n      ) : (\n        <div className=\"space-y-4\">\n          {exports.map((export_) => (\n            <motion.div\n              key={export_.id}\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ duration: 0.2 }}\n            >\n              <Card className=\"hover:shadow-md transition-shadow\">\n                <CardContent className=\"p-6\">\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex items-start gap-4 flex-1\">\n                      <div className={`p-3 rounded-lg ${getExportTypeColor(export_.export_type)}`}>\n                        {getExportTypeIcon(export_.export_type)}\n                      </div>\n                      <div className=\"flex-1\">\n                        <div className=\"flex items-center gap-2 mb-2\">\n                          <h3 className=\"font-semibold text-lg text-gray-900 dark:text-white\">\n                            {export_.filename}\n                          </h3>\n                          <Badge variant=\"outline\" className={getExportTypeColor(export_.export_type)}>\n                            {getExportTypeLabel(export_.export_type)}\n                          </Badge>\n                          <Badge variant=\"outline\">\n                            {getEntityTypeLabel(export_.entity_type)}\n                          </Badge>\n                        </div>\n                        <div className=\"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400\">\n                          <div className=\"flex items-center gap-1\">\n                            <User className=\"h-4 w-4\" />\n                            <span>\n                              {(export_ as any).users?.full_name || \n                               (export_ as any).users?.email || \n                               'Utilisateur inconnu'}\n                            </span>\n                          </div>\n                          <div className=\"flex items-center gap-1\">\n                            <Calendar className=\"h-4 w-4\" />\n                            <span>{formatRelativeTime(export_.created_at)}</span>\n                          </div>\n                          {export_.record_count > 0 && (\n                            <div className=\"flex items-center gap-1\">\n                              <TrendingUp className=\"h-4 w-4\" />\n                              <span>{export_.record_count} enregistrement(s)</span>\n                            </div>\n                          )}\n                          {export_.file_size_bytes && (\n                            <span>{formatFileSize(export_.file_size_bytes)}</span>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      <Button\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        onClick={() => deleteMutation.mutate(export_.id)}\n                        disabled={deleteMutation.isPending}\n                        className=\"text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20\"\n                      >\n                        <Trash2 className=\"h-4 w-4\" />\n                      </Button>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            </motion.div>\n          ))}\n        </div>\n      )}\n\n      {/* Pagination */}\n      {totalPages > 1 && (\n        <div className=\"flex items-center justify-center gap-2\">\n          <Button\n            variant=\"outline\"\n            onClick={() => setPage((p) => Math.max(1, p - 1))}\n            disabled={page === 1}\n          >\n            Précédent\n          </Button>\n          <span className=\"text-sm text-gray-500 dark:text-gray-400\">\n            Page {page} sur {totalPages}\n          </span>\n          <Button\n            variant=\"outline\"\n            onClick={() => setPage((p) => Math.min(totalPages, p + 1))}\n            disabled={page === totalPages}\n          >\n            Suivant\n          </Button>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default function ExportsHistoryPage() {\n  return (\n    <RoleGuard allowedRoles={ADMIN_ROLES}>\n      <ExportsHistoryPageContent />\n    </RoleGuard>\n  )\n}\n\n"],"names":[],"mappings":"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","ignoreList":[0,2,3,6]}