{"version":3,"sources":["../../../../app/%28dashboard%29/dashboard/evaluations/portfolios/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\nimport { useAuth } from '@/lib/hooks/use-auth'\nimport { createClient } from '@/lib/supabase/client'\nimport { learningPortfolioService, type LearningPortfolio } from '@/lib/services/learning-portfolio.service'\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Badge } from '@/components/ui/badge'\nimport { GlassCard } from '@/components/ui/glass-card'\nimport {\n  BookOpen, Plus, Search, FileText, Users, Calendar,\n  CheckCircle2, Clock, Edit, Eye, Download, MoreVertical,\n  Trash2, Copy, Send, Filter, ArrowRight\n} from 'lucide-react'\nimport Link from 'next/link'\nimport { motion } from '@/components/ui/motion'\nimport { formatDate, cn } from '@/lib/utils'\n\nexport default function PortfoliosPage() {\n  const { user } = useAuth()\n  const supabase = createClient()\n  const queryClient = useQueryClient()\n  const [searchQuery, setSearchQuery] = useState('')\n  const [statusFilter, setStatusFilter] = useState<string>('all')\n  const [sessionFilter, setSessionFilter] = useState<string>('all')\n\n  // Récupérer les livrets\n  const { data: portfolios, isLoading } = useQuery({\n    queryKey: ['learning-portfolios', user?.organization_id, statusFilter, sessionFilter],\n    queryFn: async () => {\n      if (!user?.organization_id) return []\n      \n      // Vérifier si la table existe\n      const { data, error } = await supabase\n        .from('learning_portfolios')\n        .select(`\n          *,\n          template:learning_portfolio_templates(id, name, description, primary_color),\n          student:students(id, first_name, last_name, email, photo_url),\n          session:sessions(id, name, start_date, end_date, formations(id, name))\n        `)\n        .eq('organization_id', user.organization_id)\n        .order('updated_at', { ascending: false })\n\n      if (error) {\n        if (error.code === 'PGRST116' || error.message?.includes('does not exist')) {\n          console.log('Table learning_portfolios n\\'existe pas encore')\n          return []\n        }\n        console.error('Erreur récupération portfolios:', error)\n        return []\n      }\n      return data || []\n    },\n    enabled: !!user?.organization_id,\n  })\n\n  // Récupérer les sessions pour le filtre\n  const { data: sessions } = useQuery({\n    queryKey: ['sessions-filter', user?.organization_id],\n    queryFn: async () => {\n      if (!user?.organization_id) return []\n      const { data, error } = await supabase\n        .from('sessions')\n        .select('id, name, formations!inner(organization_id)')\n        .eq('formations.organization_id', user.organization_id)\n        .order('start_date', { ascending: false })\n      if (error) return []\n      return data || []\n    },\n    enabled: !!user?.organization_id,\n  })\n\n  // Récupérer les templates\n  const { data: templates } = useQuery({\n    queryKey: ['portfolio-templates', user?.organization_id],\n    queryFn: async () => {\n      if (!user?.organization_id) return []\n      const { data, error } = await supabase\n        .from('learning_portfolio_templates')\n        .select('*')\n        .eq('organization_id', user.organization_id)\n        .eq('is_active', true)\n      if (error) {\n        console.log('Table learning_portfolio_templates n\\'existe pas encore')\n        return []\n      }\n      return data || []\n    },\n    enabled: !!user?.organization_id,\n  })\n\n  // Filtrer les portfolios\n  const filteredPortfolios = portfolios?.filter((p: any) => {\n    const matchesSearch = \n      p.student?.first_name?.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      p.student?.last_name?.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      p.template?.name?.toLowerCase().includes(searchQuery.toLowerCase())\n    \n    const matchesStatus = statusFilter === 'all' || p.status === statusFilter\n    const matchesSession = sessionFilter === 'all' || p.session_id === sessionFilter\n    \n    return matchesSearch && matchesStatus && matchesSession\n  })\n\n  const getStatusBadge = (status: string) => {\n    const statusConfig: Record<string, { label: string; variant: 'default' | 'secondary' | 'destructive' | 'outline' }> = {\n      draft: { label: 'Brouillon', variant: 'secondary' },\n      in_progress: { label: 'En cours', variant: 'default' },\n      completed: { label: 'Terminé', variant: 'outline' },\n      validated: { label: 'Validé', variant: 'default' },\n    }\n    const config = statusConfig[status] || statusConfig.draft\n    return <Badge variant={config.variant}>{config.label}</Badge>\n  }\n\n  const stats = {\n    total: portfolios?.length || 0,\n    draft: portfolios?.filter((p: any) => p.status === 'draft').length || 0,\n    inProgress: portfolios?.filter((p: any) => p.status === 'in_progress').length || 0,\n    completed: portfolios?.filter((p: any) => p.status === 'completed' || p.status === 'validated').length || 0,\n  }\n\n  const containerVariants = {\n    hidden: { opacity: 0 },\n    visible: {\n      opacity: 1,\n      transition: {\n        staggerChildren: 0.1,\n      },\n    },\n  }\n\n  const itemVariants = {\n    hidden: { opacity: 0, y: 20 },\n    visible: {\n      opacity: 1,\n      y: 0,\n      transition: { \n        duration: 0.5, \n        ease: [0.16, 1, 0.3, 1] as [number, number, number, number]\n      }\n    }\n  }\n\n  return (\n    <motion.div\n      className=\"space-y-8 pb-8 max-w-[1600px] mx-auto relative\"\n      variants={containerVariants}\n      initial=\"hidden\"\n      animate=\"visible\"\n    >\n      {/* Animated background particles - effet subtil */}\n      <div className=\"fixed inset-0 pointer-events-none overflow-hidden z-0\">\n        {[...Array(8)].map((_, i) => (\n          <motion.div\n            key={i}\n            className=\"absolute w-1 h-1 bg-brand-blue/15 rounded-full\"\n            style={{\n              left: `${Math.random() * 100}%`,\n              top: `${Math.random() * 100}%`,\n            }}\n            animate={{\n              y: [0, -30, 0],\n              opacity: [0, 0.4, 0],\n              scale: [0, 1.2, 0],\n            }}\n            transition={{\n              duration: 3 + Math.random() * 2,\n              repeat: Infinity,\n              delay: Math.random() * 2,\n              ease: \"easeInOut\"\n            }}\n          />\n        ))}\n      </div>\n\n      {/* Hero Header Ultra-Premium avec gradient animé */}\n      <motion.div\n        variants={itemVariants}\n        className=\"relative overflow-hidden rounded-[2rem] shadow-[0_20px_80px_-20px_rgba(51,90,207,0.4)]\"\n      >\n        {/* Gradient de fond animé */}\n        <motion.div\n          className=\"absolute inset-0 bg-gradient-to-br from-brand-blue via-brand-blue-light to-brand-cyan\"\n          animate={{\n            backgroundPosition: ['0% 50%', '100% 50%', '0% 50%'],\n          }}\n          transition={{\n            duration: 10,\n            repeat: Infinity,\n            ease: \"easeInOut\"\n          }}\n          style={{ backgroundSize: '200% 200%' }}\n        />\n\n        {/* Mesh gradient overlay */}\n        <div className=\"absolute inset-0 opacity-40\" style={{\n          backgroundImage: 'radial-gradient(at 40% 20%, rgba(255, 255, 255, 0.3) 0px, transparent 50%), radial-gradient(at 80% 0%, rgba(52, 185, 238, 0.4) 0px, transparent 50%)',\n        }} />\n\n        {/* Floating orbs */}\n        <motion.div\n          animate={{\n            y: [0, -20, 0],\n            x: [-10, 10, -10],\n            transition: {\n              duration: 6,\n              repeat: Infinity,\n              ease: \"easeInOut\"\n            }\n          }}\n          className=\"absolute top-10 right-10 w-32 h-32 bg-white/10 rounded-full blur-3xl\"\n        />\n\n        {/* Contenu */}\n        <div className=\"relative z-10 p-8 md:p-12\">\n          <div className=\"flex flex-col md:flex-row items-start md:items-center justify-between gap-6\">\n            <motion.div\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ delay: 0.3, duration: 0.8, ease: [0.16, 1, 0.3, 1] as [number, number, number, number] }}\n              className=\"flex items-center gap-4\"\n            >\n              <motion.div\n                className=\"p-4 bg-white/15 backdrop-blur-md rounded-2xl shadow-xl border border-white/20\"\n                whileHover={{ scale: 1.15, rotate: 10 }}\n                transition={{ type: \"spring\", stiffness: 400, damping: 10 }}\n              >\n                <BookOpen className=\"h-8 w-8 text-white drop-shadow-lg\" />\n              </motion.div>\n              <div>\n                <h1 className=\"text-4xl md:text-5xl font-display font-bold text-white tracking-tighter leading-none drop-shadow-2xl\">\n                  Livrets d'apprentissage\n                </h1>\n                <p className=\"text-white/95 text-lg font-medium tracking-tight drop-shadow-lg mt-1\">\n                  Gérez et suivez les livrets d'apprentissage de vos apprenants\n                </p>\n              </div>\n            </motion.div>\n\n            <motion.div\n              initial={{ opacity: 0, x: 20 }}\n              animate={{ opacity: 1, x: 0 }}\n              transition={{ delay: 0.4, duration: 0.8, ease: [0.16, 1, 0.3, 1] as [number, number, number, number] }}\n              className=\"flex gap-3\"\n            >\n              <Link href=\"/dashboard/evaluations/portfolios/templates\">\n                <motion.div\n                  whileHover={{ scale: 1.05, y: -2 }}\n                  whileTap={{ scale: 0.98 }}\n                  transition={{ type: \"spring\", stiffness: 400, damping: 10 }}\n                >\n                  <Button className=\"group relative overflow-hidden bg-white/15 backdrop-blur-xl text-white border-2 border-white/40 hover:bg-white/25 hover:border-white/60 transition-all duration-500 font-bold tracking-tight px-6 py-6 text-base shadow-[0_20px_60px_-15px_rgba(0,0,0,0.2)]\">\n                    <motion.div\n                      className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent\"\n                      initial={{ x: '-100%' }}\n                      whileHover={{ x: '100%' }}\n                      transition={{ duration: 0.6 }}\n                    />\n                    <FileText className=\"h-5 w-5 mr-2 relative z-10\" />\n                    <span className=\"relative z-10\">Modèles</span>\n                  </Button>\n                </motion.div>\n              </Link>\n              <Link href=\"/dashboard/evaluations/portfolios/new\">\n                <motion.div\n                  whileHover={{ scale: 1.08, y: -5 }}\n                  whileTap={{ scale: 0.96 }}\n                  transition={{ type: \"spring\", stiffness: 500, damping: 15 }}\n                >\n                  <Button className=\"group relative overflow-hidden bg-white text-brand-blue hover:bg-white shadow-[0_20px_60px_-15px_rgba(255,255,255,0.4)] hover:shadow-[0_25px_70px_-15px_rgba(255,255,255,0.6)] transition-all duration-500 font-bold tracking-tight px-7 py-7 text-base border-2 border-white/50\">\n                    <motion.div\n                      className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white/40 to-transparent\"\n                      initial={{ x: '-100%' }}\n                      whileHover={{ x: '100%' }}\n                      transition={{ duration: 0.6 }}\n                    />\n                    <Plus className=\"h-5 w-5 mr-2 relative z-10\" />\n                    <span className=\"relative z-10\">Nouveau livret</span>\n                  </Button>\n                </motion.div>\n              </Link>\n            </motion.div>\n          </div>\n        </div>\n      </motion.div>\n\n      {/* Stats avec animations premium */}\n      <motion.div\n        variants={itemVariants}\n        className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\"\n      >\n        <motion.div\n          whileHover={{ y: -8, scale: 1.03 }}\n          transition={{ type: \"spring\", stiffness: 400, damping: 20 }}\n        >\n          <GlassCard variant=\"premium\" className=\"relative overflow-hidden p-6 border-2 border-gray-100/50 hover:border-brand-blue/30 transition-all duration-500 shadow-[0_10px_40px_-15px_rgba(0,0,0,0.1)] hover:shadow-[0_20px_60px_-15px_rgba(51,90,207,0.3)]\">\n            <motion.div\n              className=\"absolute inset-0 opacity-0 hover:opacity-100 transition-opacity duration-500\"\n              style={{\n                background: 'linear-gradient(135deg, rgba(39, 68, 114, 0.03) 0%, transparent 100%)'\n              }}\n            />\n            <div className=\"relative z-10 flex items-center gap-4\">\n              <motion.div\n                className=\"p-3 bg-gradient-to-br from-brand-blue to-brand-blue-dark rounded-2xl shadow-lg\"\n                whileHover={{ rotate: 10, scale: 1.15 }}\n                transition={{ type: \"spring\", stiffness: 500, damping: 15 }}\n              >\n                <BookOpen className=\"h-6 w-6 text-white drop-shadow-md\" />\n              </motion.div>\n              <div>\n                <p className=\"text-sm font-bold text-gray-500 uppercase tracking-wider\">Total livrets</p>\n                <motion.p\n                  className=\"text-4xl font-display font-bold text-gray-900 tracking-tight\"\n                  whileHover={{ scale: 1.05 }}\n                >\n                  {stats.total}\n                </motion.p>\n              </div>\n            </div>\n          </GlassCard>\n        </motion.div>\n\n        <motion.div\n          whileHover={{ y: -8, scale: 1.03 }}\n          transition={{ type: \"spring\", stiffness: 400, damping: 20 }}\n        >\n          <GlassCard variant=\"premium\" className=\"relative overflow-hidden p-6 border-2 border-gray-100/50 hover:border-gray-300 transition-all duration-500 shadow-[0_10px_40px_-15px_rgba(0,0,0,0.1)] hover:shadow-[0_20px_60px_-15px_rgba(0,0,0,0.15)]\">\n            <motion.div\n              className=\"absolute inset-0 opacity-0 hover:opacity-100 transition-opacity duration-500\"\n              style={{\n                background: 'linear-gradient(135deg, rgba(107, 114, 128, 0.03) 0%, transparent 100%)'\n              }}\n            />\n            <div className=\"relative z-10 flex items-center gap-4\">\n              <motion.div\n                className=\"p-3 bg-gradient-to-br from-gray-400 to-gray-600 rounded-2xl shadow-lg\"\n                whileHover={{ rotate: 10, scale: 1.15 }}\n                transition={{ type: \"spring\", stiffness: 500, damping: 15 }}\n              >\n                <Edit className=\"h-6 w-6 text-white drop-shadow-md\" />\n              </motion.div>\n              <div>\n                <p className=\"text-sm font-bold text-gray-500 uppercase tracking-wider\">Brouillons</p>\n                <motion.p\n                  className=\"text-4xl font-display font-bold text-gray-900 tracking-tight\"\n                  whileHover={{ scale: 1.05 }}\n                >\n                  {stats.draft}\n                </motion.p>\n              </div>\n            </div>\n          </GlassCard>\n        </motion.div>\n\n        <motion.div\n          whileHover={{ y: -8, scale: 1.03 }}\n          transition={{ type: \"spring\", stiffness: 400, damping: 20 }}\n        >\n          <GlassCard variant=\"premium\" className=\"relative overflow-hidden p-6 border-2 border-gray-100/50 hover:border-orange-200 transition-all duration-500 shadow-[0_10px_40px_-15px_rgba(0,0,0,0.1)] hover:shadow-[0_20px_60px_-15px_rgba(249,115,22,0.2)]\">\n            <motion.div\n              className=\"absolute inset-0 opacity-0 hover:opacity-100 transition-opacity duration-500\"\n              style={{\n                background: 'linear-gradient(135deg, rgba(249, 115, 22, 0.03) 0%, transparent 100%)'\n              }}\n            />\n            <div className=\"relative z-10 flex items-center gap-4\">\n              <motion.div\n                className=\"p-3 bg-gradient-to-br from-orange-400 to-orange-600 rounded-2xl shadow-lg\"\n                whileHover={{ rotate: 10, scale: 1.15 }}\n                transition={{ type: \"spring\", stiffness: 500, damping: 15 }}\n              >\n                <Clock className=\"h-6 w-6 text-white drop-shadow-md\" />\n              </motion.div>\n              <div>\n                <p className=\"text-sm font-bold text-gray-500 uppercase tracking-wider\">En cours</p>\n                <motion.p\n                  className=\"text-4xl font-display font-bold text-gray-900 tracking-tight\"\n                  whileHover={{ scale: 1.05 }}\n                >\n                  {stats.inProgress}\n                </motion.p>\n              </div>\n            </div>\n          </GlassCard>\n        </motion.div>\n\n        <motion.div\n          whileHover={{ y: -8, scale: 1.03 }}\n          transition={{ type: \"spring\", stiffness: 400, damping: 20 }}\n        >\n          <GlassCard variant=\"premium\" className=\"relative overflow-hidden p-6 border-2 border-gray-100/50 hover:border-green-200 transition-all duration-500 shadow-[0_10px_40px_-15px_rgba(0,0,0,0.1)] hover:shadow-[0_20px_60px_-15px_rgba(34,197,94,0.2)]\">\n            <motion.div\n              className=\"absolute inset-0 opacity-0 hover:opacity-100 transition-opacity duration-500\"\n              style={{\n                background: 'linear-gradient(135deg, rgba(34, 197, 94, 0.03) 0%, transparent 100%)'\n              }}\n            />\n            <div className=\"relative z-10 flex items-center gap-4\">\n              <motion.div\n                className=\"p-3 bg-gradient-to-br from-green-400 to-green-600 rounded-2xl shadow-lg\"\n                whileHover={{ rotate: 10, scale: 1.15 }}\n                transition={{ type: \"spring\", stiffness: 500, damping: 15 }}\n              >\n                <CheckCircle2 className=\"h-6 w-6 text-white drop-shadow-md\" />\n              </motion.div>\n              <div>\n                <p className=\"text-sm font-bold text-gray-500 uppercase tracking-wider\">Complétés</p>\n                <motion.p\n                  className=\"text-4xl font-display font-bold text-gray-900 tracking-tight\"\n                  whileHover={{ scale: 1.05 }}\n                >\n                  {stats.completed}\n                </motion.p>\n              </div>\n            </div>\n          </GlassCard>\n        </motion.div>\n      </motion.div>\n\n      {/* Filtres premium */}\n      <motion.div variants={itemVariants}>\n        <GlassCard variant=\"premium\" className=\"mb-6 p-6 border-2 border-gray-100/50 hover:border-brand-blue/20 transition-all duration-500 shadow-[0_10px_40px_-15px_rgba(0,0,0,0.1)]\">\n          <div className=\"flex flex-wrap gap-4\">\n            <div className=\"flex-1 min-w-[200px]\">\n              <div className=\"relative group\">\n                <motion.div\n                  whileHover={{ scale: 1.05 }}\n                  transition={{ type: \"spring\", stiffness: 400, damping: 10 }}\n                  className=\"absolute left-3 top-1/2 -translate-y-1/2\"\n                >\n                  <Search className=\"h-5 w-5 text-gray-400 group-hover:text-brand-blue transition-colors\" />\n                </motion.div>\n                <Input\n                  placeholder=\"Rechercher un apprenant ou un modèle...\"\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  className=\"pl-11 h-12 border-2 border-gray-200 hover:border-brand-blue/30 focus:border-brand-blue transition-all duration-300 rounded-xl font-medium shadow-sm\"\n                />\n              </div>\n            </div>\n\n            <motion.div whileHover={{ scale: 1.02 }} whileTap={{ scale: 0.98 }}>\n              <select\n                value={statusFilter}\n                onChange={(e) => setStatusFilter(e.target.value)}\n                className=\"px-4 py-3 border-2 border-gray-200 hover:border-brand-blue/30 focus:border-brand-blue rounded-xl focus:ring-2 focus:ring-brand-blue/20 font-semibold text-gray-700 transition-all duration-300 shadow-sm h-12\"\n              >\n                <option value=\"all\">Tous les statuts</option>\n                <option value=\"draft\">Brouillon</option>\n                <option value=\"in_progress\">En cours</option>\n                <option value=\"completed\">Terminé</option>\n                <option value=\"validated\">Validé</option>\n              </select>\n            </motion.div>\n\n            <motion.div whileHover={{ scale: 1.02 }} whileTap={{ scale: 0.98 }}>\n              <select\n                value={sessionFilter}\n                onChange={(e) => setSessionFilter(e.target.value)}\n                className=\"px-4 py-3 border-2 border-gray-200 hover:border-brand-blue/30 focus:border-brand-blue rounded-xl focus:ring-2 focus:ring-brand-blue/20 font-semibold text-gray-700 transition-all duration-300 shadow-sm h-12\"\n              >\n                <option value=\"all\">Toutes les sessions</option>\n                {sessions?.map((s: any) => (\n                  <option key={s.id} value={s.id}>{s.name}</option>\n                ))}\n              </select>\n            </motion.div>\n          </div>\n        </GlassCard>\n      </motion.div>\n\n      {/* Liste des livrets */}\n      {isLoading ? (\n        <motion.div\n          variants={itemVariants}\n          className=\"flex items-center justify-center py-12\"\n        >\n          <div className=\"text-center\">\n            <div className=\"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-brand-blue mb-4\"></div>\n            <p className=\"text-gray-500 font-medium\">Chargement des livrets...</p>\n          </div>\n        </motion.div>\n      ) : filteredPortfolios?.length === 0 ? (\n        <motion.div variants={itemVariants}>\n          <GlassCard variant=\"premium\" className=\"py-16 text-center border-2 border-gray-100/50\">\n            <motion.div\n              initial={{ scale: 0 }}\n              animate={{ scale: 1 }}\n              transition={{ type: \"spring\", stiffness: 200, damping: 15 }}\n            >\n              <BookOpen className=\"h-16 w-16 text-gray-400 mx-auto mb-6\" />\n            </motion.div>\n            <h3 className=\"text-2xl font-display font-bold text-gray-900 mb-3\">\n              Aucun livret d'apprentissage\n            </h3>\n            <p className=\"text-gray-600 mb-8 max-w-md mx-auto font-medium\">\n              {templates?.length === 0\n                ? 'Commencez par créer un modèle de livret, puis créez des livrets pour vos apprenants.'\n                : 'Créez un nouveau livret pour commencer à suivre la progression de vos apprenants.'}\n            </p>\n            {templates?.length === 0 ? (\n              <Link href=\"/dashboard/evaluations/portfolios/templates/new\">\n                <motion.div\n                  whileHover={{ scale: 1.05, y: -2 }}\n                  whileTap={{ scale: 0.98 }}\n                >\n                  <Button className=\"group relative overflow-hidden bg-gradient-to-r from-brand-blue to-brand-blue-dark shadow-lg shadow-brand-blue/30 hover:shadow-xl hover:shadow-brand-blue/40 transition-all duration-300 font-bold px-8 py-6\">\n                    <motion.div\n                      className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent\"\n                      initial={{ x: '-100%' }}\n                      whileHover={{ x: '100%' }}\n                      transition={{ duration: 0.6 }}\n                    />\n                    <Plus className=\"h-5 w-5 mr-2 relative z-10\" />\n                    <span className=\"relative z-10\">Créer un modèle</span>\n                  </Button>\n                </motion.div>\n              </Link>\n            ) : (\n              <Link href=\"/dashboard/evaluations/portfolios/new\">\n                <motion.div\n                  whileHover={{ scale: 1.05, y: -2 }}\n                  whileTap={{ scale: 0.98 }}\n                >\n                  <Button className=\"group relative overflow-hidden bg-gradient-to-r from-brand-blue to-brand-blue-dark shadow-lg shadow-brand-blue/30 hover:shadow-xl hover:shadow-brand-blue/40 transition-all duration-300 font-bold px-8 py-6\">\n                    <motion.div\n                      className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent\"\n                      initial={{ x: '-100%' }}\n                      whileHover={{ x: '100%' }}\n                      transition={{ duration: 0.6 }}\n                    />\n                    <Plus className=\"h-5 w-5 mr-2 relative z-10\" />\n                    <span className=\"relative z-10\">Créer un livret</span>\n                  </Button>\n                </motion.div>\n              </Link>\n            )}\n          </GlassCard>\n        </motion.div>\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {filteredPortfolios?.map((portfolio: any, index: number) => (\n            <motion.div\n              key={portfolio.id}\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ delay: index * 0.05 }}\n              whileHover={{ y: -8, scale: 1.02 }}\n            >\n              <Link href={`/dashboard/evaluations/portfolios/${portfolio.id}`}>\n                <GlassCard variant=\"premium\" className=\"relative overflow-hidden h-full border-2 border-gray-100/50 hover:border-brand-blue/30 transition-all duration-500 shadow-[0_10px_40px_-15px_rgba(0,0,0,0.1)] hover:shadow-[0_20px_60px_-15px_rgba(51,90,207,0.3)] cursor-pointer group\">\n                  {/* Shine effect on hover */}\n                  <motion.div\n                    className=\"absolute inset-0 opacity-0 group-hover:opacity-100\"\n                    initial={{ x: '-100%', y: '-100%' }}\n                    whileHover={{ x: '100%', y: '100%' }}\n                    transition={{ duration: 0.8, ease: \"easeInOut\" }}\n                    style={{\n                      background: 'linear-gradient(45deg, transparent 30%, rgba(255, 255, 255, 0.1) 50%, transparent 70%)',\n                    }}\n                  />\n\n                  <div className=\"relative z-10 p-6\">\n                    <div className=\"flex items-start justify-between mb-4\">\n                      <div className=\"flex items-center gap-3\">\n                        <motion.div\n                          className=\"w-12 h-12 rounded-full flex items-center justify-center text-white font-bold shadow-lg\"\n                          style={{ backgroundColor: portfolio.template?.primary_color || '#335ACF' }}\n                          whileHover={{ scale: 1.1, rotate: 5 }}\n                          transition={{ type: \"spring\", stiffness: 400, damping: 10 }}\n                        >\n                          {portfolio.student?.first_name?.[0]}{portfolio.student?.last_name?.[0]}\n                        </motion.div>\n                        <div>\n                          <h3 className=\"font-bold text-gray-900 group-hover:text-brand-blue transition-colors\">\n                            {portfolio.student?.first_name} {portfolio.student?.last_name}\n                          </h3>\n                          <p className=\"text-sm text-gray-600 font-medium\">\n                            {portfolio.template?.name}\n                          </p>\n                        </div>\n                      </div>\n                      <motion.div whileHover={{ scale: 1.05 }}>\n                        {getStatusBadge(portfolio.status)}\n                      </motion.div>\n                    </div>\n\n                    {portfolio.session && (\n                      <div className=\"flex items-center gap-2 text-sm text-gray-600 mb-4 bg-gray-50 rounded-lg p-3\">\n                        <Calendar className=\"h-4 w-4 text-brand-blue\" />\n                        <span className=\"font-medium\">{portfolio.session.name}</span>\n                      </div>\n                    )}\n\n                    {/* Barre de progression premium */}\n                    <div className=\"mb-4\">\n                      <div className=\"flex items-center justify-between text-sm font-bold text-gray-700 mb-2\">\n                        <span>Progression</span>\n                        <motion.span\n                          className=\"text-brand-blue\"\n                          whileHover={{ scale: 1.1 }}\n                        >\n                          {Math.round(portfolio.progress_percentage || 0)}%\n                        </motion.span>\n                      </div>\n                      <div className=\"w-full h-3 bg-gray-200 rounded-full overflow-hidden shadow-inner\">\n                        <motion.div\n                          className=\"h-full bg-gradient-to-r from-brand-blue to-brand-cyan shadow-lg\"\n                          initial={{ width: 0 }}\n                          animate={{ width: `${portfolio.progress_percentage || 0}%` }}\n                          transition={{ duration: 0.8, ease: \"easeOut\" }}\n                        />\n                      </div>\n                    </div>\n\n                    <div className=\"flex items-center justify-between text-xs text-gray-500 font-medium mb-4\">\n                      <span>Modifié le {formatDate(portfolio.updated_at)}</span>\n                      {portfolio.is_visible_to_student && (\n                        <motion.span\n                          className=\"flex items-center gap-1 text-green-600 font-bold\"\n                          whileHover={{ scale: 1.05 }}\n                        >\n                          <Eye className=\"h-3 w-3\" />\n                          Visible\n                        </motion.span>\n                      )}\n                    </div>\n\n                    {/* Actions */}\n                    <div className=\"flex items-center gap-2 pt-4 border-t border-gray-100\">\n                      <motion.div\n                        className=\"flex-1\"\n                        whileHover={{ scale: 1.02 }}\n                        whileTap={{ scale: 0.98 }}\n                        onClick={(e) => e.preventDefault()}\n                      >\n                        <Link href={`/dashboard/evaluations/portfolios/${portfolio.id}`} className=\"block\">\n                          <Button variant=\"outline\" size=\"sm\" className=\"w-full border-2 hover:border-brand-blue hover:text-brand-blue font-bold\">\n                            <Edit className=\"h-4 w-4 mr-1\" />\n                            Modifier\n                          </Button>\n                        </Link>\n                      </motion.div>\n                      <motion.div\n                        whileHover={{ scale: 1.1, rotate: 5 }}\n                        whileTap={{ scale: 0.95 }}\n                        onClick={(e) => e.preventDefault()}\n                      >\n                        <Link href={`/dashboard/evaluations/portfolios/${portfolio.id}/preview`}>\n                          <Button variant=\"ghost\" size=\"sm\" className=\"hover:bg-brand-blue/10 hover:text-brand-blue\">\n                            <Eye className=\"h-4 w-4\" />\n                          </Button>\n                        </Link>\n                      </motion.div>\n                      {portfolio.pdf_url && (\n                        <motion.div\n                          whileHover={{ scale: 1.1, rotate: -5 }}\n                          whileTap={{ scale: 0.95 }}\n                          onClick={(e) => e.preventDefault()}\n                        >\n                          <a href={portfolio.pdf_url} target=\"_blank\" rel=\"noopener noreferrer\">\n                            <Button variant=\"ghost\" size=\"sm\" className=\"hover:bg-green-50 hover:text-green-600\">\n                              <Download className=\"h-4 w-4\" />\n                            </Button>\n                          </a>\n                        </motion.div>\n                      )}\n                    </div>\n                  </div>\n                </GlassCard>\n              </Link>\n            </motion.div>\n          ))}\n        </div>\n      )}\n    </motion.div>\n  )\n}\n\n"],"names":[],"mappings":"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"}