{"version":3,"sources":["../../../../app/%28learner%29/learner/messages/%5Bid%5D/page.tsx"],"sourcesContent":["'use client'\n\nimport { useParams, useRouter } from 'next/navigation'\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\nimport { useLearnerContext } from '@/lib/contexts/learner-context'\nimport { messagingService } from '@/lib/services/messaging.service'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { ArrowLeft, Send, Loader2, Users, User, MessageSquare, Trash2, MoreVertical } from 'lucide-react'\nimport { useState, useRef, useEffect } from 'react'\nimport { formatRelativeTime } from '@/lib/utils'\nimport { createLearnerClient } from '@/lib/supabase/learner-client'\nimport { MessageAttachmentViewer } from '@/components/messaging/message-attachment-viewer'\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu'\n\nexport default function LearnerConversationPage() {\n  const params = useParams()\n  const router = useRouter()\n  const context = useLearnerContext()\n  const queryClient = useQueryClient()\n  const conversationId = params.id as string\n  \n  // Récupérer studentId depuis le contexte ou localStorage en fallback\n  const studentId = context.studentId || (typeof window !== 'undefined' ? localStorage.getItem('learner_student_id') || undefined : undefined)\n  const organizationId = context.organizationId\n  \n  const [messageText, setMessageText] = useState('')\n  const messagesEndRef = useRef<HTMLDivElement>(null)\n\n  // Créer un client Supabase pour l'apprenant\n  const supabase = studentId ? createLearnerClient(studentId) : null\n\n  // Récupérer la conversation directement avec le client apprenant\n  const { data: conversation, isLoading, error } = useQuery({\n    queryKey: ['learner-conversation', conversationId, studentId],\n    queryFn: async () => {\n      if (!studentId || !conversationId || !supabase) return null\n      \n      // Récupérer la conversation de base\n      const { data: conv, error: convError } = await supabase\n        .from('conversations')\n        .select('*')\n        .eq('id', conversationId)\n        .maybeSingle()\n\n      if (convError || !conv) {\n        throw convError || new Error('Conversation introuvable')\n      }\n\n      // Récupérer les participants\n      const { data: participants } = await supabase\n        .from('conversation_participants')\n        .select('*')\n        .eq('conversation_id', conversationId)\n\n      // Enrichir les participants\n      const enrichedParticipants = await Promise.all(\n        (participants || []).map(async (participant: any) => {\n          let user = null\n          let student = null\n\n          if (participant.user_id) {\n            try {\n              // Essayer d'abord avec une fonction RPC si elle existe\n              const { data: rpcData, error: rpcError } = await supabase\n                .rpc('get_user_name', { p_user_id: participant.user_id })\n              \n              if (!rpcError && rpcData) {\n                user = rpcData\n              } else {\n                // Fallback : essayer la requête directe\n                const { data: userData, error: userError } = await supabase\n                  .from('users')\n                  .select('id, full_name, email, avatar_url')\n                  .eq('id', participant.user_id)\n                  .maybeSingle()\n                \n                if (!userError && userData) {\n                  user = userData\n                } else {\n                  // Si on ne peut pas récupérer les données, créer un objet minimal avec l'ID\n                  user = { id: participant.user_id, full_name: null, email: null, avatar_url: null }\n                }\n              }\n              } catch (err) {\n                user = { id: participant.user_id, full_name: null, email: null, avatar_url: null }\n              }\n          }\n\n          if (participant.student_id) {\n            try {\n              const { data: studentData, error: studentError } = await supabase\n                .from('students')\n                .select('id, first_name, last_name, email, student_number')\n                .eq('id', participant.student_id)\n                .maybeSingle()\n              \n              if (!studentError && studentData) {\n                student = studentData\n              }\n            } catch (err) {\n              // Silently handle student fetch error\n            }\n          }\n\n          return {\n            ...participant,\n            user,\n            student,\n          }\n        })\n      )\n\n      return {\n        ...conv,\n        participants: enrichedParticipants,\n      }\n    },\n    enabled: !!conversationId && !!studentId,\n  })\n\n  // Récupérer les messages directement avec le client apprenant\n  const { data: messages, isLoading: isLoadingMessages } = useQuery({\n    queryKey: ['learner-messages', conversationId, studentId],\n    queryFn: async () => {\n      if (!studentId || !conversationId || !supabase) return []\n      \n      // Récupérer les messages de base\n      const { data: msgs, error: msgsError } = await supabase\n        .from('messages')\n        .select('*')\n        .eq('conversation_id', conversationId)\n        .eq('is_deleted', false)\n        .order('created_at', { ascending: false })\n        .limit(50)\n\n      if (msgsError) {\n        throw msgsError\n      }\n\n      if (!msgs || msgs.length === 0) {\n        return []\n      }\n\n      // Enrichir les messages avec les données des expéditeurs\n      const enrichedMessages = await Promise.all(\n        msgs.map(async (message: any) => {\n          let sender = null\n          let studentSender = null\n\n          // Récupérer l'expéditeur si c'est un utilisateur\n          // Utiliser une fonction RPC pour bypasser RLS dans l'espace apprenant\n          if (message.sender_id) {\n            try {\n              // Essayer d'abord avec une fonction RPC si elle existe\n              const { data: rpcData, error: rpcError } = await supabase\n                .rpc('get_user_name', { p_user_id: message.sender_id })\n              \n              if (!rpcError && rpcData) {\n                sender = rpcData\n              } else {\n                // Fallback : essayer la requête directe\n                const { data: userData, error: userError } = await supabase\n                  .from('users')\n                  .select('id, full_name, email, avatar_url')\n                  .eq('id', message.sender_id)\n                  .maybeSingle()\n                \n                if (!userError && userData) {\n                  sender = userData\n                } else {\n                  sender = { id: message.sender_id, full_name: null, email: null, avatar_url: null }\n                }\n              }\n            } catch (err) {\n              sender = { id: message.sender_id, full_name: null, email: null, avatar_url: null }\n            }\n          }\n\n          // Récupérer l'expéditeur si c'est un étudiant\n          if (message.student_sender_id) {\n            try {\n              const { data: studentData, error: studentError } = await supabase\n                .from('students')\n                .select('id, first_name, last_name, email, student_number')\n                .eq('id', message.student_sender_id)\n                .maybeSingle()\n              \n              if (!studentError && studentData) {\n                studentSender = studentData\n              }\n            } catch (err) {\n              // Silently handle student fetch error\n            }\n          }\n\n          return {\n            ...message,\n            sender,\n            student_sender: studentSender,\n          }\n        })\n      )\n\n      return enrichedMessages.reverse() // Inverser pour avoir les plus anciens en premier\n    },\n    enabled: !!conversationId && !!studentId,\n    refetchInterval: 5000, // Rafraîchir toutes les 5 secondes\n  })\n\n  // Mutation pour supprimer un message (seulement pour les messages de l'étudiant)\n  const deleteMessageMutation = useMutation({\n    mutationFn: async (messageId: string) => {\n      if (!supabase) {\n        throw new Error('Client Supabase non disponible')\n      }\n      // Utiliser le service de messaging qui fait un soft delete\n      return messagingService.deleteMessage(messageId)\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['learner-messages', conversationId] })\n      queryClient.invalidateQueries({ queryKey: ['learner-conversations'] })\n    },\n    onError: (error) => {\n      alert(error instanceof Error ? error.message : 'Impossible de supprimer le message.')\n    },\n  })\n\n  // Mutation pour envoyer un message\n  // Note: Les étudiants doivent avoir un user_id pour envoyer des messages\n  // Si l'étudiant n'a pas de user_id, il faudra créer un compte utilisateur ou utiliser un autre mécanisme\n  const sendMessageMutation = useMutation({\n    mutationFn: async (content: string) => {\n      if (!studentId || !conversationId || !supabase) {\n        throw new Error('Étudiant non identifié')\n      }\n\n      // Vérifier si l'étudiant a un user_id associé\n      const { data: student } = await supabase\n        .from('students')\n        .select('id, email')\n        .eq('id', studentId)\n        .maybeSingle()\n\n      if (!student) {\n        throw new Error('Étudiant non trouvé')\n      }\n\n      // Utiliser la fonction RPC pour insérer le message\n      // Cette fonction gère automatiquement la recherche du user_id\n      const { data: message, error: rpcError } = await supabase\n        .rpc('insert_student_message', {\n          p_conversation_id: conversationId,\n          p_student_id: studentId,\n          p_content: content.trim(),\n        })\n\n      if (rpcError) {\n        throw new Error(rpcError.message || 'Erreur lors de l\\'envoi du message')\n      }\n\n      if (!message) {\n        throw new Error('Le message n\\'a pas pu être créé')\n      }\n\n      return message\n    },\n    onSuccess: () => {\n      setMessageText('')\n      queryClient.invalidateQueries({ queryKey: ['learner-messages', conversationId] })\n      queryClient.invalidateQueries({ queryKey: ['learner-conversations'] })\n      setTimeout(() => {\n        messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' })\n      }, 100)\n    },\n    onError: (error) => {\n      alert(error instanceof Error ? error.message : 'Une erreur est survenue lors de l\\'envoi du message.')\n    },\n  })\n\n  // Scroll vers le bas quand de nouveaux messages arrivent\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' })\n  }, [messages])\n\n  const handleSendMessage = (e: React.FormEvent) => {\n    e.preventDefault()\n    if (!messageText.trim() || sendMessageMutation.isPending) return\n    sendMessageMutation.mutate(messageText.trim())\n  }\n\n  // Trouver le participant étudiant pour la comparaison\n  const studentParticipant = conversation?.participants?.find(\n    (p: any) => p.student_id === studentId\n  )\n\n  // Obtenir le nom de l'administrateur/autre participant (pour l'en-tête et les messages)\n  // Dans l'espace apprenant, l'autre participant est généralement un admin/utilisateur du dashboard\n  const getOtherParticipant = () => {\n    if (!conversation?.participants || conversation.participants.length === 0) return null\n    \n    // Si c'est une conversation de groupe, utiliser le nom de la conversation\n    if (conversation.conversation_type === 'group' && conversation.name) {\n      return {\n        name: conversation.name,\n        type: 'group' as const,\n        data: null,\n      }\n    }\n    \n    // Trouver le participant qui n'est pas l'étudiant actuel\n    // Dans l'espace apprenant, c'est généralement un admin/utilisateur (user_id)\n    let otherParticipant = conversation.participants.find(\n      (p: any) => {\n        // Exclure l'étudiant actuel par student_id\n        if (p.student_id === studentId) return false\n        // Exclure aussi par user_id si l'étudiant a un user_id\n        if (studentParticipant?.user_id && p.user_id === studentParticipant.user_id) return false\n        return true\n      }\n    )\n    \n    // Si on n'a pas trouvé, essayer avec n'importe quel participant qui n'est pas l'étudiant actuel\n    if (!otherParticipant) {\n      otherParticipant = conversation.participants.find(\n        (p: any) => p.student_id !== studentId\n      )\n    }\n    \n    if (!otherParticipant) {\n      return null\n    }\n    \n    // Priorité aux données utilisateur (admin/utilisateur du dashboard)\n    if (otherParticipant.user_id) {\n      // Si on a des données utilisateur enrichies\n      if (otherParticipant.user) {\n        const userName = otherParticipant.user.full_name || otherParticipant.user.email\n        if (userName) {\n          return {\n            name: userName,\n            type: 'admin' as const,\n            data: otherParticipant.user,\n          }\n        }\n      }\n      \n      return {\n        name: `Administrateur ${otherParticipant.user_id.substring(0, 8)}`,\n        type: 'admin' as const,\n        data: { id: otherParticipant.user_id, full_name: null, email: null },\n      }\n    }\n    \n    // Si c'est un autre étudiant (cas rare dans l'espace apprenant)\n    if (otherParticipant.student_id) {\n      if (otherParticipant.student) {\n        const studentName = `${otherParticipant.student.first_name || ''} ${otherParticipant.student.last_name || ''}`.trim() || \n                            otherParticipant.student.email || \n                            (otherParticipant.student.student_number ? `Candidat ${otherParticipant.student.student_number}` : null)\n        if (studentName) {\n          return {\n            name: studentName,\n            type: 'student' as const,\n            data: otherParticipant.student,\n          }\n        }\n      }\n      \n      return {\n        name: `Candidat ${otherParticipant.student_id.substring(0, 8)}`,\n        type: 'student' as const,\n        data: { id: otherParticipant.student_id, first_name: null, last_name: null, email: null },\n      }\n    }\n    \n    return null\n  }\n\n  const otherParticipant = conversation ? getOtherParticipant() : null\n  \n  // Essayer de récupérer le nom de l'utilisateur via RPC si on n'a pas de nom complet\n  const [enrichedOtherParticipant, setEnrichedOtherParticipant] = useState(otherParticipant)\n  \n  useEffect(() => {\n    const fetchAdminName = async () => {\n      // Récupérer le nom de l'admin si c'est un utilisateur/admin\n      if (!otherParticipant || otherParticipant.type !== 'admin' || !otherParticipant.data?.id) return\n      \n      // Si on a déjà un nom complet, ne rien faire\n      if (otherParticipant.name && !otherParticipant.name.startsWith('Administrateur ') && !otherParticipant.name.startsWith('Utilisateur ')) return\n      \n      try {\n        if (!supabase) return\n        const { data: userData, error } = await supabase\n          .rpc('get_user_name', { p_user_id: otherParticipant.data.id })\n        \n        if (!error && userData) {\n          const userName = (userData as any).full_name || (userData as any).email\n          if (userName) {\n            setEnrichedOtherParticipant({\n              ...otherParticipant,\n              name: userName,\n              type: 'admin' as const,\n              data: userData,\n            })\n          }\n        }\n      } catch (err) {\n        // Silently handle RPC error\n      }\n    }\n    \n    fetchAdminName()\n  }, [otherParticipant, supabase])\n  \n  // Utiliser le participant enrichi si disponible, sinon le participant de base\n  const finalOtherParticipant = enrichedOtherParticipant || otherParticipant\n  \n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <Loader2 className=\"h-8 w-8 animate-spin text-muted-foreground\" />\n      </div>\n    )\n  }\n\n  if (error || !conversation) {\n    return (\n      <div className=\"container mx-auto py-8 px-4 max-w-7xl\">\n        <div className=\"flex items-center gap-4 mb-6\">\n          <Button variant=\"ghost\" size=\"icon\" onClick={() => router.push('/learner/messages')}>\n            <ArrowLeft className=\"h-4 w-4\" />\n          </Button>\n          <h1 className=\"text-2xl font-bold\">Conversation introuvable</h1>\n        </div>\n        <div className=\"text-center py-8\">\n          <p className=\"text-muted-foreground\">\n            Cette conversation n'existe pas ou vous n'avez pas la permission de la voir.\n          </p>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"flex flex-col h-[calc(100vh-4rem)]\">\n      {/* Header */}\n      <div className=\"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\">\n        <div className=\"container mx-auto px-4 py-4 max-w-7xl\">\n          <div className=\"flex items-center gap-4\">\n            <Button variant=\"ghost\" size=\"icon\" onClick={() => router.push('/learner/messages')}>\n              <ArrowLeft className=\"h-4 w-4\" />\n            </Button>\n            <div className=\"flex items-center gap-3 flex-1\">\n              {otherParticipant?.type === 'student' ? (\n                <div className=\"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center\">\n                  <User className=\"h-5 w-5 text-primary\" />\n                </div>\n              ) : (\n                <div className=\"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center\">\n                  <Users className=\"h-5 w-5 text-primary\" />\n                </div>\n              )}\n              <div>\n                <h1 className=\"text-lg font-semibold\">\n                  {finalOtherParticipant?.name || \n                   (conversation.conversation_type === 'group' && conversation.name) || \n                   'Conversation'}\n                </h1>\n                {conversation.conversation_type === 'group' && conversation.name && finalOtherParticipant?.name !== conversation.name && (\n                  <p className=\"text-sm text-muted-foreground\">{conversation.name}</p>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Messages */}\n      <div className=\"flex-1 overflow-y-auto container mx-auto px-4 py-6 max-w-7xl\">\n        {isLoadingMessages ? (\n          <div className=\"flex items-center justify-center h-full\">\n            <Loader2 className=\"h-6 w-6 animate-spin text-muted-foreground\" />\n          </div>\n        ) : messages && messages.length > 0 ? (\n          <div className=\"space-y-4\">\n            {messages.map((message: any) => {\n              // Déterminer si le message est de l'étudiant\n              // Chercher le participant qui correspond à cet étudiant\n              const studentParticipant = conversation.participants?.find(\n                (p: any) => p.student_id === studentId\n              )\n              \n              // Si l'étudiant a un user_id associé, comparer avec le sender_id\n              // Sinon, on ne peut pas déterminer (on considère que ce n'est pas son message)\n              const isOwnMessage = studentParticipant?.user_id === message.sender_id || \n                                   message.student_sender_id === studentId\n              \n              // Obtenir le nom de l'expéditeur avec priorité\n              let senderName = null\n              \n              // D'abord, essayer de récupérer depuis message.sender (utilisateur)\n              if (message.sender) {\n                senderName = message.sender.full_name || message.sender.email || null\n              }\n              \n              // Si pas trouvé, essayer depuis message.student_sender (étudiant)\n              if (!senderName && message.student_sender) {\n                const studentName = `${message.student_sender.first_name || ''} ${message.student_sender.last_name || ''}`.trim()\n                senderName = studentName || message.student_sender.email || (message.student_sender.student_number ? `Candidat ${message.student_sender.student_number}` : null)\n              }\n              \n              // Si toujours pas trouvé, essayer de récupérer depuis les participants de la conversation\n              if (!senderName && !isOwnMessage && conversation.participants) {\n                // Chercher le participant admin qui correspond au sender_id\n                if (message.sender_id) {\n                  const senderParticipant = conversation.participants.find(\n                    (p: any) => p.user_id === message.sender_id\n                  )\n                  if (senderParticipant?.user) {\n                    senderName = senderParticipant.user.full_name || senderParticipant.user.email || null\n                  }\n                }\n                \n                // Chercher le participant qui correspond au student_sender_id\n                if (!senderName && message.student_sender_id) {\n                  const senderParticipant = conversation.participants.find(\n                    (p: any) => p.student_id === message.student_sender_id\n                  )\n                  if (senderParticipant?.student) {\n                    const studentName = `${senderParticipant.student.first_name || ''} ${senderParticipant.student.last_name || ''}`.trim()\n                    senderName = studentName || senderParticipant.student.email || (senderParticipant.student.student_number ? `Candidat ${senderParticipant.student.student_number}` : null)\n                  }\n                }\n              }\n              \n              // En dernier recours, utiliser le nom de l'admin (autre participant) de la conversation\n              if (!senderName && !isOwnMessage && finalOtherParticipant?.name) {\n                senderName = finalOtherParticipant.name\n              }\n              \n              return (\n                <div\n                  key={message.id}\n                  className={`flex items-start gap-2 ${isOwnMessage ? 'justify-end' : 'justify-start'}`}\n                >\n                  {!isOwnMessage && <div className=\"w-8\" />}\n                  <div className=\"group relative flex items-start gap-2\">\n                    <div\n                      className={`max-w-[70%] rounded-lg px-4 py-2 ${\n                        isOwnMessage\n                          ? 'bg-primary text-primary-foreground'\n                          : 'bg-muted'\n                      }`}\n                    >\n                      {!isOwnMessage && senderName && (\n                        <p className=\"text-xs font-medium mb-1 opacity-80\">\n                          {senderName}\n                        </p>\n                      )}\n                      {message.attachments && Array.isArray(message.attachments) && message.attachments.length > 0 && (\n                        <div className=\"mb-2\">\n                          <MessageAttachmentViewer attachments={message.attachments} />\n                        </div>\n                      )}\n                      <p className=\"text-sm whitespace-pre-wrap\">{message.content}</p>\n                      <p\n                        className={`text-xs mt-1 ${\n                          isOwnMessage ? 'text-primary-foreground/70' : 'text-muted-foreground'\n                        }`}\n                      >\n                        {formatRelativeTime(message.created_at)}\n                      </p>\n                    </div>\n                    {/* Bouton de suppression uniquement pour les messages de l'étudiant */}\n                    {isOwnMessage && (\n                      <DropdownMenu>\n                        <DropdownMenuTrigger asChild>\n                          <Button\n                            variant=\"ghost\"\n                            size=\"icon\"\n                            className=\"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity\"\n                            onClick={(e) => e.stopPropagation()}\n                          >\n                            <MoreVertical className=\"h-3 w-3\" />\n                          </Button>\n                        </DropdownMenuTrigger>\n                        <DropdownMenuContent align=\"end\">\n                          <DropdownMenuItem\n                            onClick={(e) => {\n                              e.preventDefault()\n                              e.stopPropagation()\n                              if (confirm('Êtes-vous sûr de vouloir supprimer ce message ?')) {\n                                deleteMessageMutation.mutate(message.id)\n                              }\n                            }}\n                            disabled={deleteMessageMutation.isPending}\n                            className=\"text-destructive focus:text-destructive\"\n                          >\n                            <Trash2 className=\"mr-2 h-4 w-4\" />\n                            Supprimer\n                          </DropdownMenuItem>\n                        </DropdownMenuContent>\n                      </DropdownMenu>\n                    )}\n                  </div>\n                  {isOwnMessage && <div className=\"w-8\" />}\n                </div>\n              )\n            })}\n            <div ref={messagesEndRef} />\n          </div>\n        ) : (\n          <div className=\"flex items-center justify-center h-full\">\n            <div className=\"text-center\">\n              <MessageSquare className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\n              <p className=\"text-muted-foreground\">Aucun message pour le moment</p>\n              <p className=\"text-sm text-muted-foreground mt-2\">\n                Commencez la conversation en envoyant un message\n              </p>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Input */}\n      <div className=\"border-t bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\">\n        <div className=\"container mx-auto px-4 py-4 max-w-7xl\">\n          <form onSubmit={handleSendMessage} className=\"flex gap-2\">\n            <Input\n              value={messageText}\n              onChange={(e) => setMessageText(e.target.value)}\n              placeholder=\"Tapez votre message...\"\n              disabled={sendMessageMutation.isPending}\n              className=\"flex-1\"\n            />\n            <Button\n              type=\"submit\"\n              disabled={!messageText.trim() || sendMessageMutation.isPending}\n              size=\"icon\"\n            >\n              {sendMessageMutation.isPending ? (\n                <Loader2 className=\"h-4 w-4 animate-spin\" />\n              ) : (\n                <Send className=\"h-4 w-4\" />\n              )}\n            </Button>\n          </form>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"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"}