{"version":3,"sources":["../../../../node_modules/lucide-react/src/icons/plus.ts","../../../../node_modules/lucide-react/src/icons/arrow-left.ts","../../../../node_modules/lucide-react/src/icons/save.ts","../../../../node_modules/lucide-react/src/icons/upload.ts","../../../../lib/services/program.service.ts","../../../../lib/validations/schemas.ts","../../../../lib/utils/pdf-generator.ts","../../../../components/ui/accordion.tsx"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Plus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJNMTIgNXYxNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Plus = createLucideIcon('Plus', [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'M12 5v14', key: 's699le' }],\n]);\n\nexport default Plus;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ArrowLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTIgMTktNy03IDctNyIgLz4KICA8cGF0aCBkPSJNMTkgMTJINSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/arrow-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowLeft = createLucideIcon('ArrowLeft', [\n  ['path', { d: 'm12 19-7-7 7-7', key: '1l729n' }],\n  ['path', { d: 'M19 12H5', key: 'x3x0zl' }],\n]);\n\nexport default ArrowLeft;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Save\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTkgMjFINWEyIDIgMCAwIDEtMi0yVjVhMiAyIDAgMCAxIDItMmgxMWw1IDV2MTFhMiAyIDAgMCAxLTIgMnoiIC8+CiAgPHBvbHlsaW5lIHBvaW50cz0iMTcgMjEgMTcgMTMgNyAxMyA3IDIxIiAvPgogIDxwb2x5bGluZSBwb2ludHM9IjcgMyA3IDggMTUgOCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/save\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Save = createLucideIcon('Save', [\n  ['path', { d: 'M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z', key: '1owoqh' }],\n  ['polyline', { points: '17 21 17 13 7 13 7 21', key: '1md35c' }],\n  ['polyline', { points: '7 3 7 8 15 8', key: '8nz8an' }],\n]);\n\nexport default Save;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Upload\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTV2NGEyIDIgMCAwIDEtMiAySDVhMiAyIDAgMCAxLTItMnYtNCIgLz4KICA8cG9seWxpbmUgcG9pbnRzPSIxNyA4IDEyIDMgNyA4IiAvPgogIDxsaW5lIHgxPSIxMiIgeDI9IjEyIiB5MT0iMyIgeTI9IjE1IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/upload\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Upload = createLucideIcon('Upload', [\n  ['path', { d: 'M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4', key: 'ih7n3h' }],\n  ['polyline', { points: '17 8 12 3 7 8', key: 't8dd8p' }],\n  ['line', { x1: '12', x2: '12', y1: '3', y2: '15', key: 'widbto' }],\n]);\n\nexport default Upload;\n","import { createClient } from '@/lib/supabase/client'\nimport type { SupabaseClient } from '@supabase/supabase-js'\nimport { Database } from '@/types/database.types'\nimport type { TableRow, TableInsert, TableUpdate, FlexibleInsert, FlexibleUpdate } from '@/lib/types/supabase-helpers'\n\n// Types pour les vrais programmes (niveau 1)\ntype Program = TableRow<'programs'>\ntype ProgramInsert = TableInsert<'programs'>\ntype ProgramUpdate = TableUpdate<'programs'>\n\n/**\n * Service pour gérer les PROGRAMMES\n * Un programme contient plusieurs formations\n * Exemple : \"Programme de formation continue\" > \"Formation Excel\" > \"Session Hiver 2024\"\n */\nexport class ProgramService {\n  private supabase: SupabaseClient<Database>\n\n\n  constructor(supabaseClient?: SupabaseClient<Database>) {\n\n    this.supabase = supabaseClient || createClient()\n\n  }\n\n  /**\n   * Récupère tous les programmes d'une organisation\n   */\n  async getAllPrograms(organizationId: string, filters?: {\n    isActive?: boolean\n    search?: string\n  }) {\n    let query = this.supabase\n      .from('programs')\n      .select('*')\n      .eq('organization_id', organizationId)\n\n    if (filters?.isActive !== undefined) {\n      query = query.eq('is_active', filters.isActive)\n    }\n\n    if (filters?.search) {\n      query = query.or(`name.ilike.%${filters.search}%,code.ilike.%${filters.search}%,description.ilike.%${filters.search}%`)\n    }\n\n    const { data, error } = await query.order('created_at', { ascending: false })\n\n    if (error) throw error\n    return data\n  }\n\n  /**\n   * Récupère un programme par son ID avec ses formations\n   */\n  async getProgramById(id: string) {\n    const { data, error } = await this.supabase\n      .from('programs')\n      .select(`\n        *,\n        formations(*)\n      `)\n      .eq('id', id)\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  /**\n   * Crée un nouveau programme\n   */\n  async createProgram(program: FlexibleInsert<'programs'>) {\n    const { data, error } = await this.supabase\n      .from('programs')\n      .insert(program as ProgramInsert)\n      .select()\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  /**\n   * Met à jour un programme\n   */\n  async updateProgram(id: string, updates: FlexibleUpdate<'programs'>) {\n    const { data, error } = await this.supabase\n      .from('programs')\n      .update(updates as ProgramUpdate)\n      .eq('id', id)\n      .select()\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  /**\n   * Supprime un programme (soft delete)\n   */\n  async deleteProgram(id: string) {\n    return this.updateProgram(id, { is_active: false })\n  }\n\n  /**\n   * Récupère toutes les formations d'un programme\n   */\n  async getFormationsByProgram(programId: string) {\n    const { data, error } = await this.supabase\n      .from('formations')\n      .select('*')\n      .eq('program_id', programId)\n      .order('created_at', { ascending: false })\n\n    if (error) throw error\n    return data\n  }\n\n  /**\n   * Récupère les statistiques globales des programmes pour une organisation\n   */\n  async getGlobalStats(organizationId: string) {\n    const { data: allPrograms, error } = await this.supabase\n      .from('programs')\n      .select('id, is_active, created_at')\n      .eq('organization_id', organizationId)\n\n    if (error) throw error\n\n    const programsArray = (allPrograms as Program[]) || []\n    const total = programsArray.length\n    const active = programsArray.filter((p) => p.is_active).length\n    const inactive = programsArray.filter((p) => !p.is_active).length\n\n    // Compter les formations\n    let totalFormations = 0\n    const programIds = programsArray.map((p) => p.id)\n    if (programIds.length > 0) {\n      const { count, error: formationsError } = await this.supabase\n        .from('formations')\n        .select('*', { count: 'exact', head: true })\n        .in('program_id', programIds)\n      if (formationsError) throw formationsError\n      totalFormations = count || 0\n    }\n\n    // Compter les sessions via les formations\n    let totalSessions = 0\n    if (programIds.length > 0) {\n      const { data: formations, error: formationsError } = await this.supabase\n        .from('formations')\n        .select('id')\n        .in('program_id', programIds)\n      if (formationsError) throw formationsError\n      const formationIds = (formations as Array<{ id: string }>)?.map((f) => f.id) || []\n      if (formationIds.length > 0) {\n        const { count, error: sessionsError } = await this.supabase\n          .from('sessions')\n          .select('*', { count: 'exact', head: true })\n          .in('formation_id', formationIds)\n        if (sessionsError) throw sessionsError\n        totalSessions = count || 0\n      }\n    }\n\n    // Compter les inscriptions\n    let totalEnrollments = 0\n    if (programIds.length > 0) {\n      const { data: formations, error: formationsError2 } = await this.supabase\n        .from('formations')\n        .select('id')\n        .in('program_id', programIds)\n      if (formationsError2) throw formationsError2\n      const formationIds = (formations as Array<{ id: string }>)?.map((f) => f.id) || []\n      if (formationIds.length > 0) {\n        const { data: sessions, error: sessionsError2 } = await this.supabase\n          .from('sessions')\n          .select('id')\n          .in('formation_id', formationIds)\n        if (sessionsError2) throw sessionsError2\n        const sessionIds = (sessions as Array<{ id: string }>)?.map((s) => s.id) || []\n        if (sessionIds.length > 0) {\n          const { count, error: enrollmentsError } = await this.supabase\n            .from('enrollments')\n            .select('*', { count: 'exact', head: true })\n            .in('session_id', sessionIds)\n          if (enrollmentsError) throw enrollmentsError\n          totalEnrollments = count || 0\n        }\n      }\n    }\n\n    // Grouper par statut pour le graphique\n    const statusData = [\n      { name: 'Actifs', value: active, color: '#335ACF' },\n      { name: 'Inactifs', value: inactive, color: '#6B7280' },\n    ].filter(item => item.value > 0)\n\n    // Grouper par mois pour le graphique d'évolution\n    const byMonth: Record<string, number> = {}\n    programsArray.forEach((p) => {\n      if (p.created_at) {\n        const date = new Date(p.created_at)\n        const monthKey = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}`\n        byMonth[monthKey] = (byMonth[monthKey] || 0) + 1\n      }\n    })\n\n    const monthlyData = Object.entries(byMonth)\n      .sort(([a], [b]) => a.localeCompare(b))\n      .slice(-6) // Derniers 6 mois\n      .map(([month, count]) => ({\n        month: new Date(month + '-01').toLocaleDateString('fr-FR', { month: 'short', year: 'numeric' }),\n        programmes: count,\n      }))\n\n    return {\n      total,\n      active,\n      inactive,\n      totalFormations,\n      totalSessions,\n      totalEnrollments,\n      statusData,\n      monthlyData,\n    }\n  }\n}\n\nexport const programService = new ProgramService()\n","import { z } from 'zod'\n\n// Schéma pour la création d'un étudiant\nexport const studentSchema = z.object({\n  first_name: z.string().min(1, 'Le prénom est requis').max(100, 'Le prénom est trop long'),\n  last_name: z.string().min(1, 'Le nom est requis').max(100, 'Le nom est trop long'),\n  date_of_birth: z.string().optional().or(z.literal('')),\n  gender: z.enum(['male', 'female', 'other']).optional().or(z.literal('')),\n  email: z.string().email('Email invalide').optional().or(z.literal('')),\n  phone: z.string().optional().or(z.literal('')),\n  address: z.string().optional().or(z.literal('')),\n  city: z.string().optional().or(z.literal('')),\n  class_id: z.string().optional().or(z.literal('')),\n  enrollment_date: z.string().min(1, 'La date d\\'inscription est requise'),\n  // Tuteur\n  guardian_first_name: z.string().min(1, 'Le prénom du tuteur est requis'),\n  guardian_last_name: z.string().min(1, 'Le nom du tuteur est requis'),\n  guardian_relationship: z.enum(['parent', 'guardian', 'other']).default('parent'),\n  guardian_phone_primary: z.string().min(1, 'Le téléphone principal du tuteur est requis'),\n  guardian_phone_secondary: z.string().optional().or(z.literal('')),\n  guardian_email: z.string().email('Email invalide').optional().or(z.literal('')),\n  guardian_address: z.string().optional().or(z.literal('')),\n})\n\n// Schéma pour la mise à jour d'un étudiant\nexport const studentUpdateSchema = z.object({\n  first_name: z.string().min(1, 'Le prénom est requis').max(100, 'Le prénom est trop long'),\n  last_name: z.string().min(1, 'Le nom est requis').max(100, 'Le nom est trop long'),\n  date_of_birth: z.string().optional().or(z.literal('')),\n  gender: z.enum(['male', 'female', 'other']).optional().or(z.literal('')),\n  email: z.string().email('Email invalide').optional().or(z.literal('')),\n  phone: z.string().optional().or(z.literal('')),\n  address: z.string().optional().or(z.literal('')),\n  city: z.string().optional().or(z.literal('')),\n  class_id: z.string().optional().or(z.literal('')),\n  enrollment_date: z.string().min(1, 'La date d\\'inscription est requise'),\n  status: z.enum(['active', 'inactive', 'graduated']).default('active'),\n})\n\n// Schéma pour la création d'un programme\nexport const programSchema = z.object({\n  code: z.string().min(1, 'Le code est requis').max(50, 'Le code est trop long'),\n  name: z.string().min(1, 'Le nom est requis').max(200, 'Le nom est trop long'),\n  subtitle: z.string().optional().or(z.literal('')),\n  description: z.string().optional().or(z.literal('')),\n  category: z.string().optional().or(z.literal('')),\n  program_version: z.string().optional().or(z.literal('')),\n  version_date: z.string().optional().or(z.literal('')),\n  duration_hours: z.string().optional().or(z.literal('')),\n  duration_days: z.string().optional().or(z.literal('')),\n  photo_url: z.string().url('URL invalide').optional().or(z.literal('')),\n  price: z.string().optional().or(z.literal('')), // Prix générique ou entreprise\n  price_enterprise: z.string().optional().or(z.literal('')),\n  price_individual: z.string().optional().or(z.literal('')),\n  price_freelance: z.string().optional().or(z.literal('')),\n  currency: z.string().default('XOF'),\n  payment_plan: z.enum(['full', 'installment', 'free']).default('full'),\n  published_online: z.boolean().default(false),\n  is_public: z.boolean().default(false),\n  eligible_cpf: z.boolean().default(false),\n  cpf_code: z.string().optional().or(z.literal('')),\n  modalities: z.string().optional().or(z.literal('')),\n  training_action_type: z.string().optional().or(z.literal('')),\n  pedagogical_objectives: z.string().optional().or(z.literal('')),\n  learner_profile: z.string().optional().or(z.literal('')),\n  training_content: z.string().optional().or(z.literal('')),\n  execution_follow_up: z.string().optional().or(z.literal('')),\n  certification_modalities: z.string().optional().or(z.literal('')),\n  quality: z.string().optional().or(z.literal('')),\n  accounting_product_config: z.string().optional().or(z.literal('')),\n  edof_export_fields: z.string().optional().or(z.literal('')),\n  competence_domains: z.string().optional().or(z.literal('')),\n  prerequisites: z.string().optional().or(z.literal('')),\n  capacity_max: z.string().optional().or(z.literal('')),\n  age_min: z.string().optional().or(z.literal('')),\n  age_max: z.string().optional().or(z.literal('')),\n  certification_issued: z.boolean().default(false),\n  is_active: z.boolean().default(true),\n})\n\n// Schéma pour la création d'une formation\nexport const formationSchema = z.object({\n  program_id: z.string().min(1, 'Le programme est requis'),\n  code: z.string().min(1, 'Le code est requis').max(50, 'Le code est trop long'),\n  name: z.string().min(1, 'Le nom est requis').max(200, 'Le nom est trop long'),\n  subtitle: z.string().optional().or(z.literal('')),\n  photo_url: z.string().url('URL invalide').optional().or(z.literal('')),\n  category: z.string().optional().or(z.literal('')),\n  description: z.string().optional().or(z.literal('')),\n  program_version: z.string().optional().or(z.literal('')),\n  version_date: z.string().optional().or(z.literal('')),\n  duration_hours: z.string().optional().or(z.literal('')),\n  duration_days: z.string().optional().or(z.literal('')),\n  duration_unit: z.enum(['hours', 'days']).default('hours'),\n  price: z.string().optional().or(z.literal('')),\n  currency: z.string().default('XOF'),\n  payment_plan: z.enum(['full', 'installment', 'free']).default('full'),\n  published_online: z.boolean().default(false),\n  eligible_cpf: z.boolean().default(false),\n  cpf_code: z.string().optional().or(z.literal('')),\n  modalities: z.string().optional().or(z.literal('')),\n  training_action_type: z.string().optional().or(z.literal('')),\n  pedagogical_objectives: z.string().optional().or(z.literal('')),\n  learner_profile: z.string().optional().or(z.literal('')),\n  training_content: z.string().optional().or(z.literal('')),\n  execution_follow_up: z.string().optional().or(z.literal('')),\n  certification_modalities: z.string().optional().or(z.literal('')),\n  quality: z.string().optional().or(z.literal('')),\n  accounting_product_config: z.string().optional().or(z.literal('')),\n  edof_export_fields: z.string().optional().or(z.literal('')),\n  competence_domains: z.string().optional().or(z.literal('')),\n  prerequisites: z.string().optional().or(z.literal('')),\n  capacity_max: z.string().optional().or(z.literal('')),\n  age_min: z.string().optional().or(z.literal('')),\n  age_max: z.string().optional().or(z.literal('')),\n  certification_issued: z.boolean().default(false),\n  is_active: z.boolean().default(true),\n})\n\n// Schéma pour la création d'une session\nexport const sessionSchema = z.object({\n  formation_id: z.string().min(1, 'La formation est requise'),\n  name: z.string().min(1, 'Le nom est requis').max(200, 'Le nom est trop long'),\n  code: z.string().optional().or(z.literal('')),\n  start_date: z.string().min(1, 'La date de début est requise'),\n  end_date: z.string().min(1, 'La date de fin est requise'),\n  start_time: z.string().optional().or(z.literal('')),\n  end_time: z.string().optional().or(z.literal('')),\n  location: z.string().optional().or(z.literal('')),\n  capacity_max: z.string().optional().or(z.literal('')).refine((val) => {\n    if (!val) return true\n    const num = parseInt(val)\n    return !isNaN(num) && num > 0\n  }, 'La capacité maximale doit être un nombre entier positif'),\n  currency: z.string().default('XOF'),\n  status: z.enum(['planned', 'ongoing', 'completed', 'cancelled']).default('planned'),\n  teacher_id: z.string().optional().or(z.literal('')),\n  manager1_id: z.string().optional().or(z.literal('')),\n  manager2_id: z.string().optional().or(z.literal('')),\n  inter_entreprise: z.boolean().default(true),\n  sous_traitance: z.boolean().default(false),\n  timezone: z.string().default('Europe/Paris'),\n  program_ids: z.array(z.string()).default([]),\n}).refine((data) => {\n  if (data.start_date && data.end_date) {\n    return new Date(data.end_date) >= new Date(data.start_date)\n  }\n  return true\n}, {\n  message: 'La date de fin doit être postérieure à la date de début',\n  path: ['end_date'],\n})\n\n// Schéma pour la création d'une évaluation\nexport const evaluationSchema = z.object({\n  student_id: z.string().min(1, 'L\\'étudiant est requis'),\n  session_id: z.string().optional().or(z.literal('')),\n  subject: z.string().min(1, 'Le sujet est requis').max(200, 'Le sujet est trop long'),\n  assessment_type: z.enum([\n    'pre_formation',\n    'hot',\n    'cold',\n    'manager',\n    'instructor',\n    'funder',\n    'quiz',\n    'exam',\n    'project',\n    'other',\n  ]).default('quiz'),\n  score: z.string().min(1, 'La note est requise').refine((val) => {\n    const num = parseFloat(val)\n    return !isNaN(num) && num >= 0\n  }, 'La note doit être un nombre valide'),\n  max_score: z.string().optional().or(z.literal('')).refine((val) => {\n    if (!val) return true\n    const num = parseFloat(val)\n    return !isNaN(num) && num > 0\n  }, 'La note maximale doit être un nombre valide supérieur à 0'),\n  notes: z.string().optional().or(z.literal('')),\n  graded_at: z.string().min(1, 'La date d\\'évaluation est requise'),\n  coefficient: z.string().optional().or(z.literal('')).refine((val) => {\n    if (!val) return true\n    const num = parseFloat(val)\n    return !isNaN(num) && num > 0\n  }, 'Le coefficient doit être un nombre valide supérieur à 0'),\n  is_makeup: z.boolean().optional().default(false),\n  original_grade_id: z.string().optional().or(z.literal('')),\n  appreciation: z.string().optional().or(z.literal('')),\n  term_period: z.enum(['Q1', 'Q2', 'Q3', 'Q4', 'S1', 'S2', 'T1', 'T2', 'T3']).optional().or(z.literal('')),\n  academic_year_id: z.string().optional().or(z.literal('')),\n}).refine((data) => {\n  if (data.max_score && data.score) {\n    const score = parseFloat(data.score)\n    const maxScore = parseFloat(data.max_score)\n    return score <= maxScore\n  }\n  return true\n}, {\n  message: 'La note ne peut pas être supérieure à la note maximale',\n  path: ['score'],\n})\n\n// Schéma pour la création d'une facture ou devis\nexport const invoiceSchema = z.object({\n  student_id: z.string().min(1, 'L\\'étudiant est requis'),\n  document_type: z.enum(['quote', 'invoice']).default('invoice'),\n  invoice_number: z.string().optional().or(z.literal('')), // Peut être généré automatiquement\n  type: z.enum(['tuition', 'registration', 'other']).default('tuition'),\n  issue_date: z.string().min(1, 'La date d\\'émission est requise'),\n  due_date: z.string().min(1, 'La date d\\'échéance est requise'),\n  amount: z.string().min(1, 'Le montant est requis').refine((val) => {\n    const num = parseFloat(val)\n    return !isNaN(num) && num >= 0\n  }, 'Le montant doit être un nombre valide supérieur ou égal à 0'),\n  tax_amount: z.string().optional().or(z.literal('')).refine((val) => {\n    if (!val) return true\n    const num = parseFloat(val)\n    return !isNaN(num) && num >= 0\n  }, 'Le montant de la taxe doit être un nombre valide supérieur ou égal à 0'),\n  currency: z.string().default('XOF'),\n  status: z.enum(['draft', 'sent', 'partial', 'paid', 'overdue', 'cancelled']).default('draft'),\n  notes: z.string().optional().or(z.literal('')),\n  enrollment_id: z.string().optional().or(z.literal('')),\n}).refine((data) => {\n  if (data.issue_date && data.due_date) {\n    return new Date(data.due_date) >= new Date(data.issue_date)\n  }\n  return true\n}, {\n  message: 'La date d\\'échéance doit être postérieure à la date d\\'émission',\n  path: ['due_date'],\n})\n\n// Schéma pour la création d'un paiement\nexport const paymentSchema = z.object({\n  invoice_id: z.string().min(1, 'La facture est requise'),\n  student_id: z.string().min(1, 'L\\'étudiant est requis'),\n  amount: z.string().min(1, 'Le montant est requis').refine((val) => {\n    const num = parseFloat(val)\n    return !isNaN(num) && num > 0\n  }, 'Le montant doit être un nombre valide supérieur à 0'),\n  currency: z.string().default('XOF'),\n  payment_method: z.enum(['cash', 'mobile_money', 'card', 'bank_transfer']).default('cash'),\n  payment_provider: z.enum(['mtn', 'orange', 'airtel', 'wave']).optional().or(z.literal('')),\n  transaction_id: z.string().optional().or(z.literal('')),\n  paid_at: z.string().optional().or(z.literal('')),\n  notes: z.string().optional().or(z.literal('')),\n})\n\n// Schéma pour l'inscription\nexport const enrollmentSchema = z.object({\n  student_id: z.string().min(1, 'L\\'étudiant est requis'),\n  session_id: z.string().min(1, 'La session est requise'),\n  enrollment_date: z.string().min(1, 'La date d\\'inscription est requise'),\n  status: z.enum(['pending', 'confirmed', 'completed', 'cancelled', 'failed']).default('confirmed'),\n  payment_status: z.enum(['pending', 'partial', 'paid', 'overdue']).default('pending'),\n  total_amount: z.string().optional().or(z.literal('')).refine((val) => {\n    if (!val) return true\n    const num = parseFloat(val)\n    return !isNaN(num) && num >= 0\n  }, 'Le montant total doit être un nombre valide supérieur ou égal à 0'),\n  paid_amount: z.string().optional().or(z.literal('')).refine((val) => {\n    if (!val) return true\n    const num = parseFloat(val)\n    return !isNaN(num) && num >= 0\n  }, 'Le montant payé doit être un nombre valide supérieur ou égal à 0'),\n}).refine((data) => {\n  // Vérifier que le montant payé ne dépasse pas le montant total\n  if (data.total_amount && data.paid_amount) {\n    const total = parseFloat(data.total_amount)\n    const paid = parseFloat(data.paid_amount)\n    if (!isNaN(total) && !isNaN(paid) && paid > total) {\n      return false\n    }\n  }\n  return true\n}, {\n  message: 'Le montant payé ne peut pas dépasser le montant total',\n  path: ['paid_amount'],\n})\n\n// Type helper pour extraire le type d'un schéma\nexport type StudentFormData = z.infer<typeof studentSchema>\nexport type StudentUpdateFormData = z.infer<typeof studentUpdateSchema>\nexport type ProgramFormData = z.infer<typeof programSchema>\nexport type FormationFormData = z.infer<typeof formationSchema>\nexport type SessionFormData = z.infer<typeof sessionSchema>\nexport type EvaluationFormData = z.infer<typeof evaluationSchema>\nexport type InvoiceFormData = z.infer<typeof invoiceSchema>\nexport type PaymentFormData = z.infer<typeof paymentSchema>\nexport type EnrollmentFormData = z.infer<typeof enrollmentSchema>\n\n\n\n\n\n\n\n\n\n\n\n\n","import { jsPDF } from 'jspdf'\nimport html2canvas from 'html2canvas'\nimport JSZip from 'jszip'\n\nexport interface DocumentTemplate {\n  title: string\n  content: string\n  logo?: string\n  organization?: {\n    name: string\n    address?: string\n    phone?: string\n    email?: string\n  }\n  metadata?: Record<string, any>\n}\n\n/**\n * Génère un PDF depuis un élément HTML\n */\nexport async function generatePDFFromHTML(\n  elementId: string,\n  filename: string = 'document.pdf',\n  options?: {\n    format?: [number, number]\n    orientation?: 'portrait' | 'landscape'\n    quality?: number\n  }\n): Promise<Blob> {\n  const element = document.getElementById(elementId)\n  if (!element) {\n    throw new Error(`Élément avec l'ID \"${elementId}\" non trouvé`)\n  }\n\n  try {\n    // Vérifier que l'élément est visible et a des dimensions\n    const rect = element.getBoundingClientRect()\n    if (rect.width === 0 || rect.height === 0) {\n      console.warn('Élément sans dimensions, tentative de correction...')\n      // Forcer des dimensions minimales\n      if (element instanceof HTMLElement) {\n        element.style.width = element.style.width || '210mm'\n        element.style.minHeight = element.style.minHeight || '297mm'\n        // Attendre que le style soit appliqué\n        await new Promise((resolve) => setTimeout(resolve, 100))\n      }\n    }\n\n    // Attendre que toutes les images soient chargées\n    const images = element.querySelectorAll('img')\n    await Promise.all(\n      Array.from(images).map((img) => {\n        if (img.complete && img.naturalWidth > 0) return Promise.resolve()\n        return new Promise((resolve) => {\n          img.onload = resolve\n          img.onerror = resolve // Continuer même si une image échoue\n          // Timeout après 5 secondes\n          setTimeout(resolve, 5000)\n        })\n      })\n    )\n\n    // Générer le canvas avec html2canvas\n    const elementWidth = rect.width || element.scrollWidth || 794\n    const elementHeight = element.scrollHeight || 1123\n    \n    const canvas = await html2canvas(element, {\n      scale: 2, // Augmenter la résolution pour une meilleure qualité\n      useCORS: true,\n      allowTaint: true,\n      logging: false,\n      backgroundColor: '#ffffff',\n      removeContainer: false, // Ne pas supprimer le conteneur\n      imageTimeout: 15000,\n      width: elementWidth,\n      height: elementHeight,\n      windowWidth: elementWidth,\n      windowHeight: elementHeight,\n      x: 0,\n      y: 0,\n      onclone: (clonedDoc, element) => {\n        // S'assurer que toutes les images dans le clone sont chargées\n        const clonedImages = clonedDoc.querySelectorAll('img')\n        clonedImages.forEach((img) => {\n          if (!img.complete || img.naturalWidth === 0) {\n            // Remplacer les images non chargées par un placeholder\n            img.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iI2YzZjRmNiIvPjwvc3ZnPg=='\n          }\n        })\n        \n        // S'assurer que l'élément cloné a des dimensions\n        if (element instanceof HTMLElement) {\n          const clonedRect = element.getBoundingClientRect()\n          if (clonedRect.width === 0 || clonedRect.height === 0) {\n            element.style.width = '210mm'\n            element.style.minHeight = '297mm'\n          }\n        }\n      },\n    })\n\n    // Vérifier que le canvas est valide\n    if (!canvas) {\n      throw new Error('Le canvas n\\'a pas pu être généré')\n    }\n    \n    if (canvas.width === 0 || canvas.height === 0) {\n      console.error('Canvas invalide:', { width: canvas.width, height: canvas.height })\n      throw new Error(`Le canvas généré est invalide (${canvas.width}x${canvas.height})`)\n    }\n\n    // Convertir en data URL avec gestion d'erreur\n    let imgData: string\n    try {\n      imgData = canvas.toDataURL('image/png', 0.95)\n      if (!imgData || imgData.length < 100) {\n        throw new Error('Data URL invalide')\n      }\n    } catch (error) {\n      console.error('Erreur lors de la conversion du canvas en data URL:', error)\n      // Essayer avec JPEG comme fallback\n      imgData = canvas.toDataURL('image/jpeg', 0.95)\n    }\n\n    const pdf = new jsPDF({\n      orientation: options?.orientation || 'portrait',\n      unit: 'mm',\n      format: options?.format || 'a4',\n      compress: true,\n    })\n\n    const imgWidth = pdf.internal.pageSize.getWidth()\n    const imgHeight = (canvas.height * imgWidth) / canvas.width\n\n    let heightLeft = imgHeight\n    let position = 0\n\n    // Ajouter la première page\n    try {\n      pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight, undefined, 'FAST')\n    } catch (error) {\n      console.error('Erreur lors de l\\'ajout de l\\'image au PDF:', error)\n      // Essayer avec JPEG si PNG échoue\n      if (imgData.startsWith('data:image/png')) {\n        const jpegData = canvas.toDataURL('image/jpeg', 0.95)\n        pdf.addImage(jpegData, 'JPEG', 0, position, imgWidth, imgHeight, undefined, 'FAST')\n      } else {\n        throw error\n      }\n    }\n\n    heightLeft -= pdf.internal.pageSize.getHeight()\n\n    // Ajouter les pages supplémentaires si nécessaire\n    while (heightLeft >= 0) {\n      position = heightLeft - imgHeight\n      pdf.addPage()\n      try {\n        pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight, undefined, 'FAST')\n      } catch (error) {\n        // Si PNG échoue, essayer JPEG\n        if (imgData.startsWith('data:image/png')) {\n          const jpegData = canvas.toDataURL('image/jpeg', 0.95)\n          pdf.addImage(jpegData, 'JPEG', 0, position, imgWidth, imgHeight, undefined, 'FAST')\n        }\n      }\n      heightLeft -= pdf.internal.pageSize.getHeight()\n    }\n\n    pdf.save(filename)\n    return pdf.output('blob')\n  } catch (error) {\n    console.error('Erreur lors de la génération du PDF:', error)\n    throw new Error(`Erreur lors de la génération du PDF: ${error instanceof Error ? error.message : 'Erreur inconnue'}`)\n  }\n}\n\n/**\n * Génère un PDF simple avec du texte\n */\nexport function generateSimplePDF(\n  content: string[],\n  filename: string = 'document.pdf',\n  options?: {\n    title?: string\n    orientation?: 'portrait' | 'landscape'\n  }\n): Blob {\n  const pdf = new jsPDF({\n    orientation: options?.orientation || 'portrait',\n    unit: 'mm',\n    format: 'a4',\n  })\n\n  if (options?.title) {\n    pdf.setFontSize(18)\n    pdf.text(options.title, 105, 20, { align: 'center' })\n    pdf.setFontSize(12)\n    let y = 35\n    content.forEach((line) => {\n      if (y > 280) {\n        pdf.addPage()\n        y = 20\n      }\n      pdf.text(line, 20, y)\n      y += 7\n    })\n  } else {\n    let y = 20\n    content.forEach((line) => {\n      if (y > 280) {\n        pdf.addPage()\n        y = 20\n      }\n      pdf.text(line, 20, y)\n      y += 7\n    })\n  }\n\n  pdf.save(filename)\n  return pdf.output('blob')\n}\n\n/**\n * Formate une date pour l'affichage dans un document\n */\nexport function formatDateForDocument(date: string | Date, locale: string = 'fr-FR'): string {\n  const d = typeof date === 'string' ? new Date(date) : date\n  return new Intl.DateTimeFormat(locale, {\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric',\n  }).format(d)\n}\n\n/**\n * Génère un PDF depuis du HTML (sans téléchargement)\n * Retourne le Blob du PDF\n * Amélioré pour préserver les marges, headers et footers\n */\nexport async function generatePDFBlobFromHTML(\n  elementId: string,\n  options?: {\n    format?: [number, number]\n    orientation?: 'portrait' | 'landscape'\n    quality?: number\n  }\n): Promise<Blob> {\n  const element = document.getElementById(elementId)\n  if (!element) {\n    throw new Error(`Élément avec l'ID \"${elementId}\" non trouvé`)\n  }\n\n  // Vérifier que l'élément est visible et a des dimensions\n  const rect = element.getBoundingClientRect()\n  if (rect.width === 0 || rect.height === 0) {\n    console.warn('Élément sans dimensions, tentative de correction...')\n    if (element instanceof HTMLElement) {\n      element.style.width = element.style.width || '794px'\n      element.style.minHeight = element.style.minHeight || '1123px'\n      await new Promise((resolve) => setTimeout(resolve, 100))\n    }\n  }\n\n  // Attendre que toutes les images soient chargées\n  const images = element.querySelectorAll('img')\n  await Promise.all(\n    Array.from(images).map((img) => {\n      if (img.complete && img.naturalWidth > 0) return Promise.resolve()\n      return new Promise((resolve) => {\n        img.onload = resolve\n        img.onerror = resolve\n        setTimeout(resolve, 5000)\n      })\n    })\n  )\n\n  // Extraire le header et le footer pour traitement séparé\n  const headerElement = element.querySelector('.header') as HTMLElement\n  const footerElement = element.querySelector('.footer') as HTMLElement\n  const contentElement = element.querySelector('.content') as HTMLElement\n  \n  // Vérifier si le header doit être répété sur toutes les pages\n  const headerRepeatOnAllPages = headerElement?.getAttribute('data-repeat-on-all-pages') === 'true' || false\n  \n  // Récupérer les styles calculés de l'élément original avant la capture\n  const originalStyle = window.getComputedStyle(element)\n  const originalPaddingTop = parseFloat(originalStyle.paddingTop) || 75.6 // 20mm par défaut\n  const originalPaddingBottom = parseFloat(originalStyle.paddingBottom) || 75.6\n  const originalPaddingLeft = parseFloat(originalStyle.paddingLeft) || 75.6\n  const originalPaddingRight = parseFloat(originalStyle.paddingRight) || 75.6\n  \n  // Générer le canvas avec html2canvas avec des options optimisées\n  // Utiliser scrollWidth et scrollHeight pour capturer tout le contenu\n  const elementWidth = element.scrollWidth || rect.width || 794\n  const elementHeight = element.scrollHeight || rect.height || 1123\n  \n  // Capturer le footer séparément si présent\n  let footerCanvas: HTMLCanvasElement | null = null\n  let footerHeight = 0\n  if (footerElement) {\n    try {\n      footerHeight = footerElement.offsetHeight || 60\n      footerCanvas = await html2canvas(footerElement, {\n        scale: 2,\n        useCORS: true,\n        allowTaint: true,\n        logging: false,\n        backgroundColor: '#ffffff',\n        width: elementWidth - originalPaddingLeft - originalPaddingRight,\n        height: footerHeight,\n      })\n      console.log('[PDF Generator] Footer capturé séparément:', {\n        width: footerCanvas.width,\n        height: footerCanvas.height,\n        footerHeight,\n      })\n    } catch (error) {\n      console.warn('[PDF Generator] Erreur lors de la capture du footer:', error)\n    }\n  }\n  \n  console.log('[PDF Generator] Capturing element:', {\n    elementId,\n    width: elementWidth,\n    height: elementHeight,\n    scrollWidth: element.scrollWidth,\n    scrollHeight: element.scrollHeight,\n    rectWidth: rect.width,\n    rectHeight: rect.height,\n    computedPadding: originalStyle.padding,\n    paddingTop: originalPaddingTop,\n    paddingBottom: originalPaddingBottom,\n    paddingLeft: originalPaddingLeft,\n    paddingRight: originalPaddingRight,\n  })\n  \n  const canvas = await html2canvas(element, {\n    scale: 2, // Augmenter la résolution pour une meilleure qualité\n    useCORS: true,\n    allowTaint: true,\n    logging: false,\n    backgroundColor: '#ffffff',\n    removeContainer: false,\n    imageTimeout: 15000,\n    width: elementWidth,\n    height: elementHeight,\n    windowWidth: elementWidth,\n    windowHeight: elementHeight,\n    x: 0,\n    y: 0,\n    scrollX: 0,\n    scrollY: 0,\n    onclone: (clonedDoc, clonedElement) => {\n      // S'assurer que toutes les images dans le clone sont chargées\n      const clonedImages = clonedDoc.querySelectorAll('img')\n      clonedImages.forEach((img) => {\n        if (!img.complete || img.naturalWidth === 0) {\n          img.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iI2YzZjRmNiIvPjwvc3ZnPg=='\n        }\n      })\n      \n      // S'assurer que l'élément cloné a des dimensions et préserve les styles\n      if (clonedElement instanceof HTMLElement) {\n        // Forcer les dimensions de base\n        clonedElement.style.width = '794px'\n        clonedElement.style.minHeight = '1123px'\n        clonedElement.style.backgroundColor = '#ffffff'\n        clonedElement.style.boxSizing = 'border-box'\n        clonedElement.style.position = 'relative'\n        \n        // Appliquer le padding (marges) en utilisant les valeurs de l'original\n        clonedElement.style.padding = `${originalPaddingTop}px ${originalPaddingRight}px ${originalPaddingBottom}px ${originalPaddingLeft}px`\n        \n        // S'assurer que le conteneur utilise flexbox\n        clonedElement.style.display = 'flex'\n        clonedElement.style.flexDirection = 'column'\n        \n        console.log('[PDF Generator] Clone styles applied:', {\n          padding: clonedElement.style.padding,\n          width: clonedElement.style.width,\n          minHeight: clonedElement.style.minHeight,\n          display: clonedElement.style.display,\n        })\n        \n        // S'assurer que header et footer sont visibles et correctement positionnés\n        const clonedHeader = clonedElement.querySelector('.header') as HTMLElement\n        const clonedFooter = clonedElement.querySelector('.footer') as HTMLElement\n        const clonedContent = clonedElement.querySelector('.content') as HTMLElement\n        \n        if (clonedHeader) {\n          // Le header ne doit être visible que sur la première page si repeatOnAllPages est false\n          // Pour l'instant, on le laisse visible pour la première page\n          clonedHeader.style.display = 'block'\n          clonedHeader.style.visibility = 'visible'\n          clonedHeader.style.opacity = '1'\n          clonedHeader.style.width = '100%'\n          clonedHeader.style.marginBottom = '20px'\n          clonedHeader.style.flexShrink = '0'\n          clonedHeader.style.position = 'relative'\n          clonedHeader.style.zIndex = '1'\n          console.log('[PDF Generator] Header cloné activé:', {\n            display: clonedHeader.style.display,\n            visibility: clonedHeader.style.visibility,\n            innerHTML: clonedHeader.innerHTML.substring(0, 100),\n            offsetHeight: clonedHeader.offsetHeight,\n          })\n        } else {\n          console.warn('[PDF Generator] Header non trouvé dans le clone')\n        }\n        \n        // Masquer le footer dans le clone principal car on l'ajoutera séparément sur chaque page\n        if (clonedFooter) {\n          clonedFooter.style.display = 'none'\n          console.log('[PDF Generator] Footer masqué dans le clone principal (sera ajouté séparément)')\n        }\n        \n        if (clonedContent) {\n          clonedContent.style.flex = '1'\n          clonedContent.style.width = '100%'\n          clonedContent.style.overflow = 'visible'\n        }\n      }\n    },\n  })\n\n  // Vérifier que le canvas est valide\n  if (!canvas || canvas.width === 0 || canvas.height === 0) {\n    throw new Error(`Le canvas généré est invalide (${canvas?.width || 0}x${canvas?.height || 0})`)\n  }\n\n  // Convertir en data URL pour la première page (avec header)\n  let imgDataFirstPage: string\n  try {\n    imgDataFirstPage = canvas.toDataURL('image/png', 0.95)\n    if (!imgDataFirstPage || imgDataFirstPage.length < 100) {\n      throw new Error('Data URL invalide')\n    }\n  } catch (error) {\n    console.error('Erreur lors de la conversion du canvas en data URL:', error)\n    imgDataFirstPage = canvas.toDataURL('image/jpeg', 0.95)\n  }\n\n  // Si le header ne doit pas être répété, créer une version sans header pour les pages suivantes\n  let imgDataOtherPages: string | null = null\n  if (headerElement && !headerRepeatOnAllPages) {\n    // Masquer temporairement le header pour capturer le contenu sans header\n    const originalHeaderDisplay = headerElement.style.display\n    headerElement.style.display = 'none'\n    \n    try {\n      await new Promise(resolve => setTimeout(resolve, 100)) // Attendre que le style soit appliqué\n      const canvasWithoutHeader = await html2canvas(element, {\n        scale: 2,\n        useCORS: true,\n        allowTaint: true,\n        logging: false,\n        backgroundColor: '#ffffff',\n        removeContainer: false,\n        imageTimeout: 15000,\n        width: elementWidth,\n        height: elementHeight,\n        windowWidth: elementWidth,\n        windowHeight: elementHeight,\n        x: 0,\n        y: 0,\n        scrollX: 0,\n        scrollY: 0,\n        onclone: (clonedDoc, clonedElement) => {\n          // Masquer le header dans le clone aussi\n          const clonedHeader = clonedElement.querySelector('.header') as HTMLElement\n          if (clonedHeader) {\n            clonedHeader.style.display = 'none'\n          }\n          const clonedFooter = clonedElement.querySelector('.footer') as HTMLElement\n          if (clonedFooter) {\n            clonedFooter.style.display = 'none'\n          }\n        },\n      })\n      \n      imgDataOtherPages = canvasWithoutHeader.toDataURL('image/png', 0.95)\n      console.log('[PDF Generator] Canvas sans header créé pour les pages suivantes')\n    } catch (error) {\n      console.warn('[PDF Generator] Erreur lors de la création du canvas sans header:', error)\n      // Utiliser la même image si l'erreur survient\n      imgDataOtherPages = imgDataFirstPage\n    } finally {\n      // Restaurer l'affichage du header\n      headerElement.style.display = originalHeaderDisplay\n    }\n  } else {\n    // Si le header doit être répété ou s'il n'y a pas de header, utiliser la même image\n    imgDataOtherPages = imgDataFirstPage\n  }\n\n  const pdf = new jsPDF({\n    orientation: options?.orientation || 'portrait',\n    unit: 'mm',\n    format: options?.format || 'a4',\n    compress: true,\n  })\n\n  const imgWidth = pdf.internal.pageSize.getWidth()\n  const imgHeight = (canvas.height * imgWidth) / canvas.width\n  const pageHeight = pdf.internal.pageSize.getHeight()\n  const footerHeightMm = footerHeight / 3.78 // Convertir pixels en mm\n  const marginBottomMm = originalPaddingBottom / 3.78 // Convertir la marge en mm\n\n  let heightLeft = imgHeight\n  let position = 0\n  let pageNumber = 1\n  const totalPages = Math.ceil(imgHeight / pageHeight)\n\n  // Fonction pour ajouter le footer sur une page\n  const addFooterToPage = (page: any, pageNum: number, totalPages: number) => {\n    if (footerCanvas) {\n      try {\n        const footerImgData = footerCanvas.toDataURL('image/png', 0.95)\n        const footerImgWidth = imgWidth\n        const footerImgHeight = (footerCanvas.height * footerImgWidth) / footerCanvas.width\n        const footerY = pageHeight - footerImgHeight - marginBottomMm\n        \n        // Remplacer les variables de pagination dans le footer si nécessaire\n        // (cela nécessiterait de recapturer le footer avec les bonnes valeurs, mais pour l'instant on garde simple)\n        \n        page.addImage(footerImgData, 'PNG', 0, footerY, footerImgWidth, footerImgHeight, undefined, 'FAST')\n        console.log(`[PDF Generator] Footer ajouté sur la page ${pageNum}/${totalPages} à ${footerY}mm du bas`)\n      } catch (error) {\n        console.warn('[PDF Generator] Erreur lors de l\\'ajout du footer:', error)\n      }\n    }\n  }\n\n  // Ajouter la première page (avec header si présent)\n  const imgDataToUseFirst = imgDataFirstPage\n  try {\n    pdf.addImage(imgDataToUseFirst, 'PNG', 0, position, imgWidth, imgHeight, undefined, 'FAST')\n    addFooterToPage(pdf, pageNumber, totalPages)\n  } catch (error) {\n    console.error('Erreur lors de l\\'ajout de l\\'image au PDF:', error)\n    if (imgDataToUseFirst.startsWith('data:image/png')) {\n      const jpegData = canvas.toDataURL('image/jpeg', 0.95)\n      pdf.addImage(jpegData, 'JPEG', 0, position, imgWidth, imgHeight, undefined, 'FAST')\n      addFooterToPage(pdf, pageNumber, totalPages)\n    } else {\n      throw error\n    }\n  }\n\n  heightLeft -= pageHeight\n  pageNumber++\n\n  // Ajouter les pages supplémentaires si nécessaire\n  const imgDataToUseOther = imgDataOtherPages || imgDataFirstPage\n  while (heightLeft >= 0) {\n    position = heightLeft - imgHeight\n    pdf.addPage()\n    \n    // Pour les pages suivantes, utiliser l'image sans header si disponible\n    try {\n      pdf.addImage(imgDataToUseOther, 'PNG', 0, position, imgWidth, imgHeight, undefined, 'FAST')\n      addFooterToPage(pdf, pageNumber, totalPages)\n    } catch (error) {\n      if (imgDataToUseOther.startsWith('data:image/png')) {\n        const jpegData = imgDataToUseOther.replace('data:image/png', 'data:image/jpeg')\n        pdf.addImage(jpegData, 'JPEG', 0, position, imgWidth, imgHeight, undefined, 'FAST')\n        addFooterToPage(pdf, pageNumber, totalPages)\n      }\n    }\n    heightLeft -= pageHeight\n    pageNumber++\n  }\n\n  return pdf.output('blob')\n}\n\n/**\n * Crée un fichier ZIP contenant plusieurs PDFs\n */\nexport async function createZipFromPDFs(\n  files: Array<{ name: string; blob: Blob }>,\n  zipFilename: string = 'documents.zip'\n): Promise<void> {\n  const zip = new JSZip()\n\n  // Ajouter chaque PDF au ZIP\n  for (const file of files) {\n    zip.file(file.name, file.blob)\n  }\n\n  // Générer le ZIP et le télécharger\n  const zipBlob = await zip.generateAsync({ type: 'blob' })\n  const url = URL.createObjectURL(zipBlob)\n  const link = document.createElement('a')\n  link.href = url\n  link.download = zipFilename\n  document.body.appendChild(link)\n  link.click()\n  document.body.removeChild(link)\n  URL.revokeObjectURL(url)\n}\n\n","\"use client\"\n\nimport * as React from \"react\"\nimport { motion, AnimatePresence } from '@/components/ui/motion'\nimport { ChevronDown } from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\n\ninterface AccordionProps {\n  type?: \"single\" | \"multiple\"\n  defaultValue?: string | string[]\n  className?: string\n  children: React.ReactNode\n}\n\nconst AccordionContext = React.createContext<{\n  openItems: string[]\n  toggleItem: (value: string) => void\n}>({\n  openItems: [],\n  toggleItem: () => {},\n})\n\nconst Accordion = ({ type = \"single\", defaultValue, className, children }: AccordionProps) => {\n  const [openItems, setOpenItems] = React.useState<string[]>(\n    Array.isArray(defaultValue) ? defaultValue : defaultValue ? [defaultValue] : []\n  )\n\n  const toggleItem = (value: string) => {\n    setOpenItems((prev) => {\n      if (type === \"single\") {\n        return prev.includes(value) ? [] : [value]\n      } else {\n        return prev.includes(value)\n          ? prev.filter((item) => item !== value)\n          : [...prev, value]\n      }\n    })\n  }\n\n  return (\n    <AccordionContext.Provider value={{ openItems, toggleItem }}>\n      <div className={className}>{children}</div>\n    </AccordionContext.Provider>\n  )\n}\n\ninterface AccordionItemProps {\n  value: string\n  className?: string\n  children: React.ReactNode\n}\n\nconst AccordionItem = ({ value, className, children }: AccordionItemProps) => {\n  return (\n    <div className={cn(\"border-b border-gray-100 last:border-0\", className)}>\n      {React.Children.map(children, (child) => {\n        if (React.isValidElement(child)) {\n          return React.cloneElement(child as any, { value })\n        }\n        return child\n      })}\n    </div>\n  )\n}\n\ninterface AccordionTriggerProps {\n  className?: string\n  children: React.ReactNode\n  value?: string\n}\n\nconst AccordionTrigger = ({ className, children, value }: AccordionTriggerProps) => {\n  const { openItems, toggleItem } = React.useContext(AccordionContext)\n  const isOpen = value ? openItems.includes(value) : false\n\n  return (\n    <button\n      type=\"button\"\n      onClick={() => value && toggleItem(value)}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 w-full font-medium transition-all hover:text-brand-blue text-left\",\n        isOpen ? \"text-brand-blue\" : \"text-gray-700\",\n        className\n      )}\n    >\n      {children}\n      <ChevronDown\n        className={cn(\n          \"h-4 w-4 shrink-0 transition-transform duration-200 text-gray-400\",\n          isOpen && \"rotate-180 text-brand-blue\"\n        )}\n      />\n    </button>\n  )\n}\n\ninterface AccordionContentProps {\n  className?: string\n  children: React.ReactNode\n  value?: string\n}\n\nconst AccordionContent = ({ className, children, value }: AccordionContentProps) => {\n  const { openItems } = React.useContext(AccordionContext)\n  const isOpen = value ? openItems.includes(value) : false\n\n  return (\n    <AnimatePresence initial={false}>\n      {isOpen && (\n        <motion.div\n          initial={{ height: 0, opacity: 0 }}\n          animate={{ height: \"auto\", opacity: 1 }}\n          exit={{ height: 0, opacity: 0 }}\n          transition={{ duration: 0.2, ease: \"easeInOut\" }}\n          className=\"overflow-hidden\"\n        >\n          <div className={cn(\"pb-4 pt-0 text-sm text-gray-600\", className)}>\n            {children}\n          </div>\n        </motion.div>\n      )}\n    </AnimatePresence>\n  )\n}\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n"],"names":[],"mappings":"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","ignoreList":[0,1,2,3]}