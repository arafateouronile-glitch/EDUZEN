{"version":3,"sources":["../../../../app/%28dashboard%29/dashboard/reports/page.tsx","../../../../node_modules/lucide-react/src/icons/pie-chart.ts","../../../../node_modules/lucide-react/src/icons/arrow-down-right.ts"],"sourcesContent":["'use client'\n\nimport { useState, useMemo } from 'react'\nimport { useQuery } from '@tanstack/react-query'\nimport { createClient } from '@/lib/supabase/client'\nimport { useAuth } from '@/lib/hooks/use-auth'\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Button } from '@/components/ui/button'\nimport { GlassCard } from '@/components/ui/glass-card'\nimport { motion, AnimatePresence } from '@/components/ui/motion'\nimport { cn, formatCurrency } from '@/lib/utils'\nimport { formatDate } from '@/lib/utils/format'\nimport { exportData } from '@/lib/utils/export'\nimport { useToast } from '@/components/ui/toast'\nimport dynamic from 'next/dynamic'\nimport {\n  BarChart3,\n  TrendingUp,\n  TrendingDown,\n  Users,\n  GraduationCap,\n  Calendar,\n  CreditCard,\n  Clock,\n  CheckCircle2,\n  AlertCircle,\n  FileText,\n  Download,\n  Filter,\n  RefreshCw,\n  ChevronDown,\n  Search,\n  ArrowUpRight,\n  ArrowDownRight,\n  Minus,\n  BookOpen,\n  Target,\n  Activity,\n  PieChart,\n  LayoutDashboard\n} from 'lucide-react'\n\n// Lazy load des graphiques\nconst PremiumLineChart = dynamic(\n  () => import('@/components/charts/premium-line-chart').then(mod => ({ default: mod.PremiumLineChart })),\n  { ssr: false, loading: () => <div className=\"h-64 bg-gray-100 animate-pulse rounded-lg\" /> }\n)\n\nconst PremiumPieChart = dynamic(\n  () => import('@/components/charts/premium-pie-chart').then(mod => ({ default: mod.PremiumPieChart })),\n  { ssr: false, loading: () => <div className=\"h-64 bg-gray-100 animate-pulse rounded-lg\" /> }\n)\n\n// Types\ntype ReportTab = 'overview' | 'sessions' | 'students' | 'finances' | 'attendance'\ntype DateRange = 'week' | 'month' | 'quarter' | 'year' | 'custom'\n\ninterface FilterState {\n  dateRange: DateRange\n  customStart?: string\n  customEnd?: string\n  sessionId?: string\n  formationId?: string\n  status?: string\n  search?: string\n}\n\n// Composant StatCard\nfunction StatCard({ \n  title, \n  value, \n  change, \n  changeType,\n  icon: Icon, \n  color,\n  description\n}: { \n  title: string\n  value: string | number\n  change?: number\n  changeType?: 'increase' | 'decrease' | 'neutral'\n  icon: React.ElementType\n  color: 'blue' | 'green' | 'purple' | 'orange' | 'red' | 'teal'\n  description?: string\n}) {\n  const colorClasses = {\n    blue: 'bg-blue-50 text-blue-600 border-blue-200',\n    green: 'bg-green-50 text-green-600 border-green-200',\n    purple: 'bg-purple-50 text-purple-600 border-purple-200',\n    orange: 'bg-orange-50 text-orange-600 border-orange-200',\n    red: 'bg-red-50 text-red-600 border-red-200',\n    teal: 'bg-teal-50 text-teal-600 border-teal-200',\n  }\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      className={cn('rounded-xl border-2 p-5', colorClasses[color])}\n    >\n      <div className=\"flex items-start justify-between\">\n        <div>\n          <p className=\"text-sm font-medium text-gray-600\">{title}</p>\n          <p className=\"text-3xl font-bold mt-1\">{value}</p>\n          {change !== undefined && (\n            <div className={cn(\n              'flex items-center gap-1 mt-2 text-sm font-medium',\n              changeType === 'increase' ? 'text-green-600' :\n              changeType === 'decrease' ? 'text-red-600' : 'text-gray-500'\n            )}>\n              {changeType === 'increase' ? <ArrowUpRight className=\"h-4 w-4\" /> :\n               changeType === 'decrease' ? <ArrowDownRight className=\"h-4 w-4\" /> :\n               <Minus className=\"h-4 w-4\" />}\n              <span>{change > 0 ? '+' : ''}{change}%</span>\n              <span className=\"text-gray-400 font-normal\">vs période précédente</span>\n            </div>\n          )}\n          {description && (\n            <p className=\"text-xs text-gray-500 mt-1\">{description}</p>\n          )}\n        </div>\n        <div className={cn('p-3 rounded-xl', colorClasses[color])}>\n          <Icon className=\"h-6 w-6\" />\n        </div>\n      </div>\n    </motion.div>\n  )\n}\n\n// Composant de tableau réutilisable\nfunction DataTable({ \n  columns, \n  data, \n  emptyMessage = 'Aucune donnée',\n  onRowClick\n}: { \n  columns: { key: string; label: string; render?: (value: any, row: any) => React.ReactNode }[]\n  data: any[]\n  emptyMessage?: string\n  onRowClick?: (row: any) => void\n}) {\n  return (\n    <div className=\"overflow-x-auto\">\n      <table className=\"w-full\">\n        <thead>\n          <tr className=\"border-b border-gray-200\">\n            {columns.map((col) => (\n              <th key={col.key} className=\"text-left py-3 px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider\">\n                {col.label}\n              </th>\n            ))}\n          </tr>\n        </thead>\n        <tbody>\n          {data.length === 0 ? (\n            <tr>\n              <td colSpan={columns.length} className=\"text-center py-8 text-gray-500\">\n                {emptyMessage}\n              </td>\n            </tr>\n          ) : (\n            data.map((row, index) => (\n              <motion.tr\n                key={row.id || index}\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                transition={{ delay: index * 0.05 }}\n                onClick={() => onRowClick?.(row)}\n                className={cn(\n                  'border-b border-gray-100 hover:bg-gray-50 transition-colors',\n                  onRowClick && 'cursor-pointer'\n                )}\n              >\n                {columns.map((col) => (\n                  <td key={col.key} className=\"py-3 px-4 text-sm text-gray-900\">\n                    {col.render ? col.render(row[col.key], row) : row[col.key]}\n                  </td>\n                ))}\n              </motion.tr>\n            ))\n          )}\n        </tbody>\n      </table>\n    </div>\n  )\n}\n\n// Composant Filtre\nfunction FilterBar({ \n  filters, \n  onChange,\n  sessions,\n  formations\n}: { \n  filters: FilterState\n  onChange: (filters: FilterState) => void\n  sessions?: { id: string; name: string }[]\n  formations?: { id: string; name: string }[]\n}) {\n  return (\n    <div className=\"flex flex-wrap items-center gap-3 p-4 bg-gray-50 rounded-xl\">\n      {/* Date Range */}\n      <div className=\"flex items-center gap-2\">\n        <Calendar className=\"h-4 w-4 text-gray-400\" />\n        <select\n          value={filters.dateRange}\n          onChange={(e) => onChange({ ...filters, dateRange: e.target.value as DateRange })}\n          className=\"text-sm border border-gray-200 rounded-lg px-3 py-2 bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n        >\n          <option value=\"week\">Cette semaine</option>\n          <option value=\"month\">Ce mois</option>\n          <option value=\"quarter\">Ce trimestre</option>\n          <option value=\"year\">Cette année</option>\n          <option value=\"custom\">Personnalisé</option>\n        </select>\n      </div>\n\n      {filters.dateRange === 'custom' && (\n        <>\n          <input\n            type=\"date\"\n            value={filters.customStart || ''}\n            onChange={(e) => onChange({ ...filters, customStart: e.target.value })}\n            className=\"text-sm border border-gray-200 rounded-lg px-3 py-2 bg-white\"\n          />\n          <span className=\"text-gray-400\">à</span>\n          <input\n            type=\"date\"\n            value={filters.customEnd || ''}\n            onChange={(e) => onChange({ ...filters, customEnd: e.target.value })}\n            className=\"text-sm border border-gray-200 rounded-lg px-3 py-2 bg-white\"\n          />\n        </>\n      )}\n\n      {/* Formation Filter */}\n      {formations && formations.length > 0 && (\n        <select\n          value={filters.formationId || ''}\n          onChange={(e) => onChange({ ...filters, formationId: e.target.value || undefined })}\n          className=\"text-sm border border-gray-200 rounded-lg px-3 py-2 bg-white\"\n        >\n          <option value=\"\">Toutes les formations</option>\n          {formations.map((f) => (\n            <option key={f.id} value={f.id}>{f.name}</option>\n          ))}\n        </select>\n      )}\n\n      {/* Session Filter */}\n      {sessions && sessions.length > 0 && (\n        <select\n          value={filters.sessionId || ''}\n          onChange={(e) => onChange({ ...filters, sessionId: e.target.value || undefined })}\n          className=\"text-sm border border-gray-200 rounded-lg px-3 py-2 bg-white\"\n        >\n          <option value=\"\">Toutes les sessions</option>\n          {sessions.map((s) => (\n            <option key={s.id} value={s.id}>{s.name}</option>\n          ))}\n        </select>\n      )}\n\n      {/* Status Filter */}\n      <select\n        value={filters.status || ''}\n        onChange={(e) => onChange({ ...filters, status: e.target.value || undefined })}\n        className=\"text-sm border border-gray-200 rounded-lg px-3 py-2 bg-white\"\n      >\n        <option value=\"\">Tous les statuts</option>\n        <option value=\"active\">Actif</option>\n        <option value=\"completed\">Terminé</option>\n        <option value=\"cancelled\">Annulé</option>\n      </select>\n\n      {/* Search */}\n      <div className=\"flex-1 min-w-[200px]\">\n        <div className=\"relative\">\n          <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400\" />\n          <input\n            type=\"text\"\n            placeholder=\"Rechercher...\"\n            value={filters.search || ''}\n            onChange={(e) => onChange({ ...filters, search: e.target.value || undefined })}\n            className=\"w-full text-sm border border-gray-200 rounded-lg pl-9 pr-3 py-2 bg-white\"\n          />\n        </div>\n      </div>\n\n      {/* Reset */}\n      <Button\n        variant=\"ghost\"\n        size=\"sm\"\n        onClick={() => onChange({ dateRange: 'month' })}\n        className=\"text-gray-500\"\n      >\n        <RefreshCw className=\"h-4 w-4 mr-1\" />\n        Réinitialiser\n      </Button>\n    </div>\n  )\n}\n\n// Page principale\nexport default function ReportsPage() {\n  const { user } = useAuth()\n  const supabase = createClient()\n  const { addToast } = useToast()\n  const [activeTab, setActiveTab] = useState<ReportTab>('overview')\n  const [filters, setFilters] = useState<FilterState>({ dateRange: 'month' })\n  const [isExporting, setIsExporting] = useState(false)\n\n  // Calcul des dates selon le filtre\n  const dateFilter = useMemo(() => {\n    const now = new Date()\n    let start: Date\n    let end: Date = now\n\n    switch (filters.dateRange) {\n      case 'week':\n        start = new Date(now.setDate(now.getDate() - 7))\n        break\n      case 'month':\n        start = new Date(now.getFullYear(), now.getMonth(), 1)\n        break\n      case 'quarter':\n        const quarter = Math.floor(now.getMonth() / 3)\n        start = new Date(now.getFullYear(), quarter * 3, 1)\n        break\n      case 'year':\n        start = new Date(now.getFullYear(), 0, 1)\n        break\n      case 'custom':\n        start = filters.customStart ? new Date(filters.customStart) : new Date(now.getFullYear(), 0, 1)\n        end = filters.customEnd ? new Date(filters.customEnd) : now\n        break\n      default:\n        start = new Date(now.getFullYear(), now.getMonth(), 1)\n    }\n\n    return { start: start.toISOString(), end: end.toISOString() }\n  }, [filters.dateRange, filters.customStart, filters.customEnd])\n\n  // Query: Statistiques globales\n  const { data: stats, isLoading: statsLoading } = useQuery({\n    queryKey: ['report-stats', user?.organization_id, dateFilter],\n    queryFn: async () => {\n      if (!user?.organization_id) return null\n\n      const [\n        studentsResult,\n        sessionsResult,\n        enrollmentsResult,\n        attendanceResult,\n        paymentsResult,\n        invoicesResult,\n      ] = await Promise.all([\n        // Étudiants actifs\n        supabase\n          .from('students')\n          .select('*', { count: 'exact', head: true })\n          .eq('organization_id', user.organization_id)\n          .eq('status', 'active'),\n\n        // Sessions\n        supabase\n          .from('sessions')\n          .select('*, formations!inner(organization_id)', { count: 'exact' })\n          .eq('formations.organization_id', user.organization_id)\n          .gte('start_date', dateFilter.start)\n          .lte('end_date', dateFilter.end),\n\n        // Inscriptions\n        supabase\n          .from('enrollments')\n          .select('*, sessions!inner(formations!inner(organization_id))', { count: 'exact' })\n          .eq('sessions.formations.organization_id', user.organization_id)\n          .gte('created_at', dateFilter.start),\n\n        // Présences\n        supabase\n          .from('attendance')\n          .select('status')\n          .eq('organization_id', user.organization_id)\n          .gte('date', dateFilter.start.split('T')[0]),\n\n        // Paiements\n        supabase\n          .from('payments')\n          .select('amount')\n          .eq('organization_id', user.organization_id)\n          .eq('status', 'completed')\n          .gte('paid_at', dateFilter.start),\n\n        // Factures impayées\n        supabase\n          .from('invoices')\n          .select('total_amount')\n          .eq('organization_id', user.organization_id)\n          .eq('status', 'overdue'),\n      ])\n\n      // Calcul du taux de présence\n      const attendanceData = attendanceResult.data || []\n      const totalAttendance = attendanceData.length\n      const presentCount = attendanceData.filter((a: any) => a.status === 'present' || a.status === 'late').length\n      const attendanceRate = totalAttendance > 0 ? Math.round((presentCount / totalAttendance) * 100) : 0\n\n      // Total des paiements\n      const totalPayments = (paymentsResult.data || []).reduce((sum: number, p: any) => sum + (p.amount || 0), 0)\n\n      // Total impayés\n      const totalOverdue = (invoicesResult.data || []).reduce((sum: number, i: any) => sum + (i.total_amount || 0), 0)\n\n      return {\n        students: studentsResult.count || 0,\n        sessions: sessionsResult.count || 0,\n        enrollments: enrollmentsResult.count || 0,\n        attendanceRate,\n        totalPayments,\n        totalOverdue,\n      }\n    },\n    enabled: !!user?.organization_id,\n  })\n\n  // Query: Sessions avec détails\n  const { data: sessions } = useQuery({\n    queryKey: ['report-sessions', user?.organization_id, dateFilter, filters.formationId],\n    queryFn: async () => {\n      if (!user?.organization_id) return []\n\n      let query = supabase\n        .from('sessions')\n        .select(`\n          *,\n          formations!inner(id, name, organization_id),\n          enrollments(count),\n          session_slots(count)\n        `)\n        .eq('formations.organization_id', user.organization_id)\n        .order('start_date', { ascending: false })\n\n      if (filters.formationId) {\n        query = query.eq('formation_id', filters.formationId)\n      }\n\n      const { data, error } = await query\n      if (error) throw error\n      return data || []\n    },\n    enabled: !!user?.organization_id,\n  })\n\n  // Query: Formations\n  const { data: formations } = useQuery({\n    queryKey: ['report-formations', user?.organization_id],\n    queryFn: async () => {\n      if (!user?.organization_id) return []\n\n      const { data, error } = await supabase\n        .from('formations')\n        .select('id, name')\n        .eq('organization_id', user.organization_id)\n        .eq('is_active', true)\n        .order('name')\n\n      if (error) throw error\n      return data || []\n    },\n    enabled: !!user?.organization_id,\n  })\n\n  // Query: Étudiants avec stats\n  const { data: studentsData } = useQuery({\n    queryKey: ['report-students', user?.organization_id, dateFilter, filters.sessionId],\n    queryFn: async () => {\n      if (!user?.organization_id) return []\n\n      let query = supabase\n        .from('students')\n        .select(`\n          *,\n          enrollments(\n            id,\n            status,\n            sessions(id, name)\n          )\n        `)\n        .eq('organization_id', user.organization_id)\n        .order('created_at', { ascending: false })\n        .limit(50)\n\n      const { data, error } = await query\n      if (error) throw error\n      return data || []\n    },\n    enabled: !!user?.organization_id && activeTab === 'students',\n  })\n\n  // Tabs configuration\n  const tabs: { id: ReportTab; label: string; icon: React.ElementType }[] = [\n    { id: 'overview', label: 'Vue d\\'ensemble', icon: LayoutDashboard },\n    { id: 'sessions', label: 'Sessions', icon: Calendar },\n    { id: 'students', label: 'Apprenants', icon: Users },\n    { id: 'attendance', label: 'Présences', icon: CheckCircle2 },\n    { id: 'finances', label: 'Finances', icon: CreditCard },\n  ]\n\n  // Données pour les graphiques\n  const chartData = useMemo(() => {\n    // Données exemple - à remplacer par des vraies données\n    return {\n      enrollmentsTrend: [\n        { name: 'Jan', value: 45 },\n        { name: 'Fév', value: 52 },\n        { name: 'Mar', value: 48 },\n        { name: 'Avr', value: 61 },\n        { name: 'Mai', value: 55 },\n        { name: 'Juin', value: 67 },\n      ],\n      attendanceDistribution: [\n        { name: 'Présent', value: stats?.attendanceRate || 0, color: '#10B981' },\n        { name: 'Absent', value: 100 - (stats?.attendanceRate || 0), color: '#EF4444' },\n      ],\n      paymentsTrend: [\n        { name: 'Jan', value: 12500 },\n        { name: 'Fév', value: 15000 },\n        { name: 'Mar', value: 18200 },\n        { name: 'Avr', value: 14800 },\n        { name: 'Mai', value: 21000 },\n        { name: 'Juin', value: stats?.totalPayments || 0 },\n      ],\n    }\n  }, [stats])\n\n  // Fonction d'export\n  const handleExport = async () => {\n    if (!user?.organization_id) {\n      addToast({\n        type: 'error',\n        title: 'Erreur',\n        description: 'Vous devez être connecté pour exporter les données',\n      })\n      return\n    }\n\n    setIsExporting(true)\n\n    try {\n      // Générer le nom de fichier avec la date au format YYYY-MM-DD\n      const dateStr = formatDate(new Date(), 'yyyy-MM-dd')\n      let dataToExport: Record<string, any>[] = []\n      let filename = ''\n      let sheetName = ''\n\n      switch (activeTab) {\n        case 'overview': {\n          // Export des statistiques globales\n          dataToExport = [\n            {\n              'Métrique': 'Apprenants actifs',\n              'Valeur': stats?.students || 0,\n            },\n            {\n              'Métrique': 'Sessions en cours',\n              'Valeur': stats?.sessions || 0,\n            },\n            {\n              'Métrique': 'Inscriptions',\n              'Valeur': stats?.enrollments || 0,\n            },\n            {\n              'Métrique': 'Taux de présence',\n              'Valeur': `${stats?.attendanceRate || 0}%`,\n            },\n            {\n              'Métrique': 'Chiffre d\\'affaires',\n              'Valeur': formatCurrency(stats?.totalPayments || 0),\n            },\n            {\n              'Métrique': 'Impayés',\n              'Valeur': formatCurrency(stats?.totalOverdue || 0),\n            },\n          ]\n          filename = `rapport-vue-ensemble-${dateStr}`\n          sheetName = 'Vue d\\'ensemble'\n          break\n        }\n\n        case 'sessions': {\n          // Export des sessions\n          if (!sessions || sessions.length === 0) {\n            addToast({\n              type: 'warning',\n              title: 'Aucune donnée',\n              description: 'Aucune session à exporter',\n            })\n            setIsExporting(false)\n            return\n          }\n\n          dataToExport = (sessions || []).map((session: any) => ({\n            'Session': session.name || '',\n            'Formation': session.formations?.name || '',\n            'Date de début': session.start_date ? formatDate(session.start_date, 'dd/MM/yyyy') : '',\n            'Date de fin': session.end_date ? formatDate(session.end_date, 'dd/MM/yyyy') : '',\n            'Statut': session.status === 'ongoing' ? 'En cours' :\n                     session.status === 'completed' ? 'Terminée' :\n                     session.status === 'planned' ? 'Planifiée' : session.status || '',\n            'Inscrits': session.enrollments?.[0]?.count || 0,\n          }))\n          filename = `rapport-sessions-${dateStr}`\n          sheetName = 'Sessions'\n          break\n        }\n\n        case 'students': {\n          // Export des apprenants\n          if (!studentsData || studentsData.length === 0) {\n            addToast({\n              type: 'warning',\n              title: 'Aucune donnée',\n              description: 'Aucun apprenant à exporter',\n            })\n            setIsExporting(false)\n            return\n          }\n\n          dataToExport = (studentsData || []).map((student: any) => ({\n            'Nom': `${student.first_name || ''} ${student.last_name || ''}`.trim() || '-',\n            'Email': student.email || '',\n            'Téléphone': student.phone || '',\n            'Statut': student.status === 'active' ? 'Actif' :\n                     student.status === 'inactive' ? 'Inactif' : student.status || '',\n            'Inscriptions': student.enrollments?.length || 0,\n            'Date d\\'inscription': student.created_at ? formatDate(student.created_at, 'dd/MM/yyyy') : '',\n          }))\n          filename = `rapport-apprenants-${dateStr}`\n          sheetName = 'Apprenants'\n          break\n        }\n\n        case 'attendance': {\n          // Export des présences (statistiques)\n          dataToExport = [\n            {\n              'Métrique': 'Taux de présence global',\n              'Valeur': `${stats?.attendanceRate || 0}%`,\n            },\n            {\n              'Métrique': 'Présences totales',\n              'Valeur': stats?.attendanceRate ? Math.round((stats.attendanceRate / 100) * (stats.enrollments || 0)) : 0,\n            },\n            {\n              'Métrique': 'Absences',\n              'Valeur': stats?.attendanceRate ? Math.round(((100 - stats.attendanceRate) / 100) * (stats.enrollments || 0)) : 0,\n            },\n          ]\n          filename = `rapport-presences-${dateStr}`\n          sheetName = 'Présences'\n          break\n        }\n\n        case 'finances': {\n          // Export des finances\n          dataToExport = [\n            {\n              'Métrique': 'Chiffre d\\'affaires',\n              'Valeur': formatCurrency(stats?.totalPayments || 0),\n            },\n            {\n              'Métrique': 'Factures en attente',\n              'Valeur': formatCurrency(0), // TODO: Récupérer depuis les données\n            },\n            {\n              'Métrique': 'Impayés',\n              'Valeur': formatCurrency(stats?.totalOverdue || 0),\n            },\n            {\n              'Métrique': 'Taux de recouvrement',\n              'Valeur': stats?.totalPayments && stats?.totalOverdue \n                ? `${Math.round(((stats.totalPayments - stats.totalOverdue) / stats.totalPayments) * 100)}%`\n                : '0%',\n            },\n          ]\n          filename = `rapport-finances-${dateStr}`\n          sheetName = 'Finances'\n          break\n        }\n\n        default:\n          addToast({\n            type: 'error',\n            title: 'Erreur',\n            description: 'Onglet non supporté pour l\\'export',\n          })\n          setIsExporting(false)\n          return\n      }\n\n      if (dataToExport.length === 0) {\n        addToast({\n          type: 'warning',\n          title: 'Aucune donnée',\n          description: 'Aucune donnée à exporter pour cet onglet',\n        })\n        setIsExporting(false)\n        return\n      }\n\n      // Exporter les données\n      await exportData(dataToExport, {\n        filename,\n        sheetName,\n        format: 'xlsx',\n        entityType: 'other',\n        organizationId: user.organization_id,\n        userId: user.id,\n      })\n\n      addToast({\n        type: 'success',\n        title: 'Export réussi',\n        description: `Les données ont été exportées avec succès (${dataToExport.length} ligne(s))`,\n      })\n    } catch (error) {\n      console.error('Erreur lors de l\\'export:', error)\n      addToast({\n        type: 'error',\n        title: 'Erreur d\\'export',\n        description: error instanceof Error ? error.message : 'Une erreur est survenue lors de l\\'export',\n      })\n    } finally {\n      setIsExporting(false)\n    }\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900\">Rapports & Analytics</h1>\n          <p className=\"text-gray-500 mt-1\">Suivez l'activité de votre organisation</p>\n        </div>\n        <div className=\"flex items-center gap-3\">\n          <Button \n            variant=\"outline\" \n            className=\"gap-2\"\n            onClick={handleExport}\n            disabled={isExporting}\n          >\n            <Download className=\"h-4 w-4\" />\n            {isExporting ? 'Export en cours...' : 'Exporter'}\n          </Button>\n          <Button \n            className=\"gap-2\"\n            onClick={() => window.location.reload()}\n          >\n            <RefreshCw className=\"h-4 w-4\" />\n            Actualiser\n          </Button>\n        </div>\n      </div>\n\n      {/* Tabs */}\n      <div className=\"flex items-center gap-2 border-b border-gray-200 pb-4\">\n        {tabs.map((tab) => {\n          const TabIcon = tab.icon\n          return (\n            <button\n              key={tab.id}\n              onClick={() => setActiveTab(tab.id)}\n              className={cn(\n                'flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-all',\n                activeTab === tab.id\n                  ? 'bg-blue-600 text-white'\n                  : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\n              )}\n            >\n              <TabIcon className=\"h-4 w-4\" />\n              {tab.label}\n            </button>\n          )\n        })}\n      </div>\n\n      {/* Filtres */}\n      <FilterBar\n        filters={filters}\n        onChange={setFilters}\n        sessions={sessions?.map(s => ({ id: s.id, name: s.name }))}\n        formations={formations}\n      />\n\n      {/* Contenu selon l'onglet */}\n      <AnimatePresence mode=\"wait\">\n        {activeTab === 'overview' && (\n          <motion.div\n            key=\"overview\"\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, y: -20 }}\n            className=\"space-y-6\"\n          >\n            {/* KPIs */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n              <StatCard\n                title=\"Apprenants actifs\"\n                value={stats?.students || 0}\n                change={12}\n                changeType=\"increase\"\n                icon={Users}\n                color=\"blue\"\n              />\n              <StatCard\n                title=\"Sessions en cours\"\n                value={stats?.sessions || 0}\n                change={5}\n                changeType=\"increase\"\n                icon={Calendar}\n                color=\"purple\"\n              />\n              <StatCard\n                title=\"Taux de présence\"\n                value={`${stats?.attendanceRate || 0}%`}\n                change={-2}\n                changeType=\"decrease\"\n                icon={CheckCircle2}\n                color=\"green\"\n              />\n              <StatCard\n                title=\"Chiffre d'affaires\"\n                value={formatCurrency(stats?.totalPayments || 0)}\n                change={18}\n                changeType=\"increase\"\n                icon={CreditCard}\n                color=\"teal\"\n              />\n            </div>\n\n            {/* Graphiques */}\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"flex items-center gap-2\">\n                    <TrendingUp className=\"h-5 w-5 text-blue-600\" />\n                    Évolution des inscriptions\n                  </CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <PremiumLineChart\n                    data={chartData.enrollmentsTrend}\n                    dataKey=\"value\"\n                    xAxisKey=\"name\"\n                    color=\"#3B82F6\"\n                    showArea={true}\n                    gradientColors={{\n                      from: '#3B82F6',\n                      to: '#60A5FA'\n                    }}\n                  />\n                </CardContent>\n              </Card>\n\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"flex items-center gap-2\">\n                    <PieChart className=\"h-5 w-5 text-green-600\" />\n                    Répartition des présences\n                  </CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <PremiumPieChart\n                    data={chartData.attendanceDistribution}\n                  />\n                </CardContent>\n              </Card>\n            </div>\n\n            {/* Alertes */}\n            {stats?.totalOverdue && stats.totalOverdue > 0 && (\n              <div className=\"bg-red-50 border border-red-200 rounded-xl p-4 flex items-center gap-3\">\n                <AlertCircle className=\"h-6 w-6 text-red-600\" />\n                <div>\n                  <p className=\"font-medium text-red-800\">Attention : Factures impayées</p>\n                  <p className=\"text-sm text-red-600\">\n                    {formatCurrency(stats.totalOverdue)} en factures impayées\n                  </p>\n                </div>\n                <Button variant=\"outline\" size=\"sm\" className=\"ml-auto border-red-300 text-red-600 hover:bg-red-100\">\n                  Voir les détails\n                </Button>\n              </div>\n            )}\n          </motion.div>\n        )}\n\n        {activeTab === 'sessions' && (\n          <motion.div\n            key=\"sessions\"\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, y: -20 }}\n          >\n            <Card>\n              <CardHeader>\n                <CardTitle>Suivi des Sessions</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <DataTable\n                  columns={[\n                    { key: 'name', label: 'Session' },\n                    { \n                      key: 'formations', \n                      label: 'Formation',\n                      render: (_, row) => row.formations?.name || '-'\n                    },\n                    { \n                      key: 'start_date', \n                      label: 'Début',\n                      render: (value) => value ? formatDate(value) : '-'\n                    },\n                    { \n                      key: 'end_date', \n                      label: 'Fin',\n                      render: (value) => value ? formatDate(value) : '-'\n                    },\n                    { \n                      key: 'status', \n                      label: 'Statut',\n                      render: (value) => (\n                        <span className={cn(\n                          'px-2 py-1 rounded-full text-xs font-medium',\n                          value === 'ongoing' ? 'bg-green-100 text-green-700' :\n                          value === 'completed' ? 'bg-blue-100 text-blue-700' :\n                          value === 'planned' ? 'bg-orange-100 text-orange-700' :\n                          'bg-gray-100 text-gray-700'\n                        )}>\n                          {value === 'ongoing' ? 'En cours' :\n                           value === 'completed' ? 'Terminée' :\n                           value === 'planned' ? 'Planifiée' : value}\n                        </span>\n                      )\n                    },\n                    { \n                      key: 'enrollments', \n                      label: 'Inscrits',\n                      render: (value) => value?.[0]?.count || 0\n                    },\n                  ]}\n                  data={sessions || []}\n                  emptyMessage=\"Aucune session trouvée\"\n                />\n              </CardContent>\n            </Card>\n          </motion.div>\n        )}\n\n        {activeTab === 'students' && (\n          <motion.div\n            key=\"students\"\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, y: -20 }}\n          >\n            <Card>\n              <CardHeader>\n                <CardTitle>Suivi des Apprenants</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <DataTable\n                  columns={[\n                    { \n                      key: 'full_name', \n                      label: 'Nom',\n                      render: (_, row) => `${row.first_name || ''} ${row.last_name || ''}`.trim() || '-'\n                    },\n                    { key: 'email', label: 'Email' },\n                    { \n                      key: 'status', \n                      label: 'Statut',\n                      render: (value) => (\n                        <span className={cn(\n                          'px-2 py-1 rounded-full text-xs font-medium',\n                          value === 'active' ? 'bg-green-100 text-green-700' :\n                          value === 'inactive' ? 'bg-gray-100 text-gray-700' :\n                          'bg-blue-100 text-blue-700'\n                        )}>\n                          {value === 'active' ? 'Actif' :\n                           value === 'inactive' ? 'Inactif' : value}\n                        </span>\n                      )\n                    },\n                    { \n                      key: 'enrollments', \n                      label: 'Inscriptions',\n                      render: (value) => value?.length || 0\n                    },\n                    { \n                      key: 'created_at', \n                      label: 'Inscrit le',\n                      render: (value) => value ? formatDate(value) : '-'\n                    },\n                  ]}\n                  data={studentsData || []}\n                  emptyMessage=\"Aucun apprenant trouvé\"\n                />\n              </CardContent>\n            </Card>\n          </motion.div>\n        )}\n\n        {activeTab === 'attendance' && (\n          <motion.div\n            key=\"attendance\"\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, y: -20 }}\n            className=\"space-y-6\"\n          >\n            {/* Stats de présence */}\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n              <StatCard\n                title=\"Taux de présence global\"\n                value={`${stats?.attendanceRate || 0}%`}\n                icon={CheckCircle2}\n                color=\"green\"\n              />\n              <StatCard\n                title=\"Présences ce mois\"\n                value=\"1,245\"\n                icon={Users}\n                color=\"blue\"\n              />\n              <StatCard\n                title=\"Absences non justifiées\"\n                value=\"23\"\n                icon={AlertCircle}\n                color=\"red\"\n              />\n              <StatCard\n                title=\"Retards\"\n                value=\"45\"\n                icon={Clock}\n                color=\"orange\"\n              />\n            </div>\n\n            {/* Graphique évolution présences */}\n            <Card>\n              <CardHeader>\n                <CardTitle>Évolution du taux de présence</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <PremiumLineChart\n                  data={[\n                    { name: 'Sem 1', value: 92 },\n                    { name: 'Sem 2', value: 88 },\n                    { name: 'Sem 3', value: 95 },\n                    { name: 'Sem 4', value: 91 },\n                  ]}\n                  dataKey=\"value\"\n                  xAxisKey=\"name\"\n                  color=\"#10B981\"\n                  showArea={true}\n                  gradientColors={{\n                    from: '#10B981',\n                    to: '#34D399'\n                  }}\n                />\n              </CardContent>\n            </Card>\n          </motion.div>\n        )}\n\n        {activeTab === 'finances' && (\n          <motion.div\n            key=\"finances\"\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, y: -20 }}\n            className=\"space-y-6\"\n          >\n            {/* Stats financières */}\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n              <StatCard\n                title=\"Chiffre d'affaires\"\n                value={formatCurrency(stats?.totalPayments || 0)}\n                change={18}\n                changeType=\"increase\"\n                icon={TrendingUp}\n                color=\"green\"\n              />\n              <StatCard\n                title=\"Factures en attente\"\n                value={formatCurrency(12500)}\n                icon={FileText}\n                color=\"orange\"\n              />\n              <StatCard\n                title=\"Impayés\"\n                value={formatCurrency(stats?.totalOverdue || 0)}\n                icon={AlertCircle}\n                color=\"red\"\n              />\n              <StatCard\n                title=\"Taux de recouvrement\"\n                value=\"94%\"\n                icon={Target}\n                color=\"teal\"\n              />\n            </div>\n\n            {/* Graphique revenus */}\n            <Card>\n              <CardHeader>\n                <CardTitle>Évolution du chiffre d'affaires</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <PremiumLineChart\n                  data={chartData.paymentsTrend}\n                  dataKey=\"value\"\n                  xAxisKey=\"name\"\n                  color=\"#8B5CF6\"\n                  showArea={true}\n                  gradientColors={{\n                    from: '#8B5CF6',\n                    to: '#A78BFA'\n                  }}\n                />\n              </CardContent>\n            </Card>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  )\n}\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name PieChart\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEuMjEgMTUuODlBMTAgMTAgMCAxIDEgOCAyLjgzIiAvPgogIDxwYXRoIGQ9Ik0yMiAxMkExMCAxMCAwIDAgMCAxMiAydjEweiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/pie-chart\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst PieChart = createLucideIcon('PieChart', [\n  ['path', { d: 'M21.21 15.89A10 10 0 1 1 8 2.83', key: 'k2fpak' }],\n  ['path', { d: 'M22 12A10 10 0 0 0 12 2v10z', key: '1rfc4y' }],\n]);\n\nexport default PieChart;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ArrowDownRight\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtNyA3IDEwIDEwIiAvPgogIDxwYXRoIGQ9Ik0xNyA3djEwSDciIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/arrow-down-right\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowDownRight = createLucideIcon('ArrowDownRight', [\n  ['path', { d: 'm7 7 10 10', key: '1fmybs' }],\n  ['path', { d: 'M17 7v10H7', key: '6fjiku' }],\n]);\n\nexport default ArrowDownRight;\n"],"names":[],"mappings":"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","ignoreList":[1,2]}