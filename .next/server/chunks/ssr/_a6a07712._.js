module.exports=[114548,a=>{"use strict";let b=(0,a.i(170106).default)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);a.s(["Save",()=>b],114548)},621958,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(497895);let e=c.createContext(void 0);function f({value:a,defaultValue:f,onValueChange:g,children:h,className:i}){let j=void 0!==a,[k,l]=c.useState(f??"");c.useEffect(()=>{j||void 0===f||l(f)},[f]);let m=j?a:k,n=c.useCallback(a=>{j||l(a),g?.(a)},[j,g]);return(0,b.jsx)(e.Provider,{value:{value:m,onValueChange:n},children:(0,b.jsx)("div",{className:(0,d.cn)("w-full",i),children:h})})}function g(){let a=c.useContext(e);if(!a)throw Error("Tabs components must be used within a Tabs component");return a}function h({children:a,className:c}){return(0,b.jsx)("div",{className:(0,d.cn)("inline-flex h-10 items-center justify-center rounded-lg bg-bg-gray-100 p-1 text-text-tertiary",c),children:a})}function i({value:a,children:c,className:e}){let{value:f,onValueChange:h}=g(),i=f===a;return(0,b.jsx)("button",{type:"button",onClick:()=>h(a),className:(0,d.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-outline-none focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",i?"bg-white text-text-primary shadow-sm":"text-text-tertiary hover:text-text-primary",e),children:c})}function j({value:a,children:c,className:e}){let{value:f}=g();return f!==a?null:(0,b.jsx)("div",{className:(0,d.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),children:c})}a.s(["Tabs",()=>f,"TabsContent",()=>j,"TabsList",()=>h,"TabsTrigger",()=>i])},280281,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(497895);let e=c.forwardRef(({checked:a,onCheckedChange:c,disabled:e,className:f,...g},h)=>(0,b.jsx)("button",{type:"button",role:"switch","aria-checked":a,ref:h,disabled:e,onClick:()=>c?.(!a),className:(0,d.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",a?"bg-brand-blue":"bg-input",f),...g,children:(0,b.jsx)("span",{className:(0,d.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform",a?"translate-x-5":"translate-x-0")})}));e.displayName="Switch",a.s(["Switch",0,e])},612966,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(433217),e=a.i(370025),f=a.i(937927),g=a.i(913216),h=a.i(269240),i=a.i(703130),j=a.i(340695),k=a.i(205522),l=a.i(917171),m=a.i(280281),n=a.i(621958),o=a.i(864037),p=a.i(911156),q=a.i(267900),r=a.i(114548);function s(){let{user:a}=(0,g.useAuth)();(0,h.createClient)();let s=(0,f.useQueryClient)(),{addToast:t}=(0,o.useToast)(),[u,v]=(0,c.useState)({enabled:!1,publishableKey:"",secretKey:"",webhookSecret:""}),[w,x]=(0,c.useState)({enabled:!1,creditorName:"",creditorIban:"",creditorBic:"",creditorId:""}),{data:y}=(0,d.useQuery)({queryKey:["payment-configs",a?.organization_id],queryFn:async()=>(!a?.organization_id,null),enabled:!!a?.organization_id}),z=(0,e.useMutation)({mutationFn:async()=>(await new Promise(a=>setTimeout(a,500)),{success:!0}),onSuccess:()=>{t({title:"Configuration sauvegardée",description:"La configuration Stripe a été enregistrée avec succès.",type:"success"}),s.invalidateQueries({queryKey:["payment-configs"]})}}),A=(0,e.useMutation)({mutationFn:async()=>(await new Promise(a=>setTimeout(a,500)),{success:!0}),onSuccess:()=>{t({title:"Configuration sauvegardée",description:"La configuration SEPA a été enregistrée avec succès.",type:"success"}),s.invalidateQueries({queryKey:["payment-configs"]})}});return(0,b.jsxs)("div",{className:"container mx-auto py-8 px-4 max-w-5xl",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-2",children:[(0,b.jsx)(p.CreditCard,{className:"h-8 w-8"}),"Configuration des Paiements"]}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Configurez les méthodes de paiement pour votre organisation"})]}),(0,b.jsxs)(n.Tabs,{defaultValue:"stripe",className:"space-y-6",children:[(0,b.jsxs)(n.TabsList,{children:[(0,b.jsx)(n.TabsTrigger,{value:"stripe",children:"Stripe (Cartes bancaires)"}),(0,b.jsx)(n.TabsTrigger,{value:"sepa",children:"SEPA (Virements)"})]}),(0,b.jsx)(n.TabsContent,{value:"stripe",children:(0,b.jsxs)(i.Card,{children:[(0,b.jsxs)(i.CardHeader,{children:[(0,b.jsxs)(i.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(p.CreditCard,{className:"h-5 w-5"}),"Configuration Stripe"]}),(0,b.jsx)(i.CardDescription,{children:"Configurez les paiements par carte bancaire via Stripe"})]}),(0,b.jsxs)(i.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(l.Label,{htmlFor:"stripe-enabled",children:"Activer Stripe"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Permettre les paiements par carte bancaire"})]}),(0,b.jsx)(m.Switch,{checked:u.enabled,onCheckedChange:a=>v({...u,enabled:a})})]}),u.enabled&&(0,b.jsxs)("div",{className:"space-y-4 pt-4 border-t",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(l.Label,{htmlFor:"stripe-publishable-key",children:"Clé publique (Publishable Key)"}),(0,b.jsx)(k.Input,{id:"stripe-publishable-key",type:"password",value:u.publishableKey,onChange:a=>v({...u,publishableKey:a.target.value}),placeholder:"pk_test_..."}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Clé publique Stripe (commence par pk_)"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(l.Label,{htmlFor:"stripe-secret-key",children:"Clé secrète (Secret Key)"}),(0,b.jsx)(k.Input,{id:"stripe-secret-key",type:"password",value:u.secretKey,onChange:a=>v({...u,secretKey:a.target.value}),placeholder:"sk_test_..."}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Clé secrète Stripe (commence par sk_). Ne partagez jamais cette clé."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(l.Label,{htmlFor:"stripe-webhook-secret",children:"Secret Webhook (optionnel)"}),(0,b.jsx)(k.Input,{id:"stripe-webhook-secret",type:"password",value:u.webhookSecret,onChange:a=>v({...u,webhookSecret:a.target.value}),placeholder:"whsec_..."}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Secret pour valider les webhooks Stripe"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 pt-4",children:[(0,b.jsxs)(j.Button,{onClick:()=>z.mutate(),disabled:!u.publishableKey||!u.secretKey,children:[(0,b.jsx)(r.Save,{className:"h-4 w-4 mr-2"}),"Sauvegarder"]}),(0,b.jsx)(j.Button,{variant:"outline",asChild:!0,children:(0,b.jsx)("a",{href:"https://dashboard.stripe.com/apikeys",target:"_blank",rel:"noopener noreferrer",children:"Obtenir les clés Stripe"})})]})]})]})]})}),(0,b.jsx)(n.TabsContent,{value:"sepa",children:(0,b.jsxs)(i.Card,{children:[(0,b.jsxs)(i.CardHeader,{children:[(0,b.jsxs)(i.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(q.Building2,{className:"h-5 w-5"}),"Configuration SEPA"]}),(0,b.jsx)(i.CardDescription,{children:"Configurez les virements bancaires SEPA et prélèvements"})]}),(0,b.jsxs)(i.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(l.Label,{children:"Activer SEPA"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Permettre les virements et prélèvements SEPA"})]}),(0,b.jsx)(m.Switch,{checked:w.enabled,onCheckedChange:a=>x({...w,enabled:a})})]}),w.enabled&&(0,b.jsxs)("div",{className:"space-y-4 pt-4 border-t",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(l.Label,{htmlFor:"sepa-creditor-name",children:"Nom du créancier"}),(0,b.jsx)(k.Input,{id:"sepa-creditor-name",value:w.creditorName,onChange:a=>x({...w,creditorName:a.target.value}),placeholder:"Nom de votre organisation"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(l.Label,{htmlFor:"sepa-creditor-iban",children:"IBAN du créancier"}),(0,b.jsx)(k.Input,{id:"sepa-creditor-iban",value:w.creditorIban,onChange:a=>x({...w,creditorIban:a.target.value.toUpperCase()}),placeholder:"FR76 1234 5678 9012 3456 7890 123"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"IBAN de votre compte bancaire (format européen)"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(l.Label,{htmlFor:"sepa-creditor-bic",children:"BIC du créancier (optionnel)"}),(0,b.jsx)(k.Input,{id:"sepa-creditor-bic",value:w.creditorBic,onChange:a=>x({...w,creditorBic:a.target.value.toUpperCase()}),placeholder:"ABCDFRPP"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Code BIC/SWIFT de votre banque"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(l.Label,{htmlFor:"sepa-creditor-id",children:"Identifiant créancier (pour prélèvements)"}),(0,b.jsx)(k.Input,{id:"sepa-creditor-id",value:w.creditorId,onChange:a=>x({...w,creditorId:a.target.value}),placeholder:"FR98Z123456789"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Identifiant unique pour les prélèvements SEPA (obtenu auprès de votre banque)"})]}),(0,b.jsx)("div",{className:"flex items-center gap-2 pt-4",children:(0,b.jsxs)(j.Button,{onClick:()=>A.mutate(),disabled:!w.creditorName||!w.creditorIban,children:[(0,b.jsx)(r.Save,{className:"h-4 w-4 mr-2"}),"Sauvegarder"]})})]})]})]})})]})]})}a.s(["default",()=>s])}];

//# sourceMappingURL=_a6a07712._.js.map