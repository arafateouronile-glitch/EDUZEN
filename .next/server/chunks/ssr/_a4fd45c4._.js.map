{"version":3,"sources":["../../../../node_modules/lucide-react/src/icons/check-circle.ts","../../../../node_modules/lucide-react/src/icons/save.ts","../../../../components/ui/switch.tsx","../../../../app/%28dashboard%29/dashboard/settings/sepa/page.tsx","../../../../lib/services/payment/sepa.adapter.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name CheckCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjIgMTEuMDhWMTJhMTAgMTAgMCAxIDEtNS45My05LjE0IiAvPgogIDxwYXRoIGQ9Im05IDExIDMgM0wyMiA0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/check-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CheckCircle = createLucideIcon('CheckCircle', [\n  ['path', { d: 'M22 11.08V12a10 10 0 1 1-5.93-9.14', key: 'g774vq' }],\n  ['path', { d: 'm9 11 3 3L22 4', key: '1pflzl' }],\n]);\n\nexport default CheckCircle;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Save\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTkgMjFINWEyIDIgMCAwIDEtMi0yVjVhMiAyIDAgMCAxIDItMmgxMWw1IDV2MTFhMiAyIDAgMCAxLTIgMnoiIC8+CiAgPHBvbHlsaW5lIHBvaW50cz0iMTcgMjEgMTcgMTMgNyAxMyA3IDIxIiAvPgogIDxwb2x5bGluZSBwb2ludHM9IjcgMyA3IDggMTUgOCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/save\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Save = createLucideIcon('Save', [\n  ['path', { d: 'M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z', key: '1owoqh' }],\n  ['polyline', { points: '17 21 17 13 7 13 7 21', key: '1md35c' }],\n  ['polyline', { points: '7 3 7 8 15 8', key: '8nz8an' }],\n]);\n\nexport default Save;\n","'use client'\n\nimport * as React from 'react'\nimport { cn } from '@/lib/utils'\n\nexport interface SwitchProps {\n  checked?: boolean\n  onCheckedChange?: (checked: boolean) => void\n  disabled?: boolean\n  className?: string\n}\n\nexport const Switch = React.forwardRef<HTMLButtonElement, SwitchProps>(\n  ({ checked, onCheckedChange, disabled, className, ...props }, ref) => {\n    return (\n      <button\n        type=\"button\"\n        role=\"switch\"\n        aria-checked={checked}\n        ref={ref}\n        disabled={disabled}\n        onClick={() => onCheckedChange?.(!checked)}\n        className={cn(\n          'peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50',\n          checked ? 'bg-brand-blue' : 'bg-input',\n          className\n        )}\n        {...props}\n      >\n        <span\n          className={cn(\n            'pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform',\n            checked ? 'translate-x-5' : 'translate-x-0'\n          )}\n        />\n      </button>\n    )\n  }\n)\nSwitch.displayName = 'Switch'\n","'use client'\n\nimport { useState } from 'react'\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\nimport { useAuth } from '@/lib/hooks/use-auth'\nimport { createClient } from '@/lib/supabase/client'\nimport { Button } from '@/components/ui/button'\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { Switch } from '@/components/ui/switch'\nimport { useToast } from '@/components/ui/toast'\nimport { \n  CreditCard, Save, TestTube, CheckCircle, AlertCircle,\n  Info, Building2\n} from 'lucide-react'\nimport { SEPAAdapter } from '@/lib/services/payment/sepa.adapter'\n\nexport default function SEPASettingsPage() {\n  const { user } = useAuth()\n  const queryClient = useQueryClient()\n  const supabase = createClient()\n  const { addToast } = useToast()\n\n  const [config, setConfig] = useState({\n    creditor_name: '',\n    creditor_iban: '',\n    creditor_bic: '',\n    creditor_id: '', // Identifiant créancier pour prélèvements\n    is_active: false,\n  })\n\n  const [ibanValid, setIbanValid] = useState<boolean | null>(null)\n  const [bicValid, setBicValid] = useState<boolean | null>(null)\n\n  // Récupérer la configuration existante\n  const { data: existingConfig, isLoading } = useQuery({\n    queryKey: ['sepa-config', user?.organization_id],\n    queryFn: async () => {\n      if (!user?.organization_id) return null\n\n      // TODO: Créer une table payment_providers pour stocker les configurations\n      // Pour l'instant, on retourne une config vide\n      return {\n        creditor_name: '',\n        creditor_iban: '',\n        creditor_bic: '',\n        creditor_id: '',\n        is_active: false,\n      }\n    },\n    enabled: !!user?.organization_id,\n  })\n\n  // Valider l'IBAN\n  const validateIBAN = (iban: string) => {\n    const adapter = new SEPAAdapter({\n      creditorName: config.creditor_name,\n      creditorIban: iban,\n      creditorBic: config.creditor_bic,\n    })\n    const isValid = adapter.validateIBAN(iban)\n    setIbanValid(isValid)\n    return isValid\n  }\n\n  // Valider le BIC\n  const validateBIC = (bic: string) => {\n    const adapter = new SEPAAdapter({\n      creditorName: config.creditor_name,\n      creditorIban: config.creditor_iban,\n      creditorBic: bic,\n    })\n    const isValid = adapter.validateBIC(bic)\n    setBicValid(isValid)\n    return isValid\n  }\n\n  // Sauvegarder la configuration\n  const saveMutation = useMutation({\n    mutationFn: async (configData: typeof config) => {\n      // Validation\n      if (!configData.creditor_name) {\n        throw new Error('Le nom du créancier est requis')\n      }\n      if (!configData.creditor_iban) {\n        throw new Error('L\\'IBAN créancier est requis')\n      }\n      if (!validateIBAN(configData.creditor_iban)) {\n        throw new Error('IBAN invalide')\n      }\n      if (configData.creditor_bic && !validateBIC(configData.creditor_bic)) {\n        throw new Error('BIC invalide')\n      }\n\n      // TODO: Sauvegarder dans une table payment_providers\n      await new Promise((resolve) => setTimeout(resolve, 500))\n      return configData\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['sepa-config'] })\n      addToast({\n        title: 'Configuration sauvegardée',\n        description: 'Les paramètres SEPA ont été enregistrés avec succès.',\n        type: 'success',\n      })\n    },\n    onError: (error: any) => {\n      addToast({\n        title: 'Erreur',\n        description: error.message || 'Erreur lors de la sauvegarde',\n        type: 'error',\n      })\n    },\n  })\n\n  if (isLoading) {\n    return (\n      <div className=\"container mx-auto py-8\">\n        <div className=\"text-center\">Chargement...</div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"container mx-auto py-8 space-y-6 max-w-4xl\">\n      {/* Header */}\n      <div>\n        <h1 className=\"text-3xl font-bold mb-2 flex items-center gap-2\">\n          <CreditCard className=\"h-8 w-8\" />\n          Configuration SEPA\n        </h1>\n        <p className=\"text-muted-foreground\">\n          Configurez les paiements par virement bancaire SEPA et prélèvements automatiques\n        </p>\n      </div>\n\n      {/* Documentation */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Info className=\"h-5 w-5\" />\n            À propos de SEPA\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <p className=\"text-sm text-muted-foreground mb-4\">\n            SEPA (Single Euro Payments Area) permet d'effectuer des virements bancaires et des prélèvements\n            automatiques dans toute la zone euro. Vous devez fournir les informations bancaires de votre organisation.\n          </p>\n          <div className=\"space-y-2 text-sm\">\n            <p><strong>Virements SEPA :</strong> Les clients effectuent des virements manuels vers votre compte</p>\n            <p><strong>Prélèvements SEPA :</strong> Vous pouvez prélever automatiquement les montants dus (nécessite un mandat)</p>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Configuration */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Informations bancaires</CardTitle>\n          <CardDescription>\n            Entrez les informations bancaires de votre organisation (créancier)\n          </CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div>\n            <Label htmlFor=\"creditor_name\">Nom du créancier</Label>\n            <Input\n              id=\"creditor_name\"\n              type=\"text\"\n              placeholder=\"Nom de votre organisation\"\n              value={config.creditor_name}\n              onChange={(e) => setConfig({ ...config, creditor_name: e.target.value })}\n              className=\"mt-1\"\n            />\n            <p className=\"text-xs text-muted-foreground mt-1\">\n              Nom qui apparaîtra sur les relevés bancaires des clients\n            </p>\n          </div>\n\n          <div>\n            <Label htmlFor=\"creditor_iban\">IBAN créancier</Label>\n            <Input\n              id=\"creditor_iban\"\n              type=\"text\"\n              placeholder=\"FR76 XXXX XXXX XXXX XXXX XXXX XXX\"\n              value={config.creditor_iban}\n              onChange={(e) => {\n                const value = e.target.value.toUpperCase().replace(/\\s/g, '')\n                setConfig({ ...config, creditor_iban: value })\n                if (value.length > 4) {\n                  validateIBAN(value)\n                } else {\n                  setIbanValid(null)\n                }\n              }}\n              className=\"mt-1\"\n            />\n            {ibanValid === false && (\n              <p className=\"text-xs text-red-600 mt-1\">IBAN invalide</p>\n            )}\n            {ibanValid === true && (\n              <p className=\"text-xs text-green-600 mt-1\">IBAN valide</p>\n            )}\n            <p className=\"text-xs text-muted-foreground mt-1\">\n              IBAN de votre compte bancaire (format: FR76 XXXX XXXX...)\n            </p>\n          </div>\n\n          <div>\n            <Label htmlFor=\"creditor_bic\">BIC créancier (optionnel mais recommandé)</Label>\n            <Input\n              id=\"creditor_bic\"\n              type=\"text\"\n              placeholder=\"ABCDEFGH\"\n              value={config.creditor_bic}\n              onChange={(e) => {\n                const value = e.target.value.toUpperCase().replace(/\\s/g, '')\n                setConfig({ ...config, creditor_bic: value })\n                if (value.length > 0) {\n                  validateBIC(value)\n                } else {\n                  setBicValid(null)\n                }\n              }}\n              className=\"mt-1\"\n            />\n            {bicValid === false && (\n              <p className=\"text-xs text-red-600 mt-1\">BIC invalide</p>\n            )}\n            {bicValid === true && (\n              <p className=\"text-xs text-green-600 mt-1\">BIC valide</p>\n            )}\n            <p className=\"text-xs text-muted-foreground mt-1\">\n              Code BIC/SWIFT de votre banque (8 ou 11 caractères)\n            </p>\n          </div>\n\n          <div>\n            <Label htmlFor=\"creditor_id\">Identifiant créancier (pour prélèvements)</Label>\n            <Input\n              id=\"creditor_id\"\n              type=\"text\"\n              placeholder=\"FR98Z123456789\"\n              value={config.creditor_id}\n              onChange={(e) => setConfig({ ...config, creditor_id: e.target.value.toUpperCase() })}\n              className=\"mt-1\"\n            />\n            <p className=\"text-xs text-muted-foreground mt-1\">\n              Identifiant unique délivré par votre banque pour les prélèvements SEPA\n            </p>\n          </div>\n\n          <div className=\"flex items-center justify-between pt-2\">\n            <div className=\"space-y-1\">\n              <Label htmlFor=\"is_active\">Activer SEPA</Label>\n              <p className=\"text-xs text-muted-foreground\">\n                Activez les paiements SEPA pour votre organisation\n              </p>\n            </div>\n            <Switch\n              checked={config.is_active}\n              onCheckedChange={(checked) => setConfig({ ...config, is_active: checked })}\n            />\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Actions */}\n      <div className=\"flex gap-4\">\n        <Button\n          onClick={() => saveMutation.mutate(config)}\n          disabled={saveMutation.isPending || !config.creditor_name || !config.creditor_iban}\n        >\n          <Save className=\"h-4 w-4 mr-2\" />\n          {saveMutation.isPending ? 'Sauvegarde...' : 'Sauvegarder'}\n        </Button>\n      </div>\n\n      {/* Statut */}\n      {saveMutation.isSuccess && (\n        <Card className=\"border-green-200 bg-green-50\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center gap-2 text-green-800\">\n              <CheckCircle className=\"h-5 w-5\" />\n              <span className=\"font-semibold\">Configuration sauvegardée</span>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {saveMutation.isError && (\n        <Card className=\"border-red-200 bg-red-50\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center gap-2 text-red-800\">\n              <AlertCircle className=\"h-5 w-5\" />\n              <span className=\"font-semibold\">Erreur</span>\n            </div>\n            <p className=\"text-sm text-red-700 mt-2\">\n              {saveMutation.error instanceof Error ? saveMutation.error.message : 'Erreur inconnue'}\n            </p>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  )\n}\n\n","/**\n * Adapter SEPA pour les virements bancaires européens\n * Supporte les virements SEPA et prélèvements SEPA\n */\n\nexport interface SEPAConfig {\n  creditorName: string\n  creditorIban: string\n  creditorBic?: string\n  creditorId?: string // Identifiant créancier pour prélèvements\n}\n\nexport interface SEPAPaymentRequest {\n  amount: number // Montant en euros\n  currency: string // 'EUR', 'CHF', etc.\n  description: string\n  debtorName: string\n  debtorIban: string\n  debtorBic?: string\n  debtorEmail?: string\n  reference: string // Référence unique du paiement\n  dueDate?: string // Date d'échéance (pour prélèvements)\n  mandateId?: string // ID du mandat SEPA (pour prélèvements)\n}\n\nexport interface SEPAPaymentResponse {\n  paymentId: string\n  status: 'pending' | 'processing' | 'completed' | 'failed' | 'canceled'\n  iban: string\n  reference: string\n  dueDate?: string\n}\n\nexport class SEPAAdapter {\n  private config: SEPAConfig\n\n  constructor(config: SEPAConfig) {\n    this.config = config\n  }\n\n  /**\n   * Créer une demande de virement SEPA\n   */\n  async createTransfer(request: SEPAPaymentRequest): Promise<SEPAPaymentResponse> {\n    const response = await fetch('/api/payments/sepa/create-transfer', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        amount: request.amount,\n        currency: request.currency,\n        description: request.description,\n        debtor_name: request.debtorName,\n        debtor_iban: request.debtorIban,\n        debtor_bic: request.debtorBic,\n        debtor_email: request.debtorEmail,\n        reference: request.reference,\n        creditor_name: this.config.creditorName,\n        creditor_iban: this.config.creditorIban,\n        creditor_bic: this.config.creditorBic,\n      }),\n    })\n\n    if (!response.ok) {\n      const error = await response.json()\n      throw new Error(error.message || 'Erreur lors de la création du virement SEPA')\n    }\n\n    return response.json()\n  }\n\n  /**\n   * Créer un prélèvement SEPA\n   */\n  async createDirectDebit(request: SEPAPaymentRequest): Promise<SEPAPaymentResponse> {\n    if (!request.mandateId) {\n      throw new Error('Le mandat SEPA est requis pour un prélèvement')\n    }\n\n    const response = await fetch('/api/payments/sepa/create-direct-debit', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        amount: request.amount,\n        currency: request.currency,\n        description: request.description,\n        debtor_name: request.debtorName,\n        debtor_iban: request.debtorIban,\n        debtor_bic: request.debtorBic,\n        reference: request.reference,\n        due_date: request.dueDate,\n        mandate_id: request.mandateId,\n        creditor_name: this.config.creditorName,\n        creditor_iban: this.config.creditorIban,\n        creditor_id: this.config.creditorId,\n      }),\n    })\n\n    if (!response.ok) {\n      const error = await response.json()\n      throw new Error(error.message || 'Erreur lors de la création du prélèvement SEPA')\n    }\n\n    return response.json()\n  }\n\n  /**\n   * Vérifier le statut d'un paiement SEPA\n   */\n  async getPaymentStatus(paymentId: string): Promise<{\n    status: string\n    amount: number\n    currency: string\n    completed: boolean\n  }> {\n    const response = await fetch(`/api/payments/sepa/status/${paymentId}`)\n\n    if (!response.ok) {\n      const error = await response.json()\n      throw new Error(error.message || 'Erreur lors de la vérification du paiement SEPA')\n    }\n\n    return response.json()\n  }\n\n  /**\n   * Valider un IBAN\n   */\n  validateIBAN(iban: string): boolean {\n    // Supprimer les espaces\n    const cleanIban = iban.replace(/\\s/g, '').toUpperCase()\n\n    // Vérifier la longueur (entre 15 et 34 caractères)\n    if (cleanIban.length < 15 || cleanIban.length > 34) {\n      return false\n    }\n\n    // Vérifier le format (2 lettres + 2 chiffres + alphanumérique)\n    const ibanRegex = /^[A-Z]{2}\\d{2}[A-Z0-9]+$/\n    if (!ibanRegex.test(cleanIban)) {\n      return false\n    }\n\n    // TODO: Implémenter la validation complète de l'IBAN (modulo 97)\n    // Pour l'instant, on retourne true si le format est correct\n    return true\n  }\n\n  /**\n   * Valider un BIC\n   */\n  validateBIC(bic: string): boolean {\n    const cleanBic = bic.replace(/\\s/g, '').toUpperCase()\n\n    // BIC doit faire 8 ou 11 caractères\n    if (cleanBic.length !== 8 && cleanBic.length !== 11) {\n      return false\n    }\n\n    // Format: 4 lettres (banque) + 2 lettres (pays) + 2 caractères (localisation) + 3 caractères optionnels (succursale)\n    const bicRegex = /^[A-Z]{4}[A-Z]{2}[A-Z0-9]{2}([A-Z0-9]{3})?$/\n    return bicRegex.test(cleanBic)\n  }\n}\n"],"names":[],"mappings":"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","ignoreList":[0,1]}