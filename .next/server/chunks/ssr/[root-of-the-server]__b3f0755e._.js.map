{"version":3,"sources":["../../../../components/ui/glass-card.tsx","../../../../lib/hooks/use-auth.ts","../../../../components/ui/input.tsx","../../../../components/ui/label.tsx","../../../../node_modules/lucide-react/src/icons/mail.ts","../../../../node_modules/lucide-react/src/icons/shield.ts","../../../../node_modules/lucide-react/src/icons/arrow-right.ts","../../../../node_modules/lucide-react/src/icons/lock.ts","../../../../app/auth/login/page.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport { cn } from '@/lib/utils'\nimport { motion } from '@/components/ui/motion'\n\nexport interface GlassCardProps extends React.HTMLAttributes<HTMLDivElement> {\n  variant?: 'default' | 'premium' | 'subtle'\n  hoverable?: boolean\n  glow?: boolean\n  glowColor?: string\n}\n\nconst GlassCard = React.forwardRef<HTMLDivElement, GlassCardProps>(\n  ({ className, variant = 'default', hoverable = false, glow = false, glowColor = 'rgba(51, 90, 207, 0.3)', ...props }, ref) => {\n    return (\n      <motion.div\n        ref={ref}\n        className={cn(\n          'relative rounded-2xl border backdrop-blur-xl transition-all duration-300',\n          {\n            // Default variant\n            'bg-white/70 dark:bg-gray-900/70 border-white/20 dark:border-gray-700/30 shadow-lg': variant === 'default',\n            \n            // Premium variant with stronger glass effect\n            'bg-white/80 dark:bg-gray-900/80 border-white/30 dark:border-gray-700/40 shadow-xl': variant === 'premium',\n            \n            // Subtle variant\n            'bg-white/50 dark:bg-gray-900/50 border-white/10 dark:border-gray-700/20 shadow-md': variant === 'subtle',\n            \n            // Hoverable effects\n            'cursor-pointer': hoverable,\n            'hover:shadow-2xl hover:scale-[1.02]': hoverable,\n            'hover:bg-white/90 dark:hover:bg-gray-900/90': hoverable,\n          },\n          className\n        )}\n        whileHover={hoverable ? { scale: 1.02, y: -2 } : undefined}\n        transition={{ type: 'spring', stiffness: 300, damping: 30 }}\n        {...props}\n      >\n        {/* Glow effect */}\n        {glow && (\n          <motion.div\n            className=\"absolute inset-0 rounded-2xl opacity-0 blur-xl\"\n            style={{\n              background: `radial-gradient(circle, ${glowColor} 0%, transparent 70%)`,\n            }}\n            animate={{\n              opacity: [0, 0.5, 0],\n            }}\n            transition={{\n              duration: 3,\n              repeat: Infinity,\n              ease: 'easeInOut',\n            }}\n          />\n        )}\n        \n        {/* Content */}\n        <div className=\"relative z-10\">\n          {props.children}\n        </div>\n      </motion.div>\n    )\n  }\n)\nGlassCard.displayName = 'GlassCard'\n\nexport { GlassCard }\n","'use client'\n\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\nimport { useRouter } from 'next/navigation'\nimport { createClient } from '@/lib/supabase/client'\nimport { User } from '@supabase/supabase-js'\nimport { Database } from '@/types/database.types'\nimport { useEffect } from 'react'\nimport type { TableRow } from '@/lib/types/supabase-helpers'\nimport { logger } from '@/lib/utils/logger'\n\ntype UserRow = Database['public']['Tables']['users']['Row'] | null\ntype Organization = TableRow<'organizations'>\n\nexport function useAuth() {\n  const supabase = createClient()\n  const router = useRouter()\n  const queryClient = useQueryClient()\n\n  // Récupérer la session actuelle\n  const { data: session, isLoading: sessionLoading } = useQuery({\n    queryKey: ['session'],\n    queryFn: async () => {\n      try {\n        // Timeout de 3 secondes pour éviter les blocages\n        const timeoutPromise = new Promise<null>((_, reject) => {\n          setTimeout(() => reject(new Error('Session timeout')), 3000)\n        })\n\n        const sessionPromise = supabase.auth.getSession().then(({ data: { session }, error }) => {\n          if (error) {\n            logger.error('Session error', error as Error)\n            return null\n          }\n          return session\n        })\n\n        return await Promise.race([sessionPromise, timeoutPromise])\n      } catch (error) {\n        // En cas d'erreur ou de timeout, retourner null pour ne pas bloquer\n        return null\n      }\n    },\n    retry: false,\n    refetchOnWindowFocus: false,\n    refetchOnMount: false,\n    staleTime: 1000 * 60 * 5, // Cache pendant 5 minutes\n  })\n\n  // Récupérer l'utilisateur depuis la table users\n  const { data: user, isLoading: userLoading } = useQuery<UserRow>({\n    queryKey: ['user', session?.user?.id],\n    queryFn: async (): Promise<UserRow> => {\n      if (!session?.user?.id) {\n        return null\n      }\n      \n      try {\n        // Timeout de 3 secondes pour éviter les blocages\n        const timeoutPromise = new Promise<UserRow>((_, reject) => {\n          setTimeout(() => reject(new Error('User fetch timeout')), 3000)\n        })\n\n        const userPromise = supabase\n          .from('users')\n          .select('id, organization_id, email, full_name, phone, avatar_url, role, permissions, is_active, last_login_at, created_at, updated_at')\n          .eq('id', session.user.id)\n          .maybeSingle()\n          .then(async ({ data, error }) => {\n            if (error) {\n              // Si l'utilisateur n'existe pas, retourner null sans erreur\n              if (error.code === 'PGRST116' || error.message?.includes('No rows')) {\n                return null\n              }\n              return null\n            }\n\n            // Si l'utilisateur n'existe pas dans public.users mais qu'il y a une session,\n            // synchroniser automatiquement depuis auth.users\n            if (!data && session?.user?.id) {\n              logger.info('User not found in public.users, attempting to sync from auth.users...')\n              \n              try {\n                // Appeler la fonction RPC pour synchroniser\n                const { data: syncResult, error: syncError } = await supabase.rpc(\n                  'sync_user_from_auth',\n                  { user_id: session.user.id }\n                )\n\n                if (syncError) {\n                  logger.error('Error syncing user:', syncError)\n                  // Ne pas throw, on continue avec null pour éviter de bloquer l'app\n                } else if ((syncResult as any)?.success) {\n                  logger.info('User synced successfully, refetching...', { syncResult })\n                  \n                  // Attendre un peu pour s'assurer que l'utilisateur est disponible\n                  await new Promise(resolve => setTimeout(resolve, 100))\n                  \n                  // Refetch l'utilisateur après synchronisation\n                  const { data: syncedUser, error: refetchError } = await supabase\n                    .from('users')\n                    .select('id, organization_id, email, full_name, phone, avatar_url, role, permissions, is_active, last_login_at, created_at, updated_at')\n                    .eq('id', session.user.id)\n                    .maybeSingle()\n                  \n                  if (refetchError) {\n                    logger.error('Error refetching synced user:', refetchError)\n                    // Invalider le cache pour forcer un nouveau fetch\n                    queryClient.invalidateQueries({ queryKey: ['user', session.user.id] })\n                    return null\n                  } else if (syncedUser) {\n                    logger.info('Synced user retrieved successfully:', { id: syncedUser.id, email: syncedUser.email, hasOrg: !!syncedUser.organization_id })\n                    // Retourner l'utilisateur synchronisé - React Query mettra à jour le cache automatiquement\n                    return syncedUser\n                  } else {\n                    logger.warn('User sync succeeded but refetch returned null - invalidating cache and retrying...')\n                    // Si le refetch retourne null, invalider le cache et laisser React Query refetch\n                    queryClient.invalidateQueries({ queryKey: ['user', session.user.id] })\n                    return null\n                  }\n                }\n              } catch (syncException) {\n                logger.error('Exception during user sync:', syncException)\n              }\n              \n              // Si la synchronisation a échoué, retourner null\n              return null\n            }\n\n            if (!data) {\n              return null\n            }\n\n            // Vérifier que l'utilisateur a un organization_id\n            if (!data.organization_id) {\n              logger.warn('User exists but has no organization_id')\n            }\n\n            return data\n          })\n\n        return (await Promise.race([userPromise, timeoutPromise])) as UserRow\n      } catch (err) {\n        // En cas d'erreur ou de timeout, retourner null pour ne pas bloquer\n        return null\n      }\n    },\n    enabled: !!session?.user?.id && !sessionLoading,\n    retry: false,\n    refetchOnWindowFocus: false,\n    refetchOnMount: false,\n    staleTime: 1000 * 60 * 5, // Cache pendant 5 minutes\n  })\n\n  // Connexion\n  const loginMutation = useMutation({\n    mutationFn: async ({ email, password }: { email: string; password: string }) => {\n      const { data, error } = await supabase.auth.signInWithPassword({\n        email,\n        password,\n      })\n      if (error) throw error\n      return data\n    },\n    onSuccess: async () => {\n      // Invalider les queries pour forcer le rechargement\n      queryClient.invalidateQueries({ queryKey: ['session'] })\n      queryClient.invalidateQueries({ queryKey: ['user'] })\n      \n      // Attendre un peu pour que la session soit mise à jour\n      await new Promise(resolve => setTimeout(resolve, 300))\n      \n      // Rediriger vers le dashboard (le dashboard détectera automatiquement le rôle)\n      router.push('/dashboard')\n    },\n  })\n\n  // Inscription\n  const registerMutation = useMutation({\n    mutationFn: async ({\n      email,\n      password,\n      fullName,\n      organizationName,\n    }: {\n      email: string\n      password: string\n      fullName: string\n      organizationName: string\n    }) => {\n      // 1. Créer l'utilisateur dans auth\n      const { data: authData, error: authError } = await supabase.auth.signUp({\n        email,\n        password,\n      })\n      if (authError) {\n        logger.error('Auth signup error', new Error(authError.message), {\n          status: authError.status,\n        })\n        \n        // Gérer l'erreur de rate limiting\n        if (authError.status === 429 || authError.message?.includes('2 seconds')) {\n          throw new Error('Trop de tentatives. Veuillez attendre quelques secondes avant de réessayer.')\n        }\n        \n        throw new Error(authError.message || 'Erreur lors de la création du compte')\n      }\n      if (!authData.user) throw new Error('Erreur lors de la création du compte')\n\n      // Avec Supabase, signUp peut retourner null pour la session si l'email nécessite une confirmation\n      // On essaie de récupérer la session de plusieurs façons\n      let currentSession = authData.session\n      \n      // Si pas de session immédiatement, attendre un peu et réessayer\n      if (!currentSession) {\n        await new Promise(resolve => setTimeout(resolve, 1000))\n        \n        // Essayer de récupérer la session\n        const { data: { session: newSession } } = await supabase.auth.getSession()\n        currentSession = newSession\n      }\n\n      // Si toujours pas de session, essayer refreshSession\n      if (!currentSession && authData.user) {\n        const { data: { session: refreshedSession } } = await supabase.auth.refreshSession()\n        currentSession = refreshedSession\n      }\n\n      // Si toujours pas de session, attendre encore et réessayer\n      if (!currentSession) {\n        await new Promise(resolve => setTimeout(resolve, 2000))\n        \n        const { data: { session: retrySession } } = await supabase.auth.getSession()\n        if (retrySession) {\n          currentSession = retrySession\n        }\n      }\n\n      // Si toujours pas de session, mais qu'on a un user, on continue quand même\n      // (certaines configurations Supabase nécessitent une confirmation email)\n      if (!currentSession && !authData.user) {\n        throw new Error('Erreur : la session n\\'a pas pu être établie. Vérifiez votre email pour confirmer votre compte si nécessaire.')\n      }\n\n      // Utiliser l'ID utilisateur (de la session ou de authData)\n      const userId = currentSession?.user?.id || authData.user.id\n\n      // 2. Créer l'organisation en utilisant la fonction SQL (bypass RLS)\n      const orgCode = organizationName.toUpperCase().replace(/\\s+/g, '').slice(0, 6)\n      \n      // Essayer d'abord avec la fonction SQL (si elle existe)\n      let orgId: string | null = null\n      let funcError: any = null\n      \n      // Utiliser userId au lieu de vérifier la session (on a déjà userId ci-dessus)\n      if (!userId) {\n        throw new Error('Erreur : impossible d\\'obtenir l\\'ID utilisateur')\n      }\n      \n      // Essayer d'abord avec la fonction SQL\n      try {\n        // Appeler la fonction avec user_id en paramètre pour contourner le problème de session\n        const { data: funcResult, error: rpcError } = await supabase.rpc(\n          'create_organization_for_user',\n          {\n            org_name: organizationName,\n            org_code: orgCode,\n            org_type: 'primary',\n            org_country: 'SN',\n            org_currency: 'XOF',\n            org_language: 'fr',\n            org_timezone: 'Africa/Dakar',\n            user_id: userId,\n          }\n        )\n        \n        if (rpcError) {\n          funcError = rpcError\n          \n          // Si l'erreur est \"User must be authenticated\", essayer sans user_id\n          if (rpcError.code === 'P0001' && rpcError.message?.includes('User must be authenticated')) {\n            const retryResult = await supabase.rpc(\n              'create_organization_for_user',\n              {\n                org_name: organizationName,\n                org_code: orgCode,\n                org_type: 'primary',\n                org_country: 'SN',\n                org_currency: 'XOF',\n                org_language: 'fr',\n                org_timezone: 'Africa/Dakar',\n              }\n            )\n            \n            if (retryResult.error) {\n              funcError = retryResult.error\n            } else if (retryResult.data) {\n              orgId = retryResult.data as string\n            }\n          }\n        } else if (funcResult) {\n          orgId = funcResult as string\n        }\n      } catch (funcErr) {\n        funcError = funcErr\n      }\n\n      // Si la fonction n'a pas fonctionné, essayer l'insertion directe\n      let org: any = null\n      if (!orgId) {\n        const { data: orgData, error: orgError } = await supabase\n        .from('organizations')\n        .insert({\n            name: organizationName,\n            code: orgCode,\n            type: 'primary' as const,\n            country: 'SN',\n            currency: 'XOF',\n            language: 'fr',\n            timezone: 'Africa/Dakar',\n            subscription_tier: 'free' as const,\n            subscription_status: 'active' as const,\n            settings: {} as Organization['settings'],\n          })\n          .select('id, name, code')\n          .single()\n\n        if (orgError) {\n          console.error('Organization creation error:', orgError)\n          console.error('Error details:', {\n            code: orgError.code,\n            message: orgError.message,\n            details: orgError.details,\n            hint: orgError.hint,\n          })\n          \n          // Si c'est une erreur RLS, donner des instructions plus claires\n          if (orgError.code === '42501') {\n            throw new Error(\n              'Erreur de sécurité (RLS) : Impossible de créer l\\'organisation. ' +\n              'Les politiques RLS bloquent la création. ' +\n              'INSTRUCTIONS : ' +\n              '1. Exécutez le script supabase/create_organization_function.sql dans Supabase SQL Editor ' +\n              '2. OU exécutez le script supabase/fix_rls_urgent.sql pour corriger les politiques RLS ' +\n              '3. Attendez quelques secondes puis réessayez'\n            )\n          }\n          \n          throw new Error(`Impossible de créer l'organisation : ${orgError.message}`)\n        }\n        \n        org = orgData\n        orgId = orgData?.id\n      } else {\n        // L'organisation a été créée par la fonction SQL, on utilise directement orgId\n        // Pas besoin de récupérer l'organisation car RLS peut bloquer\n        // On créera un objet minimal avec les données qu'on a\n        org = {\n          id: orgId,\n          name: organizationName,\n          code: orgCode,\n        }\n      }\n\n      if (!orgId) {\n        throw new Error('Erreur : l\\'organisation n\\'a pas été créée correctement')\n      }\n      \n      // Utiliser orgId au lieu de org.id\n      const finalOrgId = orgId || org?.id\n      if (!finalOrgId) {\n        throw new Error('Erreur : impossible d\\'obtenir l\\'ID de l\\'organisation')\n      }\n\n      // 3. Créer l'utilisateur dans la table users en utilisant une fonction SQL (bypass RLS)\n      let createdUser: any = null\n      let userError: any = null\n      \n      try {\n        // Essayer d'abord avec la fonction SQL\n        const { data: createdUserId, error: rpcUserError } = await (supabase.rpc as any)(\n          'create_user_for_organization',\n          {\n            user_id: userId,\n            user_email: email,\n            user_full_name: fullName,\n            organization_id: finalOrgId,\n          }\n        )\n        \n        if (rpcUserError) {\n          userError = rpcUserError\n          \n          // Si la fonction n'existe pas, essayer l'insertion directe\n          if (rpcUserError.code === '42883') {\n            \n            const { data: userData, error: directUserError } = await supabase\n              .from('users')\n              .insert({\n                id: userId,\n                organization_id: finalOrgId,\n                email,\n                full_name: fullName,\n                role: 'admin',\n                is_active: true,\n              })\n              .select('id, organization_id, email, full_name, role')\n        .single()\n\n            if (directUserError) {\n              userError = directUserError\n            } else {\n              createdUser = userData\n            }\n          }\n        } else if (createdUserId) {\n          // L'utilisateur a été créé, créer un objet minimal\n          createdUser = {\n            id: createdUserId,\n            organization_id: finalOrgId,\n            email,\n            full_name: fullName,\n            role: 'admin',\n          }\n        }\n      } catch (userErr) {\n        userError = userErr\n      }\n\n      if (userError) {\n        // Si l'erreur est RLS, donner des instructions\n        if (userError.code === '42501') {\n          throw new Error(\n            'Erreur RLS lors de la création de l\\'utilisateur. ' +\n            'Exécutez le script supabase/create_user_function.sql dans Supabase SQL Editor, ' +\n            'ou utilisez supabase/fix_existing_user.sql pour créer l\\'utilisateur manuellement.'\n          )\n        }\n        \n        throw userError\n      }\n\n      if (!createdUser) {\n        throw new Error('Erreur : l\\'utilisateur n\\'a pas été créé')\n      }\n\n      if (!createdUser?.organization_id) {\n        throw new Error('Erreur : l\\'utilisateur n\\'a pas d\\'organization_id')\n      }\n\n      // 4. Invalider les queries pour forcer le rechargement\n      queryClient.invalidateQueries({ queryKey: ['user', userId] })\n      queryClient.invalidateQueries({ queryKey: ['session'] })\n\n      // Si on n'a pas de session, attendre un peu et réessayer une dernière fois\n      if (!currentSession) {\n        await new Promise(resolve => setTimeout(resolve, 1000))\n        const { data: { session: finalSession } } = await supabase.auth.getSession()\n        if (finalSession) {\n          return { ...authData, session: finalSession }\n        }\n      }\n\n      return authData\n    },\n    onSuccess: async (authData) => {\n      // Attendre un peu pour que la session soit mise à jour\n      await new Promise(resolve => setTimeout(resolve, 1500))\n      \n      // Vérifier que la session existe avant de rediriger\n      const supabase = createClient()\n      const { data: { session } } = await supabase.auth.getSession()\n      \n      queryClient.invalidateQueries({ queryKey: ['session'] })\n      if (authData.user) {\n        queryClient.invalidateQueries({ queryKey: ['user', authData.user.id] })\n      }\n      \n      if (session) {\n        router.push('/dashboard')\n      } else {\n        // Si pas de session, peut-être que l'email nécessite une confirmation\n        router.push('/auth/login?message=confirm-email')\n      }\n    },\n  })\n\n  // Déconnexion\n  const logoutMutation = useMutation({\n    mutationFn: async () => {\n      const { error } = await supabase.auth.signOut()\n      if (error) throw error\n    },\n    onSuccess: () => {\n      queryClient.clear()\n      router.push('/')\n    },\n  })\n\n  // Écouter les changements de session\n  useEffect(() => {\n    const {\n      data: { subscription },\n    } = supabase.auth.onAuthStateChange((_event, session) => {\n      queryClient.setQueryData(['session'], session)\n      if (!session) {\n        queryClient.clear()\n      }\n    })\n\n    return () => subscription.unsubscribe()\n  }, [supabase, queryClient])\n\n  const isLoading = sessionLoading || userLoading\n\n  return {\n    session,\n    user,\n    isLoading,\n    isAuthenticated: !!session,\n    login: loginMutation.mutate,\n    register: registerMutation.mutate,\n    logout: logoutMutation.mutate,\n    isLoggingIn: loginMutation.isPending,\n    isRegistering: registerMutation.isPending,\n    isLoggingOut: logoutMutation.isPending,\n    loginError: loginMutation.error,\n    registerError: registerMutation.error,\n  }\n}\n\n","'use client'\n\nimport * as React from 'react'\nimport { cn } from '@/lib/utils'\nimport { motion, AnimatePresence } from '@/components/ui/motion'\nimport { AlertCircle, CheckCircle2 } from 'lucide-react'\n\n// Compteur global pour générer des IDs uniques et stables\nlet inputIdCounter = 0\n\nexport interface InputProps\n  extends React.InputHTMLAttributes<HTMLInputElement> {\n  label?: string\n  error?: string\n  helperText?: string\n  variant?: 'default' | 'outlined' | 'filled'\n  leftIcon?: React.ReactNode\n  rightIcon?: React.ReactNode\n}\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ \n    className, \n    label, \n    error, \n    helperText,\n    variant = 'default',\n    leftIcon,\n    rightIcon,\n    id,\n    ...props \n  }, ref) => {\n    const [isFocused, setIsFocused] = React.useState(false)\n    const [hasValue, setHasValue] = React.useState(!!props.value || !!props.defaultValue)\n    // Utiliser useId() pour un ID stable entre SSR et client (React 18+)\n    // Fallback vers un compteur si useId n'est pas disponible\n    const reactId = React.useId?.() || null\n    const inputId = id || reactId || `input-${++inputIdCounter}`\n    \n    React.useEffect(() => {\n      if (props.value !== undefined) {\n        setHasValue(!!props.value)\n      }\n    }, [props.value])\n\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n      setHasValue(!!e.target.value)\n      props.onChange?.(e)\n    }\n\n    const baseStyles = cn(\n      'flex w-full rounded-lg font-medium transition-all duration-300',\n      'placeholder:text-muted-foreground/60',\n      'focus:outline-none focus:ring-2 focus:ring-primary/20',\n      'disabled:cursor-not-allowed disabled:opacity-50',\n      {\n        // Default variant\n        'border-2 border-input bg-background px-4 py-3': variant === 'default',\n        'focus:border-primary focus:bg-white': variant === 'default' && !error,\n        'border-destructive focus:border-destructive focus:ring-destructive/20': error,\n        \n        // Outlined variant\n        'border-2 border-input bg-transparent px-4 py-3': variant === 'outlined',\n        'focus:border-primary focus:shadow-md focus:shadow-primary/10': variant === 'outlined' && !error,\n        \n        // Filled variant\n        'border-0 border-b-2 border-input bg-muted/50 px-4 py-3 rounded-b-none': variant === 'filled',\n        'focus:bg-muted focus:border-primary': variant === 'filled' && !error,\n        'focus:border-destructive bg-destructive/5': variant === 'filled' && error,\n      },\n      leftIcon && 'pl-11',\n      rightIcon && 'pr-11',\n      error && 'pr-11',\n      className\n    )\n\n    return (\n      <div className=\"w-full space-y-1.5\">\n        {label && (\n          <motion.label\n            htmlFor={inputId}\n            initial={false}\n            animate={{\n              color: error ? '#EF4444' : isFocused ? 'rgb(37, 99, 235)' : 'rgb(107, 114, 128)',\n            }}\n            className={cn(\n              'block text-sm font-medium transition-colors duration-200',\n              error && 'text-destructive'\n            )}\n          >\n            {label}\n            {props.required && <span className=\"text-destructive ml-1\">*</span>}\n          </motion.label>\n        )}\n        \n        <div className=\"relative\">\n          {/* Left Icon */}\n          {leftIcon && (\n            <div className=\"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground pointer-events-none\">\n              {leftIcon}\n            </div>\n          )}\n          \n          {/* Input */}\n          <motion.input\n            ref={ref}\n            id={inputId}\n            {...props}\n            onChange={handleChange}\n            onFocus={(e) => {\n              setIsFocused(true)\n              props.onFocus?.(e)\n            }}\n            onBlur={(e) => {\n              setIsFocused(false)\n              props.onBlur?.(e)\n            }}\n            className={baseStyles}\n            animate={{\n              scale: isFocused ? 1.01 : 1,\n              borderColor: error \n                ? '#EF4444' \n                : isFocused \n                  ? 'rgb(37, 99, 235)' \n                  : 'rgb(226, 232, 240)',\n            }}\n            transition={{ duration: 0.2 }}\n          />\n          \n          {/* Right Icon / Status */}\n          <div className=\"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none\">\n            {error ? (\n              <motion.div\n                initial={{ scale: 0, opacity: 0 }}\n                animate={{ scale: 1, opacity: 1 }}\n                transition={{ type: \"spring\", stiffness: 500, damping: 30 }}\n              >\n                <AlertCircle className=\"h-5 w-5 text-destructive\" />\n              </motion.div>\n            ) : rightIcon ? (\n              <div className=\"text-muted-foreground\">\n                {rightIcon}\n              </div>\n            ) : hasValue && !error && variant === 'filled' ? (\n              <motion.div\n                initial={{ scale: 0, opacity: 0 }}\n                animate={{ scale: 1, opacity: 1 }}\n                transition={{ type: \"spring\", stiffness: 500, damping: 30 }}\n              >\n                <CheckCircle2 className=\"h-5 w-5 text-success\" />\n              </motion.div>\n            ) : null}\n          </div>\n        </div>\n        \n        {/* Helper Text / Error Message */}\n        <AnimatePresence mode=\"wait\">\n          {(error || helperText) && (\n            <motion.p\n              initial={{ opacity: 0, y: -5 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -5 }}\n              transition={{ duration: 0.2 }}\n              className={cn(\n                'text-xs transition-colors duration-200',\n                error ? 'text-destructive' : 'text-muted-foreground'\n              )}\n            >\n              {error || helperText}\n            </motion.p>\n          )}\n        </AnimatePresence>\n      </div>\n    )\n  }\n)\nInput.displayName = 'Input'\n\nexport { Input }\n","import * as React from 'react'\nimport { cn } from '@/lib/utils'\n\nexport interface LabelProps extends React.LabelHTMLAttributes<HTMLLabelElement> {}\n\nexport const Label = React.forwardRef<HTMLLabelElement, LabelProps>(\n  ({ className, ...props }, ref) => {\n    return (\n      <label\n        ref={ref}\n        className={cn(\n          'text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-text-primary',\n          className\n        )}\n        {...props}\n      />\n    )\n  }\n)\nLabel.displayName = 'Label'\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Mail\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHg9IjIiIHk9IjQiIHJ4PSIyIiAvPgogIDxwYXRoIGQ9Im0yMiA3LTguOTcgNS43YTEuOTQgMS45NCAwIDAgMS0yLjA2IDBMMiA3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/mail\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Mail = createLucideIcon('Mail', [\n  ['rect', { width: '20', height: '16', x: '2', y: '4', rx: '2', key: '18n3k1' }],\n  ['path', { d: 'm22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7', key: '1ocrg3' }],\n]);\n\nexport default Mail;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Shield\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgMjJzOC00IDgtMTBWNWwtOC0zLTggM3Y3YzAgNiA4IDEwIDggMTAiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/shield\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Shield = createLucideIcon('Shield', [\n  ['path', { d: 'M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10', key: '1irkt0' }],\n]);\n\nexport default Shield;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ArrowRight\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJtMTIgNSA3IDctNyA3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/arrow-right\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowRight = createLucideIcon('ArrowRight', [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'm12 5 7 7-7 7', key: 'xquz4c' }],\n]);\n\nexport default ArrowRight;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Lock\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTEiIHg9IjMiIHk9IjExIiByeD0iMiIgcnk9IjIiIC8+CiAgPHBhdGggZD0iTTcgMTFWN2E1IDUgMCAwIDEgMTAgMHY0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/lock\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Lock = createLucideIcon('Lock', [\n  ['rect', { width: '18', height: '11', x: '3', y: '11', rx: '2', ry: '2', key: '1w4ew1' }],\n  ['path', { d: 'M7 11V7a5 5 0 0 1 10 0v4', key: 'fwvmzm' }],\n]);\n\nexport default Lock;\n","'use client'\n\nimport { useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport Link from 'next/link'\nimport { useAuth } from '@/lib/hooks/use-auth'\nimport { createClient } from '@/lib/supabase/client'\nimport { twoFactorAuthService } from '@/lib/services/2fa.service'\nimport { Button } from '@/components/ui/button'\nimport { GlassCard } from '@/components/ui/glass-card'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { Shield, Key, Mail, Lock, ArrowRight, CheckCircle2 } from 'lucide-react'\nimport { motion, AnimatePresence, useScroll, useTransform } from 'framer-motion'\nimport { cn } from '@/lib/utils'\n\n// Composant pour les formes 3D flottantes\nfunction FloatingShape({ \n  className, \n  delay = 0, \n  duration = 20,\n  initialX = 0,\n  initialY = 0\n}: { \n  className?: string\n  delay?: number \n  duration?: number\n  initialX?: number\n  initialY?: number\n}) {\n  return (\n    <motion.div\n      className={cn(\"absolute pointer-events-none opacity-40 blur-xl\", className)}\n      initial={{ x: initialX, y: initialY }}\n      animate={{ \n        x: [initialX, initialX + 50, initialX - 30, initialX],\n        y: [initialY, initialY - 60, initialY + 40, initialY],\n        rotate: [0, 180, 360],\n        scale: [1, 1.1, 0.9, 1]\n      }}\n      transition={{ \n        duration, \n        repeat: Infinity, \n        ease: \"linear\",\n        delay \n      }}\n    />\n  )\n}\n\n// Scène 3D simplifiée avec CSS\nfunction Background3D() {\n  return (\n    <div className=\"absolute inset-0 overflow-hidden perspective-1000\">\n      {/* Grille de fond en perspective */}\n      <div \n        className=\"absolute inset-0 opacity-20\"\n        style={{\n          backgroundImage: 'linear-gradient(rgba(59, 130, 246, 0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(59, 130, 246, 0.1) 1px, transparent 1px)',\n          backgroundSize: '50px 50px',\n          transform: 'rotateX(60deg) scale(2)',\n          transformOrigin: 'center 0',\n        }}\n      />\n\n      {/* Formes flottantes \"3D\" */}\n      {/* Sphère Bleue */}\n      <FloatingShape \n        className=\"top-[10%] left-[10%] w-64 h-64 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 mix-blend-multiply filter blur-3xl opacity-30\" \n        duration={25} \n        initialX={-50} \n        initialY={-50} \n      />\n      \n      {/* Cube Violet (Simulé) */}\n      <FloatingShape \n        className=\"top-[40%] right-[10%] w-72 h-72 rounded-3xl bg-gradient-to-tr from-purple-400 to-pink-600 mix-blend-multiply filter blur-3xl opacity-30\" \n        delay={2} \n        duration={30} \n        initialX={50} \n        initialY={0} \n      />\n      \n      {/* Forme Cyan */}\n      <FloatingShape \n        className=\"bottom-[10%] left-[30%] w-96 h-96 rounded-full bg-gradient-to-t from-cyan-300 to-teal-500 mix-blend-multiply filter blur-3xl opacity-30\" \n        delay={5} \n        duration={35} \n        initialX={0} \n        initialY={50} \n      />\n\n      {/* Éléments géométriques nets pour effet de profondeur */}\n      <motion.div \n        className=\"absolute top-[20%] right-[20%] w-20 h-20 border-4 border-blue-200/20 rounded-2xl rotate-45\"\n        animate={{ \n          rotate: [45, 225],\n          y: [0, -20, 0]\n        }}\n        transition={{ duration: 20, repeat: Infinity, ease: \"linear\" }}\n      />\n      <motion.div \n        className=\"absolute bottom-[20%] left-[15%] w-16 h-16 border-4 border-purple-200/20 rounded-full\"\n        animate={{ \n          scale: [1, 1.2, 1],\n          x: [0, 20, 0]\n        }}\n        transition={{ duration: 15, repeat: Infinity, ease: \"easeInOut\" }}\n      />\n    </div>\n  )\n}\n\nexport default function LoginPage() {\n  const router = useRouter()\n  const { login, isLoggingIn, loginError } = useAuth()\n  const supabase = createClient()\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [error, setError] = useState<string | null>(null)\n  const [step, setStep] = useState<'login' | '2fa'>('login')\n  const [userId, setUserId] = useState<string | null>(null)\n  const [twoFactorCode, setTwoFactorCode] = useState('')\n  const [isVerifying2FA, setIsVerifying2FA] = useState(false)\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setError(null)\n\n    try {\n      // Connexion initiale\n      const { data: authData, error: authError } = await supabase.auth.signInWithPassword({\n        email,\n        password,\n      })\n\n      if (authError) {\n        setError(authError.message)\n        return\n      }\n\n      if (!authData.user) {\n        setError('Erreur de connexion')\n        return\n      }\n\n      // Vérifier si l'utilisateur a la 2FA activée\n      const config = await twoFactorAuthService.getConfig(authData.user.id)\n\n      if (config?.is_enabled) {\n        // Nécessite une vérification 2FA\n        setUserId(authData.user.id)\n        setStep('2fa')\n        // Déconnecter temporairement jusqu'à la vérification 2FA\n        await supabase.auth.signOut()\n      } else {\n        // Pas de 2FA, connexion normale\n        login({ email, password })\n      }\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Une erreur est survenue')\n    }\n  }\n\n  const handle2FAVerify = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setError(null)\n    setIsVerifying2FA(true)\n\n    try {\n      if (!userId || !twoFactorCode) {\n        setError('Code requis')\n        return\n      }\n\n      // Vérifier le code 2FA\n      const response = await fetch('/api/2fa/verify', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          userId,\n          code: twoFactorCode,\n        }),\n      })\n\n      const data = await response.json()\n\n      if (!data.success) {\n        setError(data.error || 'Code invalide')\n        return\n      }\n\n      // Reconnexion avec le sessionToken 2FA\n      const { error: signInError } = await supabase.auth.signInWithPassword({\n        email,\n        password,\n      })\n\n      if (signInError) {\n        setError('Erreur de connexion après vérification 2FA')\n        return\n      }\n\n      // Stocker le sessionToken 2FA dans les cookies\n      document.cookie = `2fa_session=${data.sessionToken}; path=/; max-age=1800` // 30 minutes\n\n      // Attendre un peu pour que la session soit mise à jour\n      await new Promise(resolve => setTimeout(resolve, 300))\n      \n      // Rediriger vers le dashboard (le dashboard détectera automatiquement le rôle)\n      router.push('/dashboard')\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Une erreur est survenue')\n    } finally {\n      setIsVerifying2FA(false)\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center relative overflow-hidden bg-gray-50/50\">\n      {/* 3D Background */}\n      <Background3D />\n\n      <div className=\"w-full max-w-md px-4 relative z-10\">\n        <AnimatePresence mode=\"wait\">\n          {step === 'login' ? (\n            <motion.div\n              key=\"login\"\n              initial={{ opacity: 0, y: 20, scale: 0.95 }}\n              animate={{ opacity: 1, y: 0, scale: 1 }}\n              exit={{ opacity: 0, y: -20, scale: 0.95 }}\n              transition={{ duration: 0.4, ease: [0.16, 1, 0.3, 1] }}\n            >\n              <GlassCard variant=\"premium\" className=\"p-8 border-2 border-white/60 shadow-2xl backdrop-blur-2xl bg-white/40\">\n                <div className=\"text-center mb-8\">\n                  <motion.div \n                    initial={{ scale: 0 }}\n                    animate={{ scale: 1 }}\n                    transition={{ type: \"spring\", stiffness: 300, damping: 20, delay: 0.1 }}\n                    className=\"w-16 h-16 bg-gradient-to-br from-brand-blue to-brand-cyan rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg shadow-brand-blue/20 rotate-3 transform perspective-500 hover:rotate-6 transition-transform duration-500\"\n                  >\n                    <Shield className=\"h-8 w-8 text-white drop-shadow-md\" />\n                  </motion.div>\n                  <motion.h1 \n                    initial={{ opacity: 0, y: 10 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    transition={{ delay: 0.2 }}\n                    className=\"text-3xl font-display font-bold text-gray-900 tracking-tight mb-2\"\n                  >\n                    Bon retour\n                  </motion.h1>\n                  <motion.p \n                    initial={{ opacity: 0, y: 10 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    transition={{ delay: 0.3 }}\n                    className=\"text-gray-600 font-medium\"\n                  >\n                    Connectez-vous à votre espace EduZen\n                  </motion.p>\n                </div>\n\n                <form onSubmit={handleSubmit} className=\"space-y-5\">\n                  <motion.div \n                    initial={{ opacity: 0, x: -20 }}\n                    animate={{ opacity: 1, x: 0 }}\n                    transition={{ delay: 0.4 }}\n                    className=\"space-y-2\"\n                  >\n                    <Label htmlFor=\"email\" className=\"text-gray-700 font-bold ml-1 text-xs uppercase tracking-wider\">Email</Label>\n                    <div className=\"relative group\">\n                      <Mail className=\"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400 group-focus-within:text-brand-blue transition-colors\" />\n                      <Input\n                        id=\"email\"\n                        type=\"email\"\n                        value={email}\n                        onChange={(e) => setEmail(e.target.value)}\n                        required\n                        className=\"pl-10 h-12 bg-white/60 border-gray-200 focus:bg-white focus:border-brand-blue/30 focus:ring-4 focus:ring-brand-blue/10 transition-all rounded-xl shadow-sm\"\n                        placeholder=\"votre@email.com\"\n                        autoComplete=\"email\"\n                      />\n                    </div>\n                  </motion.div>\n\n                  <motion.div \n                    initial={{ opacity: 0, x: -20 }}\n                    animate={{ opacity: 1, x: 0 }}\n                    transition={{ delay: 0.5 }}\n                    className=\"space-y-2\"\n                  >\n                    <div className=\"flex justify-between items-center\">\n                      <Label htmlFor=\"password\" className=\"text-gray-700 font-bold ml-1 text-xs uppercase tracking-wider\">Mot de passe</Label>\n                      <Link \n                        href=\"/auth/forgot-password\" \n                        className=\"text-xs font-semibold text-brand-blue hover:text-brand-blue-dark hover:underline transition-colors\"\n                      >\n                        Mot de passe oublié ?\n                      </Link>\n                    </div>\n                    <div className=\"relative group\">\n                      <Lock className=\"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400 group-focus-within:text-brand-blue transition-colors\" />\n                      <Input\n                        id=\"password\"\n                        type=\"password\"\n                        value={password}\n                        onChange={(e) => setPassword(e.target.value)}\n                        required\n                        className=\"pl-10 h-12 bg-white/60 border-gray-200 focus:bg-white focus:border-brand-blue/30 focus:ring-4 focus:ring-brand-blue/10 transition-all rounded-xl shadow-sm\"\n                        placeholder=\"••••••••\"\n                        autoComplete=\"current-password\"\n                      />\n                    </div>\n                  </motion.div>\n\n                  <AnimatePresence>\n                    {(error || loginError) && (\n                      <motion.div\n                        initial={{ opacity: 0, height: 0 }}\n                        animate={{ opacity: 1, height: 'auto' }}\n                        exit={{ opacity: 0, height: 0 }}\n                        className=\"bg-red-50/50 border border-red-100 text-red-600 px-4 py-3 rounded-xl text-sm flex items-start gap-2 shadow-sm\"\n                      >\n                        <Shield className=\"h-4 w-4 mt-0.5 flex-shrink-0\" />\n                        <p className=\"font-medium\">{error || (loginError instanceof Error ? loginError.message : 'Une erreur est survenue')}</p>\n                      </motion.div>\n                    )}\n                  </AnimatePresence>\n\n                  <motion.div\n                    initial={{ opacity: 0, y: 20 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    transition={{ delay: 0.6 }}\n                  >\n                    <Button\n                      type=\"submit\"\n                      className=\"w-full h-12 bg-gradient-to-r from-brand-blue to-brand-cyan hover:from-brand-blue-dark hover:to-brand-cyan-dark text-white shadow-lg shadow-brand-blue/25 hover:shadow-xl hover:shadow-brand-blue/30 transition-all duration-300 rounded-xl font-bold text-base transform hover:-translate-y-0.5\"\n                      disabled={isLoggingIn}\n                    >\n                      {isLoggingIn ? (\n                        <div className=\"flex items-center gap-2\">\n                          <div className=\"h-4 w-4 border-2 border-white/30 border-t-white rounded-full animate-spin\" />\n                          <span>Connexion...</span>\n                        </div>\n                      ) : (\n                        <div className=\"flex items-center gap-2\">\n                          <span>Se connecter</span>\n                          <ArrowRight className=\"h-4 w-4\" />\n                        </div>\n                      )}\n                    </Button>\n                  </motion.div>\n                </form>\n\n                <motion.div \n                  initial={{ opacity: 0 }}\n                  animate={{ opacity: 1 }}\n                  transition={{ delay: 0.7 }}\n                  className=\"mt-8 text-center\"\n                >\n                  <p className=\"text-gray-500 text-sm font-medium\">\n                    Pas encore de compte ?{' '}\n                    <Link href=\"/auth/register\" className=\"text-brand-blue font-bold hover:text-brand-blue-dark hover:underline transition-colors\">\n                      Créer un compte\n                    </Link>\n                  </p>\n                </motion.div>\n              </GlassCard>\n            </motion.div>\n          ) : (\n            <motion.div\n              key=\"2fa\"\n              initial={{ opacity: 0, y: 20, scale: 0.95 }}\n              animate={{ opacity: 1, y: 0, scale: 1 }}\n              exit={{ opacity: 0, y: -20, scale: 0.95 }}\n              transition={{ duration: 0.4, ease: [0.16, 1, 0.3, 1] }}\n            >\n              <GlassCard variant=\"premium\" className=\"p-8 border-2 border-white/60 shadow-2xl backdrop-blur-2xl bg-white/40\">\n                <div className=\"text-center mb-8\">\n                  <motion.div \n                    initial={{ scale: 0 }}\n                    animate={{ scale: 1 }}\n                    transition={{ type: \"spring\", stiffness: 300, damping: 20 }}\n                    className=\"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg shadow-purple-500/20 rotate-3\"\n                  >\n                    <Shield className=\"h-8 w-8 text-white drop-shadow-md\" />\n                  </motion.div>\n                  <h2 className=\"text-2xl font-display font-bold text-gray-900 tracking-tight mb-2\">Vérification 2FA</h2>\n                  <p className=\"text-gray-600 font-medium\">\n                    Entrez le code à 6 chiffres de votre application d'authentification\n                  </p>\n                </div>\n\n                <form onSubmit={handle2FAVerify} className=\"space-y-6\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"2fa-code\" className=\"sr-only\">Code d'authentification</Label>\n                    <div className=\"relative\">\n                      <Input\n                        id=\"2fa-code\"\n                        type=\"text\"\n                        inputMode=\"numeric\"\n                        maxLength={6}\n                        value={twoFactorCode}\n                        onChange={(e) => setTwoFactorCode(e.target.value.replace(/\\D/g, ''))}\n                        placeholder=\"000000\"\n                        className=\"h-16 font-mono text-center text-3xl tracking-[0.5em] bg-white/60 border-gray-200 focus:bg-white focus:border-purple-500/30 focus:ring-4 focus:ring-purple-500/10 transition-all rounded-xl shadow-inner\"\n                        autoFocus\n                      />\n                    </div>\n                    <p className=\"text-xs text-center text-gray-500 font-medium\">\n                      Vous pouvez également utiliser un code de récupération si vous avez perdu l'accès à votre application.\n                    </p>\n                  </div>\n\n                  <AnimatePresence>\n                    {error && (\n                      <motion.div\n                        initial={{ opacity: 0, height: 0 }}\n                        animate={{ opacity: 1, height: 'auto' }}\n                        exit={{ opacity: 0, height: 0 }}\n                        className=\"bg-red-50/50 border border-red-100 text-red-600 px-4 py-3 rounded-xl text-sm flex items-center justify-center gap-2 shadow-sm\"\n                      >\n                        <Shield className=\"h-4 w-4\" />\n                        <p className=\"font-medium\">{error}</p>\n                      </motion.div>\n                    )}\n                  </AnimatePresence>\n\n                  <div className=\"space-y-3\">\n                    <Button\n                      type=\"submit\"\n                      className=\"w-full h-12 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white shadow-lg shadow-purple-500/25 hover:shadow-xl hover:shadow-purple-500/30 transition-all duration-300 rounded-xl font-bold text-base transform hover:-translate-y-0.5\"\n                      disabled={isVerifying2FA || twoFactorCode.length !== 6}\n                    >\n                      {isVerifying2FA ? (\n                        <div className=\"flex items-center gap-2\">\n                          <div className=\"h-4 w-4 border-2 border-white/30 border-t-white rounded-full animate-spin\" />\n                          <span>Vérification...</span>\n                        </div>\n                      ) : (\n                        <div className=\"flex items-center gap-2\">\n                          <CheckCircle2 className=\"h-5 w-5\" />\n                          <span>Vérifier</span>\n                        </div>\n                      )}\n                    </Button>\n\n                    <Button\n                      type=\"button\"\n                      variant=\"ghost\"\n                      className=\"w-full h-12 text-gray-500 hover:text-gray-900 hover:bg-white/50 rounded-xl font-medium border border-transparent hover:border-gray-200 transition-all\"\n                      onClick={() => {\n                        setStep('login')\n                        setTwoFactorCode('')\n                        setUserId(null)\n                        setError(null)\n                      }}\n                    >\n                      Retour à la connexion\n                    </Button>\n                  </div>\n                </form>\n              </GlassCard>\n            </motion.div>\n          )}\n        </AnimatePresence>\n        \n        {/* Footer simple */}\n        <motion.div \n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          transition={{ delay: 0.8 }}\n          className=\"mt-8 text-center\"\n        >\n          <p className=\"text-xs text-gray-400 font-medium\">\n            &copy; {new Date().getFullYear()} EduZen. Tous droits réservés.\n          </p>\n        </motion.div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","ignoreList":[4,5,6,7]}