module.exports=[915618,a=>{"use strict";let b=(0,a.i(170106).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],915618)},641710,a=>{"use strict";let b=(0,a.i(170106).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);a.s(["Clock",()=>b],641710)},556710,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(703130),e=a.i(340695),f=a.i(915618);let g=(0,a.i(170106).default)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);var h=a.i(941675),i=a.i(641710),j=a.i(124987),k=a.i(497895),l=a.i(770536),m=a.i(864037);function n({sessionId:a,formData:n,onFormDataChange:o,slotConfig:p,onSlotConfigChange:q,sessionSlots:r=[],onSlotsRefetch:s}){let{addToast:t}=(0,m.useToast)(),[u,v]=(0,c.useState)(!1),w=async()=>{if(!n.start_date||!n.end_date)return void t({type:"error",title:"Erreur",description:"Les dates de début et de fin sont requises"});v(!0);try{await l.sessionSlotService.generateSlots({sessionId:a,startDate:n.start_date,endDate:n.end_date,timeSlotType:"full_day"===p.timeSlotType?"both":p.timeSlotType,morningStart:p.morningStart,morningEnd:p.morningEnd,afternoonStart:p.afternoonStart,afternoonEnd:p.afternoonEnd,location:n.location||void 0,teacherId:n.teacher_id||void 0,capacityMax:n.capacity_max?parseInt(n.capacity_max):void 0}),s(),t({type:"success",title:"Séances générées",description:"Les séances ont été générées avec succès."})}catch(a){t({type:"error",title:"Erreur",description:a instanceof Error?a.message:"Une erreur est survenue lors de la génération des séances."})}finally{v(!1)}},x=async a=>{if(confirm("Voulez-vous supprimer cette séance ?"))try{await l.sessionSlotService.delete(a),s(),t({type:"success",title:"Séance supprimée",description:"La séance a été supprimée avec succès."})}catch(a){t({type:"error",title:"Erreur",description:"Une erreur est survenue lors de la suppression de la séance."})}},y=async()=>{if(confirm("Voulez-vous supprimer toutes les séances ?"))try{await l.sessionSlotService.deleteBySessionId(a),s(),t({type:"success",title:"Séances supprimées",description:"Toutes les séances ont été supprimées."})}catch(a){t({type:"error",title:"Erreur",description:"Une erreur est survenue lors de la suppression des séances."})}},z=async()=>{let b=document.getElementById("manual-slot-date"),c=document.getElementById("manual-slot-time-slot"),d=document.getElementById("manual-slot-start"),e=document.getElementById("manual-slot-end");if(!b?.value||!d?.value||!e?.value)return void t({type:"error",title:"Erreur",description:"Veuillez remplir tous les champs."});try{await l.sessionSlotService.create({session_id:a,date:b.value,time_slot:c.value,start_time:d.value,end_time:e.value,location:n.location||null,teacher_id:n.teacher_id||null,capacity_max:n.capacity_max?parseInt(n.capacity_max):null}),s(),b.value="",d.value="",e.value="",t({type:"success",title:"Séance ajoutée",description:"La séance a été ajoutée avec succès."})}catch(a){t({type:"error",title:"Erreur",description:"Une erreur est survenue lors de l'ajout de la séance."})}};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsx)(d.CardTitle,{children:"Dates et informations générales"})}),(0,b.jsxs)(d.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Date de début *"}),(0,b.jsx)("input",{type:"date",value:n.start_date,onChange:a=>o({...n,start_date:a.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Date de fin *"}),(0,b.jsx)("input",{type:"date",value:n.end_date,onChange:a=>o({...n,end_date:a.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Lieu/Salle"}),(0,b.jsx)("input",{type:"text",value:n.location,onChange:a=>o({...n,location:a.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Ex: Salle A1"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Capacité maximale"}),(0,b.jsx)("input",{type:"number",value:n.capacity_max,onChange:a=>o({...n,capacity_max:a.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Ex: 25"})]})]})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsx)(d.CardTitle,{children:"Configuration des séances"})}),(0,b.jsxs)(d.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Type de séances *"}),(0,b.jsxs)("select",{value:p.timeSlotType,onChange:a=>q({...p,timeSlotType:a.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[(0,b.jsx)("option",{value:"both",children:"Matin et après-midi"}),(0,b.jsx)("option",{value:"morning",children:"Matin seulement"}),(0,b.jsx)("option",{value:"afternoon",children:"Après-midi seulement"}),(0,b.jsx)("option",{value:"full_day",children:"Journée complète"})]})]}),("morning"===p.timeSlotType||"both"===p.timeSlotType)&&(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 p-4 bg-blue-50 rounded-lg",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Début matin"}),(0,b.jsx)("input",{type:"time",value:p.morningStart,onChange:a=>q({...p,morningStart:a.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Fin matin"}),(0,b.jsx)("input",{type:"time",value:p.morningEnd,onChange:a=>q({...p,morningEnd:a.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),("afternoon"===p.timeSlotType||"both"===p.timeSlotType)&&(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 p-4 bg-orange-50 rounded-lg",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Début après-midi"}),(0,b.jsx)("input",{type:"time",value:p.afternoonStart,onChange:a=>q({...p,afternoonStart:a.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Fin après-midi"}),(0,b.jsx)("input",{type:"time",value:p.afternoonEnd,onChange:a=>q({...p,afternoonEnd:a.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),"full_day"===p.timeSlotType&&(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 p-4 bg-brand-blue-ghost rounded-lg",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Début journée"}),(0,b.jsx)("input",{type:"time",value:p.morningStart,onChange:a=>q({...p,morningStart:a.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Fin journée"}),(0,b.jsx)("input",{type:"time",value:p.afternoonEnd,onChange:a=>q({...p,afternoonEnd:a.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),(0,b.jsxs)(e.Button,{onClick:w,disabled:!n.start_date||!n.end_date||u,className:"w-full",children:[(0,b.jsx)(f.Plus,{className:"mr-2 h-4 w-4"}),u?"Génération...":"Générer les séances automatiquement"]}),n.start_date&&n.end_date?null:(0,b.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:"Veuillez d'abord définir les dates de début et de fin de la session"})]})]}),r.length>0&&(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)(d.CardTitle,{className:"flex items-center justify-between",children:[(0,b.jsxs)("span",{children:["Séances générées (",r.length,")"]}),(0,b.jsxs)(e.Button,{variant:"outline",size:"sm",onClick:y,children:[(0,b.jsx)(g,{className:"mr-2 h-4 w-4"}),"Tout supprimer"]})]})}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:r.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50",children:[(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)(h.Calendar,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)("span",{className:"font-medium",children:(0,k.formatDate)(a.date)}),(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs ${"morning"===a.time_slot?"bg-blue-100 text-blue-800":"afternoon"===a.time_slot?"bg-orange-100 text-orange-800":"bg-brand-blue-ghost text-brand-blue"}`,children:"morning"===a.time_slot?"Matin":"afternoon"===a.time_slot?"Après-midi":"Journée complète"}),(0,b.jsx)(i.Clock,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsxs)("span",{className:"text-sm text-muted-foreground",children:[a.start_time," - ",a.end_time]}),a.location&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.MapPin,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:a.location})]})]})}),(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",onClick:()=>x(a.id),children:(0,b.jsx)(g,{className:"h-4 w-4 text-red-600"})})]},a.id))})})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsx)(d.CardTitle,{children:"Ajouter une séance manuelle"})}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Date"}),(0,b.jsx)("input",{type:"date",id:"manual-slot-date",min:n.start_date,max:n.end_date,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Créneau"}),(0,b.jsxs)("select",{id:"manual-slot-time-slot",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[(0,b.jsx)("option",{value:"morning",children:"Matin"}),(0,b.jsx)("option",{value:"afternoon",children:"Après-midi"}),(0,b.jsx)("option",{value:"full_day",children:"Journée complète"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Heure début"}),(0,b.jsx)("input",{type:"time",id:"manual-slot-start",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Heure fin"}),(0,b.jsx)("input",{type:"time",id:"manual-slot-end",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),(0,b.jsxs)(e.Button,{className:"w-full mt-4",onClick:z,disabled:!n.start_date||!n.end_date,children:[(0,b.jsx)(f.Plus,{className:"mr-2 h-4 w-4"}),"Ajouter la séance"]})]})]})]})}a.s(["ConfigDatesPrix",()=>n],556710)}];

//# sourceMappingURL=_bcb4fe7e._.js.map