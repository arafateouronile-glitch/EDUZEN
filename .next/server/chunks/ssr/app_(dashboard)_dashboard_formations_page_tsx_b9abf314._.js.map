{"version":3,"sources":["../../../../app/%28dashboard%29/dashboard/formations/page.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState } from 'react'\nimport { useQuery } from '@tanstack/react-query'\nimport { useAuth } from '@/lib/hooks/use-auth'\nimport { formationService } from '@/lib/services/formation.service'\nimport { programService } from '@/lib/services/program.service'\nimport { createClient } from '@/lib/supabase/client'\nimport { Button } from '@/components/ui/button'\nimport { GlassCard } from '@/components/ui/glass-card'\nimport { BentoGrid, BentoCard } from '@/components/ui/bento-grid'\nimport { Plus, Search, BookMarked, Calendar, Users, DollarSign, Filter, TrendingUp, CheckCircle, XCircle, BookOpen, Activity, ArrowRight, SlidersHorizontal, ArrowUpRight, Clock } from 'lucide-react'\nimport Link from 'next/link'\nimport { formatCurrency, cn } from '@/lib/utils'\nimport { motion, AnimatePresence } from '@/components/ui/motion'\nimport { PremiumPieChart } from '@/components/charts/premium-pie-chart'\nimport { PremiumBarChart } from '@/components/charts/premium-bar-chart'\nimport type { TableRow } from '@/lib/types/supabase-helpers'\nimport { RoleGuard, FORMATION_MANAGEMENT_ROLES } from '@/components/auth/role-guard'\n\ntype Formation = TableRow<'formations'>\ntype Session = TableRow<'sessions'>\n\nexport default function FormationsPage() {\n  return (\n    <RoleGuard allowedRoles={FORMATION_MANAGEMENT_ROLES}>\n      <FormationsPageContent />\n    </RoleGuard>\n  )\n}\n\nfunction FormationsPageContent() {\n  const { user } = useAuth()\n  const supabase = createClient()\n  const [search, setSearch] = useState('')\n  const [showActiveOnly, setShowActiveOnly] = useState(true)\n  const [selectedProgramId, setSelectedProgramId] = useState<string>('')\n  const [showFilters, setShowFilters] = useState(false)\n\n  // Récupérer les programmes pour le filtre\n  const { data: programs } = useQuery({\n    queryKey: ['programs', user?.organization_id],\n    queryFn: async () => {\n      if (!user?.organization_id) return []\n      return programService.getAllPrograms(user.organization_id, { isActive: true })\n    },\n    enabled: !!user?.organization_id,\n  })\n\n  // Récupérer les formations\n  const { data: formations, isLoading } = useQuery({\n    queryKey: ['formations', user?.organization_id, search, showActiveOnly, selectedProgramId],\n    queryFn: async () => {\n      if (!user?.organization_id) return []\n      return formationService.getAllFormations(user.organization_id, {\n        programId: selectedProgramId || undefined,\n        search,\n        isActive: showActiveOnly || undefined,\n      })\n    },\n    enabled: !!user?.organization_id,\n  })\n\n  // Statistiques des formations\n  const { data: formationStats } = useQuery({\n    queryKey: ['formation-stats', user?.organization_id],\n    queryFn: async () => {\n      if (!user?.organization_id) return null\n\n      const { data: allFormations, error } = await supabase\n        .from('formations')\n        .select('is_active, created_at, program_id')\n        .eq('organization_id', user.organization_id)\n\n      if (error) throw error\n\n      const formationsArray = (allFormations as Formation[]) || []\n      const total = formationsArray.length\n      const active = formationsArray.filter((f) => f.is_active).length\n      const inactive = formationsArray.filter((f) => !f.is_active).length\n\n      // Compter les sessions\n      let totalSessions = 0\n      const formationIds = formationsArray.map((f) => f.id).filter((id): id is string => !!id)\n      if (formationIds && formationIds.length > 0) {\n        const { count } = await supabase\n          .from('sessions')\n          .select('*', { count: 'exact', head: true })\n          .in('formation_id', formationIds)\n        totalSessions = count || 0\n      }\n\n      // Compter les inscriptions via les sessions\n      let totalEnrollments = 0\n      if (formationIds && formationIds.length > 0) {\n        const { data: sessions, error: sessionsError } = await supabase\n          .from('sessions')\n          .select('id')\n          .in('formation_id', formationIds)\n        if (sessionsError) throw sessionsError\n        const sessionIds = (sessions as Session[])?.map((s) => s.id).filter((id): id is string => !!id) || []\n        if (sessionIds && sessionIds.length > 0) {\n          const { count } = await supabase\n            .from('enrollments')\n            .select('*', { count: 'exact', head: true })\n            .in('session_id', sessionIds)\n          totalEnrollments = count || 0\n        }\n      }\n\n      // Calculer les créations ce mois\n      const thisMonthCount = formationsArray.filter((f) => {\n        if (!f.created_at) return false\n        const date = new Date(f.created_at)\n        const now = new Date()\n        return date.getMonth() === now.getMonth() && date.getFullYear() === now.getFullYear()\n      }).length\n\n      // Grouper par statut pour le graphique\n      const statusData = [\n        { name: 'Actives', value: active, color: '#335ACF' },\n        { name: 'Inactives', value: inactive, color: '#6B7280' },\n      ].filter(item => item.value > 0)\n\n      // Grouper par mois pour le graphique d'évolution\n      const byMonth: Record<string, number> = {}\n      formationsArray.forEach((f) => {\n        if (f.created_at) {\n          const date = new Date(f.created_at)\n          const monthKey = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}`\n          byMonth[monthKey] = (byMonth[monthKey] || 0) + 1\n        }\n      })\n\n      const monthlyData = Object.entries(byMonth)\n        .sort(([a], [b]) => a.localeCompare(b))\n        .slice(-6) // Derniers 6 mois\n        .map(([month, count]) => ({\n          month: new Date(month + '-01').toLocaleDateString('fr-FR', { month: 'short', year: 'numeric' }),\n          formations: count,\n        }))\n\n      return {\n        total,\n        active,\n        inactive,\n        totalSessions,\n        totalEnrollments,\n        thisMonthCount,\n        statusData,\n        monthlyData,\n      }\n    },\n    enabled: !!user?.organization_id,\n  })\n\n  const containerVariants = {\n    hidden: { opacity: 0 },\n    visible: { opacity: 1, transition: { staggerChildren: 0.1 } }\n  }\n\n  const itemVariants = {\n    hidden: { opacity: 0, y: 20 },\n    visible: { opacity: 1, y: 0, transition: { duration: 0.5 } }\n  } as const\n\n  return (\n    <motion.div \n      className=\"space-y-8 pb-8 max-w-[1600px] mx-auto\"\n      variants={containerVariants}\n      initial=\"hidden\"\n      animate=\"visible\"\n    >\n      {/* Header Ultra-Premium */}\n      <motion.div variants={itemVariants as any} className=\"flex flex-col md:flex-row items-start md:items-center justify-between gap-6\">\n        <div>\n          <div className=\"flex items-center gap-4 mb-3\">\n            <motion.div\n              className=\"p-3 bg-gradient-to-br from-brand-blue to-brand-cyan rounded-2xl shadow-lg shadow-brand-blue/20\"\n              whileHover={{ scale: 1.1, rotate: 5 }}\n              transition={{ type: \"spring\", stiffness: 400, damping: 10 }}\n            >\n              <BookMarked className=\"h-8 w-8 text-white\" />\n            </motion.div>\n            <h1 className=\"text-4xl md:text-6xl font-display font-bold text-gray-900 tracking-tighter leading-none\">\n              Formations\n            </h1>\n            {formations && formations.length > 0 && (\n              <motion.span\n                className=\"px-3 py-1.5 bg-brand-blue-ghost text-brand-blue rounded-full text-sm font-bold flex items-center gap-2 shadow-sm\"\n                whileHover={{ scale: 1.1 }}\n                transition={{ type: \"spring\", stiffness: 400, damping: 10 }}\n              >\n                {formations.length}\n              </motion.span>\n            )}\n          </div>\n          <p className=\"text-gray-600 font-medium text-lg tracking-tight\">\n            Gérez vos formations et leurs sessions associées\n          </p>\n        </div>\n\n        <motion.div whileHover={{ scale: 1.05, y: -3 }} whileTap={{ scale: 0.98 }}>\n          <Link href=\"/dashboard/formations/new\">\n            <Button className=\"bg-gradient-to-br from-brand-blue to-brand-cyan text-white hover:from-brand-blue-dark hover:to-brand-cyan-dark shadow-xl shadow-brand-blue/20 hover:shadow-2xl hover:shadow-brand-cyan/30 transition-all duration-500 font-semibold tracking-tight px-6 py-6 text-base\">\n              <Plus className=\"h-5 w-5 mr-2\" />\n              Nouvelle formation\n            </Button>\n          </Link>\n        </motion.div>\n      </motion.div>\n\n      {/* Statistiques Ultra-Premium - 2 lignes de 3 carreaux */}\n      {formationStats && (\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          {[\n            {\n              title: 'Total formations',\n              value: formationStats.total,\n              icon: BookMarked,\n              iconBg: 'bg-gradient-to-br from-brand-blue to-brand-blue-dark',\n              cardBg: 'bg-gradient-to-br from-brand-blue/5 via-brand-blue/10 to-brand-cyan/5',\n              borderColor: 'border-brand-blue/20',\n              glowColor: 'rgba(39, 68, 114, 0.15)',\n            },\n            {\n              title: 'Actives',\n              value: formationStats.active,\n              icon: CheckCircle,\n              iconBg: 'bg-gradient-to-br from-emerald-500 to-emerald-600',\n              cardBg: 'bg-gradient-to-br from-emerald-50 via-emerald-100/50 to-teal-50',\n              borderColor: 'border-emerald-200',\n              glowColor: 'rgba(16, 185, 129, 0.15)',\n              highlight: formationStats.active > 0,\n            },\n            {\n              title: 'Inactives',\n              value: formationStats.inactive,\n              icon: XCircle,\n              iconBg: 'bg-gradient-to-br from-gray-400 to-gray-500',\n              cardBg: 'bg-gradient-to-br from-gray-50 via-gray-100/50 to-gray-50',\n              borderColor: 'border-gray-200',\n              glowColor: 'rgba(107, 114, 128, 0.1)',\n            },\n            {\n              title: 'Sessions planifiées',\n              value: formationStats.totalSessions,\n              icon: Calendar,\n              iconBg: 'bg-gradient-to-br from-purple-500 to-purple-600',\n              cardBg: 'bg-gradient-to-br from-purple-50 via-purple-100/50 to-pink-50',\n              borderColor: 'border-purple-200',\n              glowColor: 'rgba(168, 85, 247, 0.15)',\n            },\n            {\n              title: 'Inscriptions',\n              value: formationStats.totalEnrollments,\n              icon: Users,\n              iconBg: 'bg-gradient-to-br from-brand-cyan to-brand-cyan-dark',\n              cardBg: 'bg-gradient-to-br from-brand-cyan/5 via-brand-cyan/10 to-brand-blue/5',\n              borderColor: 'border-brand-cyan/20',\n              glowColor: 'rgba(52, 185, 238, 0.15)',\n            },\n            {\n              title: 'Créées ce mois',\n              value: formationStats.thisMonthCount,\n              icon: Clock,\n              iconBg: 'bg-gradient-to-br from-brand-blue-light to-brand-cyan',\n              cardBg: 'bg-gradient-to-br from-brand-blue-pale/30 via-brand-blue-pale/50 to-brand-cyan-pale/30',\n              borderColor: 'border-brand-blue-light/20',\n              glowColor: 'rgba(75, 116, 157, 0.15)',\n            },\n          ].map((stat, index) => (\n            <motion.div\n              key={stat.title}\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{\n                duration: 0.5,\n                delay: index * 0.05,\n                ease: 'easeOut'\n              }}\n              whileHover={{ y: -6, scale: 1.02 }}\n              className=\"group relative\"\n            >\n              <div\n                className={cn(\n                  \"relative overflow-hidden rounded-2xl p-6 border-2 transition-all duration-500 shadow-lg hover:shadow-2xl\",\n                  stat.cardBg,\n                  stat.borderColor,\n                  stat.highlight && \"ring-2 ring-emerald-500/20 animate-pulse-premium\"\n                )}\n                style={{\n                  boxShadow: `0 10px 40px -10px ${stat.glowColor}, 0 0 0 1px rgba(255, 255, 255, 0.1)`\n                }}\n              >\n                {/* Shine effect */}\n                <motion.div\n                  className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent\"\n                  initial={{ x: '-100%' }}\n                  whileHover={{ x: '100%' }}\n                  transition={{ duration: 0.6, ease: \"easeInOut\" }}\n                />\n\n                {/* Content */}\n                <div className=\"relative z-10\">\n                  <div className=\"flex items-start justify-between mb-4\">\n                    <motion.div\n                      className={cn('p-3.5 rounded-2xl shadow-xl', stat.iconBg)}\n                      whileHover={{ rotate: 12, scale: 1.15 }}\n                      transition={{ type: \"spring\", stiffness: 500, damping: 15 }}\n                    >\n                      <stat.icon className=\"h-6 w-6 text-white\" />\n                    </motion.div>\n                    <motion.div\n                      className=\"text-right\"\n                      initial={{ scale: 0.8, opacity: 0 }}\n                      animate={{ scale: 1, opacity: 1 }}\n                      transition={{ delay: index * 0.05 + 0.2, duration: 0.5 }}\n                    >\n                      <div className=\"text-4xl font-display font-bold tracking-tighter text-gray-900 leading-none mb-1\">\n                        {stat.value}\n                      </div>\n                      <p className=\"text-xs font-bold text-gray-600 uppercase tracking-widest\">\n                        {stat.title}\n                      </p>\n                    </motion.div>\n                  </div>\n\n                  {/* Bottom accent bar */}\n                  <motion.div\n                    className=\"h-1.5 rounded-full mt-4\"\n                    style={{\n                      background: stat.iconBg.replace('bg-gradient-to-br', 'linear-gradient(to right,')\n                    }}\n                    initial={{ scaleX: 0 }}\n                    animate={{ scaleX: 1 }}\n                    transition={{ delay: index * 0.05 + 0.3, duration: 0.6, ease: [0.16, 1, 0.3, 1] }}\n                  />\n                </div>\n\n                {/* Glow effect on hover */}\n                <div\n                  className=\"absolute inset-0 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500\"\n                  style={{\n                    background: `radial-gradient(circle at 50% 50%, ${stat.glowColor} 0%, transparent 70%)`\n                  }}\n                />\n              </div>\n            </motion.div>\n          ))}\n        </div>\n      )}\n\n      {/* Graphiques Premium */}\n      {formationStats && (formationStats.statusData.length > 0 || formationStats.monthlyData.length > 0) && (\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n          {formationStats.statusData.length > 0 && (\n            <motion.div variants={itemVariants as any} className=\"h-full\">\n              <GlassCard variant=\"default\" className=\"p-6 h-full\">\n                <div className=\"mb-6 flex items-center justify-between\">\n                  <h3 className=\"font-bold text-gray-900 flex items-center gap-2\">\n                    <Activity className=\"h-5 w-5 text-brand-blue\" />\n                    Répartition par statut\n                  </h3>\n                </div>\n                <div className=\"h-[300px]\">\n                  <PremiumPieChart\n                    data={formationStats.statusData}\n                    colors={formationStats.statusData.map(d => d.color)}\n                    variant=\"default\"\n                    className=\"h-full !p-0 !bg-transparent !border-none !shadow-none\"\n                    innerRadius={70}\n                  />\n                </div>\n              </GlassCard>\n            </motion.div>\n          )}\n\n          {formationStats.monthlyData.length > 0 && (\n            <motion.div variants={itemVariants as any} className=\"h-full\">\n              <GlassCard variant=\"default\" className=\"p-6 h-full\">\n                <div className=\"mb-6 flex items-center justify-between\">\n                  <h3 className=\"font-bold text-gray-900 flex items-center gap-2\">\n                    <TrendingUp className=\"h-5 w-5 text-brand-cyan\" />\n                    Évolution des formations\n                  </h3>\n                </div>\n                <div className=\"h-[300px]\">\n                  <PremiumBarChart\n                    data={formationStats.monthlyData}\n                    dataKey=\"formations\"\n                    xAxisKey=\"month\"\n                    color=\"#8B5CF6\"\n                    variant=\"default\"\n                    className=\"h-full !p-0 !bg-transparent !border-none !shadow-none\"\n                  />\n                </div>\n              </GlassCard>\n            </motion.div>\n          )}\n        </div>\n      )}\n\n      {/* Filtres et Recherche Ultra-Premium */}\n      <motion.div variants={itemVariants as any}>\n        <GlassCard variant=\"premium\" className=\"p-4 border-2 border-transparent hover:border-brand-blue/10 transition-all duration-500\">\n          <div className=\"flex flex-col md:flex-row gap-3\">\n            <div className=\"relative flex-1 group\">\n              <Search className=\"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400 group-focus-within:text-brand-blue transition-colors\" />\n              <input\n                type=\"text\"\n                placeholder=\"Rechercher une formation...\"\n                value={search}\n                onChange={(e) => setSearch(e.target.value)}\n                className=\"w-full pl-12 pr-4 py-3 rounded-xl bg-gray-50 border-2 border-transparent focus:bg-white focus:border-brand-blue/30 focus:ring-4 focus:ring-brand-blue/10 transition-all outline-none text-sm font-medium tracking-tight shadow-sm\"\n              />\n            </div>\n\n            <motion.div whileHover={{ scale: 1.02 }} whileTap={{ scale: 0.98 }}>\n              <Button\n                variant=\"ghost\"\n                onClick={() => setShowFilters(!showFilters)}\n                className={cn(\n                  \"gap-2 transition-all px-6 py-3 rounded-xl font-semibold tracking-tight shadow-sm\",\n                  showFilters ? \"bg-brand-blue text-white hover:bg-brand-blue-dark\" : \"bg-gray-100 text-gray-700 hover:bg-gray-200\"\n                )}\n              >\n                <SlidersHorizontal className=\"h-4 w-4\" />\n                Filtres\n                {(selectedProgramId || !showActiveOnly) && (\n                  <motion.span\n                    className=\"w-5 h-5 bg-brand-cyan text-white text-[10px] flex items-center justify-center rounded-full ml-1 font-bold shadow-md\"\n                    initial={{ scale: 0 }}\n                    animate={{ scale: 1 }}\n                    transition={{ type: \"spring\", stiffness: 500, damping: 15 }}\n                  >\n                    !\n                  </motion.span>\n                )}\n              </Button>\n            </motion.div>\n          </div>\n\n          <AnimatePresence>\n            {showFilters && (\n              <motion.div\n                initial={{ height: 0, opacity: 0 }}\n                animate={{ height: 'auto', opacity: 1 }}\n                exit={{ height: 0, opacity: 0 }}\n                className=\"overflow-hidden\"\n              >\n                <div className=\"p-4 grid grid-cols-1 md:grid-cols-2 gap-4 border-t border-gray-100 mt-2\">\n                  <div className=\"flex items-center gap-3\">\n                    <label className=\"flex items-center gap-2 cursor-pointer group\">\n                      <div className=\"relative\">\n                        <input\n                          type=\"checkbox\"\n                          checked={showActiveOnly}\n                          onChange={(e) => setShowActiveOnly(e.target.checked)}\n                          className=\"sr-only peer\"\n                        />\n                        <div className=\"w-10 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-brand-blue/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-blue\"></div>\n                      </div>\n                      <span className=\"text-sm font-medium text-gray-600 group-hover:text-gray-900 transition-colors\">Actives uniquement</span>\n                    </label>\n                  </div>\n                  {programs && programs.length > 0 && (\n                    <div className=\"space-y-1.5\">\n                      <label className=\"text-xs font-medium text-gray-500 uppercase tracking-wider\">Programme</label>\n                      <select\n                        value={selectedProgramId}\n                        onChange={(e) => setSelectedProgramId(e.target.value)}\n                        className=\"w-full px-3 py-2 rounded-lg bg-gray-50 border-transparent focus:bg-white focus:border-brand-blue/20 focus:ring-2 focus:ring-brand-blue/10 outline-none text-sm transition-all\"\n                      >\n                        <option value=\"\">Tous les programmes</option>\n                        {(programs as any[])?.map((program) => (\n                          <option key={program.id} value={program.id}>\n                            {program.name}\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n                  )}\n                </div>\n              </motion.div>\n            )}\n          </AnimatePresence>\n        </GlassCard>\n      </motion.div>\n\n      {/* Formations List Ultra-Premium */}\n      <motion.div variants={itemVariants as any}>\n        {isLoading ? (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {[...Array(6)].map((_, i) => (\n              <div key={i} className=\"h-64 bg-gray-100 rounded-2xl animate-pulse\" />\n            ))}\n          </div>\n        ) : formations && formations.length > 0 ? (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            <AnimatePresence mode=\"popLayout\">\n              {(formations as Formation[])?.map((formation, index) => (\n                <motion.div\n                  key={formation.id}\n                  layout\n                  initial={{ opacity: 0, scale: 0.95, y: 20 }}\n                  animate={{ opacity: 1, scale: 1, y: 0 }}\n                  exit={{ opacity: 0, scale: 0.95, y: -20 }}\n                  transition={{\n                    delay: index * 0.05,\n                    duration: 0.5,\n                    ease: 'easeOut'\n                  }}\n                  whileHover={{ y: -8, scale: 1.02 }}\n                >\n                  <Link href={`/dashboard/formations/${formation.id}`}>\n                    <GlassCard\n                      variant=\"premium\"\n                      hoverable\n                      className=\"h-full p-0 group cursor-pointer flex flex-col overflow-hidden border-2 border-transparent hover:border-brand-blue/20 transition-all duration-500 shadow-lg hover:shadow-2xl\"\n                    >\n                      <div className=\"p-6 flex-1\">\n                        <div className=\"flex items-start justify-between mb-4\">\n                          <motion.div\n                            whileHover={{ scale: 1.15, rotate: 8 }}\n                            transition={{ type: \"spring\", stiffness: 500, damping: 15 }}\n                            className={cn(\n                              'h-12 w-12 rounded-2xl flex items-center justify-center shadow-lg',\n                              formation.is_active\n                                ? 'bg-gradient-to-br from-brand-blue to-brand-cyan text-white shadow-brand-blue/20'\n                                : 'bg-gray-100 text-gray-400'\n                            )}\n                          >\n                            <BookMarked className=\"h-6 w-6\" />\n                          </motion.div>\n\n                          <motion.span\n                            className={cn(\n                              'px-3 py-1.5 rounded-xl text-xs font-bold border-2 shadow-sm uppercase tracking-wide',\n                              formation.is_active\n                                ? 'bg-emerald-50 text-emerald-700 border-emerald-200'\n                                : 'bg-gray-50 text-gray-600 border-gray-200'\n                            )}\n                            whileHover={{ scale: 1.05 }}\n                            transition={{ type: \"spring\", stiffness: 400, damping: 10 }}\n                          >\n                            {formation.is_active ? 'Active' : 'Inactive'}\n                          </motion.span>\n                        </div>\n\n                        <h3 className=\"text-xl font-display font-bold text-gray-900 mb-1 line-clamp-1 group-hover:text-brand-blue transition-colors tracking-tight leading-tight\">\n                          {formation.name}\n                        </h3>\n                        \n                        {(formation as any).programs && (\n                          <div className=\"mb-3\">\n                            <span className=\"text-xs font-bold bg-brand-blue-pale/50 text-brand-blue px-2.5 py-1 rounded-lg border border-brand-blue/20 tracking-tight\">\n                              {(formation as any).programs.name}\n                            </span>\n                          </div>\n                        )}\n\n                        <div className=\"flex flex-wrap gap-2.5 text-sm text-gray-600 mb-4\">\n                          {formation.duration_hours && (\n                            <div className=\"flex items-center gap-2 bg-gray-50 px-3 py-1.5 rounded-lg group-hover:bg-gray-100 transition-colors\">\n                              <div className=\"p-1 bg-gray-100 rounded-md group-hover:bg-brand-blue-ghost transition-colors\">\n                                <Calendar className=\"h-3.5 w-3.5 text-gray-500 group-hover:text-brand-blue transition-colors\" />\n                              </div>\n                              <span className=\"font-medium tracking-tight\">{formation.duration_hours}h</span>\n                            </div>\n                          )}\n                          {formation.price && (\n                            <div className=\"flex items-center gap-2 bg-gray-50 px-3 py-1.5 rounded-lg group-hover:bg-gray-100 transition-colors\">\n                              <div className=\"p-1 bg-gray-100 rounded-md group-hover:bg-emerald-50 transition-colors\">\n                                <DollarSign className=\"h-3.5 w-3.5 text-gray-500 group-hover:text-emerald-600 transition-colors\" />\n                              </div>\n                              <span className=\"font-medium tracking-tight\">{formatCurrency(Number(formation.price), formation.currency)}</span>\n                            </div>\n                          )}\n                          {formation.capacity_max && (\n                            <div className=\"flex items-center gap-2 bg-gray-50 px-3 py-1.5 rounded-lg group-hover:bg-gray-100 transition-colors\">\n                              <div className=\"p-1 bg-gray-100 rounded-md group-hover:bg-brand-cyan-ghost transition-colors\">\n                                <Users className=\"h-3.5 w-3.5 text-gray-500 group-hover:text-brand-cyan transition-colors\" />\n                              </div>\n                              <span className=\"font-medium tracking-tight\">{formation.capacity_max}</span>\n                            </div>\n                          )}\n                        </div>\n\n                        {formation.description && (\n                          <p className=\"text-sm text-gray-600 line-clamp-2 font-medium tracking-tight leading-relaxed\">\n                            {formation.description}\n                          </p>\n                        )}\n                      </div>\n\n                      <motion.div\n                        className=\"px-6 py-4 bg-gray-50/50 border-t-2 border-gray-100 group-hover:border-brand-blue/20 flex items-center justify-between transition-colors\"\n                        whileHover={{ x: 2 }}\n                        transition={{ type: \"spring\", stiffness: 400, damping: 20 }}\n                      >\n                        <span className=\"text-sm font-bold text-gray-500 group-hover:text-brand-blue transition-colors tracking-tight\">\n                          Gérer la formation\n                        </span>\n                        <motion.div\n                          whileHover={{ scale: 1.2, rotate: 5 }}\n                          transition={{ type: \"spring\", stiffness: 500, damping: 15 }}\n                        >\n                          <ArrowUpRight className=\"h-5 w-5 text-gray-400 group-hover:text-brand-cyan transition-colors\" />\n                        </motion.div>\n                      </motion.div>\n                    </GlassCard>\n                  </Link>\n                </motion.div>\n              ))}\n            </AnimatePresence>\n          </div>\n        ) : (\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.5, ease: [0.16, 1, 0.3, 1] }}\n          >\n            <GlassCard variant=\"premium\" className=\"p-16 text-center border-2 border-dashed border-gray-200\">\n              <motion.div\n                initial={{ scale: 0.8, opacity: 0 }}\n                animate={{ scale: 1, opacity: 1 }}\n                transition={{ delay: 0.2, duration: 0.5, ease: [0.16, 1, 0.3, 1] }}\n                className=\"w-20 h-20 bg-gradient-to-br from-brand-blue/10 to-brand-cyan/10 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-lg\"\n              >\n                <BookMarked className=\"h-10 w-10 text-brand-blue\" />\n              </motion.div>\n              <motion.h3\n                initial={{ opacity: 0, y: 10 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ delay: 0.3, duration: 0.5 }}\n                className=\"text-2xl font-display font-bold text-gray-900 mb-2 tracking-tight\"\n              >\n                Aucune formation trouvée\n              </motion.h3>\n              <motion.p\n                initial={{ opacity: 0, y: 10 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ delay: 0.4, duration: 0.5 }}\n                className=\"text-gray-600 mb-8 font-medium tracking-tight\"\n              >\n                {search || selectedProgramId || !showActiveOnly\n                  ? 'Essayez de modifier vos filtres de recherche.'\n                  : 'Commencez par créer votre première formation.'}\n              </motion.p>\n              {!search && !selectedProgramId && showActiveOnly && (\n                <motion.div\n                  initial={{ opacity: 0, y: 10 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  transition={{ delay: 0.5, duration: 0.5 }}\n                  whileHover={{ scale: 1.05, y: -3 }}\n                  whileTap={{ scale: 0.98 }}\n                >\n                  <Link href=\"/dashboard/formations/new\">\n                    <Button className=\"bg-gradient-to-br from-brand-blue to-brand-cyan text-white hover:from-brand-blue-dark hover:to-brand-cyan-dark shadow-xl shadow-brand-blue/20 hover:shadow-2xl hover:shadow-brand-cyan/30 transition-all duration-500 font-semibold tracking-tight px-6 py-6 text-base\">\n                      <Plus className=\"mr-2 h-5 w-5\" />\n                      Créer une formation\n                    </Button>\n                  </Link>\n                </motion.div>\n              )}\n            </GlassCard>\n          </motion.div>\n        )}\n      </motion.div>\n    </motion.div>\n  )\n}\n"],"names":[],"mappings":"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"}