{"version":3,"sources":["../../../../node_modules/lucide-react/src/icons/plus.ts","../../../../node_modules/lucide-react/src/icons/clock.ts","../../../../node_modules/lucide-react/src/icons/trending-up.ts","../../../../components/ui/tabs.tsx","../../../../node_modules/lucide-react/src/icons/euro.ts","../../../../lib/services/cpf.service.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Plus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJNMTIgNXYxNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Plus = createLucideIcon('Plus', [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'M12 5v14', key: 's699le' }],\n]);\n\nexport default Plus;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Clock\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cG9seWxpbmUgcG9pbnRzPSIxMiA2IDEyIDEyIDE2IDE0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/clock\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Clock = createLucideIcon('Clock', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['polyline', { points: '12 6 12 12 16 14', key: '68esgv' }],\n]);\n\nexport default Clock;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name TrendingUp\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cG9seWxpbmUgcG9pbnRzPSIyMiA3IDEzLjUgMTUuNSA4LjUgMTAuNSAyIDE3IiAvPgogIDxwb2x5bGluZSBwb2ludHM9IjE2IDcgMjIgNyAyMiAxMyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/trending-up\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst TrendingUp = createLucideIcon('TrendingUp', [\n  ['polyline', { points: '22 7 13.5 15.5 8.5 10.5 2 17', key: '126l90' }],\n  ['polyline', { points: '16 7 22 7 22 13', key: 'kwv8wd' }],\n]);\n\nexport default TrendingUp;\n","'use client'\n\nimport * as React from 'react'\nimport { cn } from '@/lib/utils'\n\ninterface TabsContextValue {\n  value: string\n  onValueChange: (value: string) => void\n}\n\nconst TabsContext = React.createContext<TabsContextValue | undefined>(undefined)\n\ninterface TabsProps {\n  value?: string\n  defaultValue?: string\n  onValueChange?: (value: string) => void\n  children: React.ReactNode\n  className?: string\n}\n\nexport function Tabs({ value: controlledValue, defaultValue, onValueChange, children, className }: TabsProps) {\n  const isControlled = controlledValue !== undefined\n  const [uncontrolledValue, setUncontrolledValue] = React.useState<string>(defaultValue ?? '')\n\n  // Si defaultValue arrive plus tard (montage), on l'applique uniquement en mode non contrôlé\n  React.useEffect(() => {\n    if (!isControlled && defaultValue !== undefined) {\n      setUncontrolledValue(defaultValue)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [defaultValue])\n\n  const currentValue = isControlled ? (controlledValue as string) : uncontrolledValue\n  const handleValueChange = React.useCallback(\n    (nextValue: string) => {\n      if (!isControlled) setUncontrolledValue(nextValue)\n      onValueChange?.(nextValue)\n    },\n    [isControlled, onValueChange]\n  )\n\n  return (\n    <TabsContext.Provider value={{ value: currentValue, onValueChange: handleValueChange }}>\n      <div className={cn('w-full', className)}>{children}</div>\n    </TabsContext.Provider>\n  )\n}\n\nfunction useTabsContext() {\n  const context = React.useContext(TabsContext)\n  if (!context) {\n    throw new Error('Tabs components must be used within a Tabs component')\n  }\n  return context\n}\n\ninterface TabsListProps {\n  children: React.ReactNode\n  className?: string\n}\n\nexport function TabsList({ children, className }: TabsListProps) {\n  return (\n    <div\n      className={cn(\n        'inline-flex h-10 items-center justify-center rounded-lg bg-bg-gray-100 p-1 text-text-tertiary',\n        className\n      )}\n    >\n      {children}\n    </div>\n  )\n}\n\ninterface TabsTriggerProps {\n  value: string\n  children: React.ReactNode\n  className?: string\n}\n\nexport function TabsTrigger({ value, children, className }: TabsTriggerProps) {\n  const { value: selectedValue, onValueChange } = useTabsContext()\n  const isSelected = selectedValue === value\n\n  return (\n    <button\n      type=\"button\"\n      onClick={() => onValueChange(value)}\n      className={cn(\n        'inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-outline-none focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50',\n        isSelected\n          ? 'bg-white text-text-primary shadow-sm'\n          : 'text-text-tertiary hover:text-text-primary',\n        className\n      )}\n    >\n      {children}\n    </button>\n  )\n}\n\ninterface TabsContentProps {\n  value: string\n  children: React.ReactNode\n  className?: string\n}\n\nexport function TabsContent({ value, children, className }: TabsContentProps) {\n  const { value: selectedValue } = useTabsContext()\n  \n  if (selectedValue !== value) {\n    return null\n  }\n\n  return (\n    <div\n      className={cn(\n        'mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2',\n        className\n      )}\n    >\n      {children}\n    </div>\n  )\n}\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Euro\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNCAxMGgxMiIgLz4KICA8cGF0aCBkPSJNNCAxNGg5IiAvPgogIDxwYXRoIGQ9Ik0xOSA2YTcuNyA3LjcgMCAwIDAtNS4yLTJBNy45IDcuOSAwIDAgMCA2IDEyYzAgNC40IDMuNSA4IDcuOCA4IDIgMCAzLjgtLjggNS4yLTIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/euro\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Euro = createLucideIcon('Euro', [\n  ['path', { d: 'M4 10h12', key: '1y6xl8' }],\n  ['path', { d: 'M4 14h9', key: '1loblj' }],\n  [\n    'path',\n    {\n      d: 'M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2',\n      key: '1j6lzo',\n    },\n  ],\n]);\n\nexport default Euro;\n","/**\n * Service CPF - Gestion du Compte Personnel de Formation\n * Intégration avec Mon Compte Formation\n */\n\nimport { createClient } from '@/lib/supabase/client'\nimport type { SupabaseClient } from '@supabase/supabase-js'\n\nexport interface CPFConfiguration {\n  id: string\n  organization_id: string\n  cpf_provider_number?: string\n  provider_name: string\n  siret_number: string\n  api_key?: string\n  api_secret?: string\n  api_endpoint: string\n  is_active: boolean\n  last_sync_date?: string\n  sync_frequency: 'hourly' | 'daily' | 'weekly' | 'manual'\n  created_at: string\n  updated_at: string\n}\n\nexport interface CPFLearnerRights {\n  id: string\n  organization_id: string\n  learner_id: string\n  cpf_account_number?: string\n  total_credits: number\n  available_credits: number\n  used_credits: number\n  last_sync_date?: string\n  sync_status: 'pending' | 'synced' | 'error'\n  sync_error?: string\n  metadata?: Record<string, unknown>\n  created_at: string\n  updated_at: string\n}\n\nexport interface CPFEligibleTraining {\n  id: string\n  organization_id: string\n  training_id?: string\n  cpf_training_code?: string\n  cpf_training_title: string\n  rncp_code?: string\n  price: number\n  currency: string\n  duration_hours?: number\n  duration_days?: number\n  certification_level?: string\n  eligibility_status: 'pending' | 'eligible' | 'rejected' | 'expired'\n  eligibility_date?: string\n  eligibility_end_date?: string\n  cpf_funding_rate: number\n  max_learners?: number\n  current_learners: number\n  description?: string\n  prerequisites?: string\n  learning_objectives?: string\n  created_at: string\n  updated_at: string\n}\n\nexport interface CPFEnrollment {\n  id: string\n  organization_id: string\n  learner_id: string\n  training_id: string\n  enrollment_date: string\n  start_date?: string\n  end_date?: string\n  status: 'pending' | 'approved' | 'in_progress' | 'completed' | 'cancelled' | 'rejected'\n  cpf_funding_amount: number\n  learner_contribution: number\n  total_amount: number\n  cpf_transaction_id?: string\n  cpf_attestation_number?: string\n  attestation_date?: string\n  attestation_file_url?: string\n  completion_certificate_url?: string\n  notes?: string\n  created_at: string\n  updated_at: string\n}\n\nexport interface CPFAttestation {\n  id: string\n  organization_id: string\n  enrollment_id: string\n  attestation_number: string\n  attestation_type: 'enrollment' | 'attendance' | 'completion' | 'partial_completion'\n  issue_date: string\n  validity_start_date?: string\n  validity_end_date?: string\n  file_url?: string\n  file_hash?: string\n  status: 'issued' | 'validated' | 'rejected' | 'expired'\n  validation_date?: string\n  validated_by?: string\n  rejection_reason?: string\n  metadata?: Record<string, unknown>\n  created_at: string\n  updated_at: string\n}\n\nexport class CPFService {\n  private supabase: SupabaseClient<any>\n\n\n  constructor(supabaseClient?: SupabaseClient<any>) {\n\n    this.supabase = supabaseClient || createClient()\n\n  }\n\n  /**\n   * Récupérer la configuration CPF d'une organisation\n   */\n  async getConfiguration(organizationId: string): Promise<CPFConfiguration | null> {\n    const { data, error } = await this.supabase\n      .from('cpf_configurations')\n      .select('*')\n      .eq('organization_id', organizationId)\n      .single()\n\n    if (error) {\n      if (error.code === 'PGRST116') return null\n      throw error\n    }\n    return data\n  }\n\n  /**\n   * Créer ou mettre à jour la configuration CPF\n   */\n  async upsertConfiguration(config: Partial<CPFConfiguration>): Promise<CPFConfiguration> {\n    const { data, error } = await this.supabase\n      .from('cpf_configurations')\n      .upsert(config, {\n        onConflict: 'organization_id',\n      })\n      .select()\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  /**\n   * Récupérer les droits CPF d'un stagiaire\n   */\n  async getLearnerRights(organizationId: string, learnerId: string): Promise<CPFLearnerRights | null> {\n    const { data, error } = await this.supabase\n      .from('cpf_learner_rights')\n      .select('*')\n      .eq('organization_id', organizationId)\n      .eq('learner_id', learnerId)\n      .single()\n\n    if (error) {\n      if (error.code === 'PGRST116') return null\n      throw error\n    }\n    return data\n  }\n\n  /**\n   * Synchroniser les droits CPF d'un stagiaire avec l'API Mon Compte Formation\n   */\n  async syncLearnerRights(organizationId: string, learnerId: string): Promise<CPFLearnerRights> {\n    // TODO: Implémenter l'appel réel à l'API Mon Compte Formation\n    // Pour l'instant, on simule la synchronisation\n    \n    const config = await this.getConfiguration(organizationId)\n    if (!config || !config.is_active) {\n      throw new Error('Configuration CPF non active')\n    }\n\n    // Simulation - à remplacer par l'appel API réel\n    const mockRights = {\n      organization_id: organizationId,\n      learner_id: learnerId,\n      total_credits: 500,\n      available_credits: 450,\n      used_credits: 50,\n      last_sync_date: new Date().toISOString(),\n      sync_status: 'synced' as const,\n    }\n\n    const { data, error } = await this.supabase\n      .from('cpf_learner_rights')\n      .upsert(mockRights, {\n        onConflict: 'organization_id,learner_id',\n      })\n      .select()\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  /**\n   * Récupérer les formations éligibles CPF\n   */\n  async getEligibleTrainings(organizationId: string): Promise<CPFEligibleTraining[]> {\n    const { data, error } = await this.supabase\n      .from('cpf_eligible_trainings')\n      .select('*')\n      .eq('organization_id', organizationId)\n      .eq('eligibility_status', 'eligible')\n      .order('cpf_training_title', { ascending: true })\n\n    if (error) {\n      // Si la table n'existe pas encore ou erreur 404, retourner un tableau vide\n      if (\n        error.code === 'PGRST116' ||\n        error.code === '42P01' ||\n        error.code === 'PGRST301' ||\n        (error as any).status === 404 ||\n        error.code === '404' ||\n        error.message?.includes('relation') ||\n        error.message?.includes('relationship') ||\n        error.message?.includes('does not exist') ||\n        error.message?.includes('schema cache')\n      ) {\n        console.warn('Table cpf_eligible_trainings does not exist yet or invalid query:', error?.message)\n        return []\n      }\n      throw error\n    }\n    return data || []\n  }\n\n  /**\n   * Créer une formation éligible CPF\n   */\n  async createEligibleTraining(training: Partial<CPFEligibleTraining>): Promise<CPFEligibleTraining> {\n    const { data, error } = await this.supabase\n      .from('cpf_eligible_trainings')\n      .insert(training)\n      .select()\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  /**\n   * Récupérer les inscriptions CPF\n   */\n  async getEnrollments(organizationId: string, filters?: {\n    learnerId?: string\n    trainingId?: string\n    status?: string\n  }): Promise<CPFEnrollment[]> {\n    let query = this.supabase\n      .from('cpf_enrollments')\n      .select('*')\n      .eq('organization_id', organizationId)\n\n    if (filters?.learnerId) {\n      query = query.eq('learner_id', filters.learnerId)\n    }\n    if (filters?.trainingId) {\n      query = query.eq('training_id', filters.trainingId)\n    }\n    if (filters?.status) {\n      query = query.eq('status', filters.status)\n    }\n\n    const { data, error } = await query.order('enrollment_date', { ascending: false })\n\n    if (error) {\n      // Si la table n'existe pas encore ou erreur 404, retourner un tableau vide\n      if (\n        error.code === 'PGRST116' ||\n        error.code === '42P01' ||\n        error.code === 'PGRST301' ||\n        (error as any).status === 404 ||\n        error.code === '404' ||\n        error.message?.includes('relation') ||\n        error.message?.includes('relationship') ||\n        error.message?.includes('does not exist') ||\n        error.message?.includes('schema cache')\n      ) {\n        console.warn('Table cpf_enrollments does not exist yet or invalid query:', error?.message)\n        return []\n      }\n      throw error\n    }\n    return data || []\n  }\n\n  /**\n   * Créer une inscription CPF\n   */\n  async createEnrollment(enrollment: Partial<CPFEnrollment>): Promise<CPFEnrollment> {\n    // Vérifier les droits CPF disponibles\n    const rights = await this.getLearnerRights(enrollment.organization_id!, enrollment.learner_id!)\n    if (!rights || rights.available_credits < (enrollment.cpf_funding_amount || 0)) {\n      throw new Error('Crédits CPF insuffisants')\n    }\n\n    const { data, error } = await this.supabase\n      .from('cpf_enrollments')\n      .insert(enrollment)\n      .select()\n      .single()\n\n    if (error) throw error\n\n    // Mettre à jour les droits CPF\n    await this.supabase\n      .from('cpf_learner_rights')\n      .update({\n        available_credits: rights.available_credits - (enrollment.cpf_funding_amount || 0),\n        used_credits: rights.used_credits + (enrollment.cpf_funding_amount || 0),\n        updated_at: new Date().toISOString(),\n      })\n      .eq('id', rights.id)\n\n    return data\n  }\n\n  /**\n   * Générer une attestation CPF\n   */\n  async generateAttestation(attestation: Partial<CPFAttestation>): Promise<CPFAttestation> {\n    // Générer un numéro d'attestation unique\n    const attestationNumber = `CPF-${Date.now()}-${Math.random().toString(36).substr(2, 9).toUpperCase()}`\n\n    const { data, error } = await this.supabase\n      .from('cpf_attestations')\n      .insert({\n        ...attestation,\n        attestation_number: attestationNumber,\n        issue_date: new Date().toISOString().split('T')[0],\n        status: 'issued',\n      })\n      .select()\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  /**\n   * Récupérer les attestations d'une inscription\n   */\n  async getAttestations(enrollmentId: string): Promise<CPFAttestation[]> {\n    const { data, error } = await this.supabase\n      .from('cpf_attestations')\n      .select('*')\n      .eq('enrollment_id', enrollmentId)\n      .order('issue_date', { ascending: false })\n\n    if (error) throw error\n    return data || []\n  }\n\n  /**\n   * Synchroniser le catalogue depuis un fichier XML\n   * Note: L'importation CPF se fait principalement via fichiers XML via le portail EDOF\n   * Cette méthode appelle l'API route qui fait le traitement côté serveur\n   */\n  async syncCatalogFromXML(\n    organizationId: string,\n    xmlFile: File | string,\n    options?: {\n      syncType?: 'full' | 'incremental'\n      createdBy?: string\n    }\n  ): Promise<{ syncId: string; result: any }> {\n    const config = await this.getConfiguration(organizationId)\n    if (!config || !config.is_active) {\n      throw new Error('Configuration CPF non active')\n    }\n\n    // Créer un FormData pour l'upload\n    const formData = new FormData()\n    \n    if (xmlFile instanceof File) {\n      formData.append('file', xmlFile)\n    } else {\n      // Si c'est une chaîne (URL ou contenu), on ne peut pas l'utiliser directement\n      // Dans ce cas, il faudrait télécharger le fichier d'abord\n      throw new Error('Le fichier XML doit être un objet File')\n    }\n\n    // Appeler l'API route pour le traitement\n    const response = await fetch('/api/cpf/catalog-sync', {\n      method: 'POST',\n      body: formData,\n    })\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({ error: 'Erreur inconnue' }))\n      throw new Error(errorData.error || `Erreur HTTP: ${response.status}`)\n    }\n\n    const data = await response.json()\n\n    return {\n      syncId: data.syncId,\n      result: data,\n    }\n  }\n\n  /**\n   * Synchroniser le catalogue depuis l'API Caisse des Dépôts\n   * Note: Vérifier la disponibilité de l'API REST pour le catalogue\n   */\n  async syncCatalogFromAPI(\n    organizationId: string,\n    options?: {\n      syncType?: 'full' | 'incremental'\n      createdBy?: string\n    }\n  ): Promise<{ syncId: string; result: any }> {\n    const config = await this.getConfiguration(organizationId)\n    if (!config || !config.is_active) {\n      throw new Error('Configuration CPF non active')\n    }\n\n    if (!config.api_key || !config.api_secret) {\n      throw new Error('Clés API CPF non configurées')\n    }\n\n    // Créer un log de synchronisation\n    const { data: syncLog, error: syncLogError } = await this.supabase\n      .from('cpf_catalog_sync')\n      .insert({\n        organization_id: organizationId,\n        sync_type: options?.syncType || 'full',\n        sync_method: 'api',\n        sync_status: 'in_progress',\n        created_by: options?.createdBy,\n      })\n      .select()\n      .single()\n\n    if (syncLogError) throw syncLogError\n\n    try {\n      // TODO: Implémenter l'appel à l'API Caisse des Dépôts\n      // Pour l'instant, on retourne une structure de base\n      // L'implémentation réelle nécessitera:\n      // 1. Authentification avec api_key et api_secret\n      // 2. Appel à l'endpoint du catalogue CPF\n      // 3. Traitement des données reçues\n      // 4. Création/mise à jour des formations\n\n      // Mettre à jour le log de synchronisation\n      await this.supabase\n        .from('cpf_catalog_sync')\n        .update({\n          sync_status: 'completed',\n          completed_at: new Date().toISOString(),\n          records_total: 0,\n          records_created: 0,\n          records_updated: 0,\n        })\n        .eq('id', syncLog.id)\n\n      return {\n        syncId: syncLog.id,\n        result: {\n          success: true,\n          message: 'Synchronisation démarrée (à implémenter)',\n        },\n      }\n    } catch (error: any) {\n      // En cas d'erreur, mettre à jour le log\n      await this.supabase\n        .from('cpf_catalog_sync')\n        .update({\n          sync_status: 'failed',\n          completed_at: new Date().toISOString(),\n          error_message: error.message,\n          error_details: { error: error.toString() },\n        })\n        .eq('id', syncLog.id)\n\n      throw error\n    }\n  }\n\n  /**\n   * Récupérer l'historique des synchronisations du catalogue\n   */\n  async getCatalogSyncHistory(\n    organizationId: string,\n    filters?: {\n      limit?: number\n      status?: string\n      syncMethod?: string\n    }\n  ) {\n    let query = this.supabase\n      .from('cpf_catalog_sync')\n      .select('*')\n      .eq('organization_id', organizationId)\n      .order('created_at', { ascending: false })\n\n    if (filters?.status) {\n      query = query.eq('sync_status', filters.status)\n    }\n    if (filters?.syncMethod) {\n      query = query.eq('sync_method', filters.syncMethod)\n    }\n    if (filters?.limit) {\n      query = query.limit(filters.limit)\n    }\n\n    const { data, error } = await query\n\n    if (error) throw error\n    return data || []\n  }\n\n  /**\n   * Récupérer une synchronisation spécifique\n   */\n  async getCatalogSyncById(syncId: string) {\n    const { data, error } = await this.supabase\n      .from('cpf_catalog_sync')\n      .select('*')\n      .eq('id', syncId)\n      .single()\n\n    if (error) throw error\n    return data\n  }\n}\n\nexport const cpfService = new CPFService()\n"],"names":[],"mappings":"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","ignoreList":[0,1,2,4]}