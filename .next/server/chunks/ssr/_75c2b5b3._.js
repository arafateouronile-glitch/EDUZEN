module.exports=[400210,a=>{"use strict";let b=(0,a.i(170106).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],400210)},219897,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(497895);a.i(460355);var e=a.i(346271);let f=c.forwardRef(({className:a,variant:c="default",hoverable:f=!1,glow:g=!1,glowColor:h="rgba(51, 90, 207, 0.3)",...i},j)=>(0,b.jsxs)(e.motion.div,{ref:j,className:(0,d.cn)("relative rounded-2xl border backdrop-blur-xl transition-all duration-300",{"bg-white/70 dark:bg-gray-900/70 border-white/20 dark:border-gray-700/30 shadow-lg":"default"===c,"bg-white/80 dark:bg-gray-900/80 border-white/30 dark:border-gray-700/40 shadow-xl":"premium"===c,"bg-white/50 dark:bg-gray-900/50 border-white/10 dark:border-gray-700/20 shadow-md":"subtle"===c,"cursor-pointer":f,"hover:shadow-2xl hover:scale-[1.02]":f,"hover:bg-white/90 dark:hover:bg-gray-900/90":f},a),whileHover:f?{scale:1.02,y:-2}:void 0,transition:{type:"spring",stiffness:300,damping:30},...i,children:[g&&(0,b.jsx)(e.motion.div,{className:"absolute inset-0 rounded-2xl opacity-0 blur-xl",style:{background:`radial-gradient(circle, ${h} 0%, transparent 70%)`},animate:{opacity:[0,.5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),(0,b.jsx)("div",{className:"relative z-10",children:i.children})]}));f.displayName="GlassCard",a.s(["GlassCard",()=>f])},114548,a=>{"use strict";let b=(0,a.i(170106).default)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);a.s(["Save",()=>b],114548)},773320,a=>{"use strict";let b=(0,a.i(170106).default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);a.s(["Upload",()=>b],773320)},266275,a=>{"use strict";var b=a.i(269240);let c=new class{supabase;constructor(a){this.supabase=a||(0,b.createClient)()}async getCourses(a,b){try{let c=this.supabase.from("courses").select("*, instructor:users(id, full_name, email), formation:formations(*)").eq("organization_id",a);b?.instructorId&&(c=c.eq("instructor_id",b.instructorId)),b?.isPublished!==void 0&&(c=c.eq("is_published",b.isPublished)),b?.isFeatured&&(c=c.eq("is_featured",!0)),b?.difficulty&&(c=c.eq("difficulty_level",b.difficulty)),b?.search&&(c=c.or(`title.ilike.%${b.search}%,description.ilike.%${b.search}%`));let{data:d,error:e}=await c.order("created_at",{ascending:!1});if(e){if("PGRST116"===e.code||"42P01"===e.code||"PGRST301"===e.code||400===e.status||"400"===e.code||e.message?.includes("relation")||e.message?.includes("relationship")||e.message?.includes("does not exist")||e.message?.includes("schema cache"))return console.warn("Table courses does not exist yet or invalid query:",e.message),[];throw e}return d||[]}catch(a){if(a?.code==="PGRST116"||a?.code==="42P01"||a?.code==="PGRST301"||a?.status===400||a?.code==="400"||a?.message?.includes("relation")||a?.message?.includes("relationship")||a?.message?.includes("does not exist")||a?.message?.includes("schema cache"))return console.warn("Table courses does not exist yet or invalid query:",a?.message||String(a)),[];throw a}}async getCourseBySlug(a,b){try{let c=this.supabase.from("courses").select(`
          *,
          instructor:users(id, full_name, email),
          formation:formations(*),
          sections:course_sections(*),
          lessons:lessons(*)
        `).eq("slug",a).eq("organization_id",b),{data:d,error:e}=await c.maybeSingle();if(e){if("PGRST116"===e.code||"42P01"===e.code||"PGRST301"===e.code||400===e.status||"400"===e.code||e.message?.includes("relation")||e.message?.includes("relationship")||e.message?.includes("does not exist")||e.message?.includes("schema cache"))return console.warn("Table courses or relations do not exist yet or invalid query:",e.message),null;throw e}return d}catch(a){if(a?.code==="PGRST116"||a?.code==="42P01"||a?.code==="PGRST301"||a?.status===400||a?.code==="400"||a?.message?.includes("relation")||a?.message?.includes("relationship")||a?.message?.includes("does not exist")||a?.message?.includes("schema cache"))return console.warn("Table courses or relations do not exist yet or invalid query:",a?.message),null;throw a}}async createCourse(a){let{data:b,error:c}=await this.supabase.from("courses").insert(a).select().single();if(c)throw c;return b}async updateCourse(a,b){let{data:c,error:d}=await this.supabase.from("courses").update(b).eq("id",a).select().single();if(d)throw d;return c}async deleteCourse(a){let{error:b}=await this.supabase.from("courses").delete().eq("id",a);if(b)throw b}async getCourseSections(a){let{data:b,error:c}=await this.supabase.from("course_sections").select("*").eq("course_id",a).order("order_index",{ascending:!0});if(c)throw c;return b}async createSection(a){let{data:b,error:c}=await this.supabase.from("course_sections").insert(a).select().single();if(c)throw c;return b}async updateSection(a,b){let{data:c,error:d}=await this.supabase.from("course_sections").update(b).eq("id",a).select().single();if(d)throw d;return c}async deleteSection(a){let{error:b}=await this.supabase.from("lessons").update({section_id:null}).eq("section_id",a);if(b)throw b;let{error:c}=await this.supabase.from("course_sections").delete().eq("id",a);if(c)throw c}async getCourseLessons(a){let{data:b,error:c}=await this.supabase.from("lessons").select("*").eq("course_id",a).order("order_index",{ascending:!0});if(c)throw c;return b}async getLessonById(a){let{data:b,error:c}=await this.supabase.from("lessons").select("*, course:courses(*), section:course_sections(*)").eq("id",a).single();if(c)throw c;return b}async getLessonBySlug(a,b){let{data:c,error:d}=await this.supabase.from("lessons").select("*, course:courses(*), section:course_sections(*)").eq("slug",a).eq("course_id",b).single();if(d)throw d;return c}async createLesson(a){let{data:b,error:c}=await this.supabase.from("lessons").insert(a).select().single();if(c)throw c;return await this.updateCourseLessonCount(a.course_id),b}async updateLesson(a,b){let{data:c,error:d}=await this.supabase.from("lessons").update(b).eq("id",a).select().single();if(d)throw d;return c}async deleteLesson(a){let{data:b}=await this.supabase.from("lessons").select("course_id").eq("id",a).single(),{error:c}=await this.supabase.from("lessons").delete().eq("id",a);if(c)throw c;b&&await this.updateCourseLessonCount(b.course_id)}async updateCourseLessonCount(a){let{count:b}=await this.supabase.from("lessons").select("*",{count:"exact",head:!0}).eq("course_id",a);await this.supabase.from("courses").update({total_lessons:b||0}).eq("id",a)}async enrollInCourse(a,b){let{data:c,error:d}=await this.supabase.from("course_enrollments").insert({course_id:a,student_id:b,enrollment_status:"enrolled"}).select().single();if(d)throw d;return await this.incrementCourseStudentCount(a),c}async getStudentEnrollments(a){try{let{data:b,error:c}=await this.supabase.from("course_enrollments").select(`
          *,
          course:courses(*, instructor:users(id, full_name, email))
        `).eq("student_id",a).order("enrolled_at",{ascending:!1});if(c){if("PGRST116"===c.code||"42P01"===c.code||"PGRST301"===c.code||400===c.status||"400"===c.code||c.message?.includes("relation")||c.message?.includes("relationship")||c.message?.includes("does not exist")||c.message?.includes("schema cache"))return console.warn("Table course_enrollments does not exist yet or invalid query:",c.message),[];throw c}return b||[]}catch(a){if(a?.code==="PGRST116"||a?.code==="42P01"||a?.code==="PGRST301"||a?.status===400||a?.code==="400"||a?.message?.includes("relation")||a?.message?.includes("relationship")||a?.message?.includes("does not exist")||a?.message?.includes("schema cache"))return console.warn("Table course_enrollments does not exist yet or invalid query:",a?.message||String(a)),[];throw a}}async getCourseEnrollments(a){let{data:b,error:c}=await this.supabase.from("course_enrollments").select(`
        *,
        student:users(id, full_name, email)
      `).eq("course_id",a).order("enrolled_at",{ascending:!1});if(c)throw c;return b}async updateEnrollment(a,b){let{data:c,error:d}=await this.supabase.from("course_enrollments").update(b).eq("id",a).select().single();if(d)throw d;return c}async incrementCourseStudentCount(a){let{data:b}=await this.supabase.from("courses").select("total_students").eq("id",a).single();b&&await this.supabase.from("courses").update({total_students:(b.total_students||0)+1}).eq("id",a)}async getLessonProgress(a,b){let{data:c,error:d}=await this.supabase.from("lesson_progress").select("*").eq("lesson_id",a).eq("student_id",b).maybeSingle();if(d)throw d;return c}async updateLessonProgress(a,b,c){let d=await this.getLessonProgress(a,b);if(d){let{data:a,error:b}=await this.supabase.from("lesson_progress").update({...c,last_accessed_at:new Date().toISOString()}).eq("id",d.id).select().single();if(b)throw b;return a}{let{data:d,error:e}=await this.supabase.from("lesson_progress").insert({lesson_id:a,student_id:b,...c,started_at:new Date().toISOString(),last_accessed_at:new Date().toISOString()}).select().single();if(e)throw e;return d}}async markLessonAsCompleted(a,b){return this.updateLessonProgress(a,b,{is_completed:!0,completion_percentage:100,completed_at:new Date().toISOString()})}async getQuiz(a){let{data:b,error:c}=await this.supabase.from("quizzes").select("*, questions:quiz_questions(*)").eq("id",a).single();if(c)throw c;return b}async createQuiz(a){let{data:b,error:c}=await this.supabase.from("quizzes").insert(a).select().single();if(c)throw c;return b}async createQuizQuestion(a){let{data:b,error:c}=await this.supabase.from("quiz_questions").insert(a).select().single();if(c)throw c;return b}async submitQuizAttempt(a){let b=await this.getQuiz(a.quiz_id);if(!b||!b.questions)throw Error("Quiz non trouvé");let c=b.questions,d=a.answers,e=0,f=c.length;c.forEach(a=>{let b=d[a.id],c={question_type:a.question_type,options:a.options,correct_answer:a.correct_answer};this.isAnswerCorrect(c,b)&&e++});let g=f>0?e/f*100:0,h=g>=(b.passing_score||70),{data:i,error:j}=await this.supabase.from("quiz_attempts").insert({...a,score:g,total_questions:f,correct_answers:e,is_passed:h,completed_at:new Date().toISOString()}).select().single();if(j)throw j;return i}isAnswerCorrect(a,b){switch(a.question_type){case"multiple_choice":let c=a.options,d=c?.find(a=>a.is_correct);return b===d?.text;case"true_false":return b===a.correct_answer;case"short_answer":return String(b||"").toLowerCase().trim()===String(a.correct_answer||"").toLowerCase().trim();default:return!1}}async getStudentQuizAttempts(a,b){let{data:c,error:d}=await this.supabase.from("quiz_attempts").select("*").eq("quiz_id",a).eq("student_id",b).order("started_at",{ascending:!1});if(d)throw d;return c}async getCourseAssignments(a){let{data:b,error:c}=await this.supabase.from("assignments").select("*").eq("course_id",a).order("created_at",{ascending:!1});if(c)throw c;return b}async createAssignment(a){let{data:b,error:c}=await this.supabase.from("assignments").insert(a).select().single();if(c)throw c;return b}async submitAssignment(a){let{data:b,error:c}=await this.supabase.from("assignment_submissions").insert(a).select().single();if(c)throw c;return b}async gradeAssignment(a,b,c,d){let{data:e,error:f}=await this.supabase.from("assignment_submissions").update({score:b,feedback:c,graded_by:d,graded_at:new Date().toISOString(),status:"graded"}).eq("id",a).select().single();if(f)throw f;return e}async generateCertificate(a,b){let{data:c}=await this.supabase.from("course_enrollments").select("*").eq("course_id",a).eq("student_id",b).eq("enrollment_status","completed").maybeSingle();if(!c)throw Error("Le cours doit être complété pour générer un certificat");let{data:d}=await this.supabase.from("course_certificates").select("*").eq("course_id",a).eq("student_id",b).maybeSingle();if(d)return d;let{data:e,error:f}=await this.supabase.from("course_certificates").insert({course_id:a,student_id:b,enrollment_id:c.id,certificate_number:""}).select().single();if(f)throw f;return e}async getStudentCertificates(a){let{data:b,error:c}=await this.supabase.from("course_certificates").select("*, course:courses(*)").eq("student_id",a).order("issued_at",{ascending:!1});if(c)throw c;return b}async createReview(a){let{data:b,error:c}=await this.supabase.from("course_reviews").insert(a).select().single();if(c)throw c;return b}async getCourseReviews(a){let{data:b,error:c}=await this.supabase.from("course_reviews").select("*, student:users(id, full_name, email)").eq("course_id",a).order("created_at",{ascending:!1});if(c)throw c;return b}async getCourseRatingStats(a){let{data:b,error:c}=await this.supabase.from("course_reviews").select("rating").eq("course_id",a);if(c)throw c;let d={total:b.length,average:0,distribution:{1:0,2:0,3:0,4:0,5:0}};if(b.length>0){let a=b.map(a=>a.rating).filter(Boolean);d.average=a.reduce((a,b)=>a+b,0)/a.length,a.forEach(a=>{d.distribution[a]++})}return d}};a.s(["elearningService",0,c])},790851,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(50944),e=a.i(370025),f=a.i(433217),g=a.i(695245),h=a.i(159501),i=a.i(88780),j=a.i(913216),k=a.i(266275),l=a.i(269240),m=a.i(340695),n=a.i(219897),o=a.i(400210),p=a.i(469769),q=a.i(114548),r=a.i(773320),s=a.i(633508),t=a.i(238246),u=a.i(864037);a.i(460355);var v=a.i(346271),w=a.i(497895);let x=i.z.object({title:i.z.string().min(3,"Le titre doit contenir au moins 3 caractères"),slug:i.z.string().min(3,"Le slug doit contenir au moins 3 caractères").regex(/^[a-z0-9-]+$/,"Le slug ne peut contenir que des lettres minuscules, chiffres et tirets"),short_description:i.z.string().optional(),description:i.z.string().optional(),difficulty_level:i.z.enum(["beginner","intermediate","advanced"]).default("beginner"),estimated_duration_hours:i.z.number().min(0).optional(),price:i.z.number().min(0).optional(),currency:i.z.string().default("XOF"),is_published:i.z.boolean().default(!1),is_featured:i.z.boolean().default(!1),instructor_id:i.z.string().optional(),formation_id:i.z.string().optional()});function y(){let a=(0,d.useRouter)(),{user:i}=(0,j.useAuth)(),{addToast:y}=(0,u.useToast)(),z=(0,l.createClient)(),[A,B]=(0,c.useState)(null),[C,D]=(0,c.useState)(null),{data:E}=(0,f.useQuery)({queryKey:["teachers",i?.organization_id],queryFn:async()=>{let{data:a,error:b}=await z.from("users").select("id, full_name, email").eq("organization_id",i?.organization_id||"").eq("role","teacher").eq("is_active",!0);if(b)throw b;return a||[]},enabled:!!i?.organization_id}),{data:F}=(0,f.useQuery)({queryKey:["formations",i?.organization_id],queryFn:async()=>{let{data:a,error:b}=await z.from("formations").select("id, name, code").eq("organization_id",i?.organization_id||"").eq("is_active",!0);if(b)throw b;return a||[]},enabled:!!i?.organization_id}),{register:G,handleSubmit:H,formState:{errors:I},watch:J,setValue:K}=(0,g.useForm)({resolver:(0,h.zodResolver)(x),mode:"onChange",defaultValues:{difficulty_level:"beginner",currency:"XOF",is_published:!1,is_featured:!1}});J("title");let L=(0,e.useMutation)({mutationFn:async a=>{if(!i?.organization_id)throw Error("Organization ID manquant");let b=null;if(A){let a=A.name.split(".").pop(),c=`${i.organization_id}/courses/thumbnails/${Date.now()}.${a}`,d=null;for(let a of["course-thumbnails","elearning-media","course-media"]){let{error:e}=await z.storage.from(a).upload(c,A,{cacheControl:"3600",upsert:!1});if(!e){let{data:e}=z.storage.from(a).getPublicUrl(c);b=e.publicUrl,d=null;break}d=e}if(d)throw console.error("Erreur upload miniature (storage):",d),Error(d?.message||"Erreur lors de l'upload de la miniature (bucket course-thumbnails/elearning-media/course-media).")}return k.elearningService.createCourse({organization_id:i.organization_id,title:a.title,slug:a.slug,short_description:a.short_description||null,description:a.description||null,difficulty_level:a.difficulty_level,estimated_duration_hours:a.estimated_duration_hours||null,price:a.price||null,currency:a.currency,is_published:a.is_published,is_featured:a.is_featured,instructor_id:a.instructor_id||i.id,formation_id:a.formation_id||null,thumbnail_url:b,total_lessons:0,total_students:0})},onSuccess:b=>{y({type:"success",title:"Séquence créée avec succès",description:"Votre séquence e-learning a été créée. Créez maintenant votre première leçon avec du contenu."}),a.push(`/dashboard/elearning/courses/${b.slug}/lessons/new`)},onError:a=>{y({type:"error",title:"Erreur",description:a.message||"Une erreur est survenue lors de la création de la séquence"})}});return(0,b.jsxs)(v.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8 pb-8 max-w-5xl mx-auto p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(t.default,{href:"/dashboard/elearning",children:(0,b.jsx)(m.Button,{variant:"ghost",size:"icon",children:(0,b.jsx)(o.ArrowLeft,{className:"h-4 w-4"})})}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-brand-blue-ghost rounded-xl",children:(0,b.jsx)(p.GraduationCap,{className:"h-6 w-6 text-brand-blue"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Nouvelle séquence e-learning"}),(0,b.jsx)("p",{className:"text-gray-500 mt-1",children:"Créez une nouvelle séquence de formation en ligne"})]})]})]}),(0,b.jsxs)("form",{onSubmit:H(a=>{L.mutate(a)}),className:"space-y-6",children:[(0,b.jsxs)(n.GlassCard,{variant:"premium",className:"p-6",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Informations principales"}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Titre de la séquence *"}),(0,b.jsx)("input",{type:"text",...G("title"),onChange:a=>{let b=a.target.value;K("title",b),b&&K("slug",b.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""))},className:(0,w.cn)("w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-brand-blue focus:border-transparent transition-all",I.title?"border-red-500":"border-gray-200"),placeholder:"Ex: Introduction à React"}),I.title&&(0,b.jsx)("p",{className:"text-sm text-red-600 mt-1",children:I.title.message})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Slug (URL) *"}),(0,b.jsx)("input",{type:"text",...G("slug"),className:(0,w.cn)("w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-brand-blue focus:border-transparent transition-all bg-gray-50",I.slug?"border-red-500":"border-gray-200"),placeholder:"introduction-a-react"}),I.slug&&(0,b.jsx)("p",{className:"text-sm text-red-600 mt-1",children:I.slug.message}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"L'URL de votre séquence sera : /courses/[slug]"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description courte"}),(0,b.jsx)("textarea",{...G("short_description"),rows:2,className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-brand-blue focus:border-transparent transition-all resize-none",placeholder:"Une brève description qui apparaîtra dans les listes..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description complète"}),(0,b.jsx)("textarea",{...G("description"),rows:6,className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-brand-blue focus:border-transparent transition-all resize-none",placeholder:"Décrivez en détail le contenu de cette séquence..."})]})]})]}),(0,b.jsxs)(n.GlassCard,{variant:"premium",className:"p-6",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Paramètres"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Niveau de difficulté"}),(0,b.jsxs)("select",{...G("difficulty_level"),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-brand-blue focus:border-transparent transition-all",children:[(0,b.jsx)("option",{value:"beginner",children:"Débutant"}),(0,b.jsx)("option",{value:"intermediate",children:"Intermédiaire"}),(0,b.jsx)("option",{value:"advanced",children:"Avancé"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Durée estimée (heures)"}),(0,b.jsx)("input",{type:"number",...G("estimated_duration_hours",{valueAsNumber:!0}),min:"0",step:"0.5",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-brand-blue focus:border-transparent transition-all",placeholder:"10"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prix"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("input",{type:"number",...G("price",{valueAsNumber:!0}),min:"0",step:"0.01",className:"flex-1 px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-brand-blue focus:border-transparent transition-all",placeholder:"0"}),(0,b.jsxs)("select",{...G("currency"),className:"w-24 px-3 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-brand-blue focus:border-transparent transition-all",children:[(0,b.jsx)("option",{value:"XOF",children:"XOF"}),(0,b.jsx)("option",{value:"EUR",children:"EUR"}),(0,b.jsx)("option",{value:"USD",children:"USD"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enseignant"}),(0,b.jsxs)("select",{...G("instructor_id"),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-brand-blue focus:border-transparent transition-all",children:[(0,b.jsx)("option",{value:"",children:"Moi-même"}),E?.map(a=>(0,b.jsxs)("option",{value:a.id,children:[a.full_name," (",a.email,")"]},a.id))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Formation associée (optionnel)"}),(0,b.jsxs)("select",{...G("formation_id"),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-brand-blue focus:border-transparent transition-all",children:[(0,b.jsx)("option",{value:"",children:"Aucune"}),F?.map(a=>(0,b.jsxs)("option",{value:a.id,children:[a.name," (",a.code,")"]},a.id))]})]})]})]}),(0,b.jsxs)(n.GlassCard,{variant:"premium",className:"p-6",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Miniature"}),(0,b.jsx)("div",{className:"space-y-4",children:C?(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("img",{src:C,alt:"Aperçu",className:"w-full h-64 object-cover rounded-lg border border-gray-200"}),(0,b.jsx)("button",{type:"button",onClick:()=>{B(null),D(null)},className:"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:(0,b.jsx)(s.X,{className:"h-4 w-4"})})]}):(0,b.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-12 text-center hover:border-brand-blue transition-colors",children:[(0,b.jsx)(r.Upload,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-600 mb-2",children:"Cliquez pour télécharger une miniature"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"PNG, JPG jusqu'à 5MB"}),(0,b.jsx)("input",{type:"file",accept:"image/*",onChange:a=>{let b=a.target.files?.[0];if(b){B(b);let a=new FileReader;a.onloadend=()=>{D(a.result)},a.readAsDataURL(b)}},className:"hidden",id:"thumbnail-upload"}),(0,b.jsx)("label",{htmlFor:"thumbnail-upload",className:"mt-4 inline-block px-4 py-2 bg-brand-blue text-white rounded-lg hover:bg-brand-blue/90 transition-colors cursor-pointer",children:"Choisir un fichier"})]})})]}),(0,b.jsxs)(n.GlassCard,{variant:"premium",className:"p-6",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Options de publication"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",...G("is_published"),className:"w-5 h-5 text-brand-blue border-gray-300 rounded focus:ring-brand-blue"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium text-gray-900",children:"Publier immédiatement"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"La séquence sera visible par tous les utilisateurs"})]})]}),(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",...G("is_featured"),className:"w-5 h-5 text-brand-blue border-gray-300 rounded focus:ring-brand-blue"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium text-gray-900",children:"Mettre en vedette"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:'La séquence apparaîtra dans la section "Sélection du moment"'})]})]})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,b.jsx)(t.default,{href:"/dashboard/elearning",children:(0,b.jsx)(m.Button,{variant:"ghost",type:"button",children:"Annuler"})}),(0,b.jsx)(m.Button,{type:"submit",disabled:L.isPending,className:"bg-brand-blue hover:bg-brand-blue/90 text-white shadow-lg shadow-brand-blue/20",children:L.isPending?(0,b.jsx)(b.Fragment,{children:"Création..."}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(q.Save,{className:"h-4 w-4 mr-2"}),"Créer la séquence"]})})]})]})]})}a.s(["default",()=>y])}];

//# sourceMappingURL=_75c2b5b3._.js.map