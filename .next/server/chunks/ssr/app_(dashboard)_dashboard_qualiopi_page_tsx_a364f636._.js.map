{"version":3,"sources":["../../../../app/%28dashboard%29/dashboard/qualiopi/page.tsx","../../../../lib/services/qualiopi.service.ts"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\nimport { useAuth } from '@/lib/hooks/use-auth'\nimport { qualiopiService, type QualiopiIndicator } from '@/lib/services/qualiopi.service'\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card'\nimport { Button } from '@/components/ui/button'\nimport { Badge } from '@/components/ui/badge'\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\nimport { useToast } from '@/components/ui/toast'\nimport {\n  Shield,\n  CheckCircle2,\n  XCircle,\n  AlertCircle,\n  Clock,\n  FileText,\n  TrendingUp,\n  Plus,\n  RefreshCw,\n  Accessibility\n} from 'lucide-react'\nimport Link from 'next/link'\n\nconst STATUS_COLORS = {\n  not_started: 'bg-gray-100 text-gray-800',\n  in_progress: 'bg-blue-100 text-blue-800',\n  compliant: 'bg-green-100 text-green-800',\n  non_compliant: 'bg-red-100 text-red-800',\n  needs_improvement: 'bg-yellow-100 text-yellow-800',\n}\n\nconst STATUS_ICONS = {\n  not_started: Clock,\n  in_progress: RefreshCw,\n  compliant: CheckCircle2,\n  non_compliant: XCircle,\n  needs_improvement: AlertCircle,\n}\n\nexport default function QualiopiPage() {\n  const { user } = useAuth()\n  const queryClient = useQueryClient()\n  const { addToast } = useToast()\n  const [selectedCategory, setSelectedCategory] = useState<string>('all')\n\n  // Récupérer les indicateurs\n  const { data: indicators = [], isLoading } = useQuery({\n    queryKey: ['qualiopi-indicators', user?.organization_id],\n    queryFn: async () => {\n      try {\n        return await qualiopiService.getIndicators(user!.organization_id!)\n      } catch (error: any) {\n        // Si la table n'existe pas encore ou erreur 404, retourner un tableau vide\n        if (\n          error?.code === 'PGRST116' ||\n          error?.code === '42P01' ||\n          error?.code === 'PGRST301' ||\n          error?.status === 404 ||\n          error?.code === '404' ||\n          error?.message?.includes('relation') ||\n          error?.message?.includes('relationship') ||\n          error?.message?.includes('does not exist') ||\n          error?.message?.includes('schema cache')\n        ) {\n          console.warn('Error fetching qualiopi indicators:', error?.message)\n          return []\n        }\n        throw error\n      }\n    },\n    enabled: !!user?.organization_id,\n    retry: false,\n  })\n\n  // Calculer le taux de conformité\n  const { data: complianceRate = 0 } = useQuery({\n    queryKey: ['qualiopi-compliance-rate', user?.organization_id],\n    queryFn: async () => {\n      try {\n        return await qualiopiService.calculateComplianceRate(user!.organization_id!)\n      } catch (error: any) {\n        // Si la fonction RPC n'existe pas encore ou erreur 404, retourner 0\n        // La gestion d'erreur est déjà faite dans le service, mais on double la vérification ici\n        const is404Error = \n          error?.code === 'PGRST116' ||\n          error?.code === '42883' ||\n          error?.code === 'PGRST301' ||\n          error?.status === 404 ||\n          error?.code === '404' ||\n          String(error?.status) === '404' ||\n          error?.message?.toLowerCase().includes('function') ||\n          error?.message?.toLowerCase().includes('does not exist') ||\n          error?.message?.toLowerCase().includes('schema cache') ||\n          error?.message?.toLowerCase().includes('not found') ||\n          error?.message?.toLowerCase().includes('404')\n\n        if (is404Error) {\n          // L'erreur est déjà gérée dans le service, on retourne simplement 0\n          return 0\n        }\n        throw error\n      }\n    },\n    enabled: !!user?.organization_id,\n    retry: false,\n  })\n\n  // Initialiser les indicateurs si nécessaire\n  const initializeIndicators = useMutation({\n    mutationFn: () => qualiopiService.initializeIndicators(user!.organization_id!),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['qualiopi-indicators'] })\n      addToast({\n        title: 'Indicateurs initialisés',\n        description: 'Les indicateurs Qualiopi ont été initialisés avec succès.',\n        type: 'success',\n      })\n    },\n    onError: (error: any) => {\n      console.error('Error initializing indicators:', error)\n      addToast({\n        type: 'error',\n        title: 'Erreur',\n        description: error?.message || 'Une erreur est survenue lors de l\\'initialisation des indicateurs.',\n      })\n    },\n  })\n\n  // Filtrer par catégorie\n  const categories = Array.from(new Set(indicators.map((i) => i.category)))\n  const filteredIndicators = selectedCategory === 'all'\n    ? indicators\n    : indicators.filter((i) => i.category === selectedCategory)\n\n  // Statistiques\n  const stats = {\n    total: indicators.length,\n    compliant: indicators.filter((i) => i.status === 'compliant').length,\n    inProgress: indicators.filter((i) => i.status === 'in_progress').length,\n    nonCompliant: indicators.filter((i) => i.status === 'non_compliant').length,\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"container mx-auto py-8 px-4\">\n        <div className=\"flex items-center justify-center h-64\">\n          <RefreshCw className=\"h-8 w-8 animate-spin text-brand-blue\" />\n        </div>\n      </div>\n    )\n  }\n\n  // Si aucun indicateur, proposer l'initialisation\n  if (indicators.length === 0) {\n    return (\n      <div className=\"container mx-auto py-8 px-4 max-w-4xl\">\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <Shield className=\"h-6 w-6\" />\n              Module Qualiopi\n            </CardTitle>\n            <CardDescription>\n              Initialisez les indicateurs Qualiopi pour commencer la gestion de votre certification qualité\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-center py-8\">\n              <p className=\"text-muted-foreground mb-6\">\n                Aucun indicateur Qualiopi n'a été configuré pour votre organisation.\n              </p>\n              <Button onClick={() => initializeIndicators.mutate()} disabled={initializeIndicators.isPending}>\n                {initializeIndicators.isPending ? (\n                  <>\n                    <RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" />\n                    Initialisation...\n                  </>\n                ) : (\n                  <>\n                    <Plus className=\"h-4 w-4 mr-2\" />\n                    Initialiser les indicateurs Qualiopi\n                  </>\n                )}\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"container mx-auto py-8 px-4 max-w-7xl\">\n      {/* Header */}\n      <div className=\"mb-8\">\n        <h1 className=\"text-3xl font-bold mb-2 flex items-center gap-2\">\n          <Shield className=\"h-8 w-8 text-brand-blue\" />\n          Certification Qualiopi\n        </h1>\n        <p className=\"text-muted-foreground\">\n          Gérez votre certification qualité et vos indicateurs de conformité\n        </p>\n      </div>\n\n      {/* Statistiques */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8\">\n        <Card>\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Taux de conformité</p>\n                <p className=\"text-2xl font-bold\">{complianceRate.toFixed(1)}%</p>\n              </div>\n              <TrendingUp className=\"h-8 w-8 text-green-500\" />\n            </div>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Conformes</p>\n                <p className=\"text-2xl font-bold\">{stats.compliant}</p>\n              </div>\n              <CheckCircle2 className=\"h-8 w-8 text-green-500\" />\n            </div>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-muted-foreground\">En cours</p>\n                <p className=\"text-2xl font-bold\">{stats.inProgress}</p>\n              </div>\n              <Clock className=\"h-8 w-8 text-blue-500\" />\n            </div>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Non conformes</p>\n                <p className=\"text-2xl font-bold\">{stats.nonCompliant}</p>\n              </div>\n              <XCircle className=\"h-8 w-8 text-red-500\" />\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Section Accessibilité (Critère 8) */}\n      <Card className=\"mb-8 border-blue-200 bg-blue-50/50\">\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Accessibility className=\"h-5 w-5 text-blue-600\" />\n            Critère 8 - Accessibilité Handicap\n          </CardTitle>\n          <CardDescription>\n            Gestion de l'accessibilité conforme aux exigences Qualiopi (indicateurs 8.1 et 8.2)\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex-1\">\n              <p className=\"text-sm text-muted-foreground mb-2\">\n                Assurez-vous de désigner un référent handicap, définir une politique d'accessibilité,\n                et mettre en place des aménagements pour les stagiaires en situation de handicap.\n              </p>\n              <div className=\"flex items-center gap-2 text-sm\">\n                <Badge variant=\"outline\" className=\"bg-white\">\n                  Indicateur 8.1 : Accessibilité physique\n                </Badge>\n                <Badge variant=\"outline\" className=\"bg-white\">\n                  Indicateur 8.2 : Accessibilité numérique\n                </Badge>\n              </div>\n            </div>\n            <Link href=\"/dashboard/accessibility\">\n              <Button className=\"ml-4\">\n                Gérer l'accessibilité\n              </Button>\n            </Link>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Navigation par catégories */}\n      <Tabs value={selectedCategory} onValueChange={setSelectedCategory} className=\"mb-6\">\n        <TabsList>\n          <TabsTrigger value=\"all\">\n            Tous ({indicators.length})\n          </TabsTrigger>\n          {categories.map((category) => (\n            <TabsTrigger\n              key={category}\n              value={category}\n            >\n              {category.replace(/_/g, ' ').replace(/\\b\\w/g, (l) => l.toUpperCase())}\n            </TabsTrigger>\n          ))}\n        </TabsList>\n      </Tabs>\n\n      {/* Liste des indicateurs */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n        {filteredIndicators.map((indicator) => {\n          const StatusIcon = STATUS_ICONS[indicator.status]\n          return (\n            <Card key={indicator.id} className=\"hover:shadow-lg transition-shadow\">\n              <CardHeader>\n                <div className=\"flex items-start justify-between\">\n                  <div>\n                    <CardTitle className=\"text-lg\">{indicator.indicator_code}</CardTitle>\n                    <CardDescription className=\"mt-1\">{indicator.indicator_name}</CardDescription>\n                  </div>\n                  <StatusIcon className={`h-5 w-5 ${STATUS_COLORS[indicator.status].split(' ')[1]}`} />\n                </div>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-sm text-muted-foreground\">Statut</span>\n                    <Badge className={STATUS_COLORS[indicator.status]}>\n                      {indicator.status.replace(/_/g, ' ')}\n                    </Badge>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-sm text-muted-foreground\">Conformité</span>\n                    <span className=\"font-semibold\">{indicator.compliance_rate}%</span>\n                  </div>\n                  <Button\n                    variant=\"outline\"\n                    className=\"w-full\"\n                    asChild\n                  >\n                    <Link href={`/dashboard/qualiopi/indicators/${indicator.id}`}>\n                      <FileText className=\"h-4 w-4 mr-2\" />\n                      Voir les détails\n                    </Link>\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n          )\n        })}\n      </div>\n\n      {/* Actions rapides */}\n      <div className=\"mt-8 flex gap-4\">\n        <Button asChild>\n          <Link href=\"/dashboard/qualiopi/audits\">\n            <FileText className=\"h-4 w-4 mr-2\" />\n            Audits\n          </Link>\n        </Button>\n        <Button variant=\"outline\" asChild>\n          <Link href=\"/dashboard/qualiopi/actions\">\n            <AlertCircle className=\"h-4 w-4 mr-2\" />\n            Actions correctives\n          </Link>\n        </Button>\n        <Button variant=\"outline\" asChild>\n          <Link href=\"/dashboard/qualiopi/reports\">\n            <FileText className=\"h-4 w-4 mr-2\" />\n            Rapports\n          </Link>\n        </Button>\n      </div>\n    </div>\n  )\n}\n","/**\n * Service Qualiopi - Gestion de la certification qualité\n * Pour les organismes de formation en France\n */\n\nimport { createClient } from '@/lib/supabase/client'\nimport type { SupabaseClient } from '@supabase/supabase-js'\n\nexport interface QualiopiIndicator {\n  id: string\n  organization_id: string\n  indicator_code: string\n  indicator_name: string\n  category: string\n  description?: string\n  status: 'not_started' | 'in_progress' | 'compliant' | 'non_compliant' | 'needs_improvement'\n  compliance_rate: number\n  last_evaluation_date?: string\n  next_evaluation_date?: string\n  notes?: string\n  created_at: string\n  updated_at: string\n}\n\nexport interface QualiopiEvidence {\n  id: string\n  organization_id: string\n  indicator_id: string\n  evidence_type: 'document' | 'photo' | 'video' | 'testimony' | 'data' | 'report' | 'certificate' | 'other'\n  title: string\n  description?: string\n  file_url?: string\n  file_type?: string\n  file_size?: number\n  upload_date: string\n  uploaded_by?: string\n  validity_start_date?: string\n  validity_end_date?: string\n  is_valid: boolean\n  status: 'pending' | 'approved' | 'rejected' | 'expired'\n  reviewer_id?: string\n  review_date?: string\n  review_notes?: string\n  created_at: string\n  updated_at: string\n}\n\nexport interface QualiopiCorrectiveAction {\n  id: string\n  organization_id: string\n  indicator_id?: string\n  title: string\n  description: string\n  priority: 'low' | 'medium' | 'high' | 'critical'\n  status: 'pending' | 'in_progress' | 'completed' | 'cancelled'\n  assigned_to?: string\n  due_date?: string\n  completion_date?: string\n  completion_notes?: string\n  created_by: string\n  created_at: string\n  updated_at: string\n}\n\nexport interface QualiopiAudit {\n  id: string\n  organization_id: string\n  audit_type: 'internal' | 'external' | 'certification' | 'surveillance'\n  audit_date: string\n  auditor_name?: string\n  auditor_organization?: string\n  overall_score?: number\n  status: 'scheduled' | 'in_progress' | 'completed' | 'cancelled'\n  report_url?: string\n  findings?: Array<{ id: string; description: string; severity: 'low' | 'medium' | 'high' | 'critical'; indicator_code?: string }>\n  recommendations?: Array<{ id: string; description: string; priority: 'low' | 'medium' | 'high' | 'critical'; indicator_code?: string }>\n  certification_valid_until?: string\n  notes?: string\n  created_at: string\n  updated_at: string\n}\n\nexport class QualiopiService {\n  private supabase: SupabaseClient<any>\n\n\n  constructor(supabaseClient?: SupabaseClient<any>) {\n\n    this.supabase = supabaseClient || createClient()\n\n  }\n\n  /**\n   * Récupérer tous les indicateurs Qualiopi d'une organisation\n   */\n  async getIndicators(organizationId: string): Promise<QualiopiIndicator[]> {\n    const { data, error } = await this.supabase\n      .from('qualiopi_indicators')\n      .select('*')\n      .eq('organization_id', organizationId)\n      .order('indicator_code', { ascending: true })\n\n    if (error) {\n      // Si la table n'existe pas encore ou erreur 404, retourner un tableau vide\n      if (\n        error.code === 'PGRST116' ||\n        error.code === '42P01' ||\n        error.code === 'PGRST301' ||\n        (error as any).status === 404 ||\n        error.code === '404' ||\n        error.message?.includes('relation') ||\n        error.message?.includes('relationship') ||\n        error.message?.includes('does not exist') ||\n        error.message?.includes('schema cache')\n      ) {\n        console.warn('Table qualiopi_indicators does not exist yet or invalid query:', error?.message)\n        return []\n      }\n      throw error\n    }\n    return data || []\n  }\n\n  /**\n   * Récupérer un indicateur par son code\n   */\n  async getIndicatorByCode(organizationId: string, indicatorCode: string): Promise<QualiopiIndicator | null> {\n    const { data, error } = await this.supabase\n      .from('qualiopi_indicators')\n      .select('*')\n      .eq('organization_id', organizationId)\n      .eq('indicator_code', indicatorCode)\n      .single()\n\n    if (error) {\n      if (error.code === 'PGRST116') return null\n      throw error\n    }\n    return data\n  }\n\n  /**\n   * Créer ou mettre à jour un indicateur\n   */\n  async upsertIndicator(indicator: Partial<QualiopiIndicator>): Promise<QualiopiIndicator> {\n    const { data, error } = await this.supabase\n      .from('qualiopi_indicators')\n      .upsert(indicator, {\n        onConflict: 'organization_id,indicator_code',\n      })\n      .select()\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  /**\n   * Mettre à jour le statut d'un indicateur\n   */\n  async updateIndicatorStatus(\n    indicatorId: string,\n    status: QualiopiIndicator['status'],\n    complianceRate?: number\n  ): Promise<void> {\n    const updateData: Record<string, string | number> = { status, updated_at: new Date().toISOString() }\n    if (complianceRate !== undefined) {\n      updateData.compliance_rate = complianceRate\n      updateData.last_evaluation_date = new Date().toISOString()\n    }\n\n    const { error } = await this.supabase\n      .from('qualiopi_indicators')\n      .update(updateData)\n      .eq('id', indicatorId)\n\n    if (error) throw error\n  }\n\n  /**\n   * Récupérer les preuves d'un indicateur\n   */\n  async getEvidence(indicatorId: string): Promise<QualiopiEvidence[]> {\n    const { data, error } = await this.supabase\n      .from('qualiopi_evidence')\n      .select('*')\n      .eq('indicator_id', indicatorId)\n      .order('upload_date', { ascending: false })\n\n    if (error) throw error\n    return data || []\n  }\n\n  /**\n   * Ajouter une preuve\n   */\n  async addEvidence(evidence: Partial<QualiopiEvidence>): Promise<QualiopiEvidence> {\n    const { data, error } = await this.supabase\n      .from('qualiopi_evidence')\n      .insert(evidence)\n      .select()\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  /**\n   * Récupérer les actions correctives\n   */\n  async getCorrectiveActions(organizationId: string, filters?: {\n    indicatorId?: string\n    status?: string\n    priority?: string\n  }): Promise<QualiopiCorrectiveAction[]> {\n    let query = this.supabase\n      .from('qualiopi_corrective_actions')\n      .select('*')\n      .eq('organization_id', organizationId)\n\n    if (filters?.indicatorId) {\n      query = query.eq('indicator_id', filters.indicatorId)\n    }\n    if (filters?.status) {\n      query = query.eq('status', filters.status)\n    }\n    if (filters?.priority) {\n      query = query.eq('priority', filters.priority)\n    }\n\n    const { data, error } = await query.order('created_at', { ascending: false })\n\n    if (error) throw error\n    return data || []\n  }\n\n  /**\n   * Créer une action corrective\n   */\n  async createCorrectiveAction(action: Partial<QualiopiCorrectiveAction>): Promise<QualiopiCorrectiveAction> {\n    const { data, error } = await this.supabase\n      .from('qualiopi_corrective_actions')\n      .insert(action)\n      .select()\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  /**\n   * Récupérer les audits\n   */\n  async getAudits(organizationId: string): Promise<QualiopiAudit[]> {\n    const { data, error } = await this.supabase\n      .from('qualiopi_audits')\n      .select('*')\n      .eq('organization_id', organizationId)\n      .order('audit_date', { ascending: false })\n\n    if (error) throw error\n    return data || []\n  }\n\n  /**\n   * Créer un audit\n   */\n  async createAudit(audit: Partial<QualiopiAudit>): Promise<QualiopiAudit> {\n    const { data, error } = await this.supabase\n      .from('qualiopi_audits')\n      .insert(audit)\n      .select()\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  /**\n   * Calculer le taux de conformité global\n   */\n  async calculateComplianceRate(organizationId: string): Promise<number> {\n    try {\n      const { data, error } = await this.supabase.rpc('calculate_qualiopi_compliance_rate', {\n        org_id: organizationId,\n      })\n\n      if (error) {\n        // Si la fonction RPC n'existe pas encore ou erreur 404, retourner 0\n        const is404Error = \n          error.code === 'PGRST116' ||\n          error.code === '42883' ||\n          error.code === 'PGRST301' ||\n          (error as any).status === 404 ||\n          error.code === '404' ||\n          String((error as any).status) === '404' ||\n          String(error.code) === '404' ||\n          error.message?.toLowerCase().includes('function') ||\n          error.message?.toLowerCase().includes('does not exist') ||\n          error.message?.toLowerCase().includes('schema cache') ||\n          error.message?.toLowerCase().includes('not found') ||\n          error.message?.toLowerCase().includes('404')\n\n        if (is404Error) {\n          // Ne pas logger en mode production pour éviter le bruit dans la console\n          if (process.env.NODE_ENV === 'development') {\n            console.warn('Function calculate_qualiopi_compliance_rate does not exist yet. This is normal if the function has not been created in Supabase yet.')\n          }\n          return 0\n        }\n        throw error\n      }\n      return data || 0\n    } catch (err: unknown) {\n      // Capturer les erreurs réseau ou autres erreurs inattendues\n      const errorObj = err as { status?: number; code?: string; message?: string }\n      if (\n        errorObj?.status === 404 ||\n        errorObj?.code === '404' ||\n        String(errorObj?.status) === '404' ||\n        errorObj?.message?.toLowerCase().includes('not found') ||\n        errorObj?.message?.toLowerCase().includes('404') ||\n        errorObj?.message?.toLowerCase().includes('function') ||\n        errorObj?.message?.toLowerCase().includes('does not exist')\n      ) {\n        if (process.env.NODE_ENV === 'development') {\n          console.warn('Function calculate_qualiopi_compliance_rate does not exist yet. This is normal if the function has not been created in Supabase yet.')\n        }\n        return 0\n      }\n      throw err\n    }\n  }\n\n  /**\n   * Initialiser les indicateurs Qualiopi pour une organisation\n   */\n  async initializeIndicators(organizationId: string): Promise<void> {\n    // Liste des indicateurs Qualiopi standard\n    const standardIndicators = [\n      // Catégorie 1 : Conditions de réception\n      { code: '1.1', name: 'Information préalable', category: 'conditions_reception' },\n      { code: '1.2', name: 'Accueil et accompagnement', category: 'conditions_reception' },\n      { code: '1.3', name: 'Accessibilité', category: 'conditions_reception' },\n      \n      // Catégorie 2 : Identification des objectifs\n      { code: '2.1', name: 'Identification des besoins', category: 'identification_objectifs' },\n      { code: '2.2', name: 'Définition des objectifs', category: 'identification_objectifs' },\n      \n      // Catégorie 3 : Adaptation des parcours\n      { code: '3.1', name: 'Adaptation pédagogique', category: 'adaptation_parcours' },\n      { code: '3.2', name: 'Suivi individualisé', category: 'adaptation_parcours' },\n      \n      // Catégorie 4 : Adéquation des ressources\n      { code: '4.1', name: 'Ressources pédagogiques', category: 'adéquation_ressources' },\n      { code: '4.2', name: 'Ressources techniques', category: 'adéquation_ressources' },\n      { code: '4.3', name: 'Ressources humaines', category: 'adéquation_ressources' },\n      \n      // Catégorie 5 : Compétences des formateurs\n      { code: '5.1', name: 'Compétences pédagogiques', category: 'compétences_formateurs' },\n      { code: '5.2', name: 'Compétences techniques', category: 'compétences_formateurs' },\n      { code: '5.3', name: 'Formation continue', category: 'compétences_formateurs' },\n      \n      // Catégorie 6 : Inscription\n      { code: '6.1', name: 'Processus d\\'inscription', category: 'inscription' },\n      { code: '6.2', name: 'Contrat de formation', category: 'inscription' },\n      \n      // Catégorie 7 : Évaluation\n      { code: '7.1', name: 'Évaluation des acquis', category: 'evaluation' },\n      { code: '7.2', name: 'Certification', category: 'evaluation' },\n      \n      // Catégorie 8 : Accessibilité\n      { code: '8.1', name: 'Accessibilité physique', category: 'accessibilite' },\n      { code: '8.2', name: 'Accessibilité numérique', category: 'accessibilite' },\n      \n      // Catégorie 9 : Information du public\n      { code: '9.1', name: 'Transparence de l\\'information', category: 'information_public' },\n      { code: '9.2', name: 'Publicité', category: 'information_public' },\n      \n      // Catégorie 10 : Gouvernance\n      { code: '10.1', name: 'Gouvernance et pilotage', category: 'gouvernance' },\n      { code: '10.2', name: 'Amélioration continue', category: 'gouvernance' },\n    ]\n\n    const indicators = standardIndicators.map((indicator) => ({\n      organization_id: organizationId,\n      indicator_code: indicator.code,\n      indicator_name: indicator.name,\n      category: indicator.category,\n      status: 'not_started' as const,\n      compliance_rate: 0,\n    }))\n\n    const { error } = await this.supabase\n      .from('qualiopi_indicators')\n      .upsert(indicators, {\n        onConflict: 'organization_id,indicator_code',\n        ignoreDuplicates: false,\n      })\n\n    if (error) {\n      // Si la table n'existe pas encore ou erreur 404, logger un avertissement\n      if (\n        error.code === 'PGRST116' ||\n        error.code === '42P01' ||\n        error.code === 'PGRST301' ||\n        (error as any).status === 404 ||\n        error.code === '404' ||\n        error.message?.includes('relation') ||\n        error.message?.includes('relationship') ||\n        error.message?.includes('does not exist') ||\n        error.message?.includes('schema cache')\n      ) {\n        console.warn('Table qualiopi_indicators does not exist yet. Please create the table first:', error?.message)\n        throw new Error('La table qualiopi_indicators n\\'existe pas encore. Veuillez créer la table dans la base de données.')\n      }\n      throw error\n    }\n  }\n}\n\nexport const qualiopiService = new QualiopiService()\n"],"names":[],"mappings":"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"}