module.exports=[915618,a=>{"use strict";let b=(0,a.i(170106).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],915618)},400210,a=>{"use strict";let b=(0,a.i(170106).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],400210)},177156,a=>{"use strict";let b=(0,a.i(170106).default)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>b],177156)},621958,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(497895);let e=c.createContext(void 0);function f({value:a,defaultValue:f,onValueChange:g,children:h,className:i}){let j=void 0!==a,[k,l]=c.useState(f??"");c.useEffect(()=>{j||void 0===f||l(f)},[f]);let m=j?a:k,n=c.useCallback(a=>{j||l(a),g?.(a)},[j,g]);return(0,b.jsx)(e.Provider,{value:{value:m,onValueChange:n},children:(0,b.jsx)("div",{className:(0,d.cn)("w-full",i),children:h})})}function g(){let a=c.useContext(e);if(!a)throw Error("Tabs components must be used within a Tabs component");return a}function h({children:a,className:c}){return(0,b.jsx)("div",{className:(0,d.cn)("inline-flex h-10 items-center justify-center rounded-lg bg-bg-gray-100 p-1 text-text-tertiary",c),children:a})}function i({value:a,children:c,className:e}){let{value:f,onValueChange:h}=g(),i=f===a;return(0,b.jsx)("button",{type:"button",onClick:()=>h(a),className:(0,d.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-outline-none focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",i?"bg-white text-text-primary shadow-sm":"text-text-tertiary hover:text-text-primary",e),children:c})}function j({value:a,children:c,className:e}){let{value:f}=g();return f!==a?null:(0,b.jsx)("div",{className:(0,d.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),children:c})}a.s(["Tabs",()=>f,"TabsContent",()=>j,"TabsList",()=>h,"TabsTrigger",()=>i])},280281,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(497895);let e=c.forwardRef(({checked:a,onCheckedChange:c,disabled:e,className:f,...g},h)=>(0,b.jsx)("button",{type:"button",role:"switch","aria-checked":a,ref:h,disabled:e,onClick:()=>c?.(!a),className:(0,d.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",a?"bg-brand-blue":"bg-input",f),...g,children:(0,b.jsx)("span",{className:(0,d.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform",a?"translate-x-5":"translate-x-0")})}));e.displayName="Switch",a.s(["Switch",0,e])},683245,a=>{"use strict";let b=(0,a.i(170106).default)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);a.s(["Edit",()=>b],683245)},989451,a=>{"use strict";var b=a.i(269240);let c=new class{supabase;constructor(a){this.supabase=a||(0,b.createClient)()}async getCategories(a,b=!0){let c=this.supabase.from("documentation_categories").select("*").order("order_index",{ascending:!0});a?c=c.or(`organization_id.eq.${a},is_public.eq.true`):b&&(c=c.eq("is_public",!0));let{data:d,error:e}=await c;if(e)throw e;return d}async getCategoryBySlug(a,b){let c=this.supabase.from("documentation_categories").select("*").eq("slug",a).single();c=b?c.or(`organization_id.eq.${b},is_public.eq.true`):c.eq("is_public",!0);let{data:d,error:e}=await c;if(e)throw e;return d}async createCategory(a){let{data:b,error:c}=await this.supabase.from("documentation_categories").insert(a).select().single();if(c)throw c;return b}async updateCategory(a,b){let{data:c,error:d}=await this.supabase.from("documentation_categories").update(b).eq("id",a).select().single();if(d)throw d;return c}async deleteCategory(a){let{error:b}=await this.supabase.from("documentation_categories").delete().eq("id",a);if(b)throw b}async getArticlesByCategory(a,b="published"){let{data:c,error:d}=await this.supabase.from("documentation_articles").select("*, author:users(id, full_name, email)").eq("category_id",a).eq("status",b).order("order_index",{ascending:!0}).order("published_at",{ascending:!1});if(d)throw d;return c}async getArticleBySlug(a,b){let{data:c,error:d}=await this.supabase.from("documentation_articles").select(`
        *,
        category:documentation_categories(*),
        sections:documentation_sections(*),
        author:users(id, full_name, email)
      `).eq("slug",a).eq("category.slug",b).eq("status","published").single();if(d)throw d;return c&&await this.supabase.rpc("increment_article_view_count",{article_uuid:c.id}),c}async searchArticles(a,b){let c=this.supabase.from("documentation_articles").select("*, category:documentation_categories(*), author:users(id, full_name)").eq("status","published").or(`title.ilike.%${a}%,content.ilike.%${a}%,excerpt.ilike.%${a}%`);c=b?c.or(`organization_id.eq.${b},category.is_public.eq.true`):c.eq("category.is_public",!0);let{data:d,error:e}=await c.order("view_count",{ascending:!1}).limit(50);if(e)throw e;return d}async getPopularArticles(a=10,b){let c=this.supabase.from("documentation_articles").select("*, category:documentation_categories(*), author:users(id, full_name)").eq("status","published").order("view_count",{ascending:!1}).limit(a);c=b?c.or(`organization_id.eq.${b},category.is_public.eq.true`):c.eq("category.is_public",!0);let{data:d,error:e}=await c;if(e)throw e;return d}async getRecentArticles(a=10,b){let c=this.supabase.from("documentation_articles").select("*, category:documentation_categories(*), author:users(id, full_name)").eq("status","published").order("published_at",{ascending:!1}).limit(a);c=b?c.or(`organization_id.eq.${b},category.is_public.eq.true`):c.eq("category.is_public",!0);let{data:d,error:e}=await c;if(e)throw e;return d}async getFeaturedArticles(a=5,b){let c=this.supabase.from("documentation_articles").select("*, category:documentation_categories(*), author:users(id, full_name)").eq("status","published").eq("is_featured",!0).order("published_at",{ascending:!1}).limit(a);c=b?c.or(`organization_id.eq.${b},category.is_public.eq.true`):c.eq("category.is_public",!0);let{data:d,error:e}=await c;if(e)throw e;return d}async createArticle(a){let{data:b,error:c}=await this.supabase.from("documentation_articles").insert(a).select().single();if(c)throw c;return b}async updateArticle(a,b){let{data:c,error:d}=await this.supabase.from("documentation_articles").update(b).eq("id",a).select().single();if(d)throw d;return c}async deleteArticle(a){let{error:b}=await this.supabase.from("documentation_articles").delete().eq("id",a);if(b)throw b}async getArticleSections(a){let{data:b,error:c}=await this.supabase.from("documentation_sections").select("*").eq("article_id",a).order("order_index",{ascending:!0});if(c)throw c;return b}async createSection(a){let{data:b,error:c}=await this.supabase.from("documentation_sections").insert(a).select().single();if(c)throw c;return b}async updateSection(a,b){let{data:c,error:d}=await this.supabase.from("documentation_sections").update(b).eq("id",a).select().single();if(d)throw d;return c}async deleteSection(a){let{error:b}=await this.supabase.from("documentation_sections").delete().eq("id",a);if(b)throw b}async getUserFavorites(a){let{data:b,error:c}=await this.supabase.from("documentation_favorites").select("*, article:documentation_articles(*, category:documentation_categories(*))").eq("user_id",a).order("created_at",{ascending:!1});if(c)throw c;return b}async addFavorite(a,b){let{data:c,error:d}=await this.supabase.from("documentation_favorites").insert({user_id:a,article_id:b}).select().single();if(d)throw d;return c}async removeFavorite(a,b){let{error:c}=await this.supabase.from("documentation_favorites").delete().eq("user_id",a).eq("article_id",b);if(c)throw c}async isFavorite(a,b){let{data:c,error:d}=await this.supabase.from("documentation_favorites").select("id").eq("user_id",a).eq("article_id",b).maybeSingle();if(d)throw d;return!!c}async getUserNotes(a,b){let{data:c,error:d}=await this.supabase.from("documentation_notes").select("*").eq("user_id",a).eq("article_id",b).order("created_at",{ascending:!1}).maybeSingle();if(d)throw d;return c}async upsertNote(a,b,c){let d=await this.getUserNotes(a,b);if(d){let{data:a,error:b}=await this.supabase.from("documentation_notes").update({content:c}).eq("id",d.id).select().single();if(b)throw b;return a}{let{data:d,error:e}=await this.supabase.from("documentation_notes").insert({user_id:a,article_id:b,content:c}).select().single();if(e)throw e;return d}}async deleteNote(a,b){let{error:c}=await this.supabase.from("documentation_notes").delete().eq("user_id",a).eq("article_id",b);if(c)throw c}async createFeedback(a){let{data:b,error:c}=await this.supabase.from("documentation_feedback").insert(a).select().single();if(c)throw c;return b}async getArticleFeedback(a){let{data:b,error:c}=await this.supabase.from("documentation_feedback").select("*, user:users(id, full_name)").eq("article_id",a).order("created_at",{ascending:!1});if(c)throw c;return b}async getArticleFeedbackStats(a){let{data:b,error:c}=await this.supabase.from("documentation_feedback").select("rating, is_helpful").eq("article_id",a);if(c)throw c;let d={total:b.length,averageRating:0,helpfulCount:0,notHelpfulCount:0,ratings:{1:0,2:0,3:0,4:0,5:0}};if(b.length>0){let a=b.filter(a=>a.rating).map(a=>a.rating);a.length>0&&(d.averageRating=a.reduce((a,b)=>a+b,0)/a.length),b.forEach(a=>{a.rating&&d.ratings[a.rating]++,!0===a.is_helpful&&d.helpfulCount++,!1===a.is_helpful&&d.notHelpfulCount++})}return d}async recordSearch(a,b,c){let{error:d}=await this.supabase.from("documentation_search_history").insert({user_id:a,query:b,results_count:c});if(d)throw d}async getSearchHistory(a,b=10){let{data:c,error:d}=await this.supabase.from("documentation_search_history").select("*").eq("user_id",a).order("created_at",{ascending:!1}).limit(b);if(d)throw d;return c}async clearSearchHistory(a){let{error:b}=await this.supabase.from("documentation_search_history").delete().eq("user_id",a);if(b)throw b}};a.s(["documentationService",0,c])}];

//# sourceMappingURL=_f9ddac64._.js.map