module.exports=[746572,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(433217),e=a.i(913216),f=a.i(195308),g=a.i(703130),h=a.i(340695),i=a.i(621958),j=a.i(254161),k=a.i(660450),l=a.i(660246),m=a.i(111269),n=a.i(883497),o=a.i(724669),p=a.i(321161),q=a.i(104720),r=a.i(290821),s=a.i(669520),t=a.i(915618),u=a.i(238246);function v(){let{user:a}=(0,e.useAuth)(),[v,w]=(0,c.useState)("overview"),{data:x,isLoading:y}=(0,d.useQuery)({queryKey:["accessibility-stats",a?.organization_id],queryFn:async()=>a?.organization_id?await f.accessibilityService.getStats(a.organization_id):null,enabled:!!a?.organization_id,retry:!1}),{data:z,isLoading:A}=(0,d.useQuery)({queryKey:["accessibility-config",a?.organization_id],queryFn:async()=>a?.organization_id?await f.accessibilityService.getConfiguration(a.organization_id):null,enabled:!!a?.organization_id,retry:!1}),{data:B=[],isLoading:C}=(0,d.useQuery)({queryKey:["accessibility-needs",a?.organization_id],queryFn:async()=>a?.organization_id?await f.accessibilityService.getStudentNeeds(a.organization_id):[],enabled:!!a?.organization_id,retry:!1}),{data:D=[],isLoading:E}=(0,d.useQuery)({queryKey:["accessibility-accommodations",a?.organization_id],queryFn:async()=>a?.organization_id?await f.accessibilityService.getAccommodations(a.organization_id):[],enabled:!!a?.organization_id,retry:!1}),{data:F=[],isLoading:G}=(0,d.useQuery)({queryKey:["accessibility-equipment",a?.organization_id],queryFn:async()=>a?.organization_id?await f.accessibilityService.getEquipment(a.organization_id):[],enabled:!!a?.organization_id,retry:!1});if(y||A||C||E||G)return(0,b.jsx)("div",{className:"container mx-auto py-8 px-4",children:(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsx)(s.RefreshCw,{className:"h-8 w-8 animate-spin text-brand-blue"})})});if(!z)return(0,b.jsx)("div",{className:"container mx-auto py-8 px-4 max-w-4xl",children:(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsxs)(g.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(k.Accessibility,{className:"h-6 w-6 text-brand-blue"}),"Module AccessibilitÃ© Handicap"]}),(0,b.jsx)(g.CardDescription,{children:"Gestion de l'accessibilitÃ© et des amÃ©nagements pour les stagiaires en situation de handicap"})]}),(0,b.jsx)(g.CardContent,{children:(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(k.Accessibility,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),(0,b.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Configuration initiale requise"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-6",children:"Pour commencer, configurez votre politique d'accessibilitÃ© et dÃ©signez un rÃ©fÃ©rent handicap."}),(0,b.jsx)(h.Button,{asChild:!0,children:(0,b.jsxs)(u.default,{href:"/dashboard/accessibility/config",children:[(0,b.jsx)(p.Settings,{className:"h-4 w-4 mr-2"}),"Configurer le module"]})})]})})]})});let H=x?.compliance_rate||0,I=x?.total_students_with_needs||0,J=x?.active_accommodations||0,K=x?.available_equipment||0,L=x?.pending_reviews||0;return(0,b.jsxs)("div",{className:"container mx-auto py-8 px-4 max-w-7xl",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-2",children:[(0,b.jsx)(k.Accessibility,{className:"h-8 w-8 text-brand-blue"}),"AccessibilitÃ© Handicap"]}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Gestion complÃ¨te de l'accessibilitÃ© conforme aux exigences Qualiopi (critÃ¨re 8)"})]}),!z.referent_user_id&&(0,b.jsx)(g.Card,{className:"mb-6 border-yellow-200 bg-yellow-50",children:(0,b.jsx)(g.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(r.AlertCircle,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"font-semibold text-yellow-900",children:"RÃ©fÃ©rent handicap non dÃ©signÃ©"}),(0,b.jsx)("p",{className:"text-sm text-yellow-800 mt-1",children:"La dÃ©signation d'un rÃ©fÃ©rent handicap est obligatoire pour la conformitÃ© Qualiopi."}),(0,b.jsx)(h.Button,{asChild:!0,variant:"outline",size:"sm",className:"mt-3",children:(0,b.jsx)(u.default,{href:"/dashboard/accessibility/config",children:"DÃ©signer un rÃ©fÃ©rent"})})]})]})})}),L>0&&(0,b.jsx)(g.Card,{className:"mb-6 border-blue-200 bg-blue-50",children:(0,b.jsx)(g.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(r.AlertCircle,{className:"h-5 w-5 text-blue-600 mt-0.5"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("h3",{className:"font-semibold text-blue-900",children:[L," dÃ©claration",L>1?"s":""," en attente de revue"]}),(0,b.jsx)("p",{className:"text-sm text-blue-800 mt-1",children:"Des stagiaires ont dÃ©clarÃ© des besoins spÃ©cifiques qui nÃ©cessitent votre attention."})]})]})})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[(0,b.jsx)(g.Card,{children:(0,b.jsx)(g.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Stagiaires concernÃ©s"}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:I}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Avec besoins dÃ©clarÃ©s"})]}),(0,b.jsx)(l.Users,{className:"h-8 w-8 text-blue-500"})]})})}),(0,b.jsx)(g.Card,{children:(0,b.jsx)(g.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"AmÃ©nagements actifs"}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:J}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"En cours"})]}),(0,b.jsx)(m.CheckCircle2,{className:"h-8 w-8 text-green-500"})]})})}),(0,b.jsx)(g.Card,{children:(0,b.jsx)(g.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Taux de conformitÃ©"}),(0,b.jsxs)("p",{className:"text-2xl font-bold",children:[H.toFixed(0),"%"]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"CritÃ¨re Qualiopi 8"})]}),(0,b.jsx)(o.TrendingUp,{className:`h-8 w-8 ${H>=80?"text-green-500":"text-orange-500"}`})]})})}),(0,b.jsx)(g.Card,{children:(0,b.jsx)(g.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ã‰quipements disponibles"}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:K}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"UnitÃ©s"})]}),(0,b.jsx)(n.Package,{className:"h-8 w-8 text-purple-500"})]})})})]}),(0,b.jsxs)(i.Tabs,{value:v,onValueChange:w,className:"space-y-6",children:[(0,b.jsxs)(i.TabsList,{children:[(0,b.jsx)(i.TabsTrigger,{value:"overview",children:"Vue d'ensemble"}),(0,b.jsxs)(i.TabsTrigger,{value:"students",children:["Stagiaires",L>0&&(0,b.jsx)(j.Badge,{variant:"destructive",className:"ml-2",children:L})]}),(0,b.jsx)(i.TabsTrigger,{value:"accommodations",children:"AmÃ©nagements"}),(0,b.jsx)(i.TabsTrigger,{value:"equipment",children:"Ã‰quipements"})]}),(0,b.jsxs)(i.TabsContent,{value:"overview",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(g.CardTitle,{className:"text-lg",children:"Configuration"})}),(0,b.jsxs)(g.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"RÃ©fÃ©rent handicap"}),z.referent_user_id?(0,b.jsx)(m.CheckCircle2,{className:"h-5 w-5 text-green-500"}):(0,b.jsx)(r.AlertCircle,{className:"h-5 w-5 text-yellow-500"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Politique d'accessibilitÃ©"}),z.accessibility_policy?(0,b.jsx)(m.CheckCircle2,{className:"h-5 w-5 text-green-500"}):(0,b.jsx)(r.AlertCircle,{className:"h-5 w-5 text-yellow-500"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Registre accessibilitÃ© physique"}),z.physical_accessibility_statement?(0,b.jsx)(m.CheckCircle2,{className:"h-5 w-5 text-green-500"}):(0,b.jsx)(r.AlertCircle,{className:"h-5 w-5 text-yellow-500"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Registre accessibilitÃ© numÃ©rique"}),z.digital_accessibility_statement?(0,b.jsx)(m.CheckCircle2,{className:"h-5 w-5 text-green-500"}):(0,b.jsx)(r.AlertCircle,{className:"h-5 w-5 text-yellow-500"})]}),(0,b.jsx)(h.Button,{asChild:!0,variant:"outline",className:"w-full mt-4",children:(0,b.jsxs)(u.default,{href:"/dashboard/accessibility/config",children:[(0,b.jsx)(p.Settings,{className:"h-4 w-4 mr-2"}),"Modifier la configuration"]})})]})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(g.CardTitle,{className:"text-lg",children:"Partenariats"})}),(0,b.jsxs)(g.CardContent,{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[z.partner_agefiph?(0,b.jsx)(m.CheckCircle2,{className:"h-5 w-5 text-green-500"}):(0,b.jsx)("div",{className:"h-5 w-5 rounded-full border-2 border-gray-300"}),(0,b.jsx)("span",{className:"text-sm",children:"Agefiph"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[z.partner_cap_emploi?(0,b.jsx)(m.CheckCircle2,{className:"h-5 w-5 text-green-500"}):(0,b.jsx)("div",{className:"h-5 w-5 rounded-full border-2 border-gray-300"}),(0,b.jsx)("span",{className:"text-sm",children:"Cap emploi"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[z.partner_fiphfp?(0,b.jsx)(m.CheckCircle2,{className:"h-5 w-5 text-green-500"}):(0,b.jsx)("div",{className:"h-5 w-5 rounded-full border-2 border-gray-300"}),(0,b.jsx)("span",{className:"text-sm",children:"FIPHFP"})]}),z.partner_other&&z.partner_other.length>0&&(0,b.jsxs)("div",{className:"pt-2 border-t",children:[(0,b.jsx)("p",{className:"text-sm font-medium mb-2",children:"Autres partenaires"}),z.partner_other.map((a,c)=>(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["â€¢ ",a.name]},c))]})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[(0,b.jsx)(h.Button,{asChild:!0,variant:"outline",className:"h-auto py-4",children:(0,b.jsxs)(u.default,{href:"/dashboard/accessibility/config",children:[(0,b.jsx)(p.Settings,{className:"h-5 w-5 mr-2"}),"Configuration"]})}),(0,b.jsx)(h.Button,{asChild:!0,variant:"outline",className:"h-auto py-4",children:(0,b.jsxs)(u.default,{href:"/dashboard/accessibility/equipment",children:[(0,b.jsx)(n.Package,{className:"h-5 w-5 mr-2"}),"GÃ©rer les Ã©quipements"]})}),(0,b.jsx)(h.Button,{asChild:!0,variant:"outline",className:"h-auto py-4",children:(0,b.jsxs)("div",{children:[(0,b.jsx)(q.FileText,{className:"h-5 w-5 mr-2"}),"GÃ©nÃ©rer un rapport"]})})]})]}),(0,b.jsx)(i.TabsContent,{value:"students",children:(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{children:"Stagiaires avec besoins dÃ©clarÃ©s"}),(0,b.jsxs)(g.CardDescription,{children:[I," stagiaire",I>1?"s":""," ",I>1?"ont":"a"," dÃ©clarÃ© des besoins spÃ©cifiques"]})]}),(0,b.jsx)(g.CardContent,{children:0===B.length?(0,b.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,b.jsx)(l.Users,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),(0,b.jsx)("p",{children:"Aucun besoin spÃ©cifique dÃ©clarÃ© pour le moment"})]}):(0,b.jsx)("div",{className:"space-y-3",children:B.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("p",{className:"font-medium",children:["Stagiaire #",a.student_id.slice(0,8)]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.has_disability?"Handicap dÃ©clarÃ©":"Besoins spÃ©cifiques"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(j.Badge,{variant:"implemented"===a.status?"default":"reviewed"===a.status?"secondary":"outline",children:"implemented"===a.status?"Mis en Å“uvre":"reviewed"===a.status?"Revue":"En attente"}),(0,b.jsx)(h.Button,{asChild:!0,variant:"outline",size:"sm",children:(0,b.jsx)(u.default,{href:`/dashboard/accessibility/students/${a.student_id}`,children:"Voir dÃ©tails"})})]})]},a.id))})})]})}),(0,b.jsx)(i.TabsContent,{value:"accommodations",children:(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{children:"AmÃ©nagements en place"}),(0,b.jsxs)(g.CardDescription,{children:[J," amÃ©nagement",J>1?"s":""," actif",J>1?"s":""]})]}),(0,b.jsx)(g.CardContent,{children:0===D.length?(0,b.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,b.jsx)(m.CheckCircle2,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),(0,b.jsx)("p",{children:"Aucun amÃ©nagement configurÃ©"})]}):(0,b.jsxs)("div",{className:"space-y-3",children:[D.slice(0,5).map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-medium",children:a.title}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Type : ",a.accommodation_type," â€¢ Progression : ",a.completion_rate,"%"]})]}),(0,b.jsx)(j.Badge,{variant:"active"===a.status?"default":"secondary",children:a.status})]},a.id)),D.length>5&&(0,b.jsxs)("p",{className:"text-sm text-center text-muted-foreground pt-2",children:["Et ",D.length-5," autre",D.length-5>1?"s":"","..."]})]})})]})}),(0,b.jsx)(i.TabsContent,{value:"equipment",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold",children:"Ã‰quipements adaptÃ©s"}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[F.length," Ã©quipement",F.length>1?"s":""," inventoriÃ©",F.length>1?"s":""]})]}),(0,b.jsx)(h.Button,{asChild:!0,children:(0,b.jsxs)(u.default,{href:"/dashboard/accessibility/equipment",children:[(0,b.jsx)(n.Package,{className:"h-4 w-4 mr-2"}),"GÃ©rer les Ã©quipements"]})})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:0===F.length?(0,b.jsx)(g.Card,{className:"col-span-full",children:(0,b.jsxs)(g.CardContent,{className:"text-center py-8 text-muted-foreground",children:[(0,b.jsx)(n.Package,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),(0,b.jsx)("p",{children:"Aucun Ã©quipement inventoriÃ©"}),(0,b.jsx)(h.Button,{asChild:!0,variant:"outline",className:"mt-4",children:(0,b.jsxs)(u.default,{href:"/dashboard/accessibility/equipment",children:[(0,b.jsx)(t.Plus,{className:"h-4 w-4 mr-2"}),"Ajouter un Ã©quipement"]})})]})}):F.slice(0,6).map(a=>(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{className:"text-base",children:a.name}),(0,b.jsx)(j.Badge,{variant:"available"===a.status?"default":"in_use"===a.status?"secondary":"outline",className:"w-fit",children:"available"===a.status?"Disponible":"in_use"===a.status?"En utilisation":"maintenance"===a.status?"Maintenance":"RetirÃ©"})]}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[a.quantity_available," / ",a.quantity_total," disponible",a.quantity_available>1?"s":""]}),a.location&&(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["ðŸ“ ",a.location]})]})]},a.id))}),F.length>6&&(0,b.jsx)(h.Button,{asChild:!0,variant:"outline",className:"w-full",children:(0,b.jsx)(u.default,{href:"/dashboard/accessibility/equipment",children:"Voir tous les Ã©quipements"})})]})})]})]})}a.s(["default",()=>v])}];

//# sourceMappingURL=app_%28dashboard%29_dashboard_accessibility_page_tsx_dd5684ab._.js.map