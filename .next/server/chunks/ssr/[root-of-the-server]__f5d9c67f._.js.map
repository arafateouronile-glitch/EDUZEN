{"version":3,"sources":["../../../../node_modules/lucide-react/src/icons/arrow-left.ts","../../../../node_modules/lucide-react/src/icons/clock.ts","../../../../components/ui/glass-card.tsx","../../../../node_modules/lucide-react/src/icons/filter.ts","../../../../node_modules/lucide-react/src/icons/user-check.ts","../../../../node_modules/lucide-react/src/icons/user-x.ts","../../../../node_modules/lucide-react/src/icons/user-minus.ts","../../../../app/%28dashboard%29/dashboard/attendance/history/page.tsx"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ArrowLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTIgMTktNy03IDctNyIgLz4KICA8cGF0aCBkPSJNMTkgMTJINSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/arrow-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowLeft = createLucideIcon('ArrowLeft', [\n  ['path', { d: 'm12 19-7-7 7-7', key: '1l729n' }],\n  ['path', { d: 'M19 12H5', key: 'x3x0zl' }],\n]);\n\nexport default ArrowLeft;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Clock\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cG9seWxpbmUgcG9pbnRzPSIxMiA2IDEyIDEyIDE2IDE0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/clock\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Clock = createLucideIcon('Clock', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['polyline', { points: '12 6 12 12 16 14', key: '68esgv' }],\n]);\n\nexport default Clock;\n","'use client'\n\nimport * as React from 'react'\nimport { cn } from '@/lib/utils'\nimport { motion } from '@/components/ui/motion'\n\nexport interface GlassCardProps extends React.HTMLAttributes<HTMLDivElement> {\n  variant?: 'default' | 'premium' | 'subtle'\n  hoverable?: boolean\n  glow?: boolean\n  glowColor?: string\n}\n\nconst GlassCard = React.forwardRef<HTMLDivElement, GlassCardProps>(\n  ({ className, variant = 'default', hoverable = false, glow = false, glowColor = 'rgba(51, 90, 207, 0.3)', ...props }, ref) => {\n    return (\n      <motion.div\n        ref={ref}\n        className={cn(\n          'relative rounded-2xl border backdrop-blur-xl transition-all duration-300',\n          {\n            // Default variant\n            'bg-white/70 dark:bg-gray-900/70 border-white/20 dark:border-gray-700/30 shadow-lg': variant === 'default',\n            \n            // Premium variant with stronger glass effect\n            'bg-white/80 dark:bg-gray-900/80 border-white/30 dark:border-gray-700/40 shadow-xl': variant === 'premium',\n            \n            // Subtle variant\n            'bg-white/50 dark:bg-gray-900/50 border-white/10 dark:border-gray-700/20 shadow-md': variant === 'subtle',\n            \n            // Hoverable effects\n            'cursor-pointer': hoverable,\n            'hover:shadow-2xl hover:scale-[1.02]': hoverable,\n            'hover:bg-white/90 dark:hover:bg-gray-900/90': hoverable,\n          },\n          className\n        )}\n        whileHover={hoverable ? { scale: 1.02, y: -2 } : undefined}\n        transition={{ type: 'spring', stiffness: 300, damping: 30 }}\n        {...props}\n      >\n        {/* Glow effect */}\n        {glow && (\n          <motion.div\n            className=\"absolute inset-0 rounded-2xl opacity-0 blur-xl\"\n            style={{\n              background: `radial-gradient(circle, ${glowColor} 0%, transparent 70%)`,\n            }}\n            animate={{\n              opacity: [0, 0.5, 0],\n            }}\n            transition={{\n              duration: 3,\n              repeat: Infinity,\n              ease: 'easeInOut',\n            }}\n          />\n        )}\n        \n        {/* Content */}\n        <div className=\"relative z-10\">\n          {props.children}\n        </div>\n      </motion.div>\n    )\n  }\n)\nGlassCard.displayName = 'GlassCard'\n\nexport { GlassCard }\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Filter\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cG9seWdvbiBwb2ludHM9IjIyIDMgMiAzIDEwIDEyLjQ2IDEwIDE5IDE0IDIxIDE0IDEyLjQ2IDIyIDMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/filter\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Filter = createLucideIcon('Filter', [\n  ['polygon', { points: '22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3', key: '1yg77f' }],\n]);\n\nexport default Filter;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name UserCheck\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iNyIgcj0iNCIgLz4KICA8cG9seWxpbmUgcG9pbnRzPSIxNiAxMSAxOCAxMyAyMiA5IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/user-check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst UserCheck = createLucideIcon('UserCheck', [\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n  ['polyline', { points: '16 11 18 13 22 9', key: '1pwet4' }],\n]);\n\nexport default UserCheck;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name UserX\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iNyIgcj0iNCIgLz4KICA8bGluZSB4MT0iMTciIHgyPSIyMiIgeTE9IjgiIHkyPSIxMyIgLz4KICA8bGluZSB4MT0iMjIiIHgyPSIxNyIgeTE9IjgiIHkyPSIxMyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/user-x\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst UserX = createLucideIcon('UserX', [\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n  ['line', { x1: '17', x2: '22', y1: '8', y2: '13', key: '3nzzx3' }],\n  ['line', { x1: '22', x2: '17', y1: '8', y2: '13', key: '1swrse' }],\n]);\n\nexport default UserX;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name UserMinus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iNyIgcj0iNCIgLz4KICA8bGluZSB4MT0iMjIiIHgyPSIxNiIgeTE9IjExIiB5Mj0iMTEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/user-minus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst UserMinus = createLucideIcon('UserMinus', [\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n  ['line', { x1: '22', x2: '16', y1: '11', y2: '11', key: '1shjgl' }],\n]);\n\nexport default UserMinus;\n","'use client'\n\nimport { useState } from 'react'\nimport { useQuery } from '@tanstack/react-query'\nimport { useAuth } from '@/lib/hooks/use-auth'\nimport { createClient } from '@/lib/supabase/client'\nimport { Button } from '@/components/ui/button'\nimport { GlassCard } from '@/components/ui/glass-card'\nimport { ArrowLeft, Search, Filter, Download, UserCheck, UserX, Clock, UserMinus, Calendar } from 'lucide-react'\nimport { formatDate, cn } from '@/lib/utils'\nimport Link from 'next/link'\nimport { motion } from '@/components/ui/motion'\nimport { exportToExcel, exportToCSV } from '@/lib/utils/excel-export'\nimport type { AttendanceWithRelations } from '@/lib/types/query-types'\n\nexport default function AttendanceHistoryPage() {\n  const { user } = useAuth()\n  const supabase = createClient()\n  const [searchTerm, setSearchTerm] = useState('')\n  const [statusFilter, setStatusFilter] = useState<string>('all')\n  const [dateFrom, setDateFrom] = useState('')\n  const [dateTo, setDateTo] = useState('')\n  const [selectedSessionId, setSelectedSessionId] = useState<string>('')\n  const [currentPage, setCurrentPage] = useState(1)\n  const itemsPerPage = 50\n\n  // Récupérer toutes les sessions pour le filtre\n  const { data: allSessions } = useQuery({\n    queryKey: ['all-sessions-for-history', user?.organization_id],\n    queryFn: async () => {\n      if (!user?.organization_id) return []\n      const { data, error } = await supabase\n        .from('sessions')\n        .select('id, name, formations!inner(name, organization_id)')\n        .eq('formations.organization_id', user.organization_id)\n        .order('name', { ascending: true })\n      \n      if (error) {\n        console.warn('Erreur récupération sessions:', error)\n        return []\n      }\n      return data || []\n    },\n    enabled: !!user?.organization_id,\n  })\n\n  // Récupérer les IDs d'étudiants correspondant à la recherche\n  const { data: studentIds } = useQuery({\n    queryKey: ['student-search', searchTerm],\n    queryFn: async () => {\n      if (!searchTerm || !user?.organization_id) return null\n      \n      const { data, error } = await supabase\n        .from('students')\n        .select('id')\n        .eq('organization_id', user.organization_id)\n        .or(`first_name.ilike.%${searchTerm}%,last_name.ilike.%${searchTerm}%,student_number.ilike.%${searchTerm}%`)\n      \n      if (error) {\n        console.warn('Erreur recherche étudiants:', error)\n        return null\n      }\n      \n      return (data as Array<{ id: string }>)?.map(s => s.id) || []\n    },\n    enabled: !!searchTerm && !!user?.organization_id,\n  })\n\n  // Récupérer tous les émargements avec filtres\n  const { data: attendanceData, isLoading } = useQuery({\n    queryKey: [\n      'attendance-history',\n      user?.organization_id,\n      searchTerm,\n      studentIds,\n      statusFilter,\n      dateFrom,\n      dateTo,\n      selectedSessionId,\n      currentPage,\n    ],\n    queryFn: async () => {\n      if (!user?.organization_id) return { data: [], total: 0 }\n\n      let query = supabase\n        .from('attendance')\n        .select('*, students(first_name, last_name, student_number), sessions(name, formations(name, programs(name)))', { count: 'exact' })\n        .eq('organization_id', user.organization_id)\n\n      // Filtre par statut\n      if (statusFilter !== 'all') {\n        query = query.eq('status', statusFilter)\n      }\n\n      // Filtre par date\n      if (dateFrom) {\n        query = query.gte('date', dateFrom)\n      }\n      if (dateTo) {\n        query = query.lte('date', dateTo)\n      }\n\n      // Filtre par session\n      if (selectedSessionId) {\n        query = query.eq('session_id', selectedSessionId)\n      }\n\n      // Recherche par IDs d'étudiants\n      if (searchTerm && studentIds && studentIds.length > 0) {\n        query = query.in('student_id', studentIds)\n      } else if (searchTerm && (!studentIds || studentIds.length === 0)) {\n        // Si recherche mais aucun étudiant trouvé, retourner vide\n        return { data: [], total: 0 }\n      }\n\n      // Tri et pagination\n      query = query\n        .order('date', { ascending: false })\n        .order('created_at', { ascending: false })\n        .range((currentPage - 1) * itemsPerPage, currentPage * itemsPerPage - 1)\n\n      const { data, error, count } = await query\n      if (error) throw error\n\n      return {\n        data: data || [],\n        total: count || 0,\n      }\n    },\n    enabled: !!user?.organization_id && (!searchTerm || studentIds !== undefined),\n  })\n\n  const totalPages = Math.ceil((attendanceData?.total || 0) / itemsPerPage)\n\n  const getStatusIcon = (status: string) => {\n    switch (status) {\n      case 'present': return <UserCheck className=\"h-5 w-5\" />\n      case 'absent': return <UserX className=\"h-5 w-5\" />\n      case 'late': return <Clock className=\"h-5 w-5\" />\n      case 'excused': return <UserMinus className=\"h-5 w-5\" />\n      default: return null\n    }\n  }\n\n  const getStatusLabel = (status: string) => {\n    switch (status) {\n      case 'present': return 'Présent'\n      case 'absent': return 'Absent'\n      case 'late': return 'En retard'\n      case 'excused': return 'Justifié'\n      default: return status\n    }\n  }\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'present': return 'bg-brand-blue-ghost text-brand-blue border-brand-blue/20'\n      case 'absent': return 'bg-red-50 text-red-600 border-red-100'\n      case 'late': return 'bg-brand-cyan-ghost text-brand-cyan border-brand-cyan/20'\n      case 'excused': return 'bg-blue-50 text-blue-600 border-blue-100'\n      default: return 'bg-gray-50 text-gray-600 border-gray-100'\n    }\n  }\n\n  const handleExport = async (format: 'csv' | 'xlsx') => {\n    if (!attendanceData?.data || attendanceData.data.length === 0) {\n      alert('Aucun émargement à exporter')\n      return\n    }\n\n    try {\n      if (!user?.organization_id) {\n        throw new Error('Organization ID required')\n      }\n      \n      // Récupérer tous les résultats sans pagination pour l'export\n      let query = supabase\n        .from('attendance')\n        .select('*, students(first_name, last_name, student_number), sessions(name, formations(name, programs(name)))')\n        .eq('organization_id', user.organization_id)\n\n      if (statusFilter !== 'all') {\n        query = query.eq('status', statusFilter)\n      }\n      if (dateFrom) {\n        query = query.gte('date', dateFrom)\n      }\n      if (dateTo) {\n        query = query.lte('date', dateTo)\n      }\n      if (selectedSessionId) {\n        query = query.eq('session_id', selectedSessionId)\n      }\n      if (searchTerm && studentIds && studentIds.length > 0) {\n        query = query.in('student_id', studentIds)\n      } else if (searchTerm && (!studentIds || studentIds.length === 0)) {\n        // Si recherche mais aucun étudiant trouvé, retourner vide\n        alert('Aucun étudiant trouvé avec ce critère de recherche')\n        return\n      }\n\n      const { data: exportData, error } = await query\n        .order('date', { ascending: false })\n        .order('created_at', { ascending: false })\n\n      if (error) throw error\n\n      const formattedData = (exportData as AttendanceWithRelations[]).map((attendance) => {\n        const student = attendance.students\n        const session = attendance.sessions\n        const formation = session?.formations\n        const program = formation?.programs\n\n        return {\n          'Date': formatDate(attendance.date),\n          'Élève': `${student?.first_name || ''} ${student?.last_name || ''}`.trim(),\n          'Numéro': student?.student_number || '',\n          'Session': session?.name || '',\n          'Formation': formation?.name || '',\n          'Programme': program?.name || '',\n          'Statut': getStatusLabel(attendance.status),\n          'Retard (min)': attendance.late_minutes || 0,\n          'Notes': attendance.notes || '',\n        }\n      })\n\n      if (format === 'xlsx') {\n        await exportToExcel({\n          filename: `historique_emargements_${new Date().toISOString().split('T')[0]}.xlsx`,\n          sheetName: 'Historique Émargements',\n          columns: [\n            { header: 'Date', key: 'Date', width: 12 },\n            { header: 'Élève', key: 'Élève', width: 20 },\n            { header: 'Numéro', key: 'Numéro', width: 15 },\n            { header: 'Session', key: 'Session', width: 30 },\n            { header: 'Formation', key: 'Formation', width: 25 },\n            { header: 'Programme', key: 'Programme', width: 25 },\n            { header: 'Statut', key: 'Statut', width: 12 },\n            { header: 'Retard (min)', key: 'Retard (min)', width: 12 },\n            { header: 'Notes', key: 'Notes', width: 30 },\n          ],\n          data: formattedData,\n        })\n      } else {\n        exportToCSV(`historique_emargements_${new Date().toISOString().split('T')[0]}.csv`, formattedData)\n      }\n      alert(`Export ${format.toUpperCase()} réussi ! ${formattedData.length} émargement(s) exporté(s).`)\n    } catch (error) {\n      console.error('Erreur lors de l\\'export:', error)\n      alert('Erreur lors de l\\'export des données')\n    }\n  }\n\n  const handleResetFilters = () => {\n    setSearchTerm('')\n    setStatusFilter('all')\n    setDateFrom('')\n    setDateTo('')\n    setSelectedSessionId('')\n    setCurrentPage(1)\n  }\n\n  return (\n    <div className=\"space-y-6 pb-8 max-w-[1600px] mx-auto\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-4\">\n          <Link href=\"/dashboard/attendance\">\n            <Button variant=\"ghost\" size=\"icon\">\n              <ArrowLeft className=\"h-5 w-5\" />\n            </Button>\n          </Link>\n          <div>\n            <h1 className=\"text-3xl font-bold text-gray-900\">Historique des présences</h1>\n            <p className=\"text-gray-500 mt-1\">\n              {attendanceData?.total || 0} émargement{attendanceData?.total !== 1 ? 's' : ''} trouvé{attendanceData?.total !== 1 ? 's' : ''}\n            </p>\n          </div>\n        </div>\n        <div className=\"flex gap-2\">\n          <Button variant=\"outline\" onClick={() => handleExport('csv')}>\n            <Download className=\"mr-2 h-4 w-4\" />\n            CSV\n          </Button>\n          <Button variant=\"outline\" onClick={() => handleExport('xlsx')}>\n            <Download className=\"mr-2 h-4 w-4\" />\n            Excel\n          </Button>\n        </div>\n      </div>\n\n      {/* Filtres */}\n      <GlassCard variant=\"default\" className=\"p-6\">\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4\">\n          <div className=\"lg:col-span-2\">\n            <label className=\"text-xs font-medium text-gray-500 uppercase tracking-wider mb-1.5 block\">\n              Recherche\n            </label>\n            <div className=\"relative\">\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n              <input\n                type=\"text\"\n                placeholder=\"Nom, prénom ou numéro...\"\n                value={searchTerm}\n                onChange={(e) => {\n                  setSearchTerm(e.target.value)\n                  setCurrentPage(1)\n                }}\n                className=\"w-full pl-10 pr-4 py-2.5 rounded-xl bg-gray-50 border-transparent focus:bg-white focus:border-brand-blue/20 focus:ring-4 focus:ring-brand-blue/10 transition-all outline-none text-sm\"\n              />\n            </div>\n          </div>\n\n          <div>\n            <label className=\"text-xs font-medium text-gray-500 uppercase tracking-wider mb-1.5 block\">\n              Statut\n            </label>\n            <select\n              value={statusFilter}\n              onChange={(e) => {\n                setStatusFilter(e.target.value)\n                setCurrentPage(1)\n              }}\n              className=\"w-full px-4 py-2.5 rounded-xl bg-gray-50 border-transparent focus:bg-white focus:border-brand-blue/20 focus:ring-4 focus:ring-brand-blue/10 transition-all outline-none text-sm\"\n            >\n              <option value=\"all\">Tous</option>\n              <option value=\"present\">Présent</option>\n              <option value=\"absent\">Absent</option>\n              <option value=\"late\">En retard</option>\n              <option value=\"excused\">Justifié</option>\n            </select>\n          </div>\n\n          <div>\n            <label className=\"text-xs font-medium text-gray-500 uppercase tracking-wider mb-1.5 block\">\n              Date début\n            </label>\n            <input\n              type=\"date\"\n              value={dateFrom}\n              onChange={(e) => {\n                setDateFrom(e.target.value)\n                setCurrentPage(1)\n              }}\n              className=\"w-full px-4 py-2.5 rounded-xl bg-gray-50 border-transparent focus:bg-white focus:border-brand-blue/20 focus:ring-4 focus:ring-brand-blue/10 transition-all outline-none text-sm\"\n            />\n          </div>\n\n          <div>\n            <label className=\"text-xs font-medium text-gray-500 uppercase tracking-wider mb-1.5 block\">\n              Date fin\n            </label>\n            <input\n              type=\"date\"\n              value={dateTo}\n              onChange={(e) => {\n                setDateTo(e.target.value)\n                setCurrentPage(1)\n              }}\n              className=\"w-full px-4 py-2.5 rounded-xl bg-gray-50 border-transparent focus:bg-white focus:border-brand-blue/20 focus:ring-4 focus:ring-brand-blue/10 transition-all outline-none text-sm\"\n            />\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\">\n          <div>\n            <label className=\"text-xs font-medium text-gray-500 uppercase tracking-wider mb-1.5 block\">\n              Session\n            </label>\n            <select\n              value={selectedSessionId}\n              onChange={(e) => {\n                setSelectedSessionId(e.target.value)\n                setCurrentPage(1)\n              }}\n              className=\"w-full px-4 py-2.5 rounded-xl bg-gray-50 border-transparent focus:bg-white focus:border-brand-blue/20 focus:ring-4 focus:ring-brand-blue/10 transition-all outline-none text-sm\"\n            >\n              <option value=\"\">Toutes les sessions</option>\n              {allSessions?.map((session: any) => (\n                <option key={session.id} value={session.id}>\n                  {session.name}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          <div className=\"flex items-end\">\n            <Button\n              variant=\"outline\"\n              onClick={handleResetFilters}\n              className=\"w-full\"\n            >\n              <Filter className=\"mr-2 h-4 w-4\" />\n              Réinitialiser\n            </Button>\n          </div>\n        </div>\n      </GlassCard>\n\n      {/* Liste des émargements */}\n      <GlassCard variant=\"default\" className=\"overflow-hidden p-0\">\n        {isLoading ? (\n          <div className=\"p-8 text-center text-gray-500\">\n            Chargement...\n          </div>\n        ) : attendanceData && attendanceData.data.length > 0 ? (\n          <>\n            <div className=\"divide-y divide-gray-100\">\n              {attendanceData.data.map((attendance: any) => {\n                const student = attendance.students\n                const session = attendance.sessions\n                const formation = session?.formations\n\n                return (\n                  <motion.div\n                    key={attendance.id}\n                    initial={{ opacity: 0 }}\n                    animate={{ opacity: 1 }}\n                    className=\"p-4 hover:bg-gray-50/50 transition-colors flex items-center justify-between group\"\n                  >\n                    <div className=\"flex items-center gap-4 flex-1\">\n                      <div className={cn(\n                        \"h-10 w-10 rounded-full flex items-center justify-center transition-colors\",\n                        getStatusColor(attendance.status).replace('border-', '').replace('text-', 'bg-opacity-20 text-')\n                      )}>\n                        {getStatusIcon(attendance.status)}\n                      </div>\n\n                      <div className=\"flex-1\">\n                        <p className=\"font-semibold text-gray-900\">\n                          {student?.first_name} {student?.last_name}\n                          {student?.student_number && (\n                            <span className=\"text-sm text-gray-500 ml-2\">({student.student_number})</span>\n                          )}\n                        </p>\n                        <div className=\"text-sm text-gray-500 flex items-center gap-2 mt-1\">\n                          <span className=\"font-medium text-brand-blue/80\">{session?.name}</span>\n                          {formation?.name && (\n                            <>\n                              <span className=\"w-1 h-1 rounded-full bg-gray-300\"></span>\n                              <span>{formation.name}</span>\n                            </>\n                          )}\n                          <span className=\"w-1 h-1 rounded-full bg-gray-300\"></span>\n                          <Calendar className=\"h-3 w-3\" />\n                          <span>{formatDate(attendance.date)}</span>\n                        </div>\n                        {attendance.notes && (\n                          <p className=\"text-xs text-gray-400 mt-1 italic\">{attendance.notes}</p>\n                        )}\n                      </div>\n                    </div>\n\n                    <div className=\"flex items-center gap-4\">\n                      {attendance.late_minutes && attendance.late_minutes > 0 && (\n                        <span className=\"text-sm font-medium text-brand-cyan bg-brand-cyan-ghost px-2 py-1 rounded-md\">\n                          +{attendance.late_minutes} min\n                        </span>\n                      )}\n\n                      <span className={cn(\n                        'px-3 py-1 rounded-full text-xs font-medium border',\n                        getStatusColor(attendance.status)\n                      )}>\n                        {getStatusLabel(attendance.status)}\n                      </span>\n                    </div>\n                  </motion.div>\n                )\n              })}\n            </div>\n\n            {/* Pagination */}\n            {totalPages > 1 && (\n              <div className=\"p-4 border-t border-gray-100 bg-gray-50/30 flex items-center justify-between\">\n                <div className=\"text-sm text-gray-500\">\n                  Page {currentPage} sur {totalPages}\n                </div>\n                <div className=\"flex gap-2\">\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => setCurrentPage(p => Math.max(1, p - 1))}\n                    disabled={currentPage === 1}\n                  >\n                    Précédent\n                  </Button>\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => setCurrentPage(p => Math.min(totalPages, p + 1))}\n                    disabled={currentPage === totalPages}\n                  >\n                    Suivant\n                  </Button>\n                </div>\n              </div>\n            )}\n          </>\n        ) : (\n          <div className=\"p-8 text-center text-gray-500\">\n            Aucun émargement trouvé avec ces critères\n          </div>\n        )}\n      </GlassCard>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"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","ignoreList":[0,1,3,4,5,6]}