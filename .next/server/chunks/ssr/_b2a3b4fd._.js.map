{"version":3,"sources":["../../../../node_modules/lucide-react/src/icons/arrow-left.ts","../../../../app/%28dashboard%29/dashboard/documentation/search/page.tsx"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ArrowLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTIgMTktNy03IDctNyIgLz4KICA8cGF0aCBkPSJNMTkgMTJINSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/arrow-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowLeft = createLucideIcon('ArrowLeft', [\n  ['path', { d: 'm12 19-7-7 7-7', key: '1l729n' }],\n  ['path', { d: 'M19 12H5', key: 'x3x0zl' }],\n]);\n\nexport default ArrowLeft;\n","'use client'\n\nimport { useState, useEffect } from 'react'\nimport { useSearchParams, useRouter } from 'next/navigation'\nimport { useQuery } from '@tanstack/react-query'\nimport { useAuth } from '@/lib/hooks/use-auth'\nimport { Card, CardContent } from '@/components/ui/card'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Search, FileText, ArrowLeft } from 'lucide-react'\nimport Link from 'next/link'\nimport ReactMarkdown from 'react-markdown'\n\nexport default function DocumentationSearchPage() {\n  const searchParams = useSearchParams()\n  const router = useRouter()\n  const { user } = useAuth()\n  const [searchQuery, setSearchQuery] = useState(searchParams.get('q') || '')\n\n  // Recherche\n  const { data: searchResults, isLoading } = useQuery({\n    queryKey: ['documentation-search', searchQuery, user?.organization_id],\n    queryFn: async () => {\n      if (!searchQuery.trim()) return { results: [], count: 0 }\n\n      const response = await fetch(\n        `/api/documentation/search?q=${encodeURIComponent(searchQuery)}&organization_id=${user?.organization_id || ''}`\n      )\n      if (!response.ok) throw new Error('Erreur lors de la recherche')\n      return response.json()\n    },\n    enabled: !!searchQuery.trim() && !!user?.organization_id,\n  })\n\n  const handleSearch = (e: React.FormEvent) => {\n    e.preventDefault()\n    if (searchQuery.trim()) {\n      router.push(`/dashboard/documentation/search?q=${encodeURIComponent(searchQuery)}`)\n    }\n  }\n\n  return (\n    <div className=\"container mx-auto py-8 px-4 max-w-5xl\">\n      <div className=\"mb-6\">\n        <Link href=\"/dashboard/documentation\">\n          <Button variant=\"ghost\" size=\"sm\" className=\"mb-4\">\n            <ArrowLeft className=\"h-4 w-4 mr-2\" />\n            Retour à la documentation\n          </Button>\n        </Link>\n        <h1 className=\"text-3xl font-bold mb-2\">Recherche</h1>\n      </div>\n\n      {/* Barre de recherche */}\n      <Card className=\"mb-6\">\n        <CardContent className=\"pt-6\">\n          <form onSubmit={handleSearch} className=\"flex gap-2\">\n            <div className=\"flex-1 relative\">\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground\" />\n              <Input\n                type=\"text\"\n                placeholder=\"Rechercher dans la documentation...\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                className=\"pl-10\"\n              />\n            </div>\n            <Button type=\"submit\" disabled={isLoading}>\n              {isLoading ? 'Recherche...' : 'Rechercher'}\n            </Button>\n          </form>\n        </CardContent>\n      </Card>\n\n      {/* Résultats */}\n      {isLoading && (\n        <div className=\"text-center py-12 text-muted-foreground\">Recherche en cours...</div>\n      )}\n\n      {!isLoading && searchResults && (\n        <div>\n          <p className=\"text-sm text-muted-foreground mb-4\">\n            {searchResults.count} résultat{searchResults.count !== 1 ? 's' : ''} trouvé\n            {searchResults.count !== 1 ? 's' : ''}\n          </p>\n\n          {searchResults.results && searchResults.results.length > 0 ? (\n            <div className=\"space-y-4\">\n              {searchResults.results.map((article: any) => (\n                <Card key={article.id} className=\"hover:shadow-lg transition-shadow\">\n                  <Link href={`/dashboard/documentation/${article.category.slug}/${article.slug}`}>\n                    <CardContent className=\"pt-6\">\n                      <div className=\"flex items-start gap-4\">\n                        <FileText className=\"h-5 w-5 text-primary mt-1 flex-shrink-0\" />\n                        <div className=\"flex-1\">\n                          <h3 className=\"font-semibold text-lg mb-2\">{article.title}</h3>\n                          {article.excerpt && (\n                            <p className=\"text-sm text-muted-foreground mb-2\">{article.excerpt}</p>\n                          )}\n                          <div className=\"flex items-center gap-4 text-xs text-muted-foreground\">\n                            <span>{article.category.name}</span>\n                            <span>{article.view_count} vues</span>\n                          </div>\n                        </div>\n                      </div>\n                    </CardContent>\n                  </Link>\n                </Card>\n              ))}\n            </div>\n          ) : (\n            <Card>\n              <CardContent className=\"pt-6 text-center text-muted-foreground\">\n                Aucun résultat trouvé pour \"{searchQuery}\"\n              </CardContent>\n            </Card>\n          )}\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}