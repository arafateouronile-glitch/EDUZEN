{"version":3,"sources":["../../../../node_modules/lucide-react/src/icons/clock.ts","../../../../components/ui/glass-card.tsx","../../../../node_modules/lucide-react/src/icons/x-circle.ts","../../../../node_modules/lucide-react/src/icons/upload.ts","../../../../components/ui/tabs.tsx","../../../../node_modules/lucide-react/src/icons/database.ts","../../../../lib/services/cpf.service.ts","../../../../app/%28dashboard%29/dashboard/cpf/catalog-sync/page.tsx","../../../../node_modules/lucide-react/src/icons/file-code.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Clock\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cG9seWxpbmUgcG9pbnRzPSIxMiA2IDEyIDEyIDE2IDE0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/clock\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Clock = createLucideIcon('Clock', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['polyline', { points: '12 6 12 12 16 14', key: '68esgv' }],\n]);\n\nexport default Clock;\n","'use client'\n\nimport * as React from 'react'\nimport { cn } from '@/lib/utils'\nimport { motion } from '@/components/ui/motion'\n\nexport interface GlassCardProps extends React.HTMLAttributes<HTMLDivElement> {\n  variant?: 'default' | 'premium' | 'subtle'\n  hoverable?: boolean\n  glow?: boolean\n  glowColor?: string\n}\n\nconst GlassCard = React.forwardRef<HTMLDivElement, GlassCardProps>(\n  ({ className, variant = 'default', hoverable = false, glow = false, glowColor = 'rgba(51, 90, 207, 0.3)', ...props }, ref) => {\n    return (\n      <motion.div\n        ref={ref}\n        className={cn(\n          'relative rounded-2xl border backdrop-blur-xl transition-all duration-300',\n          {\n            // Default variant\n            'bg-white/70 dark:bg-gray-900/70 border-white/20 dark:border-gray-700/30 shadow-lg': variant === 'default',\n            \n            // Premium variant with stronger glass effect\n            'bg-white/80 dark:bg-gray-900/80 border-white/30 dark:border-gray-700/40 shadow-xl': variant === 'premium',\n            \n            // Subtle variant\n            'bg-white/50 dark:bg-gray-900/50 border-white/10 dark:border-gray-700/20 shadow-md': variant === 'subtle',\n            \n            // Hoverable effects\n            'cursor-pointer': hoverable,\n            'hover:shadow-2xl hover:scale-[1.02]': hoverable,\n            'hover:bg-white/90 dark:hover:bg-gray-900/90': hoverable,\n          },\n          className\n        )}\n        whileHover={hoverable ? { scale: 1.02, y: -2 } : undefined}\n        transition={{ type: 'spring', stiffness: 300, damping: 30 }}\n        {...props}\n      >\n        {/* Glow effect */}\n        {glow && (\n          <motion.div\n            className=\"absolute inset-0 rounded-2xl opacity-0 blur-xl\"\n            style={{\n              background: `radial-gradient(circle, ${glowColor} 0%, transparent 70%)`,\n            }}\n            animate={{\n              opacity: [0, 0.5, 0],\n            }}\n            transition={{\n              duration: 3,\n              repeat: Infinity,\n              ease: 'easeInOut',\n            }}\n          />\n        )}\n        \n        {/* Content */}\n        <div className=\"relative z-10\">\n          {props.children}\n        </div>\n      </motion.div>\n    )\n  }\n)\nGlassCard.displayName = 'GlassCard'\n\nexport { GlassCard }\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name XCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJtMTUgOS02IDYiIC8+CiAgPHBhdGggZD0ibTkgOSA2IDYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/x-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst XCircle = createLucideIcon('XCircle', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'm15 9-6 6', key: '1uzhvr' }],\n  ['path', { d: 'm9 9 6 6', key: 'z0biqf' }],\n]);\n\nexport default XCircle;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Upload\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTV2NGEyIDIgMCAwIDEtMiAySDVhMiAyIDAgMCAxLTItMnYtNCIgLz4KICA8cG9seWxpbmUgcG9pbnRzPSIxNyA4IDEyIDMgNyA4IiAvPgogIDxsaW5lIHgxPSIxMiIgeDI9IjEyIiB5MT0iMyIgeTI9IjE1IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/upload\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Upload = createLucideIcon('Upload', [\n  ['path', { d: 'M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4', key: 'ih7n3h' }],\n  ['polyline', { points: '17 8 12 3 7 8', key: 't8dd8p' }],\n  ['line', { x1: '12', x2: '12', y1: '3', y2: '15', key: 'widbto' }],\n]);\n\nexport default Upload;\n","'use client'\n\nimport * as React from 'react'\nimport { cn } from '@/lib/utils'\n\ninterface TabsContextValue {\n  value: string\n  onValueChange: (value: string) => void\n}\n\nconst TabsContext = React.createContext<TabsContextValue | undefined>(undefined)\n\ninterface TabsProps {\n  value?: string\n  defaultValue?: string\n  onValueChange?: (value: string) => void\n  children: React.ReactNode\n  className?: string\n}\n\nexport function Tabs({ value: controlledValue, defaultValue, onValueChange, children, className }: TabsProps) {\n  const isControlled = controlledValue !== undefined\n  const [uncontrolledValue, setUncontrolledValue] = React.useState<string>(defaultValue ?? '')\n\n  // Si defaultValue arrive plus tard (montage), on l'applique uniquement en mode non contrôlé\n  React.useEffect(() => {\n    if (!isControlled && defaultValue !== undefined) {\n      setUncontrolledValue(defaultValue)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [defaultValue])\n\n  const currentValue = isControlled ? (controlledValue as string) : uncontrolledValue\n  const handleValueChange = React.useCallback(\n    (nextValue: string) => {\n      if (!isControlled) setUncontrolledValue(nextValue)\n      onValueChange?.(nextValue)\n    },\n    [isControlled, onValueChange]\n  )\n\n  return (\n    <TabsContext.Provider value={{ value: currentValue, onValueChange: handleValueChange }}>\n      <div className={cn('w-full', className)}>{children}</div>\n    </TabsContext.Provider>\n  )\n}\n\nfunction useTabsContext() {\n  const context = React.useContext(TabsContext)\n  if (!context) {\n    throw new Error('Tabs components must be used within a Tabs component')\n  }\n  return context\n}\n\ninterface TabsListProps {\n  children: React.ReactNode\n  className?: string\n}\n\nexport function TabsList({ children, className }: TabsListProps) {\n  return (\n    <div\n      className={cn(\n        'inline-flex h-10 items-center justify-center rounded-lg bg-bg-gray-100 p-1 text-text-tertiary',\n        className\n      )}\n    >\n      {children}\n    </div>\n  )\n}\n\ninterface TabsTriggerProps {\n  value: string\n  children: React.ReactNode\n  className?: string\n}\n\nexport function TabsTrigger({ value, children, className }: TabsTriggerProps) {\n  const { value: selectedValue, onValueChange } = useTabsContext()\n  const isSelected = selectedValue === value\n\n  return (\n    <button\n      type=\"button\"\n      onClick={() => onValueChange(value)}\n      className={cn(\n        'inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-outline-none focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50',\n        isSelected\n          ? 'bg-white text-text-primary shadow-sm'\n          : 'text-text-tertiary hover:text-text-primary',\n        className\n      )}\n    >\n      {children}\n    </button>\n  )\n}\n\ninterface TabsContentProps {\n  value: string\n  children: React.ReactNode\n  className?: string\n}\n\nexport function TabsContent({ value, children, className }: TabsContentProps) {\n  const { value: selectedValue } = useTabsContext()\n  \n  if (selectedValue !== value) {\n    return null\n  }\n\n  return (\n    <div\n      className={cn(\n        'mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2',\n        className\n      )}\n    >\n      {children}\n    </div>\n  )\n}\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Database\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8ZWxsaXBzZSBjeD0iMTIiIGN5PSI1IiByeD0iOSIgcnk9IjMiIC8+CiAgPHBhdGggZD0iTTMgNVYxOUE5IDMgMCAwIDAgMjEgMTlWNSIgLz4KICA8cGF0aCBkPSJNMyAxMkE5IDMgMCAwIDAgMjEgMTIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/database\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Database = createLucideIcon('Database', [\n  ['ellipse', { cx: '12', cy: '5', rx: '9', ry: '3', key: 'msslwz' }],\n  ['path', { d: 'M3 5V19A9 3 0 0 0 21 19V5', key: '1wlel7' }],\n  ['path', { d: 'M3 12A9 3 0 0 0 21 12', key: 'mv7ke4' }],\n]);\n\nexport default Database;\n","/**\n * Service CPF - Gestion du Compte Personnel de Formation\n * Intégration avec Mon Compte Formation\n */\n\nimport { createClient } from '@/lib/supabase/client'\nimport type { SupabaseClient } from '@supabase/supabase-js'\n\nexport interface CPFConfiguration {\n  id: string\n  organization_id: string\n  cpf_provider_number?: string\n  provider_name: string\n  siret_number: string\n  api_key?: string\n  api_secret?: string\n  api_endpoint: string\n  is_active: boolean\n  last_sync_date?: string\n  sync_frequency: 'hourly' | 'daily' | 'weekly' | 'manual'\n  created_at: string\n  updated_at: string\n}\n\nexport interface CPFLearnerRights {\n  id: string\n  organization_id: string\n  learner_id: string\n  cpf_account_number?: string\n  total_credits: number\n  available_credits: number\n  used_credits: number\n  last_sync_date?: string\n  sync_status: 'pending' | 'synced' | 'error'\n  sync_error?: string\n  metadata?: Record<string, unknown>\n  created_at: string\n  updated_at: string\n}\n\nexport interface CPFEligibleTraining {\n  id: string\n  organization_id: string\n  training_id?: string\n  cpf_training_code?: string\n  cpf_training_title: string\n  rncp_code?: string\n  price: number\n  currency: string\n  duration_hours?: number\n  duration_days?: number\n  certification_level?: string\n  eligibility_status: 'pending' | 'eligible' | 'rejected' | 'expired'\n  eligibility_date?: string\n  eligibility_end_date?: string\n  cpf_funding_rate: number\n  max_learners?: number\n  current_learners: number\n  description?: string\n  prerequisites?: string\n  learning_objectives?: string\n  created_at: string\n  updated_at: string\n}\n\nexport interface CPFEnrollment {\n  id: string\n  organization_id: string\n  learner_id: string\n  training_id: string\n  enrollment_date: string\n  start_date?: string\n  end_date?: string\n  status: 'pending' | 'approved' | 'in_progress' | 'completed' | 'cancelled' | 'rejected'\n  cpf_funding_amount: number\n  learner_contribution: number\n  total_amount: number\n  cpf_transaction_id?: string\n  cpf_attestation_number?: string\n  attestation_date?: string\n  attestation_file_url?: string\n  completion_certificate_url?: string\n  notes?: string\n  created_at: string\n  updated_at: string\n}\n\nexport interface CPFAttestation {\n  id: string\n  organization_id: string\n  enrollment_id: string\n  attestation_number: string\n  attestation_type: 'enrollment' | 'attendance' | 'completion' | 'partial_completion'\n  issue_date: string\n  validity_start_date?: string\n  validity_end_date?: string\n  file_url?: string\n  file_hash?: string\n  status: 'issued' | 'validated' | 'rejected' | 'expired'\n  validation_date?: string\n  validated_by?: string\n  rejection_reason?: string\n  metadata?: Record<string, unknown>\n  created_at: string\n  updated_at: string\n}\n\nexport class CPFService {\n  private supabase: SupabaseClient<any>\n\n\n  constructor(supabaseClient?: SupabaseClient<any>) {\n\n    this.supabase = supabaseClient || createClient()\n\n  }\n\n  /**\n   * Récupérer la configuration CPF d'une organisation\n   */\n  async getConfiguration(organizationId: string): Promise<CPFConfiguration | null> {\n    const { data, error } = await this.supabase\n      .from('cpf_configurations')\n      .select('*')\n      .eq('organization_id', organizationId)\n      .single()\n\n    if (error) {\n      if (error.code === 'PGRST116') return null\n      throw error\n    }\n    return data\n  }\n\n  /**\n   * Créer ou mettre à jour la configuration CPF\n   */\n  async upsertConfiguration(config: Partial<CPFConfiguration>): Promise<CPFConfiguration> {\n    const { data, error } = await this.supabase\n      .from('cpf_configurations')\n      .upsert(config, {\n        onConflict: 'organization_id',\n      })\n      .select()\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  /**\n   * Récupérer les droits CPF d'un stagiaire\n   */\n  async getLearnerRights(organizationId: string, learnerId: string): Promise<CPFLearnerRights | null> {\n    const { data, error } = await this.supabase\n      .from('cpf_learner_rights')\n      .select('*')\n      .eq('organization_id', organizationId)\n      .eq('learner_id', learnerId)\n      .single()\n\n    if (error) {\n      if (error.code === 'PGRST116') return null\n      throw error\n    }\n    return data\n  }\n\n  /**\n   * Synchroniser les droits CPF d'un stagiaire avec l'API Mon Compte Formation\n   */\n  async syncLearnerRights(organizationId: string, learnerId: string): Promise<CPFLearnerRights> {\n    // TODO: Implémenter l'appel réel à l'API Mon Compte Formation\n    // Pour l'instant, on simule la synchronisation\n    \n    const config = await this.getConfiguration(organizationId)\n    if (!config || !config.is_active) {\n      throw new Error('Configuration CPF non active')\n    }\n\n    // Simulation - à remplacer par l'appel API réel\n    const mockRights = {\n      organization_id: organizationId,\n      learner_id: learnerId,\n      total_credits: 500,\n      available_credits: 450,\n      used_credits: 50,\n      last_sync_date: new Date().toISOString(),\n      sync_status: 'synced' as const,\n    }\n\n    const { data, error } = await this.supabase\n      .from('cpf_learner_rights')\n      .upsert(mockRights, {\n        onConflict: 'organization_id,learner_id',\n      })\n      .select()\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  /**\n   * Récupérer les formations éligibles CPF\n   */\n  async getEligibleTrainings(organizationId: string): Promise<CPFEligibleTraining[]> {\n    const { data, error } = await this.supabase\n      .from('cpf_eligible_trainings')\n      .select('*')\n      .eq('organization_id', organizationId)\n      .eq('eligibility_status', 'eligible')\n      .order('cpf_training_title', { ascending: true })\n\n    if (error) {\n      // Si la table n'existe pas encore ou erreur 404, retourner un tableau vide\n      if (\n        error.code === 'PGRST116' ||\n        error.code === '42P01' ||\n        error.code === 'PGRST301' ||\n        (error as any).status === 404 ||\n        error.code === '404' ||\n        error.message?.includes('relation') ||\n        error.message?.includes('relationship') ||\n        error.message?.includes('does not exist') ||\n        error.message?.includes('schema cache')\n      ) {\n        console.warn('Table cpf_eligible_trainings does not exist yet or invalid query:', error?.message)\n        return []\n      }\n      throw error\n    }\n    return data || []\n  }\n\n  /**\n   * Créer une formation éligible CPF\n   */\n  async createEligibleTraining(training: Partial<CPFEligibleTraining>): Promise<CPFEligibleTraining> {\n    const { data, error } = await this.supabase\n      .from('cpf_eligible_trainings')\n      .insert(training)\n      .select()\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  /**\n   * Récupérer les inscriptions CPF\n   */\n  async getEnrollments(organizationId: string, filters?: {\n    learnerId?: string\n    trainingId?: string\n    status?: string\n  }): Promise<CPFEnrollment[]> {\n    let query = this.supabase\n      .from('cpf_enrollments')\n      .select('*')\n      .eq('organization_id', organizationId)\n\n    if (filters?.learnerId) {\n      query = query.eq('learner_id', filters.learnerId)\n    }\n    if (filters?.trainingId) {\n      query = query.eq('training_id', filters.trainingId)\n    }\n    if (filters?.status) {\n      query = query.eq('status', filters.status)\n    }\n\n    const { data, error } = await query.order('enrollment_date', { ascending: false })\n\n    if (error) {\n      // Si la table n'existe pas encore ou erreur 404, retourner un tableau vide\n      if (\n        error.code === 'PGRST116' ||\n        error.code === '42P01' ||\n        error.code === 'PGRST301' ||\n        (error as any).status === 404 ||\n        error.code === '404' ||\n        error.message?.includes('relation') ||\n        error.message?.includes('relationship') ||\n        error.message?.includes('does not exist') ||\n        error.message?.includes('schema cache')\n      ) {\n        console.warn('Table cpf_enrollments does not exist yet or invalid query:', error?.message)\n        return []\n      }\n      throw error\n    }\n    return data || []\n  }\n\n  /**\n   * Créer une inscription CPF\n   */\n  async createEnrollment(enrollment: Partial<CPFEnrollment>): Promise<CPFEnrollment> {\n    // Vérifier les droits CPF disponibles\n    const rights = await this.getLearnerRights(enrollment.organization_id!, enrollment.learner_id!)\n    if (!rights || rights.available_credits < (enrollment.cpf_funding_amount || 0)) {\n      throw new Error('Crédits CPF insuffisants')\n    }\n\n    const { data, error } = await this.supabase\n      .from('cpf_enrollments')\n      .insert(enrollment)\n      .select()\n      .single()\n\n    if (error) throw error\n\n    // Mettre à jour les droits CPF\n    await this.supabase\n      .from('cpf_learner_rights')\n      .update({\n        available_credits: rights.available_credits - (enrollment.cpf_funding_amount || 0),\n        used_credits: rights.used_credits + (enrollment.cpf_funding_amount || 0),\n        updated_at: new Date().toISOString(),\n      })\n      .eq('id', rights.id)\n\n    return data\n  }\n\n  /**\n   * Générer une attestation CPF\n   */\n  async generateAttestation(attestation: Partial<CPFAttestation>): Promise<CPFAttestation> {\n    // Générer un numéro d'attestation unique\n    const attestationNumber = `CPF-${Date.now()}-${Math.random().toString(36).substr(2, 9).toUpperCase()}`\n\n    const { data, error } = await this.supabase\n      .from('cpf_attestations')\n      .insert({\n        ...attestation,\n        attestation_number: attestationNumber,\n        issue_date: new Date().toISOString().split('T')[0],\n        status: 'issued',\n      })\n      .select()\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  /**\n   * Récupérer les attestations d'une inscription\n   */\n  async getAttestations(enrollmentId: string): Promise<CPFAttestation[]> {\n    const { data, error } = await this.supabase\n      .from('cpf_attestations')\n      .select('*')\n      .eq('enrollment_id', enrollmentId)\n      .order('issue_date', { ascending: false })\n\n    if (error) throw error\n    return data || []\n  }\n\n  /**\n   * Synchroniser le catalogue depuis un fichier XML\n   * Note: L'importation CPF se fait principalement via fichiers XML via le portail EDOF\n   * Cette méthode appelle l'API route qui fait le traitement côté serveur\n   */\n  async syncCatalogFromXML(\n    organizationId: string,\n    xmlFile: File | string,\n    options?: {\n      syncType?: 'full' | 'incremental'\n      createdBy?: string\n    }\n  ): Promise<{ syncId: string; result: any }> {\n    const config = await this.getConfiguration(organizationId)\n    if (!config || !config.is_active) {\n      throw new Error('Configuration CPF non active')\n    }\n\n    // Créer un FormData pour l'upload\n    const formData = new FormData()\n    \n    if (xmlFile instanceof File) {\n      formData.append('file', xmlFile)\n    } else {\n      // Si c'est une chaîne (URL ou contenu), on ne peut pas l'utiliser directement\n      // Dans ce cas, il faudrait télécharger le fichier d'abord\n      throw new Error('Le fichier XML doit être un objet File')\n    }\n\n    // Appeler l'API route pour le traitement\n    const response = await fetch('/api/cpf/catalog-sync', {\n      method: 'POST',\n      body: formData,\n    })\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({ error: 'Erreur inconnue' }))\n      throw new Error(errorData.error || `Erreur HTTP: ${response.status}`)\n    }\n\n    const data = await response.json()\n\n    return {\n      syncId: data.syncId,\n      result: data,\n    }\n  }\n\n  /**\n   * Synchroniser le catalogue depuis l'API Caisse des Dépôts\n   * Note: Vérifier la disponibilité de l'API REST pour le catalogue\n   */\n  async syncCatalogFromAPI(\n    organizationId: string,\n    options?: {\n      syncType?: 'full' | 'incremental'\n      createdBy?: string\n    }\n  ): Promise<{ syncId: string; result: any }> {\n    const config = await this.getConfiguration(organizationId)\n    if (!config || !config.is_active) {\n      throw new Error('Configuration CPF non active')\n    }\n\n    if (!config.api_key || !config.api_secret) {\n      throw new Error('Clés API CPF non configurées')\n    }\n\n    // Créer un log de synchronisation\n    const { data: syncLog, error: syncLogError } = await this.supabase\n      .from('cpf_catalog_sync')\n      .insert({\n        organization_id: organizationId,\n        sync_type: options?.syncType || 'full',\n        sync_method: 'api',\n        sync_status: 'in_progress',\n        created_by: options?.createdBy,\n      })\n      .select()\n      .single()\n\n    if (syncLogError) throw syncLogError\n\n    try {\n      // TODO: Implémenter l'appel à l'API Caisse des Dépôts\n      // Pour l'instant, on retourne une structure de base\n      // L'implémentation réelle nécessitera:\n      // 1. Authentification avec api_key et api_secret\n      // 2. Appel à l'endpoint du catalogue CPF\n      // 3. Traitement des données reçues\n      // 4. Création/mise à jour des formations\n\n      // Mettre à jour le log de synchronisation\n      await this.supabase\n        .from('cpf_catalog_sync')\n        .update({\n          sync_status: 'completed',\n          completed_at: new Date().toISOString(),\n          records_total: 0,\n          records_created: 0,\n          records_updated: 0,\n        })\n        .eq('id', syncLog.id)\n\n      return {\n        syncId: syncLog.id,\n        result: {\n          success: true,\n          message: 'Synchronisation démarrée (à implémenter)',\n        },\n      }\n    } catch (error: any) {\n      // En cas d'erreur, mettre à jour le log\n      await this.supabase\n        .from('cpf_catalog_sync')\n        .update({\n          sync_status: 'failed',\n          completed_at: new Date().toISOString(),\n          error_message: error.message,\n          error_details: { error: error.toString() },\n        })\n        .eq('id', syncLog.id)\n\n      throw error\n    }\n  }\n\n  /**\n   * Récupérer l'historique des synchronisations du catalogue\n   */\n  async getCatalogSyncHistory(\n    organizationId: string,\n    filters?: {\n      limit?: number\n      status?: string\n      syncMethod?: string\n    }\n  ) {\n    let query = this.supabase\n      .from('cpf_catalog_sync')\n      .select('*')\n      .eq('organization_id', organizationId)\n      .order('created_at', { ascending: false })\n\n    if (filters?.status) {\n      query = query.eq('sync_status', filters.status)\n    }\n    if (filters?.syncMethod) {\n      query = query.eq('sync_method', filters.syncMethod)\n    }\n    if (filters?.limit) {\n      query = query.limit(filters.limit)\n    }\n\n    const { data, error } = await query\n\n    if (error) throw error\n    return data || []\n  }\n\n  /**\n   * Récupérer une synchronisation spécifique\n   */\n  async getCatalogSyncById(syncId: string) {\n    const { data, error } = await this.supabase\n      .from('cpf_catalog_sync')\n      .select('*')\n      .eq('id', syncId)\n      .single()\n\n    if (error) throw error\n    return data\n  }\n}\n\nexport const cpfService = new CPFService()\n","'use client'\n\nimport { useState } from 'react'\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\nimport { useAuth } from '@/lib/hooks/use-auth'\nimport { cpfService } from '@/lib/services/cpf.service'\nimport { Button } from '@/components/ui/button'\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card'\nimport { GlassCard } from '@/components/ui/glass-card'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { useToast } from '@/components/ui/toast'\nimport {\n  Upload,\n  RefreshCw,\n  FileText,\n  CheckCircle2,\n  XCircle,\n  Clock,\n  AlertCircle,\n  Download,\n  Database,\n  FileCode,\n} from 'lucide-react'\nimport { formatDate } from '@/lib/utils'\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\nimport { Badge } from '@/components/ui/badge'\n\nexport default function CPFCatalogSyncPage() {\n  const { user } = useAuth()\n  const queryClient = useQueryClient()\n  const { addToast } = useToast()\n  const [selectedFile, setSelectedFile] = useState<File | null>(null)\n  const [uploadProgress, setUploadProgress] = useState(0)\n\n  // Récupérer la configuration CPF\n  const { data: config, isLoading: configLoading } = useQuery({\n    queryKey: ['cpf-config', user?.organization_id],\n    queryFn: async () => {\n      if (!user?.organization_id) return null\n      return cpfService.getConfiguration(user.organization_id)\n    },\n    enabled: !!user?.organization_id,\n  })\n\n  // Récupérer l'historique des synchronisations\n  const { data: syncHistory, isLoading: historyLoading } = useQuery({\n    queryKey: ['cpf-catalog-sync-history', user?.organization_id],\n    queryFn: async () => {\n      if (!user?.organization_id) return []\n      return cpfService.getCatalogSyncHistory(user.organization_id, { limit: 20 })\n    },\n    enabled: !!user?.organization_id,\n  })\n\n  // Mutation pour synchroniser depuis XML\n  const syncFromXMLMutation = useMutation({\n    mutationFn: async (file: File) => {\n      if (!user?.organization_id) throw new Error('Organisation non trouvée')\n      return cpfService.syncCatalogFromXML(user.organization_id, file, {\n        createdBy: user.id,\n      })\n    },\n    onSuccess: () => {\n      addToast({\n        type: 'success',\n        title: 'Synchronisation démarrée',\n        description: 'Le catalogue est en cours de synchronisation depuis le fichier XML.',\n      })\n      queryClient.invalidateQueries({ queryKey: ['cpf-catalog-sync-history'] })\n      setSelectedFile(null)\n      setUploadProgress(0)\n    },\n    onError: (error: any) => {\n      addToast({\n        type: 'error',\n        title: 'Erreur de synchronisation',\n        description: error.message || 'Une erreur est survenue lors de la synchronisation.',\n      })\n    },\n  })\n\n  // Mutation pour synchroniser depuis l'API\n  const syncFromAPIMutation = useMutation({\n    mutationFn: async () => {\n      if (!user?.organization_id) throw new Error('Organisation non trouvée')\n      return cpfService.syncCatalogFromAPI(user.organization_id, {\n        createdBy: user.id,\n      })\n    },\n    onSuccess: () => {\n      addToast({\n        type: 'success',\n        title: 'Synchronisation démarrée',\n        description: 'Le catalogue est en cours de synchronisation depuis l\\'API.',\n      })\n      queryClient.invalidateQueries({ queryKey: ['cpf-catalog-sync-history'] })\n    },\n    onError: (error: any) => {\n      addToast({\n        type: 'error',\n        title: 'Erreur de synchronisation',\n        description: error.message || 'Une erreur est survenue lors de la synchronisation.',\n      })\n    },\n  })\n\n  const handleFileSelect = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0]\n    if (file) {\n      if (file.type !== 'text/xml' && !file.name.endsWith('.xml')) {\n        addToast({\n          type: 'error',\n          title: 'Fichier invalide',\n          description: 'Veuillez sélectionner un fichier XML.',\n        })\n        return\n      }\n      setSelectedFile(file)\n    }\n  }\n\n  const handleUpload = () => {\n    if (!selectedFile) {\n      addToast({\n        type: 'error',\n        title: 'Aucun fichier sélectionné',\n        description: 'Veuillez sélectionner un fichier XML à synchroniser.',\n      })\n      return\n    }\n    syncFromXMLMutation.mutate(selectedFile)\n  }\n\n  const handleSyncFromAPI = () => {\n    if (!config?.is_active) {\n      addToast({\n        type: 'error',\n        title: 'Configuration CPF non active',\n        description: 'Veuillez activer la configuration CPF avant de synchroniser.',\n      })\n      return\n    }\n    if (!config.api_key || !config.api_secret) {\n      addToast({\n        type: 'error',\n        title: 'Clés API manquantes',\n        description: 'Veuillez configurer les clés API CPF dans les paramètres.',\n      })\n      return\n    }\n    syncFromAPIMutation.mutate()\n  }\n\n  const getStatusBadge = (status: string) => {\n    switch (status) {\n      case 'completed':\n        return (\n          <Badge variant=\"outline\" className=\"bg-green-50 text-green-700 border-green-200\">\n            <CheckCircle2 className=\"h-3 w-3 mr-1\" />\n            Terminé\n          </Badge>\n        )\n      case 'failed':\n        return (\n          <Badge variant=\"outline\" className=\"bg-red-50 text-red-700 border-red-200\">\n            <XCircle className=\"h-3 w-3 mr-1\" />\n            Échoué\n          </Badge>\n        )\n      case 'in_progress':\n        return (\n          <Badge variant=\"outline\" className=\"bg-blue-50 text-blue-700 border-blue-200\">\n            <RefreshCw className=\"h-3 w-3 mr-1 animate-spin\" />\n            En cours\n          </Badge>\n        )\n      case 'pending':\n        return (\n          <Badge variant=\"outline\" className=\"bg-gray-50 text-gray-700 border-gray-200\">\n            <Clock className=\"h-3 w-3 mr-1\" />\n            En attente\n          </Badge>\n        )\n      default:\n        return (\n          <Badge variant=\"outline\">\n            <AlertCircle className=\"h-3 w-3 mr-1\" />\n            {status}\n          </Badge>\n        )\n    }\n  }\n\n  const getMethodIcon = (method: string) => {\n    switch (method) {\n      case 'xml':\n        return <FileCode className=\"h-4 w-4\" />\n      case 'api':\n        return <Database className=\"h-4 w-4\" />\n      default:\n        return <FileText className=\"h-4 w-4\" />\n    }\n  }\n\n  if (configLoading) {\n    return (\n      <div className=\"container mx-auto p-6\">\n        <div className=\"animate-pulse space-y-4\">\n          <div className=\"h-8 bg-gray-200 rounded w-1/4\"></div>\n          <div className=\"h-64 bg-gray-200 rounded\"></div>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"container mx-auto p-6 space-y-6\">\n      {/* En-tête */}\n      <div>\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">\n          Synchronisation du Catalogue CPF\n        </h1>\n        <p className=\"text-gray-600\">\n          Synchronisez votre catalogue de formations avec Mon Compte Formation (CPF)\n        </p>\n      </div>\n\n      {/* Alerte si configuration non active */}\n      {config && !config.is_active && (\n        <GlassCard className=\"p-4 bg-amber-50 border-amber-200\">\n          <div className=\"flex items-start gap-3\">\n            <AlertCircle className=\"h-5 w-5 text-amber-600 mt-0.5\" />\n            <div>\n              <h3 className=\"font-semibold text-amber-900 mb-1\">\n                Configuration CPF non active\n              </h3>\n              <p className=\"text-sm text-amber-700 mb-3\">\n                Veuillez activer la configuration CPF avant de synchroniser le catalogue.\n              </p>\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={() => window.location.href = '/dashboard/cpf/configuration'}\n              >\n                Configurer CPF\n              </Button>\n            </div>\n          </div>\n        </GlassCard>\n      )}\n\n      <Tabs defaultValue=\"sync\" className=\"space-y-6\">\n        <TabsList>\n          <TabsTrigger value=\"sync\">Synchroniser</TabsTrigger>\n          <TabsTrigger value=\"history\">Historique</TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"sync\" className=\"space-y-6\">\n          {/* Synchronisation depuis fichier XML */}\n          <GlassCard>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <FileCode className=\"h-5 w-5\" />\n                Synchronisation depuis fichier XML\n              </CardTitle>\n              <CardDescription>\n                Importez votre catalogue depuis un fichier XML généré depuis le portail EDOF\n              </CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"xml-file\">Fichier XML</Label>\n                <div className=\"flex items-center gap-4\">\n                  <Input\n                    id=\"xml-file\"\n                    type=\"file\"\n                    accept=\".xml,text/xml\"\n                    onChange={handleFileSelect}\n                    disabled={syncFromXMLMutation.isPending}\n                  />\n                  {selectedFile && (\n                    <div className=\"text-sm text-gray-600\">\n                      {selectedFile.name} ({(selectedFile.size / 1024).toFixed(2)} Ko)\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              <Button\n                onClick={handleUpload}\n                disabled={!selectedFile || syncFromXMLMutation.isPending}\n                className=\"w-full\"\n              >\n                {syncFromXMLMutation.isPending ? (\n                  <>\n                    <RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" />\n                    Synchronisation en cours...\n                  </>\n                ) : (\n                  <>\n                    <Upload className=\"h-4 w-4 mr-2\" />\n                    Synchroniser depuis XML\n                  </>\n                )}\n              </Button>\n\n              <div className=\"text-sm text-gray-500 space-y-1\">\n                <p>• Le fichier XML doit être au format CPF/EDOF</p>\n                <p>• Téléchargez votre catalogue depuis le portail EDOF</p>\n                <p>• La synchronisation peut prendre plusieurs minutes</p>\n              </div>\n            </CardContent>\n          </GlassCard>\n\n          {/* Synchronisation depuis l'API */}\n          <GlassCard>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <Database className=\"h-5 w-5\" />\n                Synchronisation depuis l'API\n              </CardTitle>\n              <CardDescription>\n                Synchronisez directement depuis l'API Caisse des Dépôts (si disponible)\n              </CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              {!config?.api_key || !config?.api_secret ? (\n                <div className=\"p-4 bg-gray-50 rounded-lg\">\n                  <p className=\"text-sm text-gray-600 mb-3\">\n                    Les clés API CPF ne sont pas configurées.\n                  </p>\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => window.location.href = '/dashboard/cpf/configuration'}\n                  >\n                    Configurer les clés API\n                  </Button>\n                </div>\n              ) : (\n                <>\n                  <Button\n                    onClick={handleSyncFromAPI}\n                    disabled={syncFromAPIMutation.isPending || !config?.is_active}\n                    className=\"w-full\"\n                  >\n                    {syncFromAPIMutation.isPending ? (\n                      <>\n                        <RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" />\n                        Synchronisation en cours...\n                      </>\n                    ) : (\n                      <>\n                        <RefreshCw className=\"h-4 w-4 mr-2\" />\n                        Synchroniser depuis l'API\n                      </>\n                    )}\n                  </Button>\n\n                  <div className=\"text-sm text-gray-500 space-y-1\">\n                    <p>• La synchronisation depuis l'API nécessite une configuration active</p>\n                    <p>• Vérifiez que les clés API sont correctement configurées</p>\n                    <p>• La synchronisation peut prendre plusieurs minutes</p>\n                  </div>\n                </>\n              )}\n            </CardContent>\n          </GlassCard>\n        </TabsContent>\n\n        <TabsContent value=\"history\" className=\"space-y-4\">\n          {historyLoading ? (\n            <div className=\"animate-pulse space-y-4\">\n              {[1, 2, 3].map((i) => (\n                <div key={i} className=\"h-24 bg-gray-200 rounded-lg\"></div>\n              ))}\n            </div>\n          ) : syncHistory && syncHistory.length > 0 ? (\n            <div className=\"space-y-4\">\n              {syncHistory.map((sync: any) => (\n                <GlassCard key={sync.id} className=\"p-4\">\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex-1 space-y-2\">\n                      <div className=\"flex items-center gap-3\">\n                        {getMethodIcon(sync.sync_method)}\n                        <div>\n                          <h3 className=\"font-semibold\">\n                            Synchronisation {sync.sync_type === 'full' ? 'complète' : 'incrémentale'} ({sync.sync_method.toUpperCase()})\n                          </h3>\n                          <p className=\"text-sm text-gray-500\">\n                            {formatDate(sync.started_at)}\n                          </p>\n                        </div>\n                        {getStatusBadge(sync.sync_status)}\n                      </div>\n\n                      {sync.completed_at && (\n                        <div className=\"text-sm text-gray-600\">\n                          <p>\n                            Durée: {Math.round(\n                              (new Date(sync.completed_at).getTime() -\n                                new Date(sync.started_at).getTime()) /\n                                1000 / 60\n                            )}{' '}\n                            minutes\n                          </p>\n                        </div>\n                      )}\n\n                      {(sync.records_total > 0 || sync.records_created > 0 || sync.records_updated > 0) && (\n                        <div className=\"flex gap-4 text-sm text-gray-600\">\n                          {sync.records_total > 0 && (\n                            <span>Total: {sync.records_total}</span>\n                          )}\n                          {sync.records_created > 0 && (\n                            <span className=\"text-green-600\">\n                              Créés: {sync.records_created}\n                            </span>\n                          )}\n                          {sync.records_updated > 0 && (\n                            <span className=\"text-blue-600\">\n                              Mis à jour: {sync.records_updated}\n                            </span>\n                          )}\n                          {sync.records_failed > 0 && (\n                            <span className=\"text-red-600\">\n                              Échoués: {sync.records_failed}\n                            </span>\n                          )}\n                        </div>\n                      )}\n\n                      {sync.error_message && (\n                        <div className=\"p-3 bg-red-50 rounded-lg border border-red-200\">\n                          <p className=\"text-sm text-red-800 font-medium\">\n                            Erreur: {sync.error_message}\n                          </p>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                </GlassCard>\n              ))}\n            </div>\n          ) : (\n            <GlassCard className=\"p-12 text-center\">\n              <FileText className=\"h-16 w-16 text-gray-300 mx-auto mb-4\" />\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\n                Aucune synchronisation\n              </h3>\n              <p className=\"text-gray-500\">\n                Aucune synchronisation n'a été effectuée pour le moment.\n              </p>\n            </GlassCard>\n          )}\n        </TabsContent>\n      </Tabs>\n    </div>\n  )\n}\n\n\n\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name FileCode\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTQuNSAySDZhMiAyIDAgMCAwLTIgMnYxNmEyIDIgMCAwIDAgMiAyaDEyYTIgMiAwIDAgMCAyLTJWNy41TDE0LjUgMnoiIC8+CiAgPHBvbHlsaW5lIHBvaW50cz0iMTQgMiAxNCA4IDIwIDgiIC8+CiAgPHBhdGggZD0ibTEwIDEzLTIgMiAyIDIiIC8+CiAgPHBhdGggZD0ibTE0IDE3IDItMi0yLTIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/file-code\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst FileCode = createLucideIcon('FileCode', [\n  [\n    'path',\n    { d: 'M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z', key: '1nnpy2' },\n  ],\n  ['polyline', { points: '14 2 14 8 20 8', key: '1ew0cm' }],\n  ['path', { d: 'm10 13-2 2 2 2', key: '17smn8' }],\n  ['path', { d: 'm14 17 2-2-2-2', key: '14mezr' }],\n]);\n\nexport default FileCode;\n"],"names":[],"mappings":"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","ignoreList":[0,2,3,5,8]}