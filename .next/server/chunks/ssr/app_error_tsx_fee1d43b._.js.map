{"version":3,"sources":["../../../../app/error.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect } from 'react'\nimport { Button } from '@/components/ui/button'\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\nimport { AlertTriangle, RefreshCw, Home } from 'lucide-react'\nimport Link from 'next/link'\nimport { logger } from '@/lib/utils/logger'\n\nexport default function Error({\n  error,\n  reset,\n}: {\n  error: Error & { digest?: string }\n  reset: () => void\n}) {\n  useEffect(() => {\n    // Logger l'erreur\n    logger.error('Next.js Error Boundary caught an error', error, {\n      digest: error.digest,\n      errorBoundary: true,\n    })\n  }, [error])\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50 px-4\">\n      <Card className=\"w-full max-w-2xl\">\n        <CardHeader>\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center\">\n              <AlertTriangle className=\"h-6 w-6 text-red-600\" />\n            </div>\n            <div>\n              <CardTitle className=\"text-2xl\">Oops ! Une erreur est survenue</CardTitle>\n              <p className=\"text-sm text-muted-foreground mt-1\">\n                Nous avons rencontré un problème inattendu\n              </p>\n            </div>\n          </div>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          {process.env.NODE_ENV === 'development' && error && (\n            <div className=\"p-4 bg-red-50 border border-red-200 rounded-lg\">\n              <p className=\"text-sm font-medium text-red-900 mb-2\">Détails de l'erreur (développement uniquement) :</p>\n              <p className=\"text-xs font-mono text-red-800 mb-2\">\n                {error.name}: {error.message}\n              </p>\n              {error.stack && (\n                <details className=\"mt-2\">\n                  <summary className=\"text-xs text-red-700 cursor-pointer hover:text-red-900\">\n                    Stack trace\n                  </summary>\n                  <pre className=\"mt-2 text-xs text-red-800 overflow-auto max-h-48 p-2 bg-red-100 rounded\">\n                    {error.stack}\n                  </pre>\n                </details>\n              )}\n              {error.digest && (\n                <p className=\"text-xs text-red-700 mt-2\">\n                  Error ID: {error.digest}\n                </p>\n              )}\n            </div>\n          )}\n\n          <div className=\"space-y-3\">\n            <p className=\"text-sm text-muted-foreground\">\n              L'erreur a été enregistrée et sera examinée par notre équipe.\n              Vous pouvez essayer de rafraîchir la page ou retourner à l'accueil.\n            </p>\n\n            <div className=\"flex flex-col sm:flex-row gap-3 pt-4\">\n              <Button\n                onClick={reset}\n                className=\"flex-1\"\n                variant=\"default\"\n              >\n                <RefreshCw className=\"mr-2 h-4 w-4\" />\n                Réessayer\n              </Button>\n              <Link href=\"/dashboard\" className=\"flex-1\">\n                <Button\n                  variant=\"outline\"\n                  className=\"w-full\"\n                >\n                  <Home className=\"mr-2 h-4 w-4\" />\n                  Retour au tableau de bord\n                </Button>\n              </Link>\n            </div>\n\n            <div className=\"pt-4 border-t\">\n              <p className=\"text-xs text-muted-foreground\">\n                Si le problème persiste, contactez le support technique avec ce code d'erreur :\n              </p>\n              <code className=\"text-xs bg-gray-100 px-2 py-1 rounded mt-2 inline-block\">\n                {error.digest || error.name || 'UNKNOWN_ERROR'}\n                {error && `_${Date.now()}`}\n              </code>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n"],"names":[],"mappings":"0DAEA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAEe,SAAS,EAAM,OAC5B,CAAK,OACL,CAAK,CAIN,EASC,MARA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAER,EAAA,MAAM,CAAC,KAAK,CAAC,yCAA0C,EAAO,CAC5D,OAAQ,EAAM,MAAM,CACpB,eAAe,CACjB,EACF,EAAG,CAAC,EAAM,EAGR,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yEACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,6BACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,UACT,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8EACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,UAAU,2BAE3B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,oBAAW,mCAChC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8CAAqC,uDAMxD,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,uBACpB,EAwBD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qBAxBW,CAyBxB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,CAzBsC,SAyB5B,cAxBb,2BAwB6C,0BAxB5C,4GA6BD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iDACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAS,EACT,UAAU,SACV,QAAQ,oBAER,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,iBAAiB,eAGxC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAK,aAAa,UAAU,kBAChC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,UACR,UAAU,mBAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,iBAAiB,oCAMvC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0BACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,oFAG7C,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,oEACb,EAAM,MAAM,EAAI,EAAM,IAAI,EAAI,gBAC9B,GAAS,CAAC,CAAC,EAAE,KAAK,GAAG,GAAA,CAAI,iBAQ1C"}