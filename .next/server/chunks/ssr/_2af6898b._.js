module.exports=[915618,a=>{"use strict";let b=(0,a.i(170106).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],915618)},307574,a=>{"use strict";var b=a.i(187924),c=a.i(433217),d=a.i(913216),e=a.i(269240),f=a.i(50944),g=a.i(703130),h=a.i(340695),i=a.i(104720),j=a.i(284505),k=a.i(915618);function l(){let{user:a}=(0,d.useAuth)(),l=(0,e.createClient)(),m=(0,f.useRouter)(),n=()=>{m.push("/dashboard/documents/generate?type=report_card")},{data:o,isLoading:p}=(0,c.useQuery)({queryKey:["report-cards",a?.organization_id],queryFn:async()=>{if(!a?.organization_id)return[];let{data:b,error:c}=await l.from("documents").select("*, students(*)").eq("organization_id",a.organization_id).eq("type","report_card").order("created_at",{ascending:!1});return c?(console.error("Erreur lors de la récupération des bulletins:",c),[]):b||[]},enabled:!!a?.organization_id});return(0,b.jsxs)("div",{className:"container mx-auto py-6 space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-text-primary",children:"Bulletins de notes"}),(0,b.jsx)("p",{className:"text-text-tertiary mt-1",children:"Gérez et consultez les bulletins de notes des élèves"})]}),(0,b.jsxs)(h.Button,{onClick:n,children:[(0,b.jsx)(k.Plus,{className:"h-4 w-4 mr-2"}),"Nouveau bulletin"]})]}),p?(0,b.jsx)("div",{className:"text-center py-12",children:(0,b.jsx)("p",{className:"text-text-tertiary",children:"Chargement..."})}):o&&0!==o.length?(0,b.jsx)("div",{className:"grid gap-4",children:o.map(a=>(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)(g.CardTitle,{className:"text-lg",children:[a.students?.first_name," ",a.students?.last_name]}),(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsxs)(h.Button,{variant:"outline",size:"sm",children:[(0,b.jsx)(j.Download,{className:"h-4 w-4 mr-2"}),"Télécharger"]})})]})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-2 text-sm text-text-tertiary",children:[(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"font-medium",children:"Élève:"})," ",a.students?.first_name," ",a.students?.last_name]}),a.students?.student_number&&(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"font-medium",children:"Numéro d'élève:"})," ",a.students.student_number]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"font-medium",children:"Date de création:"})," ",new Date(a.created_at).toLocaleDateString("fr-FR")]}),a.title&&(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"font-medium",children:"Titre:"})," ",a.title]})]})})]},a.id))}):(0,b.jsx)(g.Card,{children:(0,b.jsxs)(g.CardContent,{className:"flex flex-col items-center justify-center py-12",children:[(0,b.jsx)(i.FileText,{className:"h-12 w-12 text-gray-400 mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-text-primary mb-2",children:"Aucun bulletin de notes"}),(0,b.jsx)("p",{className:"text-text-tertiary text-center mb-4",children:"Commencez par créer un nouveau bulletin de notes pour un élève."}),(0,b.jsxs)(h.Button,{onClick:n,children:[(0,b.jsx)(k.Plus,{className:"h-4 w-4 mr-2"}),"Créer un bulletin"]})]})})]})}a.s(["default",()=>l])}];

//# sourceMappingURL=_2af6898b._.js.map