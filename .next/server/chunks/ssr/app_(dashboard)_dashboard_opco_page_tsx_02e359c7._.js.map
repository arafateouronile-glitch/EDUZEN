{"version":3,"sources":["../../../../app/%28dashboard%29/dashboard/opco/page.tsx","../../../../lib/services/opco.service.ts"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\nimport { useAuth } from '@/lib/hooks/use-auth'\nimport { opcoService, type OPCODeclaration, type OPCOConvention, type OPCOFundingRequest } from '@/lib/services/opco.service'\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card'\nimport { Button } from '@/components/ui/button'\nimport { Badge } from '@/components/ui/badge'\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\nimport { useToast } from '@/components/ui/toast'\nimport { \n  Building2, \n  CheckCircle2, \n  Clock, \n  AlertCircle, \n  Euro,\n  RefreshCw,\n  Plus,\n  FileText,\n  TrendingUp,\n  Send\n} from 'lucide-react'\nimport Link from 'next/link'\nimport { formatCurrency, formatDate } from '@/lib/utils'\n\nconst STATUS_COLORS = {\n  draft: 'bg-gray-100 text-gray-800',\n  submitted: 'bg-blue-100 text-blue-800',\n  validated: 'bg-green-100 text-green-800',\n  rejected: 'bg-red-100 text-red-800',\n  paid: 'bg-green-100 text-green-800',\n  cancelled: 'bg-gray-100 text-gray-800',\n  pending: 'bg-yellow-100 text-yellow-800',\n  active: 'bg-green-100 text-green-800',\n  suspended: 'bg-orange-100 text-orange-800',\n  terminated: 'bg-red-100 text-red-800',\n  approved: 'bg-green-100 text-green-800',\n  under_review: 'bg-yellow-100 text-yellow-800',\n}\n\nexport default function OPCOPage() {\n  const { user } = useAuth()\n  const queryClient = useQueryClient()\n  const { addToast } = useToast()\n\n  // Récupérer les conventions\n  const { data: conventions = [], isLoading: isLoadingConventions } = useQuery({\n    queryKey: ['opco-conventions', user?.organization_id],\n    queryFn: async () => {\n      try {\n        return await opcoService.getConventions(user!.organization_id!)\n      } catch (error: any) {\n        // La gestion d'erreur est déjà faite dans le service, mais on double la vérification ici\n        if (\n          error?.code === 'PGRST116' ||\n          error?.code === '42P01' ||\n          error?.code === 'PGRST301' ||\n          error?.status === 404 ||\n          error?.code === '404' ||\n          error?.message?.includes('relation') ||\n          error?.message?.includes('relationship') ||\n          error?.message?.includes('does not exist') ||\n          error?.message?.includes('schema cache')\n        ) {\n          return []\n        }\n        throw error\n      }\n    },\n    enabled: !!user?.organization_id,\n    retry: false,\n  })\n\n  // Récupérer les déclarations\n  const { data: declarations = [], isLoading: isLoadingDeclarations } = useQuery({\n    queryKey: ['opco-declarations', user?.organization_id],\n    queryFn: async () => {\n      try {\n        return await opcoService.getDeclarations(user!.organization_id!)\n      } catch (error: any) {\n        // La gestion d'erreur est déjà faite dans le service, mais on double la vérification ici\n        if (\n          error?.code === 'PGRST116' ||\n          error?.code === '42P01' ||\n          error?.code === 'PGRST301' ||\n          error?.status === 404 ||\n          error?.code === '404' ||\n          error?.message?.includes('relation') ||\n          error?.message?.includes('relationship') ||\n          error?.message?.includes('does not exist') ||\n          error?.message?.includes('schema cache')\n        ) {\n          return []\n        }\n        throw error\n      }\n    },\n    enabled: !!user?.organization_id,\n    retry: false,\n  })\n\n  // Récupérer les demandes de financement\n  const { data: fundingRequests = [], isLoading: isLoadingRequests } = useQuery({\n    queryKey: ['opco-funding-requests', user?.organization_id],\n    queryFn: async () => {\n      try {\n        return await opcoService.getFundingRequests(user!.organization_id!)\n      } catch (error: any) {\n        // La gestion d'erreur est déjà faite dans le service, mais on double la vérification ici\n        if (\n          error?.code === 'PGRST116' ||\n          error?.code === '42P01' ||\n          error?.code === 'PGRST301' ||\n          error?.status === 404 ||\n          error?.code === '404' ||\n          error?.message?.includes('relation') ||\n          error?.message?.includes('relationship') ||\n          error?.message?.includes('does not exist') ||\n          error?.message?.includes('schema cache')\n        ) {\n          return []\n        }\n        throw error\n      }\n    },\n    enabled: !!user?.organization_id,\n    retry: false,\n  })\n\n  // Statistiques\n  const stats = {\n    totalConventions: conventions.length,\n    activeConventions: conventions.filter((c) => c.status === 'active').length,\n    totalDeclarations: declarations.length,\n    pendingDeclarations: declarations.filter((d) => d.status === 'draft' || d.status === 'submitted').length,\n    totalFundingRequests: fundingRequests.length,\n    pendingRequests: fundingRequests.filter((r) => r.status === 'draft' || r.status === 'submitted').length,\n    totalRequestedFunding: declarations.reduce((sum, d) => sum + d.requested_funding, 0) +\n      fundingRequests.reduce((sum, r) => sum + r.requested_amount, 0),\n    totalPaidFunding: declarations.reduce((sum, d) => sum + d.paid_funding, 0) +\n      fundingRequests.reduce((sum, r) => sum + r.paid_amount, 0),\n  }\n\n  // Soumettre une déclaration\n  const submitDeclaration = useMutation({\n    mutationFn: (declarationId: string) => opcoService.submitDeclaration(declarationId),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['opco-declarations'] })\n      addToast({\n        title: 'Déclaration soumise',\n        description: 'La déclaration a été soumise à l\\'OPCO avec succès.',\n        type: 'success',\n      })\n    },\n  })\n\n  if (isLoadingConventions || isLoadingDeclarations || isLoadingRequests) {\n    return (\n      <div className=\"container mx-auto py-8 px-4\">\n        <div className=\"flex items-center justify-center h-64\">\n          <RefreshCw className=\"h-8 w-8 animate-spin text-brand-blue\" />\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"container mx-auto py-8 px-4 max-w-7xl\">\n      {/* Header */}\n      <div className=\"mb-8\">\n        <h1 className=\"text-3xl font-bold mb-2 flex items-center gap-2\">\n          <Building2 className=\"h-8 w-8 text-brand-blue\" />\n          OPCO (Opérateurs de Compétences)\n        </h1>\n        <p className=\"text-muted-foreground\">\n          Gérez vos conventions, déclarations et demandes de financement OPCO\n        </p>\n      </div>\n\n      {/* Statistiques */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8\">\n        <Card>\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Conventions actives</p>\n                <p className=\"text-2xl font-bold\">{stats.activeConventions}</p>\n              </div>\n              <FileText className=\"h-8 w-8 text-blue-500\" />\n            </div>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Déclarations en attente</p>\n                <p className=\"text-2xl font-bold\">{stats.pendingDeclarations}</p>\n              </div>\n              <Clock className=\"h-8 w-8 text-yellow-500\" />\n            </div>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Financement demandé</p>\n                <p className=\"text-2xl font-bold\">{formatCurrency(stats.totalRequestedFunding)}</p>\n              </div>\n              <TrendingUp className=\"h-8 w-8 text-green-500\" />\n            </div>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Financement reçu</p>\n                <p className=\"text-2xl font-bold\">{formatCurrency(stats.totalPaidFunding)}</p>\n              </div>\n              <Euro className=\"h-8 w-8 text-green-500\" />\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Tabs */}\n      <Tabs defaultValue=\"declarations\" className=\"space-y-6\">\n        <TabsList>\n          <TabsTrigger value=\"declarations\">Déclarations</TabsTrigger>\n          <TabsTrigger value=\"conventions\">Conventions</TabsTrigger>\n          <TabsTrigger value=\"funding\">Demandes de financement</TabsTrigger>\n        </TabsList>\n\n        {/* Déclarations */}\n        <TabsContent value=\"declarations\">\n          <Card>\n            <CardHeader>\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <CardTitle>Déclarations OPCO</CardTitle>\n                  <CardDescription>\n                    Déclarations d'activité et demandes de financement\n                  </CardDescription>\n                </div>\n                <Button asChild>\n                  <Link href=\"/dashboard/opco/declarations/new\">\n                    <Plus className=\"h-4 w-4 mr-2\" />\n                    Nouvelle déclaration\n                  </Link>\n                </Button>\n              </div>\n            </CardHeader>\n            <CardContent>\n              {declarations.length === 0 ? (\n                <div className=\"text-center py-12\">\n                  <FileText className=\"h-12 w-12 mx-auto text-muted-foreground mb-4\" />\n                  <p className=\"text-muted-foreground mb-4\">\n                    Aucune déclaration OPCO enregistrée\n                  </p>\n                  <Button asChild>\n                    <Link href=\"/dashboard/opco/declarations/new\">\n                      <Plus className=\"h-4 w-4 mr-2\" />\n                      Créer une déclaration\n                    </Link>\n                  </Button>\n                </div>\n              ) : (\n                <div className=\"space-y-4\">\n                  {declarations.map((declaration) => (\n                    <Card key={declaration.id} className=\"hover:shadow-md transition-shadow\">\n                      <CardContent className=\"pt-6\">\n                        <div className=\"flex items-start justify-between\">\n                          <div className=\"flex-1\">\n                            <div className=\"flex items-center gap-2 mb-2\">\n                              <h3 className=\"text-lg font-semibold\">\n                                Déclaration {declaration.declaration_type.replace(/_/g, ' ')}\n                              </h3>\n                              <Badge className={STATUS_COLORS[declaration.status]}>\n                                {declaration.status.replace(/_/g, ' ')}\n                              </Badge>\n                            </div>\n                            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mb-3\">\n                              <div>\n                                <p className=\"text-muted-foreground\">Période</p>\n                                <p className=\"font-medium\">\n                                  {formatDate(declaration.declaration_period_start)} - {formatDate(declaration.declaration_period_end)}\n                                </p>\n                              </div>\n                              <div>\n                                <p className=\"text-muted-foreground\">Stagiaires</p>\n                                <p className=\"font-medium\">{declaration.total_trainees}</p>\n                              </div>\n                              <div>\n                                <p className=\"text-muted-foreground\">Heures</p>\n                                <p className=\"font-medium\">{declaration.total_hours}h</p>\n                              </div>\n                              <div>\n                                <p className=\"text-muted-foreground\">Financement demandé</p>\n                                <p className=\"font-medium\">{formatCurrency(declaration.requested_funding)}</p>\n                              </div>\n                            </div>\n                            {declaration.opco_reference && (\n                              <p className=\"text-sm text-muted-foreground\">\n                                Référence OPCO: {declaration.opco_reference}\n                              </p>\n                            )}\n                          </div>\n                          <div className=\"flex gap-2\">\n                            {declaration.status === 'draft' && (\n                              <Button\n                                size=\"sm\"\n                                onClick={() => submitDeclaration.mutate(declaration.id)}\n                                disabled={submitDeclaration.isPending}\n                              >\n                                <Send className=\"h-4 w-4 mr-2\" />\n                                Soumettre\n                              </Button>\n                            )}\n                            <Button variant=\"outline\" size=\"sm\" asChild>\n                              <Link href={`/dashboard/opco/declarations/${declaration.id}`}>\n                                Voir les détails\n                              </Link>\n                            </Button>\n                          </div>\n                        </div>\n                      </CardContent>\n                    </Card>\n                  ))}\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        {/* Conventions */}\n        <TabsContent value=\"conventions\">\n          <Card>\n            <CardHeader>\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <CardTitle>Conventions OPCO</CardTitle>\n                  <CardDescription>\n                    Conventions signées avec les opérateurs de compétences\n                  </CardDescription>\n                </div>\n                <Button asChild>\n                  <Link href=\"/dashboard/opco/conventions/new\">\n                    <Plus className=\"h-4 w-4 mr-2\" />\n                    Nouvelle convention\n                  </Link>\n                </Button>\n              </div>\n            </CardHeader>\n            <CardContent>\n              {conventions.length === 0 ? (\n                <div className=\"text-center py-12\">\n                  <FileText className=\"h-12 w-12 mx-auto text-muted-foreground mb-4\" />\n                  <p className=\"text-muted-foreground mb-4\">\n                    Aucune convention OPCO enregistrée\n                  </p>\n                  <Button asChild>\n                    <Link href=\"/dashboard/opco/conventions/new\">\n                      <Plus className=\"h-4 w-4 mr-2\" />\n                      Créer une convention\n                    </Link>\n                  </Button>\n                </div>\n              ) : (\n                <div className=\"space-y-4\">\n                  {conventions.map((convention) => (\n                    <Card key={convention.id} className=\"hover:shadow-md transition-shadow\">\n                      <CardContent className=\"pt-6\">\n                        <div className=\"flex items-start justify-between\">\n                          <div className=\"flex-1\">\n                            <div className=\"flex items-center gap-2 mb-2\">\n                              <h3 className=\"text-lg font-semibold\">{convention.convention_number}</h3>\n                              <Badge className={STATUS_COLORS[convention.status]}>\n                                {convention.status}\n                              </Badge>\n                            </div>\n                            <p className=\"text-sm text-muted-foreground mb-3\">\n                              Type: {convention.convention_type.replace(/_/g, ' ')} | \n                              Période: {formatDate(convention.start_date)} - {convention.end_date ? formatDate(convention.end_date) : 'En cours'}\n                            </p>\n                            <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm\">\n                              <div>\n                                <p className=\"text-muted-foreground\">Taux de financement</p>\n                                <p className=\"font-medium\">{convention.funding_rate}%</p>\n                              </div>\n                              {convention.max_funding_amount && (\n                                <>\n                                  <div>\n                                    <p className=\"text-muted-foreground\">Montant max</p>\n                                    <p className=\"font-medium\">{formatCurrency(convention.max_funding_amount)}</p>\n                                  </div>\n                                  <div>\n                                    <p className=\"text-muted-foreground\">Restant</p>\n                                    <p className=\"font-medium\">{formatCurrency(convention.remaining_funding_amount || 0)}</p>\n                                  </div>\n                                </>\n                              )}\n                            </div>\n                          </div>\n                          <Button variant=\"outline\" asChild>\n                            <Link href={`/dashboard/opco/conventions/${convention.id}`}>\n                              Voir les détails\n                            </Link>\n                          </Button>\n                        </div>\n                      </CardContent>\n                    </Card>\n                  ))}\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        {/* Demandes de financement */}\n        <TabsContent value=\"funding\">\n          <Card>\n            <CardHeader>\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <CardTitle>Demandes de financement</CardTitle>\n                  <CardDescription>\n                    Demandes de financement auprès des OPCO\n                  </CardDescription>\n                </div>\n                <Button asChild>\n                  <Link href=\"/dashboard/opco/funding/new\">\n                    <Plus className=\"h-4 w-4 mr-2\" />\n                    Nouvelle demande\n                  </Link>\n                </Button>\n              </div>\n            </CardHeader>\n            <CardContent>\n              {fundingRequests.length === 0 ? (\n                <div className=\"text-center py-12\">\n                  <TrendingUp className=\"h-12 w-12 mx-auto text-muted-foreground mb-4\" />\n                  <p className=\"text-muted-foreground mb-4\">\n                    Aucune demande de financement enregistrée\n                  </p>\n                  <Button asChild>\n                    <Link href=\"/dashboard/opco/funding/new\">\n                      <Plus className=\"h-4 w-4 mr-2\" />\n                      Créer une demande\n                    </Link>\n                  </Button>\n                </div>\n              ) : (\n                <div className=\"space-y-4\">\n                  {fundingRequests.map((request) => (\n                    <Card key={request.id} className=\"hover:shadow-md transition-shadow\">\n                      <CardContent className=\"pt-6\">\n                        <div className=\"flex items-start justify-between\">\n                          <div className=\"flex-1\">\n                            <div className=\"flex items-center gap-2 mb-2\">\n                              <h3 className=\"text-lg font-semibold\">{request.title}</h3>\n                              <Badge className={STATUS_COLORS[request.status]}>\n                                {request.status.replace(/_/g, ' ')}\n                              </Badge>\n                            </div>\n                            <p className=\"text-sm text-muted-foreground mb-3\">\n                              {request.description}\n                            </p>\n                            <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm\">\n                              <div>\n                                <p className=\"text-muted-foreground\">Montant demandé</p>\n                                <p className=\"font-medium\">{formatCurrency(request.requested_amount)}</p>\n                              </div>\n                              <div>\n                                <p className=\"text-muted-foreground\">Montant approuvé</p>\n                                <p className=\"font-medium\">{formatCurrency(request.approved_amount)}</p>\n                              </div>\n                              <div>\n                                <p className=\"text-muted-foreground\">Montant payé</p>\n                                <p className=\"font-medium\">{formatCurrency(request.paid_amount)}</p>\n                              </div>\n                            </div>\n                            {request.request_number && (\n                              <p className=\"text-sm text-muted-foreground mt-2\">\n                                N° demande: {request.request_number}\n                              </p>\n                            )}\n                          </div>\n                          <Button variant=\"outline\" asChild>\n                            <Link href={`/dashboard/opco/funding/${request.id}`}>\n                              Voir les détails\n                            </Link>\n                          </Button>\n                        </div>\n                      </CardContent>\n                    </Card>\n                  ))}\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        </TabsContent>\n      </Tabs>\n\n      {/* Actions rapides */}\n      <div className=\"mt-8 flex gap-4\">\n        <Button variant=\"outline\" asChild>\n          <Link href=\"/dashboard/opco/configuration\">\n            <Building2 className=\"h-4 w-4 mr-2\" />\n            Configuration OPCO\n          </Link>\n        </Button>\n        <Button variant=\"outline\" asChild>\n          <Link href=\"/dashboard/opco/reports\">\n            <FileText className=\"h-4 w-4 mr-2\" />\n            Rapports\n          </Link>\n        </Button>\n      </div>\n    </div>\n  )\n}\n","/**\n * Service OPCO - Gestion des opérateurs de compétences\n * Déclarations automatiques et financements OPCO pour les organismes de formation en France\n */\n\nimport { createClient } from '@/lib/supabase/client'\nimport type { SupabaseClient } from '@supabase/supabase-js'\n\nexport interface OPCOConfiguration {\n  id: string\n  organization_id: string\n  opco_name: string\n  opco_code?: string\n  siret_number: string\n  api_key?: string\n  api_secret?: string\n  api_endpoint?: string\n  is_active: boolean\n  last_sync_date?: string\n  sync_frequency: 'hourly' | 'daily' | 'weekly' | 'manual'\n  created_at: string\n  updated_at: string\n}\n\nexport interface OPCOConvention {\n  id: string\n  organization_id: string\n  opco_config_id: string\n  convention_number: string\n  convention_type: 'apprentissage' | 'pro_a' | 'afest' | 'vae' | 'other'\n  start_date: string\n  end_date?: string\n  status: 'draft' | 'pending' | 'active' | 'suspended' | 'terminated'\n  funding_rate: number\n  max_funding_amount?: number\n  used_funding_amount: number\n  remaining_funding_amount?: number\n  notes?: string\n  created_at: string\n  updated_at: string\n}\n\nexport interface OPCODeclaration {\n  id: string\n  organization_id: string\n  opco_config_id: string\n  convention_id?: string\n  declaration_type: 'activity' | 'funding_request' | 'completion' | 'payment' | 'annual'\n  declaration_period_start: string\n  declaration_period_end: string\n  declaration_date: string\n  status: 'draft' | 'submitted' | 'validated' | 'rejected' | 'paid' | 'cancelled'\n  total_trainees: number\n  total_hours: number\n  total_amount: number\n  requested_funding: number\n  approved_funding: number\n  paid_funding: number\n  opco_reference?: string\n  submission_date?: string\n  validation_date?: string\n  payment_date?: string\n  rejection_reason?: string\n  metadata?: Record<string, unknown>\n  created_by: string\n  created_at: string\n  updated_at: string\n}\n\nexport interface OPCODeclarationLine {\n  id: string\n  declaration_id: string\n  training_id?: string\n  learner_id?: string\n  training_title: string\n  learner_name: string\n  start_date: string\n  end_date?: string\n  total_hours: number\n  unit_price?: number\n  total_price: number\n  funding_rate: number\n  funding_amount: number\n  status: 'pending' | 'approved' | 'rejected' | 'paid'\n  notes?: string\n  created_at: string\n}\n\nexport interface OPCOFundingRequest {\n  id: string\n  organization_id: string\n  opco_config_id: string\n  convention_id?: string\n  request_number?: string\n  request_type: 'training' | 'equipment' | 'consulting' | 'other'\n  training_id?: string\n  title: string\n  description?: string\n  requested_amount: number\n  approved_amount: number\n  paid_amount: number\n  status: 'draft' | 'submitted' | 'under_review' | 'approved' | 'rejected' | 'paid' | 'cancelled'\n  submission_date?: string\n  approval_date?: string\n  payment_date?: string\n  rejection_reason?: string\n  opco_reference?: string\n  metadata?: Record<string, unknown>\n  created_by: string\n  created_at: string\n  updated_at: string\n}\n\nexport class OPCOService {\n  private supabase: SupabaseClient<any>\n\n\n  constructor(supabaseClient?: SupabaseClient<any>) {\n\n    this.supabase = supabaseClient || createClient()\n\n  }\n\n  /**\n   * Récupérer les configurations OPCO d'une organisation\n   */\n  async getConfigurations(organizationId: string): Promise<OPCOConfiguration[]> {\n    const { data, error } = await this.supabase\n      .from('opco_configurations')\n      .select('*')\n      .eq('organization_id', organizationId)\n      .order('opco_name', { ascending: true })\n\n    if (error) {\n      // Si la table n'existe pas encore ou erreur 404, retourner un tableau vide\n      if (\n        error.code === 'PGRST116' ||\n        error.code === '42P01' ||\n        error.code === 'PGRST301' ||\n        (error as any).status === 404 ||\n        error.code === '404' ||\n        error.message?.includes('relation') ||\n        error.message?.includes('relationship') ||\n        error.message?.includes('does not exist') ||\n        error.message?.includes('schema cache')\n      ) {\n        console.warn('Table opco_configurations does not exist yet or invalid query:', error?.message)\n        return []\n      }\n      throw error\n    }\n    return data || []\n  }\n\n  /**\n   * Créer ou mettre à jour une configuration OPCO\n   */\n  async upsertConfiguration(config: Partial<OPCOConfiguration>): Promise<OPCOConfiguration> {\n    const { data, error } = await this.supabase\n      .from('opco_configurations')\n      .upsert(config, {\n        onConflict: 'organization_id,opco_code',\n      })\n      .select()\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  /**\n   * Récupérer les conventions OPCO\n   */\n  async getConventions(organizationId: string, filters?: {\n    opcoConfigId?: string\n    status?: string\n  }): Promise<OPCOConvention[]> {\n    let query = this.supabase\n      .from('opco_conventions')\n      .select('*')\n      .eq('organization_id', organizationId)\n\n    if (filters?.opcoConfigId) {\n      query = query.eq('opco_config_id', filters.opcoConfigId)\n    }\n    if (filters?.status) {\n      query = query.eq('status', filters.status)\n    }\n\n    const { data, error } = await query.order('start_date', { ascending: false })\n\n    if (error) {\n      // Si la table n'existe pas encore ou erreur 404, retourner un tableau vide\n      if (\n        error.code === 'PGRST116' ||\n        error.code === '42P01' ||\n        error.code === 'PGRST301' ||\n        (error as any).status === 404 ||\n        error.code === '404' ||\n        error.message?.includes('relation') ||\n        error.message?.includes('relationship') ||\n        error.message?.includes('does not exist') ||\n        error.message?.includes('schema cache')\n      ) {\n        console.warn('Table opco_conventions does not exist yet or invalid query:', error?.message)\n        return []\n      }\n      throw error\n    }\n    return data || []\n  }\n\n  /**\n   * Créer une convention OPCO\n   */\n  async createConvention(convention: Partial<OPCOConvention>): Promise<OPCOConvention> {\n    // Générer un numéro de convention si non fourni\n    if (!convention.convention_number) {\n      convention.convention_number = `CONV-${Date.now()}-${Math.random().toString(36).substr(2, 9).toUpperCase()}`\n    }\n\n    // Calculer le montant restant si max_funding_amount est défini\n    if (convention.max_funding_amount) {\n      convention.remaining_funding_amount = convention.max_funding_amount - (convention.used_funding_amount || 0)\n    }\n\n    const { data, error } = await this.supabase\n      .from('opco_conventions')\n      .insert(convention)\n      .select()\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  /**\n   * Récupérer les déclarations OPCO\n   */\n  async getDeclarations(organizationId: string, filters?: {\n    opcoConfigId?: string\n    conventionId?: string\n    status?: string\n    periodStart?: string\n    periodEnd?: string\n  }): Promise<OPCODeclaration[]> {\n    let query = this.supabase\n      .from('opco_declarations')\n      .select('*')\n      .eq('organization_id', organizationId)\n\n    if (filters?.opcoConfigId) {\n      query = query.eq('opco_config_id', filters.opcoConfigId)\n    }\n    if (filters?.conventionId) {\n      query = query.eq('convention_id', filters.conventionId)\n    }\n    if (filters?.status) {\n      query = query.eq('status', filters.status)\n    }\n    if (filters?.periodStart) {\n      query = query.gte('declaration_period_end', filters.periodStart)\n    }\n    if (filters?.periodEnd) {\n      query = query.lte('declaration_period_start', filters.periodEnd)\n    }\n\n    const { data, error } = await query.order('declaration_date', { ascending: false })\n\n    if (error) {\n      // Si la table n'existe pas encore ou erreur 404, retourner un tableau vide\n      if (\n        error.code === 'PGRST116' ||\n        error.code === '42P01' ||\n        error.code === 'PGRST301' ||\n        (error as any).status === 404 ||\n        error.code === '404' ||\n        error.message?.includes('relation') ||\n        error.message?.includes('relationship') ||\n        error.message?.includes('does not exist') ||\n        error.message?.includes('schema cache')\n      ) {\n        console.warn('Table opco_declarations does not exist yet or invalid query:', error?.message)\n        return []\n      }\n      throw error\n    }\n    return data || []\n  }\n\n  /**\n   * Créer une déclaration OPCO\n   */\n  async createDeclaration(declaration: Partial<OPCODeclaration>): Promise<OPCODeclaration> {\n    const { data, error } = await this.supabase\n      .from('opco_declarations')\n      .insert(declaration)\n      .select()\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  /**\n   * Soumettre une déclaration OPCO\n   */\n  async submitDeclaration(declarationId: string): Promise<void> {\n    // TODO: Implémenter l'appel réel à l'API OPCO\n    // Pour l'instant, on met juste à jour le statut\n\n    const { error } = await this.supabase\n      .from('opco_declarations')\n      .update({\n        status: 'submitted',\n        submission_date: new Date().toISOString(),\n        updated_at: new Date().toISOString(),\n      })\n      .eq('id', declarationId)\n\n    if (error) throw error\n  }\n\n  /**\n   * Récupérer les lignes d'une déclaration\n   */\n  async getDeclarationLines(declarationId: string): Promise<OPCODeclarationLine[]> {\n    const { data, error } = await this.supabase\n      .from('opco_declaration_lines')\n      .select('*')\n      .eq('declaration_id', declarationId)\n      .order('start_date', { ascending: true })\n\n    if (error) throw error\n    return data || []\n  }\n\n  /**\n   * Ajouter une ligne à une déclaration\n   */\n  async addDeclarationLine(line: Partial<OPCODeclarationLine>): Promise<OPCODeclarationLine> {\n    const { data, error } = await this.supabase\n      .from('opco_declaration_lines')\n      .insert(line)\n      .select()\n      .single()\n\n    if (error) throw error\n\n    // Mettre à jour les totaux de la déclaration\n    await this.updateDeclarationTotals(line.declaration_id!)\n\n    return data\n  }\n\n  /**\n   * Mettre à jour les totaux d'une déclaration\n   */\n  private async updateDeclarationTotals(declarationId: string): Promise<void> {\n    const lines = await this.getDeclarationLines(declarationId)\n\n    const totals = lines.reduce(\n      (acc, line) => ({\n        total_trainees: acc.total_trainees + 1,\n        total_hours: acc.total_hours + line.total_hours,\n        total_amount: acc.total_amount + line.total_price,\n        requested_funding: acc.requested_funding + line.funding_amount,\n      }),\n      { total_trainees: 0, total_hours: 0, total_amount: 0, requested_funding: 0 }\n    )\n\n    const { error } = await this.supabase\n      .from('opco_declarations')\n      .update({\n        total_trainees: totals.total_trainees,\n        total_hours: totals.total_hours,\n        total_amount: totals.total_amount,\n        requested_funding: totals.requested_funding,\n        updated_at: new Date().toISOString(),\n      })\n      .eq('id', declarationId)\n\n    if (error) throw error\n  }\n\n  /**\n   * Récupérer les demandes de financement\n   */\n  async getFundingRequests(organizationId: string, filters?: {\n    opcoConfigId?: string\n    status?: string\n  }): Promise<OPCOFundingRequest[]> {\n    let query = this.supabase\n      .from('opco_funding_requests')\n      .select('*')\n      .eq('organization_id', organizationId)\n\n    if (filters?.opcoConfigId) {\n      query = query.eq('opco_config_id', filters.opcoConfigId)\n    }\n    if (filters?.status) {\n      query = query.eq('status', filters.status)\n    }\n\n    const { data, error } = await query.order('created_at', { ascending: false })\n\n    if (error) {\n      // Si la table n'existe pas encore ou erreur 404, retourner un tableau vide\n      if (\n        error.code === 'PGRST116' ||\n        error.code === '42P01' ||\n        error.code === 'PGRST301' ||\n        (error as any).status === 404 ||\n        error.code === '404' ||\n        error.message?.includes('relation') ||\n        error.message?.includes('relationship') ||\n        error.message?.includes('does not exist') ||\n        error.message?.includes('schema cache')\n      ) {\n        console.warn('Table opco_funding_requests does not exist yet or invalid query:', error?.message)\n        return []\n      }\n      throw error\n    }\n    return data || []\n  }\n\n  /**\n   * Créer une demande de financement\n   */\n  async createFundingRequest(request: Partial<OPCOFundingRequest>): Promise<OPCOFundingRequest> {\n    // Générer un numéro de demande si non fourni\n    if (!request.request_number) {\n      request.request_number = `REQ-${Date.now()}-${Math.random().toString(36).substr(2, 9).toUpperCase()}`\n    }\n\n    const { data, error } = await this.supabase\n      .from('opco_funding_requests')\n      .insert(request)\n      .select()\n      .single()\n\n    if (error) throw error\n    return data\n  }\n\n  /**\n   * Générer automatiquement une déclaration d'activité pour une période\n   */\n  async generateActivityDeclaration(\n    organizationId: string,\n    opcoConfigId: string,\n    periodStart: string,\n    periodEnd: string\n  ): Promise<OPCODeclaration> {\n    // Récupérer les formations et stagiaires de la période\n    // TODO: Implémenter la récupération réelle depuis les tables de formations\n    // Pour l'instant, on crée une déclaration vide\n\n    const declaration: Partial<OPCODeclaration> = {\n      organization_id: organizationId,\n      opco_config_id: opcoConfigId,\n      declaration_type: 'activity',\n      declaration_period_start: periodStart,\n      declaration_period_end: periodEnd,\n      declaration_date: new Date().toISOString().split('T')[0],\n      status: 'draft',\n      total_trainees: 0,\n      total_hours: 0,\n      total_amount: 0,\n      requested_funding: 0,\n      approved_funding: 0,\n      paid_funding: 0,\n      created_by: (await this.supabase.auth.getUser()).data.user?.id || '',\n    }\n\n    return this.createDeclaration(declaration)\n  }\n}\n\nexport const opcoService = new OPCOService()\n"],"names":[],"mappings":"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"}