(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,107233,e=>{"use strict";let t=(0,e.i(475254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],107233)},871689,e=>{"use strict";let t=(0,e.i(475254).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],871689)},286536,e=>{"use strict";let t=(0,e.i(475254).default)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],286536)},127341,e=>{"use strict";var t=e.i(843476),i=e.i(271645),s=e.i(647163);let a=i.createContext(void 0);function r({value:e,defaultValue:r,onValueChange:n,children:l,className:c}){let o=void 0!==e,[d,u]=i.useState(r??"");i.useEffect(()=>{o||void 0===r||u(r)},[r]);let h=o?e:d,m=i.useCallback(e=>{o||u(e),n?.(e)},[o,n]);return(0,t.jsx)(a.Provider,{value:{value:h,onValueChange:m},children:(0,t.jsx)("div",{className:(0,s.cn)("w-full",c),children:l})})}function n(){let e=i.useContext(a);if(!e)throw Error("Tabs components must be used within a Tabs component");return e}function l({children:e,className:i}){return(0,t.jsx)("div",{className:(0,s.cn)("inline-flex h-10 items-center justify-center rounded-lg bg-bg-gray-100 p-1 text-text-tertiary",i),children:e})}function c({value:e,children:i,className:a}){let{value:r,onValueChange:l}=n(),c=r===e;return(0,t.jsx)("button",{type:"button",onClick:()=>l(e),className:(0,s.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-outline-none focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",c?"bg-white text-text-primary shadow-sm":"text-text-tertiary hover:text-text-primary",a),children:i})}function o({value:e,children:i,className:a}){let{value:r}=n();return r!==e?null:(0,t.jsx)("div",{className:(0,s.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),children:i})}e.s(["Tabs",()=>r,"TabsContent",()=>o,"TabsList",()=>l,"TabsTrigger",()=>c])},319036,e=>{"use strict";var t=e.i(843476),i=e.i(271645),s=e.i(647163);let a=i.forwardRef(({checked:e,onCheckedChange:i,disabled:a,className:r,...n},l)=>(0,t.jsx)("button",{type:"button",role:"switch","aria-checked":e,ref:l,disabled:a,onClick:()=>i?.(!e),className:(0,s.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e?"bg-brand-blue":"bg-input",r),...n,children:(0,t.jsx)("span",{className:(0,s.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform",e?"translate-x-5":"translate-x-0")})}));a.displayName="Switch",e.s(["Switch",0,a])},436332,e=>{"use strict";let t=(0,e.i(475254).default)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);e.s(["Edit",()=>t],436332)},527985,e=>{"use strict";var t=e.i(920755);let i=new class{supabase;constructor(e){this.supabase=e||(0,t.createClient)()}async getCategories(e,t=!0){let i=this.supabase.from("documentation_categories").select("*").order("order_index",{ascending:!0});e?i=i.or(`organization_id.eq.${e},is_public.eq.true`):t&&(i=i.eq("is_public",!0));let{data:s,error:a}=await i;if(a)throw a;return s}async getCategoryBySlug(e,t){let i=this.supabase.from("documentation_categories").select("*").eq("slug",e).single();i=t?i.or(`organization_id.eq.${t},is_public.eq.true`):i.eq("is_public",!0);let{data:s,error:a}=await i;if(a)throw a;return s}async createCategory(e){let{data:t,error:i}=await this.supabase.from("documentation_categories").insert(e).select().single();if(i)throw i;return t}async updateCategory(e,t){let{data:i,error:s}=await this.supabase.from("documentation_categories").update(t).eq("id",e).select().single();if(s)throw s;return i}async deleteCategory(e){let{error:t}=await this.supabase.from("documentation_categories").delete().eq("id",e);if(t)throw t}async getArticlesByCategory(e,t="published"){let{data:i,error:s}=await this.supabase.from("documentation_articles").select("*, author:users(id, full_name, email)").eq("category_id",e).eq("status",t).order("order_index",{ascending:!0}).order("published_at",{ascending:!1});if(s)throw s;return i}async getArticleBySlug(e,t){let{data:i,error:s}=await this.supabase.from("documentation_articles").select(`
        *,
        category:documentation_categories(*),
        sections:documentation_sections(*),
        author:users(id, full_name, email)
      `).eq("slug",e).eq("category.slug",t).eq("status","published").single();if(s)throw s;return i&&await this.supabase.rpc("increment_article_view_count",{article_uuid:i.id}),i}async searchArticles(e,t){let i=this.supabase.from("documentation_articles").select("*, category:documentation_categories(*), author:users(id, full_name)").eq("status","published").or(`title.ilike.%${e}%,content.ilike.%${e}%,excerpt.ilike.%${e}%`);i=t?i.or(`organization_id.eq.${t},category.is_public.eq.true`):i.eq("category.is_public",!0);let{data:s,error:a}=await i.order("view_count",{ascending:!1}).limit(50);if(a)throw a;return s}async getPopularArticles(e=10,t){let i=this.supabase.from("documentation_articles").select("*, category:documentation_categories(*), author:users(id, full_name)").eq("status","published").order("view_count",{ascending:!1}).limit(e);i=t?i.or(`organization_id.eq.${t},category.is_public.eq.true`):i.eq("category.is_public",!0);let{data:s,error:a}=await i;if(a)throw a;return s}async getRecentArticles(e=10,t){let i=this.supabase.from("documentation_articles").select("*, category:documentation_categories(*), author:users(id, full_name)").eq("status","published").order("published_at",{ascending:!1}).limit(e);i=t?i.or(`organization_id.eq.${t},category.is_public.eq.true`):i.eq("category.is_public",!0);let{data:s,error:a}=await i;if(a)throw a;return s}async getFeaturedArticles(e=5,t){let i=this.supabase.from("documentation_articles").select("*, category:documentation_categories(*), author:users(id, full_name)").eq("status","published").eq("is_featured",!0).order("published_at",{ascending:!1}).limit(e);i=t?i.or(`organization_id.eq.${t},category.is_public.eq.true`):i.eq("category.is_public",!0);let{data:s,error:a}=await i;if(a)throw a;return s}async createArticle(e){let{data:t,error:i}=await this.supabase.from("documentation_articles").insert(e).select().single();if(i)throw i;return t}async updateArticle(e,t){let{data:i,error:s}=await this.supabase.from("documentation_articles").update(t).eq("id",e).select().single();if(s)throw s;return i}async deleteArticle(e){let{error:t}=await this.supabase.from("documentation_articles").delete().eq("id",e);if(t)throw t}async getArticleSections(e){let{data:t,error:i}=await this.supabase.from("documentation_sections").select("*").eq("article_id",e).order("order_index",{ascending:!0});if(i)throw i;return t}async createSection(e){let{data:t,error:i}=await this.supabase.from("documentation_sections").insert(e).select().single();if(i)throw i;return t}async updateSection(e,t){let{data:i,error:s}=await this.supabase.from("documentation_sections").update(t).eq("id",e).select().single();if(s)throw s;return i}async deleteSection(e){let{error:t}=await this.supabase.from("documentation_sections").delete().eq("id",e);if(t)throw t}async getUserFavorites(e){let{data:t,error:i}=await this.supabase.from("documentation_favorites").select("*, article:documentation_articles(*, category:documentation_categories(*))").eq("user_id",e).order("created_at",{ascending:!1});if(i)throw i;return t}async addFavorite(e,t){let{data:i,error:s}=await this.supabase.from("documentation_favorites").insert({user_id:e,article_id:t}).select().single();if(s)throw s;return i}async removeFavorite(e,t){let{error:i}=await this.supabase.from("documentation_favorites").delete().eq("user_id",e).eq("article_id",t);if(i)throw i}async isFavorite(e,t){let{data:i,error:s}=await this.supabase.from("documentation_favorites").select("id").eq("user_id",e).eq("article_id",t).maybeSingle();if(s)throw s;return!!i}async getUserNotes(e,t){let{data:i,error:s}=await this.supabase.from("documentation_notes").select("*").eq("user_id",e).eq("article_id",t).order("created_at",{ascending:!1}).maybeSingle();if(s)throw s;return i}async upsertNote(e,t,i){let s=await this.getUserNotes(e,t);if(s){let{data:e,error:t}=await this.supabase.from("documentation_notes").update({content:i}).eq("id",s.id).select().single();if(t)throw t;return e}{let{data:s,error:a}=await this.supabase.from("documentation_notes").insert({user_id:e,article_id:t,content:i}).select().single();if(a)throw a;return s}}async deleteNote(e,t){let{error:i}=await this.supabase.from("documentation_notes").delete().eq("user_id",e).eq("article_id",t);if(i)throw i}async createFeedback(e){let{data:t,error:i}=await this.supabase.from("documentation_feedback").insert(e).select().single();if(i)throw i;return t}async getArticleFeedback(e){let{data:t,error:i}=await this.supabase.from("documentation_feedback").select("*, user:users(id, full_name)").eq("article_id",e).order("created_at",{ascending:!1});if(i)throw i;return t}async getArticleFeedbackStats(e){let{data:t,error:i}=await this.supabase.from("documentation_feedback").select("rating, is_helpful").eq("article_id",e);if(i)throw i;let s={total:t.length,averageRating:0,helpfulCount:0,notHelpfulCount:0,ratings:{1:0,2:0,3:0,4:0,5:0}};if(t.length>0){let e=t.filter(e=>e.rating).map(e=>e.rating);e.length>0&&(s.averageRating=e.reduce((e,t)=>e+t,0)/e.length),t.forEach(e=>{e.rating&&s.ratings[e.rating]++,!0===e.is_helpful&&s.helpfulCount++,!1===e.is_helpful&&s.notHelpfulCount++})}return s}async recordSearch(e,t,i){let{error:s}=await this.supabase.from("documentation_search_history").insert({user_id:e,query:t,results_count:i});if(s)throw s}async getSearchHistory(e,t=10){let{data:i,error:s}=await this.supabase.from("documentation_search_history").select("*").eq("user_id",e).order("created_at",{ascending:!1}).limit(t);if(s)throw s;return i}async clearSearchHistory(e){let{error:t}=await this.supabase.from("documentation_search_history").delete().eq("user_id",e);if(t)throw t}};e.s(["documentationService",0,i])},479474,e=>{"use strict";var t=e.i(843476),i=e.i(271645),s=e.i(266027),a=e.i(954616),r=e.i(912598),n=e.i(325715),l=e.i(527985),c=e.i(970065),o=e.i(167881),d=e.i(23750),u=e.i(10708),h=e.i(184762),m=e.i(319036),g=e.i(630374),x=e.i(127341),f=e.i(107233),p=e.i(436332),b=e.i(727612),_=e.i(810980),j=e.i(178583),y=e.i(239616),v=e.i(286536),w=e.i(871689),C=e.i(522016),q=e.i(618566),N=e.i(716158);function S(){let{user:e}=(0,n.useAuth)();(0,q.useRouter)();let S=(0,r.useQueryClient)(),[k,T]=(0,i.useState)("categories"),[F,A]=(0,i.useState)(!1),[z,D]=(0,i.useState)(!1),[B,L]=(0,i.useState)(null),[V,I]=(0,i.useState)(null),{data:M}=(0,s.useQuery)({queryKey:["documentation-categories",e?.organization_id],queryFn:()=>l.documentationService.getCategories(e?.organization_id||""),enabled:!!e?.organization_id}),{data:P}=(0,s.useQuery)({queryKey:["documentation-all-articles",e?.organization_id],queryFn:async()=>{if(!M||0===M.length)return[];let e=M.map(e=>l.documentationService.getArticlesByCategory(e.id,"draft").catch(()=>[]));return(await Promise.all(e)).flat()},enabled:!!M&&M.length>0}),E=(0,a.useMutation)({mutationFn:async t=>l.documentationService.createCategory({...t,organization_id:e?.organization_id}),onSuccess:()=>{S.invalidateQueries({queryKey:["documentation-categories"]}),A(!1),L(null)}}),O=(0,a.useMutation)({mutationFn:async({id:e,data:t})=>l.documentationService.updateCategory(e,t),onSuccess:()=>{S.invalidateQueries({queryKey:["documentation-categories"]}),A(!1),L(null)}}),$=(0,a.useMutation)({mutationFn:async e=>l.documentationService.deleteCategory(e),onSuccess:()=>{S.invalidateQueries({queryKey:["documentation-categories"]})}}),H=(0,a.useMutation)({mutationFn:async t=>l.documentationService.createArticle({...t,organization_id:e?.organization_id,author_id:e?.id,status:"draft"}),onSuccess:()=>{S.invalidateQueries({queryKey:["documentation-all-articles"]}),D(!1),I(null)}}),K=(0,a.useMutation)({mutationFn:async({id:e,data:t})=>l.documentationService.updateArticle(e,t),onSuccess:()=>{S.invalidateQueries({queryKey:["documentation-all-articles"]}),D(!1),I(null)}}),Q=(0,a.useMutation)({mutationFn:async e=>l.documentationService.deleteArticle(e),onSuccess:()=>{S.invalidateQueries({queryKey:["documentation-all-articles"]})}});return(0,t.jsxs)("div",{className:"container mx-auto py-8 px-4 max-w-7xl",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)(C.default,{href:"/dashboard/documentation",children:(0,t.jsxs)(o.Button,{variant:"ghost",size:"sm",className:"mb-4",children:[(0,t.jsx)(w.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Retour à la documentation"]})}),(0,t.jsxs)("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-2",children:[(0,t.jsx)(y.Settings,{className:"h-8 w-8"}),"Administration de la documentation"]}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Gérez les catégories et articles de la documentation"})]}),(0,t.jsxs)(x.Tabs,{value:k,onValueChange:T,children:[(0,t.jsxs)(x.TabsList,{className:"mb-6",children:[(0,t.jsxs)(x.TabsTrigger,{value:"categories",children:[(0,t.jsx)(_.BookOpen,{className:"h-4 w-4 mr-2"}),"Catégories"]}),(0,t.jsxs)(x.TabsTrigger,{value:"articles",children:[(0,t.jsx)(j.FileText,{className:"h-4 w-4 mr-2"}),"Articles"]})]}),(0,t.jsx)(x.TabsContent,{value:"categories",children:(0,t.jsxs)(c.Card,{children:[(0,t.jsx)(c.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(c.CardTitle,{children:"Catégories"}),(0,t.jsxs)(g.Dialog,{open:F,onOpenChange:A,children:[(0,t.jsx)(g.DialogTrigger,{asChild:!0,children:(0,t.jsxs)(o.Button,{onClick:()=>{L(null),A(!0)},children:[(0,t.jsx)(f.Plus,{className:"h-4 w-4 mr-2"}),"Nouvelle catégorie"]})}),(0,t.jsxs)(g.DialogContent,{className:"max-w-2xl",children:[(0,t.jsxs)(g.DialogHeader,{children:[(0,t.jsx)(g.DialogTitle,{children:B?"Modifier la catégorie":"Nouvelle catégorie"}),(0,t.jsx)(g.DialogDescription,{children:"Créez ou modifiez une catégorie de documentation"})]}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault();let t=new FormData(e.currentTarget),i={name:t.get("name"),slug:t.get("slug"),description:t.get("description"),icon:t.get("icon"),order_index:parseInt(t.get("order_index"))||0,is_public:"on"===t.get("is_public")};B?O.mutate({id:B.id,data:i}):E.mutate(i)},children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Label,{htmlFor:"name",children:"Nom *"}),(0,t.jsx)(d.Input,{id:"name",name:"name",defaultValue:B?.name,required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Label,{htmlFor:"slug",children:"Slug *"}),(0,t.jsx)(d.Input,{id:"slug",name:"slug",defaultValue:B?.slug,required:!0,placeholder:"exemple-categorie"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Label,{htmlFor:"description",children:"Description"}),(0,t.jsx)(h.Textarea,{id:"description",name:"description",defaultValue:B?.description,rows:3})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Label,{htmlFor:"icon",children:"Icône (nom lucide-react)"}),(0,t.jsx)(d.Input,{id:"icon",name:"icon",defaultValue:B?.icon,placeholder:"BookOpen"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Label,{htmlFor:"order_index",children:"Ordre d'affichage"}),(0,t.jsx)(d.Input,{id:"order_index",name:"order_index",type:"number",defaultValue:B?.order_index||0})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(m.Switch,{checked:B?.is_public||!1,onCheckedChange:e=>{B&&L({...B,is_public:e})}}),(0,t.jsx)(u.Label,{htmlFor:"is_public",children:"Documentation publique"})]})]}),(0,t.jsxs)(g.DialogFooter,{className:"mt-6",children:[(0,t.jsx)(o.Button,{type:"button",variant:"outline",onClick:()=>{A(!1),L(null)},children:"Annuler"}),(0,t.jsx)(o.Button,{type:"submit",disabled:E.isPending,children:B?"Modifier":"Créer"})]})]})]})]})]})}),(0,t.jsx)(c.CardContent,{children:M&&M.length>0?(0,t.jsx)("div",{className:"space-y-2",children:M.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-semibold",children:e.name}),e.description&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[(0,t.jsxs)("span",{children:["Slug: ",e.slug]}),(0,t.jsxs)("span",{children:["Ordre: ",e.order_index]}),(0,t.jsx)("span",{children:e.is_public?"Publique":"Privée"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(o.Button,{variant:"outline",size:"sm",onClick:()=>{L(e),A(!0)},children:(0,t.jsx)(p.Edit,{className:"h-4 w-4"})}),(0,t.jsx)(o.Button,{variant:"outline",size:"sm",onClick:()=>{confirm("Êtes-vous sûr de vouloir supprimer cette catégorie ?")&&$.mutate(e.id)},children:(0,t.jsx)(b.Trash2,{className:"h-4 w-4 text-red-600"})})]})]},e.id))}):(0,t.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:"Aucune catégorie. Créez-en une pour commencer."})})]})}),(0,t.jsx)(x.TabsContent,{value:"articles",children:(0,t.jsxs)(c.Card,{children:[(0,t.jsx)(c.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(c.CardTitle,{children:"Articles"}),(0,t.jsxs)(g.Dialog,{open:z,onOpenChange:D,children:[(0,t.jsx)(g.DialogTrigger,{asChild:!0,children:(0,t.jsxs)(o.Button,{onClick:()=>{I(null),D(!0)},children:[(0,t.jsx)(f.Plus,{className:"h-4 w-4 mr-2"}),"Nouvel article"]})}),(0,t.jsxs)(g.DialogContent,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)(g.DialogHeader,{children:[(0,t.jsx)(g.DialogTitle,{children:V?"Modifier l'article":"Nouvel article"}),(0,t.jsx)(g.DialogDescription,{children:"Créez ou modifiez un article de documentation"})]}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault();let t=new FormData(e.currentTarget),i={category_id:t.get("category_id"),title:t.get("title"),slug:t.get("slug"),content:t.get("content"),excerpt:t.get("excerpt"),status:t.get("status"),is_featured:"on"===t.get("is_featured"),order_index:parseInt(t.get("order_index"))||0,tags:t.get("tags")?.split(",").map(e=>e.trim()).filter(Boolean)||[],meta_title:t.get("meta_title"),meta_description:t.get("meta_description"),published_at:"published"===t.get("status")?new Date().toISOString():null};V?K.mutate({id:V.id,data:i}):H.mutate(i)},children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Label,{htmlFor:"article_category_id",children:"Catégorie *"}),(0,t.jsxs)(N.Select,{value:V?.category_id||"",onValueChange:e=>{V&&I({...V,category_id:e})},children:[(0,t.jsx)(N.SelectTrigger,{children:(0,t.jsx)(N.SelectValue,{placeholder:"Sélectionner une catégorie"})}),(0,t.jsx)(N.SelectContent,{children:M?.map(e=>(0,t.jsx)(N.SelectItem,{value:e.id,children:e.name},e.id))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Label,{htmlFor:"article_title",children:"Titre *"}),(0,t.jsx)(d.Input,{id:"article_title",name:"title",defaultValue:V?.title,required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Label,{htmlFor:"article_slug",children:"Slug *"}),(0,t.jsx)(d.Input,{id:"article_slug",name:"slug",defaultValue:V?.slug,required:!0,placeholder:"exemple-article"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Label,{htmlFor:"article_excerpt",children:"Résumé"}),(0,t.jsx)(h.Textarea,{id:"article_excerpt",name:"excerpt",defaultValue:V?.excerpt,rows:2})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Label,{htmlFor:"article_content",children:"Contenu (Markdown) *"}),(0,t.jsx)(h.Textarea,{id:"article_content",name:"content",defaultValue:V?.content,required:!0,rows:15,className:"font-mono text-sm"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Label,{htmlFor:"article_status",children:"Statut"}),(0,t.jsxs)(N.Select,{value:V?.status||"draft",onValueChange:e=>{V&&I({...V,status:e})},children:[(0,t.jsx)(N.SelectTrigger,{children:(0,t.jsx)(N.SelectValue,{})}),(0,t.jsxs)(N.SelectContent,{children:[(0,t.jsx)(N.SelectItem,{value:"draft",children:"Brouillon"}),(0,t.jsx)(N.SelectItem,{value:"published",children:"Publié"}),(0,t.jsx)(N.SelectItem,{value:"archived",children:"Archivé"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Label,{htmlFor:"article_order_index",children:"Ordre d'affichage"}),(0,t.jsx)(d.Input,{id:"article_order_index",name:"order_index",type:"number",defaultValue:V?.order_index||0})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Label,{htmlFor:"article_tags",children:"Tags (séparés par des virgules)"}),(0,t.jsx)(d.Input,{id:"article_tags",name:"tags",defaultValue:V?.tags?.join(", "),placeholder:"tag1, tag2, tag3"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(m.Switch,{checked:V?.is_featured||!1,onCheckedChange:e=>{V&&I({...V,is_featured:e})}}),(0,t.jsx)(u.Label,{htmlFor:"article_is_featured",children:"Article en vedette"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Label,{htmlFor:"article_meta_title",children:"Titre SEO"}),(0,t.jsx)(d.Input,{id:"article_meta_title",name:"meta_title",defaultValue:V?.meta_title})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Label,{htmlFor:"article_meta_description",children:"Description SEO"}),(0,t.jsx)(h.Textarea,{id:"article_meta_description",name:"meta_description",defaultValue:V?.meta_description,rows:2})]})]}),(0,t.jsxs)(g.DialogFooter,{className:"mt-6",children:[(0,t.jsx)(o.Button,{type:"button",variant:"outline",onClick:()=>{D(!1),I(null)},children:"Annuler"}),(0,t.jsx)(o.Button,{type:"submit",disabled:H.isPending,children:V?"Modifier":"Créer"})]})]})]})]})]})}),(0,t.jsx)(c.CardContent,{children:P&&P.length>0?(0,t.jsx)("div",{className:"space-y-2",children:P.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h3",{className:"font-semibold",children:e.title}),(0,t.jsx)("span",{className:`text-xs px-2 py-1 rounded ${"published"===e.status?"bg-green-100 text-green-800":"draft"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:"published"===e.status?"Publié":"draft"===e.status?"Brouillon":"Archivé"}),e.is_featured&&(0,t.jsx)("span",{className:"text-xs px-2 py-1 rounded bg-blue-100 text-blue-800",children:"En vedette"})]}),e.excerpt&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.excerpt}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[(0,t.jsxs)("span",{children:["Slug: ",e.slug]}),(0,t.jsxs)("span",{children:[e.view_count," vues"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:["published"===e.status&&(0,t.jsx)(C.default,{href:`/dashboard/documentation/${e.category?.slug}/${e.slug}`,children:(0,t.jsx)(o.Button,{variant:"outline",size:"sm",children:(0,t.jsx)(v.Eye,{className:"h-4 w-4"})})}),(0,t.jsx)(o.Button,{variant:"outline",size:"sm",onClick:()=>{I(e),D(!0)},children:(0,t.jsx)(p.Edit,{className:"h-4 w-4"})}),(0,t.jsx)(o.Button,{variant:"outline",size:"sm",onClick:()=>{confirm("Êtes-vous sûr de vouloir supprimer cet article ?")&&Q.mutate(e.id)},children:(0,t.jsx)(b.Trash2,{className:"h-4 w-4 text-red-600"})})]})]},e.id))}):(0,t.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:"Aucun article. Créez-en un pour commencer."})})]})})]})]})}e.s(["default",()=>S])}]);