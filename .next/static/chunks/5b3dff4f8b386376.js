(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,605631,e=>{"use strict";let s=(0,e.i(475254).default)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>s],605631)},356909,e=>{"use strict";let s=(0,e.i(475254).default)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);e.s(["Save",()=>s],356909)},319036,e=>{"use strict";var s=e.i(843476),t=e.i(271645),i=e.i(647163);let r=t.forwardRef(({checked:e,onCheckedChange:t,disabled:r,className:n,...a},o)=>(0,s.jsx)("button",{type:"button",role:"switch","aria-checked":e,ref:o,disabled:r,onClick:()=>t?.(!e),className:(0,i.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e?"bg-brand-blue":"bg-input",n),...a,children:(0,s.jsx)("span",{className:(0,i.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform",e?"translate-x-5":"translate-x-0")})}));r.displayName="Switch",e.s(["Switch",0,r])},834161,e=>{"use strict";let s=(0,e.i(475254).default)("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);e.s(["Key",()=>s],834161)},844476,e=>{"use strict";var s=e.i(843476),t=e.i(271645),i=e.i(266027),r=e.i(954616),n=e.i(912598),a=e.i(325715),o=e.i(801424),c=e.i(167881),l=e.i(970065),d=e.i(23750),u=e.i(10708),m=e.i(319036),x=e.i(6799),h=e.i(98919),p=e.i(605631),v=e.i(898791),j=e.i(440160),f=e.i(16715),g=e.i(834161),y=e.i(356909),b=e.i(630374);function _(){let{user:e}=(0,a.useAuth)(),m=(0,n.useQueryClient)(),{addToast:y}=(0,x.useToast)(),[_,C]=(0,t.useState)(!1),[k,S]=(0,t.useState)(""),[E,L]=(0,t.useState)(""),[q,T]=(0,t.useState)(!1),{data:F,isLoading:z}=(0,i.useQuery)({queryKey:["2fa-config",e?.id],queryFn:async()=>e?.id?o.twoFactorAuthService.getConfig(e.id):null,enabled:!!e?.id}),R=(0,r.useMutation)({mutationFn:async()=>{let e=await fetch("/api/2fa/generate-secret",{method:"POST"});if(!e.ok)throw Error((await e.json()).error||"Erreur lors de la génération du secret");return e.json()},onSuccess:e=>{m.invalidateQueries({queryKey:["2fa-config"]}),C(!0),y({type:"success",title:"Secret généré",description:"Scannez le QR code avec votre application d'authentification."})},onError:e=>{y({type:"error",title:"Erreur",description:e.message||"Une erreur est survenue."})}}),A=(0,r.useMutation)({mutationFn:async e=>{let s=await fetch("/api/2fa/verify-activation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e})});if(!s.ok)throw Error((await s.json()).error||"Code invalide");return s.json()},onSuccess:()=>{m.invalidateQueries({queryKey:["2fa-config"]}),S(""),C(!1),y({type:"success",title:"2FA activée",description:"L'authentification à deux facteurs est maintenant activée."})},onError:e=>{y({type:"error",title:"Code invalide",description:e.message||"Le code saisi est incorrect."})}}),D=(0,r.useMutation)({mutationFn:async e=>{let s=await fetch("/api/2fa/disable",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e})});if(!s.ok)throw Error((await s.json()).error||"Erreur lors de la désactivation");return s.json()},onSuccess:()=>{m.invalidateQueries({queryKey:["2fa-config"]}),L(""),T(!1),y({type:"success",title:"2FA désactivée",description:"L'authentification à deux facteurs a été désactivée."})},onError:e=>{y({type:"error",title:"Erreur",description:e.message||"Une erreur est survenue."})}}),O=(0,r.useMutation)({mutationFn:async()=>{let e=await fetch("/api/2fa/regenerate-backup-codes",{method:"POST"});if(!e.ok)throw Error((await e.json()).error||"Erreur lors de la régénération");return e.json()},onSuccess:e=>{C(!0),y({type:"success",title:"Codes régénérés",description:"Nouveaux codes de récupération générés."})},onError:e=>{y({type:"error",title:"Erreur",description:e.message||"Une erreur est survenue."})}});if(z)return(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("div",{className:"text-muted-foreground",children:"Chargement..."})})});let P=F?.is_enabled||!1;F?.is_verified;let U=!!R.data;return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[(0,s.jsx)(h.Shield,{className:"mr-3 h-8 w-8 text-primary"}),"Sécurité"]}),(0,s.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Gérez votre authentification à deux facteurs (2FA) pour renforcer la sécurité de votre compte"})]}),(0,s.jsxs)(l.Card,{children:[(0,s.jsxs)(l.CardHeader,{children:[(0,s.jsx)(l.CardTitle,{children:"Authentification à deux facteurs (2FA)"}),(0,s.jsx)(l.CardDescription,{children:"Ajoutez une couche de sécurité supplémentaire à votre compte"})]}),(0,s.jsxs)(l.CardContent,{className:"space-y-6",children:[(0,s.jsx)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:(0,s.jsx)("div",{className:"flex items-center space-x-3",children:P?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p.CheckCircle,{className:"h-5 w-5 text-green-600"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold text-green-800",children:"2FA Activée"}),F?.last_used_at&&(0,s.jsxs)("p",{className:"text-sm text-green-600",children:["Dernière utilisation: ",new Date(F.last_used_at).toLocaleString("fr-FR")]})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v.AlertCircle,{className:"h-5 w-5 text-gray-400"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold text-gray-800",children:"2FA Désactivée"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Votre compte n'est pas protégé par l'authentification à deux facteurs"})]})]})})}),!P&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold mb-2",children:"Activer la 2FA"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Scannez le QR code avec une application d'authentification comme Google Authenticator ou Authy."}),(0,s.jsxs)(c.Button,{onClick:()=>{R.mutate()},disabled:R.isPending,children:[(0,s.jsx)(g.Key,{className:"h-4 w-4 mr-2"}),U?"Régénérer le QR code":"Générer le QR code"]})]}),R.data?.qrCodeUrl&&(0,s.jsxs)("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg",children:[(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)("img",{src:R.data.qrCodeUrl,alt:"QR Code 2FA",className:"w-64 h-64"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u.Label,{children:"Code secret (manuel)"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[(0,s.jsx)(d.Input,{value:R.data.secret,readOnly:!0,className:"font-mono text-sm"}),(0,s.jsx)(c.Button,{variant:"outline",size:"icon",onClick:()=>{navigator.clipboard.writeText(R.data.secret),y({type:"success",title:"Copié",description:"Le secret a été copié dans le presse-papiers."})},children:(0,s.jsx)(g.Key,{className:"h-4 w-4"})})]})]}),_&&R.data.backupCodes&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(u.Label,{children:"Codes de récupération"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Conservez ces codes en lieu sûr. Vous en aurez besoin si vous perdez l'accès à votre application d'authentification."}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-2 p-4 bg-white rounded border",children:R.data.backupCodes.map((e,t)=>(0,s.jsx)("div",{className:"font-mono text-sm text-center",children:e},t))}),(0,s.jsxs)(c.Button,{variant:"outline",size:"sm",onClick:()=>{let e=new Blob([R.data.backupCodes.join("\n")],{type:"text/plain"}),s=URL.createObjectURL(e),t=document.createElement("a");t.href=s,t.download="eduzen-backup-codes.txt",t.click(),URL.revokeObjectURL(s)},children:[(0,s.jsx)(j.Download,{className:"h-4 w-4 mr-2"}),"Télécharger les codes"]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(u.Label,{children:"Vérifier l'activation"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Entrez le code à 6 chiffres affiché dans votre application d'authentification pour confirmer l'activation."}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(d.Input,{type:"text",inputMode:"numeric",maxLength:6,value:k,onChange:e=>S(e.target.value.replace(/\D/g,"")),placeholder:"000000",className:"font-mono text-center text-2xl tracking-widest"}),(0,s.jsxs)(c.Button,{onClick:()=>{6!==k.length?y({type:"error",title:"Code invalide",description:"Le code doit contenir 6 chiffres."}):A.mutate(k)},disabled:A.isPending||6!==k.length,children:[A.isPending?(0,s.jsx)(f.RefreshCw,{className:"h-4 w-4 mr-2 animate-spin"}):(0,s.jsx)(p.CheckCircle,{className:"h-4 w-4 mr-2"}),"Vérifier"]})]})]})]})]}),P&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold mb-2",children:"Désactiver la 2FA"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Vous devrez entrer votre mot de passe pour désactiver l'authentification à deux facteurs."}),(0,s.jsx)(c.Button,{variant:"destructive",onClick:()=>T(!0),children:"Désactiver la 2FA"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold mb-2",children:"Codes de récupération"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Régénérez vos codes de récupération si vous les avez perdus ou utilisés."}),(0,s.jsxs)(c.Button,{variant:"outline",onClick:()=>O.mutate(),disabled:O.isPending,children:[(0,s.jsx)(f.RefreshCw,{className:"h-4 w-4 mr-2"}),"Régénérer les codes"]})]}),_&&O.data?.backupCodes&&(0,s.jsxs)("div",{className:"space-y-2 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[(0,s.jsx)(u.Label,{className:"text-yellow-800",children:"Nouveaux codes de récupération"}),(0,s.jsx)("p",{className:"text-sm text-yellow-700 mb-2",children:"Conservez ces codes en lieu sûr. Les anciens codes ne fonctionneront plus."}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-2 p-4 bg-white rounded border",children:O.data.backupCodes.map((e,t)=>(0,s.jsx)("div",{className:"font-mono text-sm text-center",children:e},t))}),(0,s.jsxs)(c.Button,{variant:"outline",size:"sm",onClick:()=>{let e=new Blob([O.data.backupCodes.join("\n")],{type:"text/plain"}),s=URL.createObjectURL(e),t=document.createElement("a");t.href=s,t.download="eduzen-backup-codes.txt",t.click(),URL.revokeObjectURL(s)},children:[(0,s.jsx)(j.Download,{className:"h-4 w-4 mr-2"}),"Télécharger les codes"]})]})]})]})]}),(0,s.jsx)(b.Dialog,{open:q,onOpenChange:T,children:(0,s.jsxs)(b.DialogContent,{children:[(0,s.jsxs)(b.DialogHeader,{children:[(0,s.jsx)(b.DialogTitle,{children:"Désactiver la 2FA"}),(0,s.jsx)(b.DialogDescription,{children:"Entrez votre mot de passe pour confirmer la désactivation de l'authentification à deux facteurs."})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(u.Label,{htmlFor:"disable-password",children:"Mot de passe"}),(0,s.jsx)(d.Input,{id:"disable-password",type:"password",value:E,onChange:e=>L(e.target.value),placeholder:"Votre mot de passe",className:"mt-2"})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,s.jsx)(c.Button,{variant:"outline",onClick:()=>{T(!1),L("")},children:"Annuler"}),(0,s.jsxs)(c.Button,{variant:"destructive",onClick:()=>{E?D.mutate(E):y({type:"error",title:"Mot de passe requis",description:"Veuillez entrer votre mot de passe."})},disabled:D.isPending||!E,children:[D.isPending?(0,s.jsx)(f.RefreshCw,{className:"h-4 w-4 mr-2 animate-spin"}):null,"Désactiver"]})]})]})]})}),(0,s.jsxs)(l.Card,{children:[(0,s.jsxs)(l.CardHeader,{children:[(0,s.jsx)(l.CardTitle,{children:"Sessions actives"}),(0,s.jsx)(l.CardDescription,{children:"Gérez vos sessions actives sur différents appareils"})]}),(0,s.jsx)(l.CardContent,{children:(0,s.jsx)(w,{})})]}),(0,s.jsxs)(l.Card,{children:[(0,s.jsxs)(l.CardHeader,{children:[(0,s.jsx)(l.CardTitle,{children:"Règles de timeout"}),(0,s.jsx)(l.CardDescription,{children:"Configurez les règles de timeout et de gestion des sessions"})]}),(0,s.jsx)(l.CardContent,{children:(0,s.jsx)(N,{})})]})]})}function w(){let{user:e}=(0,a.useAuth)(),t=(0,n.useQueryClient)(),{addToast:o}=(0,x.useToast)(),{data:l,isLoading:d,refetch:u}=(0,i.useQuery)({queryKey:["active-sessions",e?.id],queryFn:async()=>{let e=await fetch("/api/sessions/active");if(!e.ok)throw Error("Erreur lors de la récupération des sessions");return(await e.json()).sessions||[]},enabled:!!e?.id}),m=(0,r.useMutation)({mutationFn:async e=>{let s=await fetch("/api/sessions/revoke",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:e})});if(!s.ok)throw Error((await s.json()).error||"Erreur lors de la révocation")},onSuccess:()=>{t.invalidateQueries({queryKey:["active-sessions"]}),o({type:"success",title:"Session révoquée",description:"La session a été révoquée avec succès."})},onError:e=>{o({type:"error",title:"Erreur",description:e.message||"Une erreur est survenue."})}}),h=(0,r.useMutation)({mutationFn:async()=>{let e=await fetch("/api/sessions/revoke",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({revoke_all:!0})});if(!e.ok)throw Error((await e.json()).error||"Erreur lors de la révocation")},onSuccess:()=>{t.invalidateQueries({queryKey:["active-sessions"]}),o({type:"success",title:"Toutes les sessions révoquées",description:"Toutes les sessions ont été révoquées avec succès."})},onError:e=>{o({type:"error",title:"Erreur",description:e.message||"Une erreur est survenue."})}});return d?(0,s.jsx)("div",{className:"text-center text-muted-foreground",children:"Chargement..."}):l&&0!==l.length?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)(c.Button,{variant:"outline",size:"sm",onClick:()=>h.mutate(),disabled:h.isPending,children:"Révoquer toutes les sessions"})}),(0,s.jsx)("div",{className:"space-y-2",children:l.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("p",{className:"font-semibold",children:e.device_name}),e.is_current&&(0,s.jsx)("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:"Session actuelle"})]}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.device_type," • ",e.ip_address," • ",e.country||"Inconnu"]}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Dernière activité: ",new Date(e.last_activity_at).toLocaleString("fr-FR")]})]}),!e.is_current&&(0,s.jsx)(c.Button,{variant:"outline",size:"sm",onClick:()=>m.mutate(e.id),disabled:m.isPending,children:"Révoquer"})]},e.id))})]}):(0,s.jsx)("div",{className:"text-center text-muted-foreground",children:"Aucune session active"})}function N(){let{user:e}=(0,a.useAuth)(),o=(0,n.useQueryClient)(),{addToast:l}=(0,x.useToast)(),{data:h,isLoading:p}=(0,i.useQuery)({queryKey:["timeout-rules",e?.organization_id],queryFn:async()=>{let e=await fetch("/api/sessions/timeout-rules");if(!e.ok)throw Error("Erreur lors de la récupération des règles");return(await e.json()).rules},enabled:!!e?.organization_id}),[v,j]=(0,t.useState)({idle_timeout_minutes:h?.idle_timeout_minutes||30,absolute_timeout_minutes:h?.absolute_timeout_minutes||480,max_concurrent_sessions:h?.max_concurrent_sessions||5,allow_multiple_devices:h?.allow_multiple_devices!==!1,require_device_verification:h?.require_device_verification||!1,notify_on_new_device:h?.notify_on_new_device!==!1,notify_on_suspicious_activity:h?.notify_on_suspicious_activity!==!1});(0,t.useEffect)(()=>{h&&j({idle_timeout_minutes:h.idle_timeout_minutes||30,absolute_timeout_minutes:h.absolute_timeout_minutes||480,max_concurrent_sessions:h.max_concurrent_sessions||5,allow_multiple_devices:!1!==h.allow_multiple_devices,require_device_verification:h.require_device_verification||!1,notify_on_new_device:!1!==h.notify_on_new_device,notify_on_suspicious_activity:!1!==h.notify_on_suspicious_activity})},[h]);let f=(0,r.useMutation)({mutationFn:async()=>{let e=await fetch("/api/sessions/timeout-rules",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)});if(!e.ok)throw Error((await e.json()).error||"Erreur lors de la sauvegarde");return e.json()},onSuccess:()=>{o.invalidateQueries({queryKey:["timeout-rules"]}),l({type:"success",title:"Règles sauvegardées",description:"Les règles de timeout ont été sauvegardées avec succès."})},onError:e=>{l({type:"error",title:"Erreur",description:e.message||"Une erreur est survenue."})}});return p?(0,s.jsx)("div",{className:"text-center text-muted-foreground",children:"Chargement..."}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(u.Label,{htmlFor:"idle-timeout",children:"Timeout d'inactivité (minutes)"}),(0,s.jsx)(d.Input,{id:"idle-timeout",type:"number",value:v.idle_timeout_minutes,onChange:e=>j({...v,idle_timeout_minutes:parseInt(e.target.value)||30}),min:5,max:1440}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Temps d'inactivité avant déconnexion automatique"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u.Label,{htmlFor:"absolute-timeout",children:"Timeout absolu (minutes)"}),(0,s.jsx)(d.Input,{id:"absolute-timeout",type:"number",value:v.absolute_timeout_minutes,onChange:e=>j({...v,absolute_timeout_minutes:parseInt(e.target.value)||480}),min:60,max:10080}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Durée maximale d'une session (même avec activité)"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u.Label,{htmlFor:"max-sessions",children:"Nombre maximum de sessions simultanées"}),(0,s.jsx)(d.Input,{id:"max-sessions",type:"number",value:v.max_concurrent_sessions,onChange:e=>j({...v,max_concurrent_sessions:parseInt(e.target.value)||5}),min:1,max:20})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(u.Label,{children:"Autoriser plusieurs appareils"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Permettre aux utilisateurs d'être connectés sur plusieurs appareils simultanément"})]}),(0,s.jsx)(m.Switch,{checked:v.allow_multiple_devices,onCheckedChange:e=>j({...v,allow_multiple_devices:e})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(u.Label,{children:"Vérification des appareils"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Exiger une vérification pour les nouveaux appareils"})]}),(0,s.jsx)(m.Switch,{checked:v.require_device_verification,onCheckedChange:e=>j({...v,require_device_verification:e})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(u.Label,{children:"Notifier nouveaux appareils"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Envoyer une notification lors d'une connexion depuis un nouvel appareil"})]}),(0,s.jsx)(m.Switch,{checked:v.notify_on_new_device,onCheckedChange:e=>j({...v,notify_on_new_device:e})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(u.Label,{children:"Notifier activité suspecte"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Envoyer une notification en cas d'activité suspecte détectée"})]}),(0,s.jsx)(m.Switch,{checked:v.notify_on_suspicious_activity,onCheckedChange:e=>j({...v,notify_on_suspicious_activity:e})})]})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsxs)(c.Button,{onClick:()=>f.mutate(),disabled:f.isPending,children:[(0,s.jsx)(y.Save,{className:"h-4 w-4 mr-2"}),"Sauvegarder les règles"]})})]})}e.s(["default",()=>_])}]);