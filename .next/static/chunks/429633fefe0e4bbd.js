(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,107233,e=>{"use strict";let t=(0,e.i(475254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],107233)},25652,e=>{"use strict";let t=(0,e.i(475254).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["TrendingUp",()=>t],25652)},127341,e=>{"use strict";var t=e.i(843476),s=e.i(271645),i=e.i(647163);let a=s.createContext(void 0);function n({value:e,defaultValue:n,onValueChange:r,children:l,className:c}){let d=void 0!==e,[o,u]=s.useState(n??"");s.useEffect(()=>{d||void 0===n||u(n)},[n]);let m=d?e:o,h=s.useCallback(e=>{d||u(e),r?.(e)},[d,r]);return(0,t.jsx)(a.Provider,{value:{value:m,onValueChange:h},children:(0,t.jsx)("div",{className:(0,i.cn)("w-full",c),children:l})})}function r(){let e=s.useContext(a);if(!e)throw Error("Tabs components must be used within a Tabs component");return e}function l({children:e,className:s}){return(0,t.jsx)("div",{className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-lg bg-bg-gray-100 p-1 text-text-tertiary",s),children:e})}function c({value:e,children:s,className:a}){let{value:n,onValueChange:l}=r(),c=n===e;return(0,t.jsx)("button",{type:"button",onClick:()=>l(e),className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-outline-none focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",c?"bg-white text-text-primary shadow-sm":"text-text-tertiary hover:text-text-primary",a),children:s})}function d({value:e,children:s,className:a}){let{value:n}=r();return n!==e?null:(0,t.jsx)("div",{className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),children:s})}e.s(["Tabs",()=>n,"TabsContent",()=>d,"TabsList",()=>l,"TabsTrigger",()=>c])},845691,e=>{"use strict";var t=e.i(920755);let s=new class{supabase;constructor(e){this.supabase=e||(0,t.createClient)()}async getConfiguration(e){try{let{data:t,error:s}=await this.supabase.from("accessibility_configurations").select("*").eq("organization_id",e).maybeSingle();if(s){if("PGRST116"===s.code||"42P01"===s.code||"PGRST301"===s.code||404===s.status||s.message?.includes("relation")||s.message?.includes("does not exist"))return console.warn("Table accessibility_configurations does not exist yet:",s?.message),null;throw s}return t}catch(e){if(e?.status===404||e?.message?.toLowerCase().includes("not found"))return null;throw e}}async updateConfiguration(e,t){var s;let i=await this.getConfiguration(e),a={...t};if(delete a.id,delete a.created_at,delete a.updated_at,delete a.organization_id,null===a.referent_user_id||void 0===a.referent_user_id||""!==a.referent_user_id&&(s=a.referent_user_id)&&""!==s&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(s)||(a.referent_user_id=null),(""===a.referent_training_date||null===a.referent_training_date)&&(a.referent_training_date=null),""===a.referent_training_certificate&&(a.referent_training_certificate=null),""===a.accessibility_policy&&(a.accessibility_policy=null),""===a.physical_accessibility_statement&&(a.physical_accessibility_statement=null),""===a.digital_accessibility_statement&&(a.digital_accessibility_statement=null),i){let{data:t,error:s}=await this.supabase.from("accessibility_configurations").update(a).eq("organization_id",e).select().single();if(s)throw console.error("[AccessibilityService] Erreur lors de la mise √† jour de la configuration:",{error:s,code:s.code,message:s.message,details:s.details,hint:s.hint,cleanData:a,organizationId:e}),s;return t}{let t={organization_id:e,partner_agefiph:!1,partner_cap_emploi:!1,partner_fiphfp:!1,partner_other:[],...a},{data:s,error:i}=await this.supabase.from("accessibility_configurations").insert(t).select().single();if(i)throw console.error("[AccessibilityService] Erreur lors de la cr√©ation de la configuration:",{error:i,code:i.code,message:i.message,details:i.details,hint:i.hint,insertData:t}),i;return s}}async setReferent(e,t,s,i){await this.updateConfiguration(e,{referent_user_id:t,referent_training_date:s||null,referent_training_certificate:i||null})}async getDisabilityTypes(){try{let{data:e,error:t}=await this.supabase.from("accessibility_disability_types").select("*").order("name_fr",{ascending:!0});if(t){if("PGRST116"===t.code||"42P01"===t.code||404===t.status||t.message?.includes("relation")||t.message?.includes("does not exist"))return console.warn("Table accessibility_disability_types does not exist yet"),[];throw t}return e||[]}catch(e){if(e?.status===404)return[];throw e}}async getStudentNeeds(e,t){try{let s=this.supabase.from("accessibility_student_needs").select("*").eq("organization_id",e);t?.status&&(s=s.eq("status",t.status)),t?.has_disability!==void 0&&(s=s.eq("has_disability",t.has_disability));let{data:i,error:a}=await s.order("created_at",{ascending:!1});if(a){if("PGRST116"===a.code||"42P01"===a.code||404===a.status||a.message?.includes("relation")||a.message?.includes("does not exist"))return console.warn("Table accessibility_student_needs does not exist yet"),[];throw a}return i||[]}catch(e){if(e?.status===404)return[];throw e}}async getStudentNeedByStudentId(e){try{let{data:t,error:s}=await this.supabase.from("accessibility_student_needs").select("*").eq("student_id",e).maybeSingle();if(s){if("PGRST116"===s.code||"42P01"===s.code||404===s.status||s.message?.includes("relation")||s.message?.includes("does not exist"))return null;throw s}return t}catch(e){if(e?.status===404)return null;throw e}}async createStudentNeed(e){let{data:t,error:s}=await this.supabase.from("accessibility_student_needs").insert(e).select().single();if(s)throw s;return t}async updateStudentNeed(e,t){let{data:s,error:i}=await this.supabase.from("accessibility_student_needs").update(t).eq("id",e).select().single();if(i)throw i;return s}async reviewStudentNeed(e,t,s){return this.updateStudentNeed(e,{status:"reviewed",reviewed_by_user_id:t,reviewed_at:new Date().toISOString(),notes:s||null})}async getAccommodations(e,t){try{let s=this.supabase.from("accessibility_accommodations").select("*").eq("organization_id",e);t?.student_id&&(s=s.eq("student_id",t.student_id)),t?.status&&(s=s.eq("status",t.status)),t?.type&&(s=s.eq("accommodation_type",t.type));let{data:i,error:a}=await s.order("created_at",{ascending:!1});if(a){if("PGRST116"===a.code||"42P01"===a.code||404===a.status||a.message?.includes("relation")||a.message?.includes("does not exist"))return console.warn("Table accessibility_accommodations does not exist yet"),[];throw a}return i||[]}catch(e){if(e?.status===404)return[];throw e}}async getStudentAccommodations(e){return this.getAccommodations("",{student_id:e})}async createAccommodation(e){let{data:t,error:s}=await this.supabase.from("accessibility_accommodations").insert(e).select().single();if(s)throw s;return t}async updateAccommodation(e,t){let{data:s,error:i}=await this.supabase.from("accessibility_accommodations").update(t).eq("id",e).select().single();if(i)throw i;return s}async archiveAccommodation(e){await this.updateAccommodation(e,{status:"inactive"})}async getEquipment(e,t){try{let s=this.supabase.from("accessibility_equipment").select("*").eq("organization_id",e);t?.status&&(s=s.eq("status",t.status)),t?.category&&(s=s.eq("category",t.category));let{data:i,error:a}=await s.order("name",{ascending:!0});if(a){if("PGRST116"===a.code||"42P01"===a.code||404===a.status||a.message?.includes("relation")||a.message?.includes("does not exist"))return console.warn("Table accessibility_equipment does not exist yet"),[];throw a}return i||[]}catch(e){if(e?.status===404)return[];throw e}}async createEquipment(e){let{data:t,error:s}=await this.supabase.from("accessibility_equipment").insert(e).select().single();if(s)throw s;return t}async updateEquipment(e,t){let{data:s,error:i}=await this.supabase.from("accessibility_equipment").update(t).eq("id",e).select().single();if(i)throw i;return s}async assignEquipment(e,t,s){let{data:i,error:a}=await this.supabase.from("accessibility_equipment").select("*").eq("id",e).single();if(a)throw a;if(i.quantity_available<=0)throw Error("√âquipement non disponible");let{data:n,error:r}=await this.supabase.from("accessibility_equipment_assignments").insert({equipment_id:e,student_id:t,organization_id:i.organization_id,...s}).select().single();if(r)throw r;return await this.updateEquipment(e,{quantity_available:i.quantity_available-1,status:i.quantity_available-1==0?"in_use":i.status}),n}async returnEquipment(e,t){let{data:s,error:i}=await this.supabase.from("accessibility_equipment_assignments").select("*, accessibility_equipment(*)").eq("id",e).single();if(i)throw i;if(await this.supabase.from("accessibility_equipment_assignments").update({status:"returned",actual_return_date:new Date().toISOString().split("T")[0],condition_on_return:t}).eq("id",e),"lost"!==t&&"damaged"!==t){let e=s.accessibility_equipment;await this.updateEquipment(s.equipment_id,{quantity_available:e.quantity_available+1,status:"available"})}}async getEquipmentAssignments(e){try{let{data:t,error:s}=await this.supabase.from("accessibility_equipment_assignments").select("*").eq("equipment_id",e).order("assigned_date",{ascending:!1});if(s){if("PGRST116"===s.code||"42P01"===s.code||404===s.status||s.message?.includes("relation")||s.message?.includes("does not exist"))return console.warn("Table accessibility_equipment_assignments does not exist yet"),[];throw s}return t||[]}catch(e){if(e?.status===404)return[];throw e}}async getDocuments(e,t){try{let s=this.supabase.from("accessibility_documents").select("*").eq("organization_id",e);t&&(s=s.eq("student_id",t));let{data:i,error:a}=await s.order("created_at",{ascending:!1});if(a){if("PGRST116"===a.code||"42P01"===a.code||404===a.status||a.message?.includes("relation")||a.message?.includes("does not exist"))return console.warn("Table accessibility_documents does not exist yet"),[];throw a}return i||[]}catch(e){if(e?.status===404)return[];throw e}}async uploadDocument(e){let{data:t,error:s}=await this.supabase.from("accessibility_documents").insert(e).select().single();if(s)throw s;return t}async deleteDocument(e){let{error:t}=await this.supabase.from("accessibility_documents").delete().eq("id",e);if(t)throw t}async verifyDocument(e,t){await this.supabase.from("accessibility_documents").update({verified:!0,verified_by_user_id:t,verified_at:new Date().toISOString()}).eq("id",e)}async getStats(e){let[t,s,i,a]=await Promise.all([this.getStudentNeeds(e,{has_disability:!0}),this.getAccommodations(e,{status:"active"}),this.getEquipment(e,{status:"available"}),this.calculateComplianceRate(e)]),n=new Map;t.forEach(e=>{e.disability_type_ids.forEach(e=>{n.set(e,(n.get(e)||0)+1)})});let r=new Map;return s.forEach(e=>{r.set(e.accommodation_type,(r.get(e.accommodation_type)||0)+1)}),{total_students_with_needs:t.length,active_accommodations:s.length,available_equipment:i.reduce((e,t)=>e+t.quantity_available,0),compliance_rate:a,students_by_disability_type:Array.from(n.entries()).map(([e,t])=>({type:e,count:t})),accommodations_by_type:Array.from(r.entries()).map(([e,t])=>({type:e,count:t})),pending_reviews:t.filter(e=>"pending"===e.status).length}}async calculateComplianceRate(e){try{let{data:t,error:s}=await this.supabase.rpc("calculate_accessibility_compliance_rate",{org_id:e});if(s){if("PGRST116"===s.code||"42883"===s.code||404===s.status||s.message?.toLowerCase().includes("function")||s.message?.toLowerCase().includes("does not exist"))return 0;throw s}return t||0}catch(e){if(e?.status===404||e?.message?.toLowerCase().includes("not found"))return 0;throw e}}async generateComplianceReport(e,t,s,i){let a=await this.getStats(e),n=await this.getConfiguration(e),r={organization_id:e,report_type:"annual",title:`Rapport de conformit\xe9 accessibilit\xe9 ${new Date().getFullYear()}`,period_start:t,period_end:s,total_students:0,students_with_disabilities:a.total_students_with_needs,accommodations_requested:a.total_students_with_needs,accommodations_implemented:a.active_accommodations,equipment_used:0,referent_training_up_to_date:!!n?.referent_training_date,physical_accessibility_compliant:!!n?.physical_accessibility_statement,digital_accessibility_compliant:!!n?.digital_accessibility_statement,partner_collaborations:+!!n?.partner_agefiph+ +!!n?.partner_cap_emploi+ +!!n?.partner_fiphfp,compliance_rate:a.compliance_rate,findings:[],recommendations:[],generated_by_user_id:i},{data:l,error:c}=await this.supabase.from("accessibility_compliance_reports").insert(r).select().single();if(c)throw c;return l}};e.s(["accessibilityService",0,s])},488844,e=>{"use strict";let t=(0,e.i(475254).default)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);e.s(["Package",()=>t],488844)},509918,e=>{"use strict";var t=e.i(843476),s=e.i(271645),i=e.i(266027),a=e.i(325715),n=e.i(845691),r=e.i(970065),l=e.i(167881),c=e.i(127341),d=e.i(994179),o=e.i(482751),u=e.i(761911),m=e.i(465286),h=e.i(488844),x=e.i(25652),g=e.i(239616),p=e.i(178583),f=e.i(898791),b=e.i(16715),y=e.i(107233),_=e.i(522016);function j(){let{user:e}=(0,a.useAuth)(),[j,w]=(0,s.useState)("overview"),{data:v,isLoading:N}=(0,i.useQuery)({queryKey:["accessibility-stats",e?.organization_id],queryFn:async()=>e?.organization_id?await n.accessibilityService.getStats(e.organization_id):null,enabled:!!e?.organization_id,retry:!1}),{data:C,isLoading:q}=(0,i.useQuery)({queryKey:["accessibility-config",e?.organization_id],queryFn:async()=>e?.organization_id?await n.accessibilityService.getConfiguration(e.organization_id):null,enabled:!!e?.organization_id,retry:!1}),{data:T=[],isLoading:S}=(0,i.useQuery)({queryKey:["accessibility-needs",e?.organization_id],queryFn:async()=>e?.organization_id?await n.accessibilityService.getStudentNeeds(e.organization_id):[],enabled:!!e?.organization_id,retry:!1}),{data:A=[],isLoading:P}=(0,i.useQuery)({queryKey:["accessibility-accommodations",e?.organization_id],queryFn:async()=>e?.organization_id?await n.accessibilityService.getAccommodations(e.organization_id):[],enabled:!!e?.organization_id,retry:!1}),{data:z=[],isLoading:k}=(0,i.useQuery)({queryKey:["accessibility-equipment",e?.organization_id],queryFn:async()=>e?.organization_id?await n.accessibilityService.getEquipment(e.organization_id):[],enabled:!!e?.organization_id,retry:!1});if(N||q||S||P||k)return(0,t.jsx)("div",{className:"container mx-auto py-8 px-4",children:(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)(b.RefreshCw,{className:"h-8 w-8 animate-spin text-brand-blue"})})});if(!C)return(0,t.jsx)("div",{className:"container mx-auto py-8 px-4 max-w-4xl",children:(0,t.jsxs)(r.Card,{children:[(0,t.jsxs)(r.CardHeader,{children:[(0,t.jsxs)(r.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(o.Accessibility,{className:"h-6 w-6 text-brand-blue"}),"Module Accessibilit√© Handicap"]}),(0,t.jsx)(r.CardDescription,{children:"Gestion de l'accessibilit√© et des am√©nagements pour les stagiaires en situation de handicap"})]}),(0,t.jsx)(r.CardContent,{children:(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(o.Accessibility,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Configuration initiale requise"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-6",children:"Pour commencer, configurez votre politique d'accessibilit√© et d√©signez un r√©f√©rent handicap."}),(0,t.jsx)(l.Button,{asChild:!0,children:(0,t.jsxs)(_.default,{href:"/dashboard/accessibility/config",children:[(0,t.jsx)(g.Settings,{className:"h-4 w-4 mr-2"}),"Configurer le module"]})})]})})]})});let R=v?.compliance_rate||0,E=v?.total_students_with_needs||0,B=v?.active_accommodations||0,D=v?.available_equipment||0,G=v?.pending_reviews||0;return(0,t.jsxs)("div",{className:"container mx-auto py-8 px-4 max-w-7xl",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-2",children:[(0,t.jsx)(o.Accessibility,{className:"h-8 w-8 text-brand-blue"}),"Accessibilit√© Handicap"]}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Gestion compl√®te de l'accessibilit√© conforme aux exigences Qualiopi (crit√®re 8)"})]}),!C.referent_user_id&&(0,t.jsx)(r.Card,{className:"mb-6 border-yellow-200 bg-yellow-50",children:(0,t.jsx)(r.CardContent,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(f.AlertCircle,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-semibold text-yellow-900",children:"R√©f√©rent handicap non d√©sign√©"}),(0,t.jsx)("p",{className:"text-sm text-yellow-800 mt-1",children:"La d√©signation d'un r√©f√©rent handicap est obligatoire pour la conformit√© Qualiopi."}),(0,t.jsx)(l.Button,{asChild:!0,variant:"outline",size:"sm",className:"mt-3",children:(0,t.jsx)(_.default,{href:"/dashboard/accessibility/config",children:"D√©signer un r√©f√©rent"})})]})]})})}),G>0&&(0,t.jsx)(r.Card,{className:"mb-6 border-blue-200 bg-blue-50",children:(0,t.jsx)(r.CardContent,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(f.AlertCircle,{className:"h-5 w-5 text-blue-600 mt-0.5"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("h3",{className:"font-semibold text-blue-900",children:[G," d√©claration",G>1?"s":""," en attente de revue"]}),(0,t.jsx)("p",{className:"text-sm text-blue-800 mt-1",children:"Des stagiaires ont d√©clar√© des besoins sp√©cifiques qui n√©cessitent votre attention."})]})]})})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[(0,t.jsx)(r.Card,{children:(0,t.jsx)(r.CardContent,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Stagiaires concern√©s"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:E}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Avec besoins d√©clar√©s"})]}),(0,t.jsx)(u.Users,{className:"h-8 w-8 text-blue-500"})]})})}),(0,t.jsx)(r.Card,{children:(0,t.jsx)(r.CardContent,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Am√©nagements actifs"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:B}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"En cours"})]}),(0,t.jsx)(m.CheckCircle2,{className:"h-8 w-8 text-green-500"})]})})}),(0,t.jsx)(r.Card,{children:(0,t.jsx)(r.CardContent,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Taux de conformit√©"}),(0,t.jsxs)("p",{className:"text-2xl font-bold",children:[R.toFixed(0),"%"]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Crit√®re Qualiopi 8"})]}),(0,t.jsx)(x.TrendingUp,{className:`h-8 w-8 ${R>=80?"text-green-500":"text-orange-500"}`})]})})}),(0,t.jsx)(r.Card,{children:(0,t.jsx)(r.CardContent,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"√âquipements disponibles"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:D}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Unit√©s"})]}),(0,t.jsx)(h.Package,{className:"h-8 w-8 text-purple-500"})]})})})]}),(0,t.jsxs)(c.Tabs,{value:j,onValueChange:w,className:"space-y-6",children:[(0,t.jsxs)(c.TabsList,{children:[(0,t.jsx)(c.TabsTrigger,{value:"overview",children:"Vue d'ensemble"}),(0,t.jsxs)(c.TabsTrigger,{value:"students",children:["Stagiaires",G>0&&(0,t.jsx)(d.Badge,{variant:"destructive",className:"ml-2",children:G})]}),(0,t.jsx)(c.TabsTrigger,{value:"accommodations",children:"Am√©nagements"}),(0,t.jsx)(c.TabsTrigger,{value:"equipment",children:"√âquipements"})]}),(0,t.jsxs)(c.TabsContent,{value:"overview",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(r.Card,{children:[(0,t.jsx)(r.CardHeader,{children:(0,t.jsx)(r.CardTitle,{className:"text-lg",children:"Configuration"})}),(0,t.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"R√©f√©rent handicap"}),C.referent_user_id?(0,t.jsx)(m.CheckCircle2,{className:"h-5 w-5 text-green-500"}):(0,t.jsx)(f.AlertCircle,{className:"h-5 w-5 text-yellow-500"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Politique d'accessibilit√©"}),C.accessibility_policy?(0,t.jsx)(m.CheckCircle2,{className:"h-5 w-5 text-green-500"}):(0,t.jsx)(f.AlertCircle,{className:"h-5 w-5 text-yellow-500"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Registre accessibilit√© physique"}),C.physical_accessibility_statement?(0,t.jsx)(m.CheckCircle2,{className:"h-5 w-5 text-green-500"}):(0,t.jsx)(f.AlertCircle,{className:"h-5 w-5 text-yellow-500"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Registre accessibilit√© num√©rique"}),C.digital_accessibility_statement?(0,t.jsx)(m.CheckCircle2,{className:"h-5 w-5 text-green-500"}):(0,t.jsx)(f.AlertCircle,{className:"h-5 w-5 text-yellow-500"})]}),(0,t.jsx)(l.Button,{asChild:!0,variant:"outline",className:"w-full mt-4",children:(0,t.jsxs)(_.default,{href:"/dashboard/accessibility/config",children:[(0,t.jsx)(g.Settings,{className:"h-4 w-4 mr-2"}),"Modifier la configuration"]})})]})]}),(0,t.jsxs)(r.Card,{children:[(0,t.jsx)(r.CardHeader,{children:(0,t.jsx)(r.CardTitle,{className:"text-lg",children:"Partenariats"})}),(0,t.jsxs)(r.CardContent,{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[C.partner_agefiph?(0,t.jsx)(m.CheckCircle2,{className:"h-5 w-5 text-green-500"}):(0,t.jsx)("div",{className:"h-5 w-5 rounded-full border-2 border-gray-300"}),(0,t.jsx)("span",{className:"text-sm",children:"Agefiph"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[C.partner_cap_emploi?(0,t.jsx)(m.CheckCircle2,{className:"h-5 w-5 text-green-500"}):(0,t.jsx)("div",{className:"h-5 w-5 rounded-full border-2 border-gray-300"}),(0,t.jsx)("span",{className:"text-sm",children:"Cap emploi"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[C.partner_fiphfp?(0,t.jsx)(m.CheckCircle2,{className:"h-5 w-5 text-green-500"}):(0,t.jsx)("div",{className:"h-5 w-5 rounded-full border-2 border-gray-300"}),(0,t.jsx)("span",{className:"text-sm",children:"FIPHFP"})]}),C.partner_other&&C.partner_other.length>0&&(0,t.jsxs)("div",{className:"pt-2 border-t",children:[(0,t.jsx)("p",{className:"text-sm font-medium mb-2",children:"Autres partenaires"}),C.partner_other.map((e,s)=>(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["‚Ä¢ ",e.name]},s))]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[(0,t.jsx)(l.Button,{asChild:!0,variant:"outline",className:"h-auto py-4",children:(0,t.jsxs)(_.default,{href:"/dashboard/accessibility/config",children:[(0,t.jsx)(g.Settings,{className:"h-5 w-5 mr-2"}),"Configuration"]})}),(0,t.jsx)(l.Button,{asChild:!0,variant:"outline",className:"h-auto py-4",children:(0,t.jsxs)(_.default,{href:"/dashboard/accessibility/equipment",children:[(0,t.jsx)(h.Package,{className:"h-5 w-5 mr-2"}),"G√©rer les √©quipements"]})}),(0,t.jsx)(l.Button,{asChild:!0,variant:"outline",className:"h-auto py-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)(p.FileText,{className:"h-5 w-5 mr-2"}),"G√©n√©rer un rapport"]})})]})]}),(0,t.jsx)(c.TabsContent,{value:"students",children:(0,t.jsxs)(r.Card,{children:[(0,t.jsxs)(r.CardHeader,{children:[(0,t.jsx)(r.CardTitle,{children:"Stagiaires avec besoins d√©clar√©s"}),(0,t.jsxs)(r.CardDescription,{children:[E," stagiaire",E>1?"s":""," ",E>1?"ont":"a"," d√©clar√© des besoins sp√©cifiques"]})]}),(0,t.jsx)(r.CardContent,{children:0===T.length?(0,t.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,t.jsx)(u.Users,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),(0,t.jsx)("p",{children:"Aucun besoin sp√©cifique d√©clar√© pour le moment"})]}):(0,t.jsx)("div",{className:"space-y-3",children:T.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("p",{className:"font-medium",children:["Stagiaire #",e.student_id.slice(0,8)]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.has_disability?"Handicap d√©clar√©":"Besoins sp√©cifiques"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(d.Badge,{variant:"implemented"===e.status?"default":"reviewed"===e.status?"secondary":"outline",children:"implemented"===e.status?"Mis en ≈ìuvre":"reviewed"===e.status?"Revue":"En attente"}),(0,t.jsx)(l.Button,{asChild:!0,variant:"outline",size:"sm",children:(0,t.jsx)(_.default,{href:`/dashboard/accessibility/students/${e.student_id}`,children:"Voir d√©tails"})})]})]},e.id))})})]})}),(0,t.jsx)(c.TabsContent,{value:"accommodations",children:(0,t.jsxs)(r.Card,{children:[(0,t.jsxs)(r.CardHeader,{children:[(0,t.jsx)(r.CardTitle,{children:"Am√©nagements en place"}),(0,t.jsxs)(r.CardDescription,{children:[B," am√©nagement",B>1?"s":""," actif",B>1?"s":""]})]}),(0,t.jsx)(r.CardContent,{children:0===A.length?(0,t.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,t.jsx)(m.CheckCircle2,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),(0,t.jsx)("p",{children:"Aucun am√©nagement configur√©"})]}):(0,t.jsxs)("div",{className:"space-y-3",children:[A.slice(0,5).map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-medium",children:e.title}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Type : ",e.accommodation_type," ‚Ä¢ Progression : ",e.completion_rate,"%"]})]}),(0,t.jsx)(d.Badge,{variant:"active"===e.status?"default":"secondary",children:e.status})]},e.id)),A.length>5&&(0,t.jsxs)("p",{className:"text-sm text-center text-muted-foreground pt-2",children:["Et ",A.length-5," autre",A.length-5>1?"s":"","..."]})]})})]})}),(0,t.jsx)(c.TabsContent,{value:"equipment",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold",children:"√âquipements adapt√©s"}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[z.length," √©quipement",z.length>1?"s":""," inventori√©",z.length>1?"s":""]})]}),(0,t.jsx)(l.Button,{asChild:!0,children:(0,t.jsxs)(_.default,{href:"/dashboard/accessibility/equipment",children:[(0,t.jsx)(h.Package,{className:"h-4 w-4 mr-2"}),"G√©rer les √©quipements"]})})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:0===z.length?(0,t.jsx)(r.Card,{className:"col-span-full",children:(0,t.jsxs)(r.CardContent,{className:"text-center py-8 text-muted-foreground",children:[(0,t.jsx)(h.Package,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),(0,t.jsx)("p",{children:"Aucun √©quipement inventori√©"}),(0,t.jsx)(l.Button,{asChild:!0,variant:"outline",className:"mt-4",children:(0,t.jsxs)(_.default,{href:"/dashboard/accessibility/equipment",children:[(0,t.jsx)(y.Plus,{className:"h-4 w-4 mr-2"}),"Ajouter un √©quipement"]})})]})}):z.slice(0,6).map(e=>(0,t.jsxs)(r.Card,{children:[(0,t.jsxs)(r.CardHeader,{children:[(0,t.jsx)(r.CardTitle,{className:"text-base",children:e.name}),(0,t.jsx)(d.Badge,{variant:"available"===e.status?"default":"in_use"===e.status?"secondary":"outline",className:"w-fit",children:"available"===e.status?"Disponible":"in_use"===e.status?"En utilisation":"maintenance"===e.status?"Maintenance":"Retir√©"})]}),(0,t.jsxs)(r.CardContent,{children:[(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.quantity_available," / ",e.quantity_total," disponible",e.quantity_available>1?"s":""]}),e.location&&(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["üìç ",e.location]})]})]},e.id))}),z.length>6&&(0,t.jsx)(l.Button,{asChild:!0,variant:"outline",className:"w-full",children:(0,t.jsx)(_.default,{href:"/dashboard/accessibility/equipment",children:"Voir tous les √©quipements"})})]})})]})]})}e.s(["default",()=>j])}]);