(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,107233,e=>{"use strict";let t=(0,e.i(475254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],107233)},871689,e=>{"use strict";let t=(0,e.i(475254).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],871689)},356909,e=>{"use strict";let t=(0,e.i(475254).default)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);e.s(["Save",()=>t],356909)},625959,e=>{"use strict";var t=e.i(843476),i=e.i(271645),a=e.i(647163),s=e.i(643531);let r=i.forwardRef(({className:e,checked:i,onCheckedChange:r,...n},c)=>(0,t.jsxs)("div",{className:"relative inline-flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",ref:c,checked:i,onChange:e=>r?.(e.target.checked),className:(0,a.cn)("peer h-4 w-4 shrink-0 rounded border border-gray-300","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-blue focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50","cursor-pointer",i&&"border-brand-blue bg-brand-blue",e),...n}),i&&(0,t.jsx)(s.Check,{className:"absolute h-3 w-3 text-white pointer-events-none left-0.5 top-0.5"})]}));r.displayName="Checkbox",e.s(["Checkbox",()=>r])},221345,e=>{"use strict";let t=(0,e.i(475254).default)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);e.s(["Link",()=>t],221345)},845691,e=>{"use strict";var t=e.i(920755);let i=new class{supabase;constructor(e){this.supabase=e||(0,t.createClient)()}async getConfiguration(e){try{let{data:t,error:i}=await this.supabase.from("accessibility_configurations").select("*").eq("organization_id",e).maybeSingle();if(i){if("PGRST116"===i.code||"42P01"===i.code||"PGRST301"===i.code||404===i.status||i.message?.includes("relation")||i.message?.includes("does not exist"))return console.warn("Table accessibility_configurations does not exist yet:",i?.message),null;throw i}return t}catch(e){if(e?.status===404||e?.message?.toLowerCase().includes("not found"))return null;throw e}}async updateConfiguration(e,t){var i;let a=await this.getConfiguration(e),s={...t};if(delete s.id,delete s.created_at,delete s.updated_at,delete s.organization_id,null===s.referent_user_id||void 0===s.referent_user_id||""!==s.referent_user_id&&(i=s.referent_user_id)&&""!==i&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(i)||(s.referent_user_id=null),(""===s.referent_training_date||null===s.referent_training_date)&&(s.referent_training_date=null),""===s.referent_training_certificate&&(s.referent_training_certificate=null),""===s.accessibility_policy&&(s.accessibility_policy=null),""===s.physical_accessibility_statement&&(s.physical_accessibility_statement=null),""===s.digital_accessibility_statement&&(s.digital_accessibility_statement=null),a){let{data:t,error:i}=await this.supabase.from("accessibility_configurations").update(s).eq("organization_id",e).select().single();if(i)throw console.error("[AccessibilityService] Erreur lors de la mise à jour de la configuration:",{error:i,code:i.code,message:i.message,details:i.details,hint:i.hint,cleanData:s,organizationId:e}),i;return t}{let t={organization_id:e,partner_agefiph:!1,partner_cap_emploi:!1,partner_fiphfp:!1,partner_other:[],...s},{data:i,error:a}=await this.supabase.from("accessibility_configurations").insert(t).select().single();if(a)throw console.error("[AccessibilityService] Erreur lors de la création de la configuration:",{error:a,code:a.code,message:a.message,details:a.details,hint:a.hint,insertData:t}),a;return i}}async setReferent(e,t,i,a){await this.updateConfiguration(e,{referent_user_id:t,referent_training_date:i||null,referent_training_certificate:a||null})}async getDisabilityTypes(){try{let{data:e,error:t}=await this.supabase.from("accessibility_disability_types").select("*").order("name_fr",{ascending:!0});if(t){if("PGRST116"===t.code||"42P01"===t.code||404===t.status||t.message?.includes("relation")||t.message?.includes("does not exist"))return console.warn("Table accessibility_disability_types does not exist yet"),[];throw t}return e||[]}catch(e){if(e?.status===404)return[];throw e}}async getStudentNeeds(e,t){try{let i=this.supabase.from("accessibility_student_needs").select("*").eq("organization_id",e);t?.status&&(i=i.eq("status",t.status)),t?.has_disability!==void 0&&(i=i.eq("has_disability",t.has_disability));let{data:a,error:s}=await i.order("created_at",{ascending:!1});if(s){if("PGRST116"===s.code||"42P01"===s.code||404===s.status||s.message?.includes("relation")||s.message?.includes("does not exist"))return console.warn("Table accessibility_student_needs does not exist yet"),[];throw s}return a||[]}catch(e){if(e?.status===404)return[];throw e}}async getStudentNeedByStudentId(e){try{let{data:t,error:i}=await this.supabase.from("accessibility_student_needs").select("*").eq("student_id",e).maybeSingle();if(i){if("PGRST116"===i.code||"42P01"===i.code||404===i.status||i.message?.includes("relation")||i.message?.includes("does not exist"))return null;throw i}return t}catch(e){if(e?.status===404)return null;throw e}}async createStudentNeed(e){let{data:t,error:i}=await this.supabase.from("accessibility_student_needs").insert(e).select().single();if(i)throw i;return t}async updateStudentNeed(e,t){let{data:i,error:a}=await this.supabase.from("accessibility_student_needs").update(t).eq("id",e).select().single();if(a)throw a;return i}async reviewStudentNeed(e,t,i){return this.updateStudentNeed(e,{status:"reviewed",reviewed_by_user_id:t,reviewed_at:new Date().toISOString(),notes:i||null})}async getAccommodations(e,t){try{let i=this.supabase.from("accessibility_accommodations").select("*").eq("organization_id",e);t?.student_id&&(i=i.eq("student_id",t.student_id)),t?.status&&(i=i.eq("status",t.status)),t?.type&&(i=i.eq("accommodation_type",t.type));let{data:a,error:s}=await i.order("created_at",{ascending:!1});if(s){if("PGRST116"===s.code||"42P01"===s.code||404===s.status||s.message?.includes("relation")||s.message?.includes("does not exist"))return console.warn("Table accessibility_accommodations does not exist yet"),[];throw s}return a||[]}catch(e){if(e?.status===404)return[];throw e}}async getStudentAccommodations(e){return this.getAccommodations("",{student_id:e})}async createAccommodation(e){let{data:t,error:i}=await this.supabase.from("accessibility_accommodations").insert(e).select().single();if(i)throw i;return t}async updateAccommodation(e,t){let{data:i,error:a}=await this.supabase.from("accessibility_accommodations").update(t).eq("id",e).select().single();if(a)throw a;return i}async archiveAccommodation(e){await this.updateAccommodation(e,{status:"inactive"})}async getEquipment(e,t){try{let i=this.supabase.from("accessibility_equipment").select("*").eq("organization_id",e);t?.status&&(i=i.eq("status",t.status)),t?.category&&(i=i.eq("category",t.category));let{data:a,error:s}=await i.order("name",{ascending:!0});if(s){if("PGRST116"===s.code||"42P01"===s.code||404===s.status||s.message?.includes("relation")||s.message?.includes("does not exist"))return console.warn("Table accessibility_equipment does not exist yet"),[];throw s}return a||[]}catch(e){if(e?.status===404)return[];throw e}}async createEquipment(e){let{data:t,error:i}=await this.supabase.from("accessibility_equipment").insert(e).select().single();if(i)throw i;return t}async updateEquipment(e,t){let{data:i,error:a}=await this.supabase.from("accessibility_equipment").update(t).eq("id",e).select().single();if(a)throw a;return i}async assignEquipment(e,t,i){let{data:a,error:s}=await this.supabase.from("accessibility_equipment").select("*").eq("id",e).single();if(s)throw s;if(a.quantity_available<=0)throw Error("Équipement non disponible");let{data:r,error:n}=await this.supabase.from("accessibility_equipment_assignments").insert({equipment_id:e,student_id:t,organization_id:a.organization_id,...i}).select().single();if(n)throw n;return await this.updateEquipment(e,{quantity_available:a.quantity_available-1,status:a.quantity_available-1==0?"in_use":a.status}),r}async returnEquipment(e,t){let{data:i,error:a}=await this.supabase.from("accessibility_equipment_assignments").select("*, accessibility_equipment(*)").eq("id",e).single();if(a)throw a;if(await this.supabase.from("accessibility_equipment_assignments").update({status:"returned",actual_return_date:new Date().toISOString().split("T")[0],condition_on_return:t}).eq("id",e),"lost"!==t&&"damaged"!==t){let e=i.accessibility_equipment;await this.updateEquipment(i.equipment_id,{quantity_available:e.quantity_available+1,status:"available"})}}async getEquipmentAssignments(e){try{let{data:t,error:i}=await this.supabase.from("accessibility_equipment_assignments").select("*").eq("equipment_id",e).order("assigned_date",{ascending:!1});if(i){if("PGRST116"===i.code||"42P01"===i.code||404===i.status||i.message?.includes("relation")||i.message?.includes("does not exist"))return console.warn("Table accessibility_equipment_assignments does not exist yet"),[];throw i}return t||[]}catch(e){if(e?.status===404)return[];throw e}}async getDocuments(e,t){try{let i=this.supabase.from("accessibility_documents").select("*").eq("organization_id",e);t&&(i=i.eq("student_id",t));let{data:a,error:s}=await i.order("created_at",{ascending:!1});if(s){if("PGRST116"===s.code||"42P01"===s.code||404===s.status||s.message?.includes("relation")||s.message?.includes("does not exist"))return console.warn("Table accessibility_documents does not exist yet"),[];throw s}return a||[]}catch(e){if(e?.status===404)return[];throw e}}async uploadDocument(e){let{data:t,error:i}=await this.supabase.from("accessibility_documents").insert(e).select().single();if(i)throw i;return t}async deleteDocument(e){let{error:t}=await this.supabase.from("accessibility_documents").delete().eq("id",e);if(t)throw t}async verifyDocument(e,t){await this.supabase.from("accessibility_documents").update({verified:!0,verified_by_user_id:t,verified_at:new Date().toISOString()}).eq("id",e)}async getStats(e){let[t,i,a,s]=await Promise.all([this.getStudentNeeds(e,{has_disability:!0}),this.getAccommodations(e,{status:"active"}),this.getEquipment(e,{status:"available"}),this.calculateComplianceRate(e)]),r=new Map;t.forEach(e=>{e.disability_type_ids.forEach(e=>{r.set(e,(r.get(e)||0)+1)})});let n=new Map;return i.forEach(e=>{n.set(e.accommodation_type,(n.get(e.accommodation_type)||0)+1)}),{total_students_with_needs:t.length,active_accommodations:i.length,available_equipment:a.reduce((e,t)=>e+t.quantity_available,0),compliance_rate:s,students_by_disability_type:Array.from(r.entries()).map(([e,t])=>({type:e,count:t})),accommodations_by_type:Array.from(n.entries()).map(([e,t])=>({type:e,count:t})),pending_reviews:t.filter(e=>"pending"===e.status).length}}async calculateComplianceRate(e){try{let{data:t,error:i}=await this.supabase.rpc("calculate_accessibility_compliance_rate",{org_id:e});if(i){if("PGRST116"===i.code||"42883"===i.code||404===i.status||i.message?.toLowerCase().includes("function")||i.message?.toLowerCase().includes("does not exist"))return 0;throw i}return t||0}catch(e){if(e?.status===404||e?.message?.toLowerCase().includes("not found"))return 0;throw e}}async generateComplianceReport(e,t,i,a){let s=await this.getStats(e),r=await this.getConfiguration(e),n={organization_id:e,report_type:"annual",title:`Rapport de conformit\xe9 accessibilit\xe9 ${new Date().getFullYear()}`,period_start:t,period_end:i,total_students:0,students_with_disabilities:s.total_students_with_needs,accommodations_requested:s.total_students_with_needs,accommodations_implemented:s.active_accommodations,equipment_used:0,referent_training_up_to_date:!!r?.referent_training_date,physical_accessibility_compliant:!!r?.physical_accessibility_statement,digital_accessibility_compliant:!!r?.digital_accessibility_statement,partner_collaborations:+!!r?.partner_agefiph+ +!!r?.partner_cap_emploi+ +!!r?.partner_fiphfp,compliance_rate:s.compliance_rate,findings:[],recommendations:[],generated_by_user_id:a},{data:c,error:l}=await this.supabase.from("accessibility_compliance_reports").insert(n).select().single();if(l)throw l;return c}};e.s(["accessibilityService",0,i])},826877,e=>{"use strict";var t=e.i(843476),i=e.i(271645),a=e.i(266027),s=e.i(954616),r=e.i(912598),n=e.i(325715),c=e.i(845691),l=e.i(920755),o=e.i(970065),d=e.i(167881),u=e.i(23750),p=e.i(10708),m=e.i(184762),_=e.i(625959),h=e.i(6799),f=e.i(239616),g=e.i(356909),y=e.i(871689),b=e.i(284614),x=e.i(178583),w=e.i(221345),v=e.i(107233),j=e.i(37727),q=e.i(522016),C=e.i(618566);function N(){let{user:e}=(0,n.useAuth)(),N=(0,C.useRouter)(),S=(0,r.useQueryClient)(),{addToast:z}=(0,h.useToast)(),k=(0,l.createClient)(),[P,T]=(0,i.useState)(""),[A,R]=(0,i.useState)(""),{data:D,isLoading:E}=(0,a.useQuery)({queryKey:["accessibility-config",e?.organization_id],queryFn:async()=>e?.organization_id?await c.accessibilityService.getConfiguration(e.organization_id):null,enabled:!!e?.organization_id,retry:!1}),{data:L=[]}=(0,a.useQuery)({queryKey:["organization-users",e?.organization_id],queryFn:async()=>{if(!e?.organization_id)return[];let{data:t,error:i}=await k.from("users").select("id, full_name, email").eq("organization_id",e.organization_id).eq("is_active",!0).order("full_name");if(i)throw i;return t||[]},enabled:!!e?.organization_id}),[F,G]=(0,i.useState)({referent_user_id:D?.referent_user_id||"",referent_training_date:D?.referent_training_date||"",referent_training_certificate:D?.referent_training_certificate||"",accessibility_policy:D?.accessibility_policy||"",physical_accessibility_statement:D?.physical_accessibility_statement||"",digital_accessibility_statement:D?.digital_accessibility_statement||"",partner_agefiph:D?.partner_agefiph||!1,partner_cap_emploi:D?.partner_cap_emploi||!1,partner_fiphfp:D?.partner_fiphfp||!1,partner_other:D?.partner_other||[]});(0,i.useEffect)(()=>{D&&G({referent_user_id:D.referent_user_id||"",referent_training_date:D.referent_training_date||"",referent_training_certificate:D.referent_training_certificate||"",accessibility_policy:D.accessibility_policy||"",physical_accessibility_statement:D.physical_accessibility_statement||"",digital_accessibility_statement:D.digital_accessibility_statement||"",partner_agefiph:D.partner_agefiph||!1,partner_cap_emploi:D.partner_cap_emploi||!1,partner_fiphfp:D.partner_fiphfp||!1,partner_other:D.partner_other||[]})},[D]);let I=(0,s.useMutation)({mutationFn:async()=>{if(!e?.organization_id)throw Error("Organization ID required");return await c.accessibilityService.updateConfiguration(e.organization_id,F)},onSuccess:()=>{S.invalidateQueries({queryKey:["accessibility-config"]}),z({type:"success",title:"Configuration sauvegardée",description:"La configuration d'accessibilité a été mise à jour avec succès."}),N.push("/dashboard/accessibility")},onError:e=>{console.error("[AccessibilityConfig] Erreur complète:",e),console.error("[AccessibilityConfig] Détails:",{code:e?.code,message:e?.message,details:e?.details,hint:e?.hint}),z({type:"error",title:"Erreur",description:e?.message||e?.details||"Impossible de sauvegarder la configuration."})}}),M=(e,t)=>{G(i=>({...i,[e]:t}))};return E?(0,t.jsx)("div",{className:"container mx-auto py-8 px-4",children:(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-blue"})})}):(0,t.jsxs)("div",{className:"container mx-auto py-8 px-4 max-w-4xl",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)(d.Button,{asChild:!0,variant:"ghost",className:"mb-4",children:(0,t.jsxs)(q.default,{href:"/dashboard/accessibility",children:[(0,t.jsx)(y.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Retour"]})}),(0,t.jsxs)("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-2",children:[(0,t.jsx)(f.Settings,{className:"h-8 w-8 text-brand-blue"}),"Configuration Accessibilité"]}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Configurez la politique d'accessibilité de votre organisme de formation"})]}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),I.mutate()},className:"space-y-6",children:[(0,t.jsxs)(o.Card,{children:[(0,t.jsxs)(o.CardHeader,{children:[(0,t.jsxs)(o.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(b.User,{className:"h-5 w-5"}),"Référent Handicap"]}),(0,t.jsx)(o.CardDescription,{children:"Désignation obligatoire du référent handicap (critère Qualiopi)"})]}),(0,t.jsxs)(o.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(p.Label,{htmlFor:"referent_user_id",children:"Référent handicap *"}),(0,t.jsxs)("select",{id:"referent_user_id",value:F.referent_user_id||"",onChange:e=>M("referent_user_id",e.target.value),className:"w-full px-4 py-3 border-2 border-input rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors",children:[(0,t.jsx)("option",{value:"",children:"Sélectionner un référent..."}),L.map(e=>(0,t.jsx)("option",{value:e.id,children:e.full_name||e.email||e.id},e.id))]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Utilisateur désigné comme référent handicap de l'organisation"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(p.Label,{htmlFor:"referent_training_date",children:"Date de formation"}),(0,t.jsx)(u.Input,{id:"referent_training_date",type:"date",value:F.referent_training_date,onChange:e=>M("referent_training_date",e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(p.Label,{htmlFor:"referent_training_certificate",children:"Certificat de formation (URL)"}),(0,t.jsx)(u.Input,{id:"referent_training_certificate",type:"url",placeholder:"https://...",value:F.referent_training_certificate,onChange:e=>M("referent_training_certificate",e.target.value)})]})]})]})]}),(0,t.jsxs)(o.Card,{children:[(0,t.jsxs)(o.CardHeader,{children:[(0,t.jsxs)(o.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(x.FileText,{className:"h-5 w-5"}),"Politiques et Registres"]}),(0,t.jsx)(o.CardDescription,{children:"Documents requis pour la conformité réglementaire"})]}),(0,t.jsxs)(o.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(p.Label,{htmlFor:"accessibility_policy",children:"Politique d'accessibilité"}),(0,t.jsx)(m.Textarea,{id:"accessibility_policy",placeholder:"Décrivez votre politique globale d'accessibilité...",rows:4,value:F.accessibility_policy,onChange:e=>M("accessibility_policy",e.target.value)}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Engagement de l'organisme en matière d'accessibilité"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(p.Label,{htmlFor:"physical_accessibility_statement",children:"Registre d'accessibilité physique"}),(0,t.jsx)(m.Textarea,{id:"physical_accessibility_statement",placeholder:"Décrivez l'accessibilité de vos locaux (rampes, ascenseurs, sanitaires adaptés...)...",rows:4,value:F.physical_accessibility_statement,onChange:e=>M("physical_accessibility_statement",e.target.value)}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Description des aménagements physiques des locaux"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(p.Label,{htmlFor:"digital_accessibility_statement",children:"Registre d'accessibilité numérique"}),(0,t.jsx)(m.Textarea,{id:"digital_accessibility_statement",placeholder:"Décrivez l'accessibilité de vos contenus numériques (RGAA, sous-titres, transcriptions...)...",rows:4,value:F.digital_accessibility_statement,onChange:e=>M("digital_accessibility_statement",e.target.value)}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Description de l'accessibilité des supports pédagogiques numériques"})]})]})]}),(0,t.jsxs)(o.Card,{children:[(0,t.jsxs)(o.CardHeader,{children:[(0,t.jsxs)(o.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(w.Link,{className:"h-5 w-5"}),"Partenariats"]}),(0,t.jsx)(o.CardDescription,{children:"Réseaux et organismes partenaires pour l'accompagnement handicap"})]}),(0,t.jsxs)(o.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(_.Checkbox,{id:"partner_agefiph",checked:F.partner_agefiph,onCheckedChange:e=>M("partner_agefiph",e)}),(0,t.jsx)("label",{htmlFor:"partner_agefiph",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Agefiph (Association de gestion du fonds pour l'insertion professionnelle des personnes handicapées)"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(_.Checkbox,{id:"partner_cap_emploi",checked:F.partner_cap_emploi,onCheckedChange:e=>M("partner_cap_emploi",e)}),(0,t.jsx)("label",{htmlFor:"partner_cap_emploi",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Cap emploi (Réseau d'organismes de placement spécialisés)"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(_.Checkbox,{id:"partner_fiphfp",checked:F.partner_fiphfp,onCheckedChange:e=>M("partner_fiphfp",e)}),(0,t.jsx)("label",{htmlFor:"partner_fiphfp",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"FIPHFP (Fonds pour l'insertion des personnes handicapées dans la fonction publique)"})]})]}),(0,t.jsxs)("div",{className:"pt-4 border-t",children:[(0,t.jsx)(p.Label,{className:"mb-3 block",children:"Autres partenaires"}),F.partner_other&&F.partner_other.length>0&&(0,t.jsx)("div",{className:"space-y-2 mb-4",children:F.partner_other.map((e,i)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-sm",children:e.name}),e.contact&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e.contact})]}),(0,t.jsx)(d.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>{G(e=>({...e,partner_other:e.partner_other.filter((e,t)=>t!==i)}))},children:(0,t.jsx)(j.X,{className:"h-4 w-4"})})]},i))}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(u.Input,{placeholder:"Nom du partenaire",value:P,onChange:e=>T(e.target.value)}),(0,t.jsx)(u.Input,{placeholder:"Contact (email ou téléphone)",value:A,onChange:e=>R(e.target.value)}),(0,t.jsxs)(d.Button,{type:"button",variant:"outline",onClick:()=>{if(!P.trim())return;let e={name:P.trim(),contact:A.trim()};G(t=>({...t,partner_other:[...t.partner_other,e]})),T(""),R("")},disabled:!P.trim(),className:"w-full",children:[(0,t.jsx)(v.Plus,{className:"h-4 w-4 mr-2"}),"Ajouter un partenaire"]})]})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)(d.Button,{type:"submit",disabled:I.isPending,className:"flex-1",children:[(0,t.jsx)(g.Save,{className:"h-4 w-4 mr-2"}),I.isPending?"Sauvegarde...":"Sauvegarder la configuration"]}),(0,t.jsx)(d.Button,{type:"button",variant:"outline",asChild:!0,children:(0,t.jsx)(q.default,{href:"/dashboard/accessibility",children:"Annuler"})})]})]})]})}e.s(["default",()=>N])}]);