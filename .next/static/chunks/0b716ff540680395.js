(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,871689,e=>{"use strict";let s=(0,e.i(475254).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>s],871689)},645760,e=>{"use strict";var s=e.i(843476),a=e.i(271645),t=e.i(647163);e.i(882205);var i=e.i(846932);let r=a.forwardRef(({className:e,variant:a="default",hoverable:r=!1,glow:o=!1,glowColor:n="rgba(51, 90, 207, 0.3)",...l},d)=>(0,s.jsxs)(i.motion.div,{ref:d,className:(0,t.cn)("relative rounded-2xl border backdrop-blur-xl transition-all duration-300",{"bg-white/70 dark:bg-gray-900/70 border-white/20 dark:border-gray-700/30 shadow-lg":"default"===a,"bg-white/80 dark:bg-gray-900/80 border-white/30 dark:border-gray-700/40 shadow-xl":"premium"===a,"bg-white/50 dark:bg-gray-900/50 border-white/10 dark:border-gray-700/20 shadow-md":"subtle"===a,"cursor-pointer":r,"hover:shadow-2xl hover:scale-[1.02]":r,"hover:bg-white/90 dark:hover:bg-gray-900/90":r},e),whileHover:r?{scale:1.02,y:-2}:void 0,transition:{type:"spring",stiffness:300,damping:30},...l,children:[o&&(0,s.jsx)(i.motion.div,{className:"absolute inset-0 rounded-2xl opacity-0 blur-xl",style:{background:`radial-gradient(circle, ${n} 0%, transparent 70%)`},animate:{opacity:[0,.5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),(0,s.jsx)("div",{className:"relative z-10",children:l.children})]}));r.displayName="GlassCard",e.s(["GlassCard",()=>r])},356909,e=>{"use strict";let s=(0,e.i(475254).default)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);e.s(["Save",()=>s],356909)},683909,e=>{"use strict";var s=e.i(920755);let a=new class{supabase;constructor(e){this.supabase=e||(0,s.createClient)()}async getAllPrograms(e,s){let a=this.supabase.from("programs").select("*").eq("organization_id",e);s?.isActive!==void 0&&(a=a.eq("is_active",s.isActive)),s?.search&&(a=a.or(`name.ilike.%${s.search}%,code.ilike.%${s.search}%,description.ilike.%${s.search}%`));let{data:t,error:i}=await a.order("created_at",{ascending:!1});if(i)throw i;return t}async getProgramById(e){let{data:s,error:a}=await this.supabase.from("programs").select(`
        *,
        formations(*)
      `).eq("id",e).single();if(a)throw a;return s}async createProgram(e){let{data:s,error:a}=await this.supabase.from("programs").insert(e).select().single();if(a)throw a;return s}async updateProgram(e,s){let{data:a,error:t}=await this.supabase.from("programs").update(s).eq("id",e).select().single();if(t)throw t;return a}async deleteProgram(e){return this.updateProgram(e,{is_active:!1})}async getFormationsByProgram(e){let{data:s,error:a}=await this.supabase.from("formations").select("*").eq("program_id",e).order("created_at",{ascending:!1});if(a)throw a;return s}async getGlobalStats(e){let{data:s,error:a}=await this.supabase.from("programs").select("id, is_active, created_at").eq("organization_id",e);if(a)throw a;let t=s||[],i=t.length,r=t.filter(e=>e.is_active).length,o=t.filter(e=>!e.is_active).length,n=0,l=t.map(e=>e.id);if(l.length>0){let{count:e,error:s}=await this.supabase.from("formations").select("*",{count:"exact",head:!0}).in("program_id",l);if(s)throw s;n=e||0}let d=0;if(l.length>0){let{data:e,error:s}=await this.supabase.from("formations").select("id").in("program_id",l);if(s)throw s;let a=e?.map(e=>e.id)||[];if(a.length>0){let{count:e,error:s}=await this.supabase.from("sessions").select("*",{count:"exact",head:!0}).in("formation_id",a);if(s)throw s;d=e||0}}let c=0;if(l.length>0){let{data:e,error:s}=await this.supabase.from("formations").select("id").in("program_id",l);if(s)throw s;let a=e?.map(e=>e.id)||[];if(a.length>0){let{data:e,error:s}=await this.supabase.from("sessions").select("id").in("formation_id",a);if(s)throw s;let t=e?.map(e=>e.id)||[];if(t.length>0){let{count:e,error:s}=await this.supabase.from("enrollments").select("*",{count:"exact",head:!0}).in("session_id",t);if(s)throw s;c=e||0}}}let m=[{name:"Actifs",value:r,color:"#335ACF"},{name:"Inactifs",value:o,color:"#6B7280"}].filter(e=>e.value>0),u={};return t.forEach(e=>{if(e.created_at){let s=new Date(e.created_at),a=`${s.getFullYear()}-${String(s.getMonth()+1).padStart(2,"0")}`;u[a]=(u[a]||0)+1}}),{total:i,active:r,inactive:o,totalFormations:n,totalSessions:d,totalEnrollments:c,statusData:m,monthlyData:Object.entries(u).sort(([e],[s])=>e.localeCompare(s)).slice(-6).map(([e,s])=>({month:new Date(e+"-01").toLocaleDateString("fr-FR",{month:"short",year:"numeric"}),programmes:s}))}}};e.s(["programService",0,a])},2034,e=>{"use strict";var s=e.i(920755);let a=async(e,s)=>(console.warn("videoconferenceService.createMeetingForSession not implemented"),null),t=new class{supabase;constructor(e){this.supabase=e||(0,s.createClient)()}async getAllSessions(e,s){let a=this.supabase.from("sessions").select(`
        *,
        formations!inner(
          *,
          programs(*)
        )
      `).eq("formations.organization_id",e);s?.formationId&&(a=a.eq("formation_id",s.formationId)),s?.status&&(a=a.eq("status",s.status)),s?.startDate&&(a=a.gte("start_date",s.startDate)),s?.endDate&&(a=a.lte("end_date",s.endDate)),s?.search&&(a=a.ilike("name",`%${s.search}%`));let{data:t,error:i}=await a.order("start_date",{ascending:!0});if(i)throw i;return t}async getSessionById(e){let{data:s,error:a}=await this.supabase.from("sessions").select(`
        *,
        formations!inner(
          *,
          programs(*)
        )
      `).eq("id",e).single();if(a)throw a;let{data:t,error:i}=await this.supabase.from("session_programs").select(`
        program_id,
        programs(*)
      `).eq("session_id",e);if(i)throw i;return{...s,session_programs:t?.map(e=>e.programs).filter(Boolean)||[]}}async createSession(e,s,a){if(e.formation_id){let{data:s,error:a}=await this.supabase.from("formations").select("id, organization_id").eq("id",e.formation_id).single();if(a)throw console.error("Erreur lors de la vérification de la formation:",a),Error(`Formation non trouv\xe9e: ${a.message}`);if(!s)throw Error("Formation non trouvée");console.log("Formation trouvée:",s)}let{data:t,error:i}=await this.supabase.from("sessions").insert(e).select().single();if(i)throw console.error("Erreur RLS lors de la création de la session:",{code:i.code,message:i.message,details:i.details,hint:i.hint,formation_id:e.formation_id}),i;if(s&&s.length>0&&t){let{data:e}=await this.supabase.from("formations").select("organization_id").eq("id",t.formation_id).single();if(e){let a=s.map(s=>({session_id:t.id,program_id:s,organization_id:e.organization_id})),{error:i}=await this.supabase.from("session_programs").insert(a);i&&console.error("Erreur lors de la création des associations session-programme:",i),e.organization_id&&await this.syncWithCalendars(t.id,e.organization_id,"create").catch(e=>{console.error("Erreur lors de la synchronisation calendrier:",e)}),e.organization_id&&await this.createVideoconferenceMeeting(t.id,e.organization_id).catch(e=>{console.error("Erreur lors de la création de la réunion visioconférence:",e)})}}return console.log("Session créée avec succès:",t),t}async updateSessionPrograms(e,s,a){let{error:t}=await this.supabase.from("session_programs").delete().eq("session_id",e);if(t)throw t;if(s.length>0){let t=s.map(s=>({session_id:e,program_id:s,organization_id:a})),{error:i}=await this.supabase.from("session_programs").insert(t);if(i)throw i}return!0}async getSessionPrograms(e){let{data:s,error:a}=await this.supabase.from("session_programs").select(`
        program_id,
        programs(*)
      `).eq("session_id",e);if(a)throw a;return s?.map(e=>e.programs).filter(Boolean)||[]}async updateSession(e,s){let{data:a}=await this.supabase.from("sessions").select("formation_id, formations(organization_id)").eq("id",e).single(),{data:t,error:i}=await this.supabase.from("sessions").update(s).eq("id",e).select().single();if(i)throw i;let r=a?.formations;return a&&r?.organization_id&&await this.syncWithCalendars(e,r.organization_id,"update").catch(e=>{console.error("Erreur lors de la synchronisation calendrier:",e)}),t}async deleteSession(e){let{data:s}=await this.supabase.from("sessions").select("formation_id, formations(organization_id)").eq("id",e).single(),a=s?.formations;s&&a?.organization_id&&await this.syncWithCalendars(e,a.organization_id,"delete").catch(e=>{console.error("Erreur lors de la suppression de l'événement calendrier:",e)});let{error:t}=await this.supabase.from("sessions").delete().eq("id",e);if(t)throw t}async createVideoconferenceMeeting(e,s){let{data:t}=await this.supabase.from("videoconference_integrations").select("*").eq("organization_id",s).eq("is_active",!0).eq("auto_create_meetings",!0);if(t&&0!==t.length)for(let i of t)try{await a(e,{organizationId:s,provider:i.provider})}catch(e){console.error(`Erreur lors de la cr\xe9ation de r\xe9union avec ${i.provider}:`,e)}}async syncWithCalendars(e,s,a){let{data:t}=await this.supabase.from("calendar_integrations").select("*").eq("organization_id",s).eq("is_active",!0).eq("sync_sessions",!0).eq("create_events_for_sessions",!0);if(t&&0!==t.length)for(let e of t)try{console.warn(`Calendar sync for ${a} not implemented yet for provider ${e.provider}`)}catch(s){console.error(`Erreur lors de la synchronisation avec ${e.provider}:`,s)}}async getUpcomingSessions(e,s=10){let a=new Date().toISOString().split("T")[0],{data:t,error:i}=await this.supabase.from("sessions").select(`
        *,
        formations!inner(
          *,
          programs(*)
        )
      `).eq("formations.organization_id",e).gte("start_date",a).eq("status","planned").order("start_date",{ascending:!0}).limit(s);if(i)throw i;return t}async getOngoingSessions(e){let s=new Date().toISOString().split("T")[0],{data:a,error:t}=await this.supabase.from("sessions").select(`
        *,
        formations!inner(
          *,
          programs(*)
        )
      `).eq("formations.organization_id",e).lte("start_date",s).gte("end_date",s).eq("status","ongoing").order("start_date",{ascending:!0});if(t)throw t;return a}async addSessionToFormations(e,s,a){let t=s.map((s,t)=>({session_id:e,formation_id:s,organization_id:a,order_index:t})),{data:i,error:r}=await this.supabase.from("formation_sessions").insert(t).select();if(r)throw r;return i}async removeSessionFromFormation(e,s){let{error:a}=await this.supabase.from("formation_sessions").delete().eq("session_id",e).eq("formation_id",s);if(a)throw a;return!0}async updateSessionFormations(e,s,a){let{error:t}=await this.supabase.from("formation_sessions").delete().eq("session_id",e);if(t)throw t;return s.length>0?this.addSessionToFormations(e,s,a):[]}async getSessionFormations(e){let{data:s,error:a}=await this.supabase.from("formation_sessions").select(`
        formation_id,
        order_index,
        formations(*)
      `).eq("session_id",e).order("order_index",{ascending:!0});if(a)throw a;return s?.map(e=>e.formations).filter(Boolean)||[]}async getFormationSessions(e){let{data:s,error:a}=await this.supabase.from("formation_sessions").select(`
        session_id,
        order_index,
        sessions(*)
      `).eq("formation_id",e).order("order_index",{ascending:!0});if(a)throw a;return s?.map(e=>e.sessions).filter(Boolean)||[]}async createIndependentSession(e,s,a){let{data:t,error:i}=await this.supabase.from("sessions").insert({...e,formation_id:null}).select().single();if(i)throw i;return s&&s.length>0&&t&&await this.updateSessionPrograms(t.id,s,e.organization_id),a&&a.length>0&&t&&await this.addSessionToFormations(t.id,a,e.organization_id),t}};e.s(["sessionService",0,t],2034)},1262,e=>{"use strict";var s=e.i(920755);let a=new class{supabase;constructor(e){this.supabase=e||(0,s.createClient)()}async getAllFormations(e,s){let a=this.supabase.from("formations").select(`
        *,
        programs(*)
      `).eq("organization_id",e);s?.programId&&(a=a.eq("program_id",s.programId)),s?.isActive!==void 0&&(a=a.eq("is_active",s.isActive)),s?.search&&(a=a.or(`name.ilike.%${s.search}%,code.ilike.%${s.search}%,description.ilike.%${s.search}%`));let{data:t,error:i}=await a.order("created_at",{ascending:!1});if(i)throw i;return t}async getFormationById(e){let{data:s,error:a}=await this.supabase.from("formations").select(`
        *,
        programs(*),
        sessions(*)
      `).eq("id",e).single();if(a)throw a;return s}async createFormation(e){let{data:s,error:a}=await this.supabase.from("formations").insert(e).select().single();if(a)throw a;return s}async updateFormation(e,s){let{data:a,error:t}=await this.supabase.from("formations").update(s).eq("id",e).select().single();if(t)throw t;return a}async deleteFormation(e){return this.updateFormation(e,{is_active:!1})}async getSessionsByFormation(e){let{data:s,error:a}=await this.supabase.from("sessions").select("*").eq("formation_id",e).order("start_date",{ascending:!0});if(a)throw a;return s}async getAllSessionsForFormation(e){let{data:s,error:a}=await this.supabase.from("formation_sessions").select(`
        session_id,
        order_index,
        sessions(*)
      `).eq("formation_id",e).order("order_index",{ascending:!0});if(a)throw a;let{data:t,error:i}=await this.supabase.from("sessions").select("*").eq("formation_id",e).order("start_date",{ascending:!0});if(i)throw i;let r=s?.map(e=>e.sessions).filter(Boolean)||[],o=[...r],n=new Set(r.map(e=>e.id));for(let e of t||[])n.has(e.id)||o.push(e);return o}async addSessionsToFormation(e,s,a){let t=s.map((s,t)=>({formation_id:e,session_id:s,organization_id:a,order_index:t})),{data:i,error:r}=await this.supabase.from("formation_sessions").insert(t).select();if(r)throw r;return i}async removeSessionFromFormation(e,s){let{error:a}=await this.supabase.from("formation_sessions").delete().eq("formation_id",e).eq("session_id",s);if(a)throw a;return!0}async updateFormationSessions(e,s,a){let{error:t}=await this.supabase.from("formation_sessions").delete().eq("formation_id",e);if(t)throw t;return s.length>0?this.addSessionsToFormation(e,s,a):[]}async getFormationWithAllSessions(e){let s=await this.getFormationById(e);if(!s)return null;let a=await this.getAllSessionsForFormation(e);return{...s,all_sessions:a}}};e.s(["formationService",0,a])},586007,e=>{"use strict";var s=e.i(843476),a=e.i(271645),t=e.i(37727);let i=(0,e.i(475254).default)("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);var r=e.i(643531),o=e.i(647163),n=e.i(167881),l=e.i(463415),d=e.i(994179);function c({options:e,selected:c,onChange:m,placeholder:u="Sélectionner...",className:h}){let[g,p]=a.useState(!1);return(0,s.jsx)("div",{className:(0,o.cn)("flex flex-col gap-2",h),children:(0,s.jsxs)(l.DropdownMenu,{open:g,onOpenChange:p,children:[(0,s.jsx)(l.DropdownMenuTrigger,{asChild:!0,children:(0,s.jsxs)(n.Button,{variant:"outline",role:"combobox","aria-expanded":g,className:"w-full justify-between text-left font-normal h-auto min-h-[42px] py-2 px-3 bg-white border-gray-200 hover:bg-gray-50",children:[(0,s.jsxs)("div",{className:"flex flex-wrap gap-1.5 w-full items-center",children:[0===c.length&&(0,s.jsx)("span",{className:"text-muted-foreground text-sm",children:u}),c.length>0&&c.map(a=>{let i=e.find(e=>e.value===a);return(0,s.jsxs)(d.Badge,{variant:"secondary",className:"mr-0.5 rounded-md px-1.5 py-0.5 text-xs font-medium bg-brand-blue-ghost text-brand-blue hover:bg-brand-blue/20 border-brand-blue/10 transition-colors flex items-center gap-1",onClick:e=>{e.stopPropagation(),m(c.filter(e=>e!==a))},children:[i?.label||a,(0,s.jsx)("div",{className:"ml-0.5 rounded-full p-0.5 hover:bg-brand-blue/20 cursor-pointer",children:(0,s.jsx)(t.X,{className:"h-3 w-3"})})]},a)})]}),(0,s.jsx)(i,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,s.jsxs)(l.DropdownMenuContent,{align:"start",className:"w-[var(--radix-dropdown-menu-trigger-width)] p-1 max-h-60 overflow-y-auto",children:[e.map(e=>(0,s.jsxs)("div",{className:(0,o.cn)("relative flex cursor-pointer select-none items-center rounded-sm py-2 pl-8 pr-2 text-sm outline-none transition-colors hover:bg-accent hover:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",c.includes(e.value)?"bg-accent/50 font-medium":""),onClick:s=>{var a;s.preventDefault(),a=e.value,c.includes(a)?m(c.filter(e=>e!==a)):m([...c,a])},children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.includes(e.value)&&(0,s.jsx)(r.Check,{className:"h-4 w-4 text-brand-blue"})}),e.label]},e.value)),0===e.length&&(0,s.jsx)("div",{className:"py-3 px-2 text-center text-sm text-muted-foreground",children:"Aucune option disponible"})]})]})})}e.s(["MultiSelect",()=>c],586007)},55139,e=>{"use strict";var s=e.i(843476),a=e.i(271645),t=e.i(618566),i=e.i(266027),r=e.i(954616),o=e.i(912598),n=e.i(653145),l=e.i(994814),d=e.i(50270),c=e.i(325715),m=e.i(2034),u=e.i(683909),h=e.i(1262),g=e.i(167881),p=e.i(645760),f=e.i(23750),x=e.i(10708),b=e.i(586007),_=e.i(871689),w=e.i(356909),y=e.i(629377),v=e.i(522016),j=e.i(6799);e.i(882205);var S=e.i(846932),q=e.i(647163);let z=d.z.object({name:d.z.string().min(3,"Le nom doit contenir au moins 3 caractères"),start_date:d.z.string().min(1,"La date de début est requise"),end_date:d.z.string().min(1,"La date de fin est requise"),start_time:d.z.string().optional(),end_time:d.z.string().optional(),location:d.z.string().optional(),capacity_max:d.z.string().transform(e=>e?parseInt(e,10):void 0).optional(),status:d.z.enum(["planned","ongoing","completed","cancelled"]).default("planned")});function F(){let e=(0,t.useRouter)(),{user:d}=(0,c.useAuth)(),{addToast:F}=(0,j.useToast)(),N=(0,o.useQueryClient)(),[k,C]=(0,a.useState)([]),[A,I]=(0,a.useState)([]),{data:L}=(0,i.useQuery)({queryKey:["programs",d?.organization_id],queryFn:async()=>d?.organization_id?u.programService.getAllPrograms(d.organization_id,{isActive:!0}):[],enabled:!!d?.organization_id}),{data:B}=(0,i.useQuery)({queryKey:["formations",d?.organization_id],queryFn:async()=>d?.organization_id?h.formationService.getAllFormations(d.organization_id,{isActive:!0}):[],enabled:!!d?.organization_id}),{register:E,handleSubmit:P,formState:{errors:D}}=(0,n.useForm)({resolver:(0,l.zodResolver)(z),defaultValues:{status:"planned"}}),$=(0,r.useMutation)({mutationFn:async e=>{if(!d?.organization_id)throw Error("Organisation manquante");return m.sessionService.createIndependentSession({...e,capacity_max:e.capacity_max,organization_id:d.organization_id},k,A)},onSuccess:()=>{F({type:"success",title:"Session créée",description:"La session a été créée avec succès."}),N.invalidateQueries({queryKey:["sessions"]}),e.push("/dashboard/sessions")},onError:e=>{F({type:"error",title:"Erreur",description:e.message||"Une erreur est survenue lors de la création de la session"})}}),T=L?.map(e=>({label:e.name,value:e.id}))||[],M=B?.map(e=>({label:e.name,value:e.id}))||[];return(0,s.jsxs)(S.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8 pb-8 max-w-4xl mx-auto p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(v.default,{href:"/dashboard/sessions",children:(0,s.jsx)(g.Button,{variant:"ghost",size:"icon",children:(0,s.jsx)(_.ArrowLeft,{className:"h-4 w-4"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Nouvelle session"}),(0,s.jsx)("p",{className:"text-gray-500 mt-1",children:"Créez une nouvelle session de formation"})]})]}),(0,s.jsxs)("form",{onSubmit:P(e=>{$.mutate(e)}),className:"space-y-6",children:[(0,s.jsx)(p.GlassCard,{variant:"premium",className:"p-6",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:"Informations générales"}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x.Label,{htmlFor:"name",children:"Nom de la session *"}),(0,s.jsx)(f.Input,{id:"name",...E("name"),placeholder:"Ex: Session Hiver 2024",className:(0,q.cn)(D.name&&"border-red-500")}),D.name&&(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:D.name.message})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(x.Label,{htmlFor:"start_date",children:"Date de début *"}),(0,s.jsx)(f.Input,{id:"start_date",type:"date",...E("start_date"),className:(0,q.cn)(D.start_date&&"border-red-500")}),D.start_date&&(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:D.start_date.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x.Label,{htmlFor:"end_date",children:"Date de fin *"}),(0,s.jsx)(f.Input,{id:"end_date",type:"date",...E("end_date"),className:(0,q.cn)(D.end_date&&"border-red-500")}),D.end_date&&(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:D.end_date.message})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(x.Label,{htmlFor:"start_time",children:"Heure de début"}),(0,s.jsx)(f.Input,{id:"start_time",type:"time",...E("start_time")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x.Label,{htmlFor:"end_time",children:"Heure de fin"}),(0,s.jsx)(f.Input,{id:"end_time",type:"time",...E("end_time")})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(x.Label,{htmlFor:"location",children:"Lieu"}),(0,s.jsx)(f.Input,{id:"location",...E("location"),placeholder:"Salle 101 ou En ligne"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x.Label,{htmlFor:"capacity_max",children:"Capacité maximale"}),(0,s.jsx)(f.Input,{id:"capacity_max",type:"number",min:"1",...E("capacity_max"),placeholder:"Ex: 20"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x.Label,{htmlFor:"status",children:"Statut"}),(0,s.jsxs)("select",{id:"status",...E("status"),className:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[(0,s.jsx)("option",{value:"planned",children:"Planifiée"}),(0,s.jsx)("option",{value:"ongoing",children:"En cours"}),(0,s.jsx)("option",{value:"completed",children:"Terminée"}),(0,s.jsx)("option",{value:"cancelled",children:"Annulée"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4 mt-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:"Associations pédagogiques"}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x.Label,{className:"mb-2 block",children:"Programmes associés (Contenus)"}),(0,s.jsx)(b.MultiSelect,{options:T,selected:k,onChange:C,placeholder:"Sélectionner des programmes..."}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Sélectionnez les programmes qui composent cette session."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x.Label,{className:"mb-2 block",children:"Formations associées (Parcours)"}),(0,s.jsx)(b.MultiSelect,{options:M,selected:A,onChange:I,placeholder:"Sélectionner des formations..."}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Sélectionnez les formations auxquelles cette session appartient."})]})]})]})}),(0,s.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,s.jsx)(v.default,{href:"/dashboard/sessions",children:(0,s.jsx)(g.Button,{variant:"ghost",type:"button",children:"Annuler"})}),(0,s.jsx)(g.Button,{type:"submit",disabled:$.isPending,className:"bg-brand-blue hover:bg-brand-blue/90 text-white shadow-lg shadow-brand-blue/20",children:$.isPending?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(y.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Création..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(w.Save,{className:"h-4 w-4 mr-2"}),"Créer la session"]})})]})]})]})}e.s(["default",()=>F])}]);