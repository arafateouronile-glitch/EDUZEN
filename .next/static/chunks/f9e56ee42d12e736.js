(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,107233,e=>{"use strict";let t=(0,e.i(475254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],107233)},503116,e=>{"use strict";let t=(0,e.i(475254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],503116)},645760,e=>{"use strict";var t=e.i(843476),a=e.i(271645),n=e.i(647163);e.i(882205);var r=e.i(846932);let i=a.forwardRef(({className:e,variant:a="default",hoverable:i=!1,glow:s=!1,glowColor:o="rgba(51, 90, 207, 0.3)",...u},d)=>(0,t.jsxs)(r.motion.div,{ref:d,className:(0,n.cn)("relative rounded-2xl border backdrop-blur-xl transition-all duration-300",{"bg-white/70 dark:bg-gray-900/70 border-white/20 dark:border-gray-700/30 shadow-lg":"default"===a,"bg-white/80 dark:bg-gray-900/80 border-white/30 dark:border-gray-700/40 shadow-xl":"premium"===a,"bg-white/50 dark:bg-gray-900/50 border-white/10 dark:border-gray-700/20 shadow-md":"subtle"===a,"cursor-pointer":i,"hover:shadow-2xl hover:scale-[1.02]":i,"hover:bg-white/90 dark:hover:bg-gray-900/90":i},e),whileHover:i?{scale:1.02,y:-2}:void 0,transition:{type:"spring",stiffness:300,damping:30},...u,children:[s&&(0,t.jsx)(r.motion.div,{className:"absolute inset-0 rounded-2xl opacity-0 blur-xl",style:{background:`radial-gradient(circle, ${o} 0%, transparent 70%)`},animate:{opacity:[0,.5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),(0,t.jsx)("div",{className:"relative z-10",children:u.children})]}));i.displayName="GlassCard",e.s(["GlassCard",()=>i])},514764,e=>{"use strict";let t=(0,e.i(475254).default)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);e.s(["Send",()=>t],514764)},410160,e=>{"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.s(["default",()=>t])},109432,e=>{"use strict";var t={};function a(){return t}e.s(["getDefaultOptions",()=>a])},65433,307703,e=>{"use strict";var t=e.i(410160);function a(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function n(e){a(1,arguments);var n=Object.prototype.toString.call(e);return e instanceof Date||"object"===(0,t.default)(e)&&"[object Date]"===n?new Date(e.getTime()):"number"==typeof e||"[object Number]"===n?new Date(e):(("string"==typeof e||"[object String]"===n)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(Error().stack)),new Date(NaN))}e.s(["default",()=>a],307703),e.s(["default",()=>n],65433)},735150,119951,990124,587062,58197,e=>{"use strict";var t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function a(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.width?String(t.width):e.defaultWidth;return e.formats[a]||e.formats[e.defaultWidth]}}e.s(["default",()=>a],119951);var n={date:a({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:a({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:a({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},r={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function i(e){return function(t,a){var n;if("formatting"===(null!=a&&a.context?String(a.context):"standalone")&&e.formattingValues){var r=e.defaultFormattingWidth||e.defaultWidth,i=null!=a&&a.width?String(a.width):r;n=e.formattingValues[i]||e.formattingValues[r]}else{var s=e.defaultWidth,o=null!=a&&a.width?String(a.width):e.defaultWidth;n=e.values[o]||e.values[s]}return n[e.argumentCallback?e.argumentCallback(t):t]}}e.s(["default",()=>i],990124);var s={ordinalNumber:function(e,t){var a=Number(e),n=a%100;if(n>20||n<10)switch(n%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},era:i({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:i({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:i({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:i({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:i({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function o(e){return function(t){var a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;var o=s[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(u)?function(e,t){for(var a=0;a<e.length;a++)if(t(e[a]))return a}(u,function(e){return e.test(o)}):function(e,t){for(var a in e)if(e.hasOwnProperty(a)&&t(e[a]))return a}(u,function(e){return e.test(o)});return a=e.valueCallback?e.valueCallback(d):d,{value:a=n.valueCallback?n.valueCallback(a):a,rest:t.slice(o.length)}}}function u(e){return function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var r=n[0],i=t.match(e.parsePattern);if(!i)return null;var s=e.valueCallback?e.valueCallback(i[0]):i[0];return{value:s=a.valueCallback?a.valueCallback(s):s,rest:t.slice(r.length)}}}e.s(["default",()=>o],587062),e.s(["default",()=>u],58197);var d={ordinalNumber:u({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:o({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:o({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:o({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:o({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:o({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};e.s(["default",0,{code:"en-US",formatDistance:function(e,a,n){var r,i=t[e];if(r="string"==typeof i?i:1===a?i.one:i.other.replace("{{count}}",a.toString()),null!=n&&n.addSuffix)if(n.comparison&&n.comparison>0)return"in "+r;else return r+" ago";return r},formatLong:n,formatRelative:function(e,t,a,n){return r[e]},localize:s,match:d,options:{weekStartsOn:0,firstWeekContainsDate:1}}],735150)},402335,e=>{"use strict";function t(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}e.s(["default",()=>t])},587470,e=>{"use strict";var t={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},a=e.i(119951),n={date:(0,a.default)({formats:{full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:(0,a.default)({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:(0,a.default)({formats:{full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},r={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},i=e.i(990124),s={ordinalNumber:function(e,t){var a,n=Number(e),r=null==t?void 0:t.unit;return 0===n?"0":(a=1===n?r&&["year","week","hour","minute","second"].includes(r)?"ère":"er":"ème",n+a)},era:(0,i.default)({values:{narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},defaultWidth:"wide"}),quarter:(0,i.default)({values:{narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:(0,i.default)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},defaultWidth:"wide"}),day:(0,i.default)({values:{narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},defaultWidth:"wide"}),dayPeriod:(0,i.default)({values:{narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},defaultWidth:"wide"})},o=e.i(587062),u={ordinalNumber:(0,e.i(58197).default)({matchPattern:/^(\d+)(ième|ère|ème|er|e)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e)}}),era:(0,o.default)({matchPatterns:{narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^av/i,/^ap/i]},defaultParseWidth:"any"}),quarter:(0,o.default)({matchPatterns:{narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:(0,o.default)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,o.default)({matchPatterns:{narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,o.default)({matchPatterns:{narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},defaultParseWidth:"any"})};e.s(["fr",0,{code:"fr",formatDistance:function(e,a,n){var r,i=t[e];if(r="string"==typeof i?i:1===a?i.one:i.other.replace("{{count}}",String(a)),null!=n&&n.addSuffix)if(n.comparison&&n.comparison>0)return"dans "+r;else return"il y a "+r;return r},formatLong:n,formatRelative:function(e,t,a,n){return r[e]},localize:s,match:u,options:{weekStartsOn:1,firstWeekContainsDate:4}}],587470)},303054,e=>{"use strict";var t=e.i(65433),a=e.i(307703);function n(e){(0,a.default)(1,arguments);var n=(0,t.default)(e),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}e.s(["default",()=>n])},576844,e=>{"use strict";var t=e.i(109432),a=e.i(65433),n=e.i(307703);function r(e,t){(0,n.default)(2,arguments);var r=(0,a.default)(e),i=(0,a.default)(t),s=r.getTime()-i.getTime();return s<0?-1:s>0?1:s}var i=e.i(303054),s={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},o=e.i(735150);function u(e,t){if(null==e)throw TypeError("assign requires that input parameter not be null or undefined");for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}var d=e.i(402335);function l(e,l){return(0,n.default)(1,arguments),function(e,l,m){(0,n.default)(2,arguments);var c,f,h,g,v,p=(0,t.getDefaultOptions)(),b=null!=(c=null!=(f=null==m?void 0:m.locale)?f:p.locale)?c:o.default;if(!b.formatDistance)throw RangeError("locale must contain formatDistance property");var y=r(e,l);if(isNaN(y))throw RangeError("Invalid time value");var w=u(u({},m),{addSuffix:!!(null==m?void 0:m.addSuffix),comparison:y});y>0?(h=(0,a.default)(l),g=(0,a.default)(e)):(h=(0,a.default)(e),g=(0,a.default)(l));var x=function(e,t,r){(0,n.default)(2,arguments);var i,o=function(e,t){return(0,n.default)(2,arguments),(0,a.default)(e).getTime()-(0,a.default)(t).getTime()}(e,t)/1e3;return((i=null==r?void 0:r.roundingMethod)?s[i]:s.trunc)(o)}(g,h),j=Math.round((x-((0,d.default)(g)-(0,d.default)(h))/1e3)/60);if(j<2)if(null!=m&&m.includeSeconds)if(x<5)return b.formatDistance("lessThanXSeconds",5,w);else if(x<10)return b.formatDistance("lessThanXSeconds",10,w);else if(x<20)return b.formatDistance("lessThanXSeconds",20,w);else if(x<40)return b.formatDistance("halfAMinute",0,w);else if(x<60)return b.formatDistance("lessThanXMinutes",1,w);else return b.formatDistance("xMinutes",1,w);else if(0===j)return b.formatDistance("lessThanXMinutes",1,w);else return b.formatDistance("xMinutes",j,w);if(j<45)return b.formatDistance("xMinutes",j,w);if(j<90)return b.formatDistance("aboutXHours",1,w);if(j<1440){var M=Math.round(j/60);return b.formatDistance("aboutXHours",M,w)}if(j<2520)return b.formatDistance("xDays",1,w);else if(j<43200){var _=Math.round(j/1440);return b.formatDistance("xDays",_,w)}else if(j<86400)return v=Math.round(j/43200),b.formatDistance("aboutXMonths",v,w);if((v=function(e,t){(0,n.default)(2,arguments);var s,o=(0,a.default)(e),u=(0,a.default)(t),d=r(o,u),l=Math.abs(function(e,t){(0,n.default)(2,arguments);var r=(0,a.default)(e),i=(0,a.default)(t);return 12*(r.getFullYear()-i.getFullYear())+(r.getMonth()-i.getMonth())}(o,u));if(l<1)s=0;else{1===o.getMonth()&&o.getDate()>27&&o.setDate(30),o.setMonth(o.getMonth()-d*l);var m=r(o,u)===-d;(function(e){(0,n.default)(1,arguments);var t=(0,a.default)(e);return(function(e){(0,n.default)(1,arguments);var t=(0,a.default)(e);return t.setHours(23,59,59,999),t})(t).getTime()===(0,i.default)(t).getTime()})((0,a.default)(e))&&1===l&&1===r(e,u)&&(m=!1),s=d*(l-Number(m))}return 0===s?0:s}(g,h))<12){var N=Math.round(j/43200);return b.formatDistance("xMonths",N,w)}var P=v%12,C=Math.floor(v/12);return P<3?b.formatDistance("aboutXYears",C,w):P<9?b.formatDistance("overXYears",C,w):b.formatDistance("almostXYears",C+1,w)}(e,Date.now(),l)}e.s(["formatDistanceToNow",()=>l],576844)},233800,e=>{"use strict";var t=e.i(843476),a=e.i(266027),n=e.i(383801),r=e.i(267824),i=e.i(645760),s=e.i(167881),o=e.i(23750);e.i(882205);var u=e.i(846932),d=e.i(686311),l=e.i(555436),m=e.i(514764),c=e.i(107233),f=e.i(284614),h=e.i(503116),g=e.i(271645),v=e.i(576844),p=e.i(587470),b=e.i(618566),y=e.i(790224);function w(){let{student:e,studentId:w,organizationId:x}=(0,n.useLearnerContext)(),j=(0,b.useRouter)(),[M,_]=(0,g.useState)(""),N=(0,g.useMemo)(()=>(0,r.createLearnerClient)(w),[w]),{data:P,isLoading:C}=(0,a.useQuery)({queryKey:["learner-conversations",w,x],queryFn:async()=>{if(!w||!x)return[];let{data:e,error:t}=await N.from("conversation_participants").select("conversation_id").eq("student_id",w);if(t)throw y.logger.warn("Error fetching conversation participants",{studentId:(0,y.maskId)(w),error:(0,y.sanitizeError)(t)}),t;if(!e||0===e.length)return[];let a=e.map(e=>e.conversation_id),{data:n,error:r}=await N.from("conversations").select("*").eq("organization_id",x).eq("is_archived",!1).in("id",a).order("last_message_at",{ascending:!1,nullsFirst:!1});if(r)throw y.logger.error("Error fetching conversations",r,{studentId:(0,y.maskId)(w),organizationId:(0,y.maskId)(x),error:(0,y.sanitizeError)(r)}),r;return n&&0!==n.length?await Promise.all(n.map(async e=>{let{data:t}=await N.from("conversation_participants").select("*").eq("conversation_id",e.id),a=await Promise.all((t||[]).map(async e=>{let t=null,a=null;if(e.user_id)try{let{data:a,error:n}=await N.rpc("get_user_name",{p_user_id:e.user_id});if(!n&&a)t={id:e.user_id,full_name:a.full_name,email:a.email,avatar_url:null};else{let{data:a}=await N.from("users").select("id, full_name, email, avatar_url").eq("id",e.user_id).maybeSingle();t=a}}catch(n){let{data:a}=await N.from("users").select("id, full_name, email, avatar_url").eq("id",e.user_id).maybeSingle();t=a}if(e.student_id){let{data:t}=await N.from("students").select("id, first_name, last_name, email, student_number").eq("id",e.student_id).maybeSingle();a=t}return{...e,user:t,student:a}})),{data:n}=await N.from("messages").select("*").eq("conversation_id",e.id).eq("is_deleted",!1).order("created_at",{ascending:!1}).limit(1),r=null;if(n&&n.length>0){let e=n[0],t=null,a=null;if(e.sender_id){let{data:a}=await N.from("users").select("id, full_name, email").eq("id",e.sender_id).maybeSingle();t=a}if(e.student_sender_id){let{data:t}=await N.from("students").select("id, first_name, last_name, email, student_number").eq("id",e.student_sender_id).maybeSingle();a=t}r={...e,sender:t,student_sender:a}}return{...e,participants:a,last_message:r}})):[]},enabled:!!w&&!!x,refetchInterval:1e4}),S=e=>{if("group"===e.conversation_type&&e.name)return e.name;if(e.last_message){if(e.last_message.sender){let t=e.last_message.sender.full_name||e.last_message.sender.email;if(t)return t}if(e.last_message.student_sender&&e.last_message.student_sender.id!==w){let t=`${e.last_message.student_sender.first_name||""} ${e.last_message.student_sender.last_name||""}`.trim();return t||e.last_message.student_sender.email||`Candidat ${e.last_message.student_sender.student_number||""}`}}if(e.participants&&e.participants.length>0){let t=e.participants.find(e=>!!e.user_id&&!e.student_id||!!e.user_id&&!!e.student_id&&e.student_id!==w);if(t?.user){let e=t.user.full_name||t.user.email;if(e)return e}let a=e.participants.find(e=>e.student_id&&e.student_id!==w);if(a?.student){let e=`${a.student.first_name||""} ${a.student.last_name||""}`.trim();return e||a.student.email||`Candidat ${a.student.student_number||""}`}}return"Conversation"},W=P?.filter(e=>S(e).toLowerCase().includes(M.toLowerCase()))||[],k={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};return(0,t.jsxs)(u.motion.div,{className:"space-y-6 pb-24 lg:pb-8",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"visible",children:[(0,t.jsx)(u.motion.div,{variants:k,children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-indigo-100 rounded-xl",children:(0,t.jsx)(d.MessageSquare,{className:"h-8 w-8 text-indigo-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Messages"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Communiquez avec vos formateurs et le support"})]})]}),(0,t.jsxs)(s.Button,{children:[(0,t.jsx)(c.Plus,{className:"h-4 w-4 mr-2"}),"Nouveau message"]})]})}),(0,t.jsx)(u.motion.div,{variants:k,children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(l.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,t.jsx)(o.Input,{type:"search",placeholder:"Rechercher une conversation...",value:M,onChange:e=>_(e.target.value),className:"pl-10"})]})}),(0,t.jsx)(u.motion.div,{variants:k,children:C?(0,t.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,t.jsx)("div",{className:"h-20 bg-gray-100 rounded-2xl animate-pulse"},e))}):W.length>0?(0,t.jsx)("div",{className:"space-y-3",children:W.map(e=>{let a=S(e),n=e.last_message,r=n?.created_at,s=null;return n?.sender?s=n.sender.full_name||n.sender.email:n?.student_sender&&(s=`${n.student_sender.first_name||""} ${n.student_sender.last_name||""}`.trim()||n.student_sender.email),(0,t.jsx)(i.GlassCard,{className:"p-4 cursor-pointer hover:shadow-lg transition-all duration-300",onClick:()=>j.push(`/learner/messages/${e.id}`),children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-white font-semibold bg-gradient-to-br from-brand-blue to-indigo-600",children:(0,t.jsx)(f.User,{className:"h-6 w-6"})})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 truncate",children:a}),r&&(0,t.jsxs)("span",{className:"text-xs text-gray-500 flex items-center gap-1",children:[(0,t.jsx)(h.Clock,{className:"h-3 w-3"}),(0,v.formatDistanceToNow)(new Date(r),{addSuffix:!0,locale:p.fr})]})]}),n&&(0,t.jsx)("div",{className:"flex items-center gap-2 mt-1",children:(0,t.jsxs)("p",{className:"text-sm truncate text-gray-500",children:["group"===e.conversation_type&&s?(0,t.jsxs)("span",{className:"font-medium",children:[s,": "]}):null,n.content]})})]})]})},e.id)})}):(0,t.jsxs)(i.GlassCard,{className:"p-12 text-center",children:[(0,t.jsx)(d.MessageSquare,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Aucune conversation"}),(0,t.jsx)("p",{className:"text-gray-500 mb-4",children:"Commencez une nouvelle conversation avec un formateur ou le support"}),(0,t.jsxs)(s.Button,{children:[(0,t.jsx)(c.Plus,{className:"h-4 w-4 mr-2"}),"Nouveau message"]})]})}),(0,t.jsx)(u.motion.div,{variants:k,children:(0,t.jsxs)(i.GlassCard,{className:"p-6",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Actions rapides"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)(s.Button,{variant:"outline",className:"justify-start",children:[(0,t.jsx)(d.MessageSquare,{className:"h-4 w-4 mr-2"}),"Contacter le support"]}),(0,t.jsxs)(s.Button,{variant:"outline",className:"justify-start",children:[(0,t.jsx)(f.User,{className:"h-4 w-4 mr-2"}),"Contacter un formateur"]}),(0,t.jsxs)(s.Button,{variant:"outline",className:"justify-start",children:[(0,t.jsx)(m.Send,{className:"h-4 w-4 mr-2"}),"Signaler un problème"]})]})]})})]})}e.s(["default",()=>w])}]);