(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,503116,e=>{"use strict";let t=(0,e.i(475254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],503116)},431343,e=>{"use strict";let t=(0,e.i(475254).default)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);e.s(["Play",()=>t],431343)},655900,e=>{"use strict";let t=(0,e.i(475254).default)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);e.s(["ChevronUp",()=>t],655900)},354385,e=>{"use strict";let t=(0,e.i(475254).default)("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);e.s(["ClipboardCheck",()=>t],354385)},501906,e=>{"use strict";var t=e.i(843476),s=e.i(271645),i=e.i(465286),r=e.i(503116),a=e.i(898791),n=e.i(114683),o=e.i(87316),l=e.i(761911),d=e.i(32095),c=e.i(354385),p=e.i(239616),g=e.i(664659),u=e.i(655900),m=e.i(431343),x=e.i(643531),h=e.i(37727);e.i(882205);var y=e.i(846932),b=e.i(88653),v=e.i(647163),f=e.i(167881);let j={pending:"text-gray-400 bg-gray-100",in_progress:"text-blue-600 bg-blue-100",completed:"text-green-600 bg-green-100",overdue:"text-red-600 bg-red-100",skipped:"text-gray-400 bg-gray-50"},N={pending:n.Circle,in_progress:r.Clock,completed:i.CheckCircle2,overdue:a.AlertCircle,skipped:h.X},C={low:"bg-gray-100 text-gray-600",medium:"bg-blue-100 text-blue-700",high:"bg-orange-100 text-orange-700",critical:"bg-red-100 text-red-700"},w={purple:{bg:"bg-purple-50",text:"text-purple-700",border:"border-purple-200"},blue:{bg:"bg-blue-50",text:"text-blue-700",border:"border-blue-200"},green:{bg:"bg-green-50",text:"text-green-700",border:"border-green-200"},orange:{bg:"bg-orange-50",text:"text-orange-700",border:"border-orange-200"},teal:{bg:"bg-teal-50",text:"text-teal-700",border:"border-teal-200"}};function k({task:e,onComplete:s,onStart:i}){let r=N[e.status];return(0,t.jsxs)(y.motion.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:(0,v.cn)("flex items-start gap-3 p-3 rounded-lg border transition-all","completed"===e.status?"bg-green-50 border-green-200":"in_progress"===e.status?"bg-blue-50 border-blue-200":"overdue"===e.status?"bg-red-50 border-red-200":"bg-white border-gray-200 hover:border-gray-300"),children:[(0,t.jsx)("div",{className:(0,v.cn)("p-1 rounded-full",j[e.status]),children:(0,t.jsx)(r,{className:"h-4 w-4"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:(0,v.cn)("font-medium text-sm","completed"===e.status?"text-green-800 line-through":"text-gray-900"),children:e.title}),(0,t.jsx)("span",{className:(0,v.cn)("text-xs px-2 py-0.5 rounded-full",C[e.priority]),children:"critical"===e.priority?"Critique":"high"===e.priority?"Haute":"medium"===e.priority?"Moyenne":"Basse"})]}),e.description&&(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-0.5",children:e.description}),e.dueDate&&"completed"!==e.status&&(0,t.jsxs)("p",{className:"text-xs text-gray-400 mt-1 flex items-center gap-1",children:[(0,t.jsx)(o.Calendar,{className:"h-3 w-3"}),"Échéance: ",e.dueDate?(0,v.formatDate)(e.dueDate):""]})]}),"pending"===e.status&&i&&(0,t.jsxs)(f.Button,{size:"sm",variant:"ghost",onClick:i,className:"h-7",children:[(0,t.jsx)(m.Play,{className:"h-3 w-3 mr-1"}),"Démarrer"]}),"in_progress"===e.status&&s&&(0,t.jsxs)(f.Button,{size:"sm",variant:"ghost",onClick:s,className:"h-7 text-green-600 hover:text-green-700 hover:bg-green-50",children:[(0,t.jsx)(x.Check,{className:"h-3 w-3 mr-1"}),"Terminer"]})]})}function _({phase:e,isExpanded:s,onToggle:i,onTaskComplete:r,onTaskStart:a}){let n=e.icon,o=w[e.color],l=e.tasks.filter(e=>"completed"===e.status).length,d=e.tasks.length,c=d>0?l/d*100:0;return(0,t.jsxs)(y.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:(0,v.cn)("rounded-xl border-2 overflow-hidden transition-all",o.border,"in_progress"===e.status?"ring-2 ring-offset-2 ring-blue-400":""),children:[(0,t.jsxs)("button",{onClick:i,className:(0,v.cn)("w-full flex items-center justify-between p-4 transition-colors",o.bg),children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:(0,v.cn)("p-2 rounded-lg",o.bg,o.text),children:(0,t.jsx)(n,{className:"h-5 w-5"})}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("h3",{className:(0,v.cn)("font-semibold",o.text),children:e.title}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:e.description})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-24 h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:(0,v.cn)("h-full rounded-full transition-all","completed"===e.status?"bg-green-500":"in_progress"===e.status?"bg-blue-500":"bg-gray-300"),style:{width:`${c}%`}})}),(0,t.jsxs)("span",{className:"text-xs text-gray-500 w-12",children:[l,"/",d]})]}),(0,t.jsx)("span",{className:(0,v.cn)("text-xs px-2 py-1 rounded-full font-medium","completed"===e.status?"bg-green-100 text-green-700":"in_progress"===e.status?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"),children:"completed"===e.status?"Terminé":"in_progress"===e.status?"En cours":"À venir"}),s?(0,t.jsx)(u.ChevronUp,{className:"h-5 w-5 text-gray-400"}):(0,t.jsx)(g.ChevronDown,{className:"h-5 w-5 text-gray-400"})]})]}),(0,t.jsx)(b.AnimatePresence,{children:s&&(0,t.jsx)(y.motion.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"bg-white",children:(0,t.jsx)("div",{className:"p-4 space-y-2",children:e.tasks.map(e=>(0,t.jsx)(k,{task:e,onComplete:r?()=>r(e.id):void 0,onStart:a?()=>a(e.id):void 0},e.id))})})})]})}function D({sessionId:e,sessionData:i,onTaskComplete:r,onTaskStart:a}){let[n,o]=(0,s.useState)(new Set(["preparation","inscriptions"])),g=(0,s.useMemo)(()=>{let e,t,s,r,a,n;return e=new Date,t=i?.start_date?new Date(i.start_date):null,s=i?.end_date?new Date(i.end_date):null,r=t&&e<t,a=t&&s&&e>=t&&e<=s,n=s&&e>s,[{id:"preparation",title:"Préparation",description:"Configuration initiale et préparation de la session",icon:p.Settings,color:"purple",status:r?"in_progress":"completed",tasks:[{id:"setup-dates",title:"Définir les dates et horaires",description:"Configurer les créneaux et le calendrier",status:i?.start_date?"completed":"pending",priority:"critical",category:"configuration"},{id:"assign-trainers",title:"Assigner les formateurs",description:"Attribuer les intervenants à la session",status:"completed",priority:"high",category:"configuration"},{id:"setup-program",title:"Configurer le programme",description:"Définir le contenu pédagogique",status:"completed",priority:"high",category:"configuration"},{id:"prepare-materials",title:"Préparer les ressources pédagogiques",description:"Supports de cours, documents, etc.",status:"pending",priority:"medium",category:"ressources"}]},{id:"inscriptions",title:"Inscriptions",description:"Gestion des inscriptions et administratif",icon:l.Users,color:"blue",status:i?.enrollmentsCount&&i.enrollmentsCount>0?"completed":r?"in_progress":"pending",tasks:[{id:"enroll-students",title:"Inscrire les apprenants",description:`${i?.enrollmentsCount||0} apprenant(s) inscrit(s)`,status:i?.enrollmentsCount&&i.enrollmentsCount>0?"completed":"in_progress",priority:"critical",category:"inscriptions"},{id:"generate-conventions",title:"Générer les conventions",description:"Conventions de formation à signer",status:i?.hasConventions?"completed":"pending",priority:"high",category:"documents"},{id:"send-convocations",title:"Envoyer les convocations",description:"Convocations par email aux apprenants",status:i?.hasConvocations?"completed":"pending",priority:"high",category:"communication"},{id:"generate-invoices",title:"Générer les factures",description:"Facturation des inscriptions",status:i?.invoicesGenerated?"completed":"pending",priority:"medium",category:"finances"}]},{id:"deroulement",title:"Déroulement",description:"Suivi pendant la formation",icon:m.Play,color:"green",startDate:i?.start_date,endDate:i?.end_date,status:a?"in_progress":n?"completed":"pending",tasks:[{id:"daily-attendance",title:"Émargement quotidien",description:`Taux de pr\xe9sence : ${i?.attendanceRate||0}%`,status:a?"in_progress":n?"completed":"pending",priority:"critical",category:"présences"},{id:"track-progress",title:"Suivi de la progression",description:"Avancement des modules et activités",status:a?"in_progress":"pending",priority:"medium",category:"pédagogie"},{id:"handle-absences",title:"Gérer les absences",description:"Justificatifs et relances",status:"pending",priority:"medium",category:"présences"},{id:"intermediate-evals",title:"Évaluations intermédiaires",description:"Tests et QCM en cours de formation",status:"pending",priority:"medium",category:"évaluations"}]},{id:"cloture",title:"Clôture",description:"Finalisation et évaluations finales",icon:c.ClipboardCheck,color:"orange",status:n&&i?.evaluationsCompleted?"completed":n?"in_progress":"pending",tasks:[{id:"final-evaluation",title:"Évaluation finale",description:"Examen ou projet de fin de formation",status:i?.evaluationsCompleted?"completed":"pending",priority:"critical",category:"évaluations"},{id:"satisfaction-survey",title:"Enquête de satisfaction",description:"Évaluation à chaud par les apprenants",status:"pending",priority:"high",category:"qualité"},{id:"generate-attendance-sheets",title:"Feuilles d'émargement finales",description:"Export des émargements signés",status:"pending",priority:"high",category:"documents"},{id:"generate-certificates",title:"Générer les attestations",description:"Certificats de réalisation et attestations",status:"pending",priority:"high",category:"documents"}]},{id:"suivi",title:"Suivi Post-Formation",description:"Bilan et suivi après la formation",icon:d.GraduationCap,color:"teal",status:"pending",tasks:[{id:"cold-survey",title:"Évaluation à froid",description:"Enquête 3 mois après la formation",status:"pending",dueDate:s?new Date(new Date(s).setMonth(new Date(s).getMonth()+3)).toISOString():void 0,priority:"medium",category:"qualité"},{id:"archive-session",title:"Archiver la session",description:"Clôturer et archiver tous les documents",status:"pending",priority:"low",category:"administratif"},{id:"generate-bpf",title:"Bilan Pédagogique et Financier",description:"Export pour le BPF annuel",status:"pending",priority:"medium",category:"administratif"}]}]},[i]),u=g.reduce((e,t)=>e+t.tasks.length,0),x=g.reduce((e,t)=>e+t.tasks.filter(e=>"completed"===e.status).length,0),h=g.reduce((e,t)=>e+t.tasks.filter(e=>"in_progress"===e.status).length,0),y=g.reduce((e,t)=>e+t.tasks.filter(e=>"overdue"===e.status).length,0),b=u>0?Math.round(x/u*100):0;return e?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Timeline de la Session"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Suivi des étapes et tâches"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("div",{className:"h-3 w-3 rounded-full bg-green-500"}),(0,t.jsxs)("span",{className:"text-gray-600",children:[x," terminées"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("div",{className:"h-3 w-3 rounded-full bg-blue-500"}),(0,t.jsxs)("span",{className:"text-gray-600",children:[h," en cours"]})]}),y>0&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("div",{className:"h-3 w-3 rounded-full bg-red-500"}),(0,t.jsxs)("span",{className:"text-red-600 font-medium",children:[y," en retard"]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:[b,"%"]}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:"Progression globale"})]})]})]}),(0,t.jsx)("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-gradient-to-r from-purple-500 via-blue-500 to-green-500 transition-all",style:{width:`${b}%`}})}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute left-6 top-0 bottom-0 w-0.5 bg-gray-200"}),(0,t.jsx)("div",{className:"space-y-4 relative",children:g.map((e,s)=>(0,t.jsxs)("div",{className:"relative pl-12",children:[(0,t.jsx)("div",{className:(0,v.cn)("absolute left-4 top-6 w-4 h-4 rounded-full border-2 bg-white z-10","completed"===e.status?"border-green-500 bg-green-500":"in_progress"===e.status?"border-blue-500 bg-blue-500":"border-gray-300")}),(0,t.jsx)(_,{phase:e,isExpanded:n.has(e.id),onToggle:()=>{var t;return t=e.id,void o(e=>{let s=new Set(e);return s.has(t)?s.delete(t):s.add(t),s})},onTaskComplete:r,onTaskStart:a})]},e.id))})]})]}):(0,t.jsx)("div",{className:"p-8 text-center text-gray-500",children:(0,t.jsx)("p",{children:"Session ID manquant"})})}e.s(["SessionTimeline",()=>D,"default",0,D])},265295,e=>{e.n(e.i(501906))}]);