(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,356909,e=>{"use strict";let t=(0,e.i(475254).default)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);e.s(["Save",()=>t],356909)},127341,e=>{"use strict";var t=e.i(843476),s=e.i(271645),r=e.i(647163);let i=s.createContext(void 0);function a({value:e,defaultValue:a,onValueChange:n,children:l,className:c}){let o=void 0!==e,[d,u]=s.useState(a??"");s.useEffect(()=>{o||void 0===a||u(a)},[a]);let p=o?e:d,h=s.useCallback(e=>{o||u(e),n?.(e)},[o,n]);return(0,t.jsx)(i.Provider,{value:{value:p,onValueChange:h},children:(0,t.jsx)("div",{className:(0,r.cn)("w-full",c),children:l})})}function n(){let e=s.useContext(i);if(!e)throw Error("Tabs components must be used within a Tabs component");return e}function l({children:e,className:s}){return(0,t.jsx)("div",{className:(0,r.cn)("inline-flex h-10 items-center justify-center rounded-lg bg-bg-gray-100 p-1 text-text-tertiary",s),children:e})}function c({value:e,children:s,className:i}){let{value:a,onValueChange:l}=n(),c=a===e;return(0,t.jsx)("button",{type:"button",onClick:()=>l(e),className:(0,r.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-outline-none focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",c?"bg-white text-text-primary shadow-sm":"text-text-tertiary hover:text-text-primary",i),children:s})}function o({value:e,children:s,className:i}){let{value:a}=n();return a!==e?null:(0,t.jsx)("div",{className:(0,r.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",i),children:s})}e.s(["Tabs",()=>a,"TabsContent",()=>o,"TabsList",()=>l,"TabsTrigger",()=>c])},319036,e=>{"use strict";var t=e.i(843476),s=e.i(271645),r=e.i(647163);let i=s.forwardRef(({checked:e,onCheckedChange:s,disabled:i,className:a,...n},l)=>(0,t.jsx)("button",{type:"button",role:"switch","aria-checked":e,ref:l,disabled:i,onClick:()=>s?.(!e),className:(0,r.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e?"bg-brand-blue":"bg-input",a),...n,children:(0,t.jsx)("span",{className:(0,r.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform",e?"translate-x-5":"translate-x-0")})}));i.displayName="Switch",e.s(["Switch",0,i])},495911,e=>{"use strict";var t=e.i(843476),s=e.i(271645),r=e.i(266027),i=e.i(954616),a=e.i(912598),n=e.i(325715),l=e.i(920755),c=e.i(970065),o=e.i(167881),d=e.i(23750),u=e.i(10708),p=e.i(319036),h=e.i(127341),m=e.i(6799),b=e.i(561659),x=e.i(607486),v=e.i(356909);function g(){let{user:e}=(0,n.useAuth)();(0,l.createClient)();let g=(0,a.useQueryClient)(),{addToast:f}=(0,m.useToast)(),[j,y]=(0,s.useState)({enabled:!1,publishableKey:"",secretKey:"",webhookSecret:""}),[C,N]=(0,s.useState)({enabled:!1,creditorName:"",creditorIban:"",creditorBic:"",creditorId:""}),{data:w}=(0,r.useQuery)({queryKey:["payment-configs",e?.organization_id],queryFn:async()=>(!e?.organization_id,null),enabled:!!e?.organization_id}),S=(0,i.useMutation)({mutationFn:async()=>(await new Promise(e=>setTimeout(e,500)),{success:!0}),onSuccess:()=>{f({title:"Configuration sauvegardée",description:"La configuration Stripe a été enregistrée avec succès.",type:"success"}),g.invalidateQueries({queryKey:["payment-configs"]})}}),k=(0,i.useMutation)({mutationFn:async()=>(await new Promise(e=>setTimeout(e,500)),{success:!0}),onSuccess:()=>{f({title:"Configuration sauvegardée",description:"La configuration SEPA a été enregistrée avec succès.",type:"success"}),g.invalidateQueries({queryKey:["payment-configs"]})}});return(0,t.jsxs)("div",{className:"container mx-auto py-8 px-4 max-w-5xl",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-2",children:[(0,t.jsx)(b.CreditCard,{className:"h-8 w-8"}),"Configuration des Paiements"]}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Configurez les méthodes de paiement pour votre organisation"})]}),(0,t.jsxs)(h.Tabs,{defaultValue:"stripe",className:"space-y-6",children:[(0,t.jsxs)(h.TabsList,{children:[(0,t.jsx)(h.TabsTrigger,{value:"stripe",children:"Stripe (Cartes bancaires)"}),(0,t.jsx)(h.TabsTrigger,{value:"sepa",children:"SEPA (Virements)"})]}),(0,t.jsx)(h.TabsContent,{value:"stripe",children:(0,t.jsxs)(c.Card,{children:[(0,t.jsxs)(c.CardHeader,{children:[(0,t.jsxs)(c.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(b.CreditCard,{className:"h-5 w-5"}),"Configuration Stripe"]}),(0,t.jsx)(c.CardDescription,{children:"Configurez les paiements par carte bancaire via Stripe"})]}),(0,t.jsxs)(c.CardContent,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Label,{htmlFor:"stripe-enabled",children:"Activer Stripe"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Permettre les paiements par carte bancaire"})]}),(0,t.jsx)(p.Switch,{checked:j.enabled,onCheckedChange:e=>y({...j,enabled:e})})]}),j.enabled&&(0,t.jsxs)("div",{className:"space-y-4 pt-4 border-t",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Label,{htmlFor:"stripe-publishable-key",children:"Clé publique (Publishable Key)"}),(0,t.jsx)(d.Input,{id:"stripe-publishable-key",type:"password",value:j.publishableKey,onChange:e=>y({...j,publishableKey:e.target.value}),placeholder:"pk_test_..."}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Clé publique Stripe (commence par pk_)"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Label,{htmlFor:"stripe-secret-key",children:"Clé secrète (Secret Key)"}),(0,t.jsx)(d.Input,{id:"stripe-secret-key",type:"password",value:j.secretKey,onChange:e=>y({...j,secretKey:e.target.value}),placeholder:"sk_test_..."}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Clé secrète Stripe (commence par sk_). Ne partagez jamais cette clé."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Label,{htmlFor:"stripe-webhook-secret",children:"Secret Webhook (optionnel)"}),(0,t.jsx)(d.Input,{id:"stripe-webhook-secret",type:"password",value:j.webhookSecret,onChange:e=>y({...j,webhookSecret:e.target.value}),placeholder:"whsec_..."}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Secret pour valider les webhooks Stripe"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 pt-4",children:[(0,t.jsxs)(o.Button,{onClick:()=>S.mutate(),disabled:!j.publishableKey||!j.secretKey,children:[(0,t.jsx)(v.Save,{className:"h-4 w-4 mr-2"}),"Sauvegarder"]}),(0,t.jsx)(o.Button,{variant:"outline",asChild:!0,children:(0,t.jsx)("a",{href:"https://dashboard.stripe.com/apikeys",target:"_blank",rel:"noopener noreferrer",children:"Obtenir les clés Stripe"})})]})]})]})]})}),(0,t.jsx)(h.TabsContent,{value:"sepa",children:(0,t.jsxs)(c.Card,{children:[(0,t.jsxs)(c.CardHeader,{children:[(0,t.jsxs)(c.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(x.Building2,{className:"h-5 w-5"}),"Configuration SEPA"]}),(0,t.jsx)(c.CardDescription,{children:"Configurez les virements bancaires SEPA et prélèvements"})]}),(0,t.jsxs)(c.CardContent,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Label,{children:"Activer SEPA"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Permettre les virements et prélèvements SEPA"})]}),(0,t.jsx)(p.Switch,{checked:C.enabled,onCheckedChange:e=>N({...C,enabled:e})})]}),C.enabled&&(0,t.jsxs)("div",{className:"space-y-4 pt-4 border-t",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Label,{htmlFor:"sepa-creditor-name",children:"Nom du créancier"}),(0,t.jsx)(d.Input,{id:"sepa-creditor-name",value:C.creditorName,onChange:e=>N({...C,creditorName:e.target.value}),placeholder:"Nom de votre organisation"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Label,{htmlFor:"sepa-creditor-iban",children:"IBAN du créancier"}),(0,t.jsx)(d.Input,{id:"sepa-creditor-iban",value:C.creditorIban,onChange:e=>N({...C,creditorIban:e.target.value.toUpperCase()}),placeholder:"FR76 1234 5678 9012 3456 7890 123"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"IBAN de votre compte bancaire (format européen)"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Label,{htmlFor:"sepa-creditor-bic",children:"BIC du créancier (optionnel)"}),(0,t.jsx)(d.Input,{id:"sepa-creditor-bic",value:C.creditorBic,onChange:e=>N({...C,creditorBic:e.target.value.toUpperCase()}),placeholder:"ABCDFRPP"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Code BIC/SWIFT de votre banque"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Label,{htmlFor:"sepa-creditor-id",children:"Identifiant créancier (pour prélèvements)"}),(0,t.jsx)(d.Input,{id:"sepa-creditor-id",value:C.creditorId,onChange:e=>N({...C,creditorId:e.target.value}),placeholder:"FR98Z123456789"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Identifiant unique pour les prélèvements SEPA (obtenu auprès de votre banque)"})]}),(0,t.jsx)("div",{className:"flex items-center gap-2 pt-4",children:(0,t.jsxs)(o.Button,{onClick:()=>k.mutate(),disabled:!C.creditorName||!C.creditorIban,children:[(0,t.jsx)(v.Save,{className:"h-4 w-4 mr-2"}),"Sauvegarder"]})})]})]})]})})]})]})}e.s(["default",()=>g])}]);