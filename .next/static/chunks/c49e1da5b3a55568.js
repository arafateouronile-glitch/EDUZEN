(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,414583,e=>{"use strict";var t=e.i(843476),a=e.i(271645),r=e.i(266027),s=e.i(954616),i=e.i(912598);e.i(882205);var n=e.i(846932),l=e.i(87316),o=e.i(107233),d=e.i(226691),c=e.i(465286),m=e.i(503116),u=e.i(859607),h=e.i(475254);let g=(0,h.default)("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);var x=e.i(761911),p=e.i(810980),b=e.i(25652),y=e.i(797548),v=e.i(325715),j=e.i(436321),f=e.i(88653),N=e.i(373375),w=e.i(463059);let _=(0,h.default)("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);var k=e.i(370956),C=e.i(489853),D=e.i(346897),S=e.i(167881),T=e.i(645760),F=e.i(647163);let B=e=>e.toISOString().split("T")[0],z=["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],M=["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],E=["Janvier","FÃ©vrier","Mars","Avril","Mai","Juin","Juillet","AoÃ»t","Septembre","Octobre","Novembre","DÃ©cembre"];function L({events:e,isLoading:r=!1,onEventClick:s,onDateClick:i,onAddEvent:d,initialView:c="month",showControls:u=!0,showFilters:h=!0,filters:b={showSessions:!0,showFormations:!0,showTodos:!0},onFiltersChange:y,onDateRangeChange:v}){let j,L,A,I,q,O,Q,H,K,R,[$,P]=(0,a.useState)(new Date),[Y,U]=(0,a.useState)(c),[J,G]=(0,a.useState)(null),V=(0,a.useRef)(null);(0,a.useEffect)(()=>{let e,t;if(!v)return;if("month"===Y){let a=$.getFullYear(),r=$.getMonth();e=new Date(a,r,1),t=new Date(a,r+1,0)}else if("week"===Y){let a=new Date($),r=a.getDay();a.setDate(a.getDate()+(0===r?-6:1-r)),e=new Date(a),(t=new Date(a)).setDate(a.getDate()+6)}else e=new Date($),t=new Date($);let a=new Date(e);a.setMonth(a.getMonth()-1);let r=new Date(t);r.setMonth(r.getMonth()+1);let s=V.current;s&&s.start.getTime()===a.getTime()&&s.end.getTime()===r.getTime()||(V.current={start:a,end:r},v(a,r))},[$,Y,v]);let W=(0,a.useMemo)(()=>e.filter(e=>("session"!==e.event_type||!!b.showSessions)&&("formation"!==e.event_type||!!b.showFormations)&&("todo"!==e.event_type||!!b.showTodos)),[e,b]),X=(0,a.useMemo)(()=>{let e={};return W.forEach(t=>{let a=t.start_date?"string"==typeof t.start_date?t.start_date.split("T")[0]:new Date(t.start_date).toISOString().split("T")[0]:null;if(!a)return;let r=new Date(a+"T00:00:00"),s=t.end_date?"string"==typeof t.end_date?t.end_date.split("T")[0]:new Date(t.end_date).toISOString().split("T")[0]:null;if(("session"===t.event_type||"formation"===t.event_type)&&s){let a=new Date(s+"T00:00:00"),i=new Date(r);for(;i<=a;){let a=i.toISOString().split("T")[0];e[a]||(e[a]=[]);let r={...t,start_date:a,title:t.title};e[a].some(e=>e.event_id===t.event_id&&e.event_type===t.event_type)||e[a].push(r),i.setDate(i.getDate()+1)}}else e[a]||(e[a]=[]),e[a].push(t)}),e},[W]),Z=(e,a=!1)=>{let r=new Date(e.end_date)<new Date,i="completed"===e.status;return(0,t.jsxs)(n.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:(0,F.cn)("group relative rounded-md px-2 py-1 text-xs cursor-pointer transition-all","hover:shadow-md hover:scale-[1.02]",a?"truncate":"",r&&!i&&"opacity-60",i&&"line-through opacity-50"),style:{backgroundColor:e.color+"20",borderLeft:`3px solid ${e.color}`},onClick:t=>{t.stopPropagation(),s?.(e)},children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(e=>{switch(e){case"session":return(0,t.jsx)(x.Users,{className:"h-3 w-3"});case"formation":return(0,t.jsx)(p.BookOpen,{className:"h-3 w-3"});case"todo":return(0,t.jsx)(g,{className:"h-3 w-3"});default:return(0,t.jsx)(l.Calendar,{className:"h-3 w-3"})}})(e.event_type),(0,t.jsx)("span",{className:"font-medium truncate",style:{color:e.color},children:e.title})]}),!a&&(0,t.jsxs)("div",{className:"space-y-0.5 mt-1",children:[e.start_time&&(0,t.jsxs)("div",{className:"flex items-center gap-1 text-gray-500 text-xs",children:[(0,t.jsx)(m.Clock,{className:"h-2.5 w-2.5"}),(0,t.jsxs)("span",{children:[e.start_time.slice(0,5),e.end_time&&` - ${e.end_time.slice(0,5)}`]})]}),e.location&&(0,t.jsxs)("div",{className:"flex items-center gap-1 text-gray-500 text-xs",children:[(0,t.jsx)(D.MapPin,{className:"h-2.5 w-2.5"}),(0,t.jsx)("span",{className:"truncate",children:e.location})]}),e.description&&!e.location&&(0,t.jsx)("div",{className:"text-xs text-gray-500 truncate",children:e.description})]})]},e.event_id)};return(0,t.jsxs)("div",{className:"space-y-4",children:[u&&(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(S.Button,{variant:"outline",size:"icon",onClick:()=>{P(e=>{let t=new Date(e);return"month"===Y?t.setMonth(e.getMonth()-1):"week"===Y?t.setDate(e.getDate()-7):t.setDate(e.getDate()-1),t})},children:(0,t.jsx)(N.ChevronLeft,{className:"h-4 w-4"})}),(0,t.jsx)(S.Button,{variant:"outline",size:"icon",onClick:()=>{P(e=>{let t=new Date(e);return"month"===Y?t.setMonth(e.getMonth()+1):"week"===Y?t.setDate(e.getDate()+7):t.setDate(e.getDate()+1),t})},children:(0,t.jsx)(w.ChevronRight,{className:"h-4 w-4"})}),(0,t.jsx)(S.Button,{variant:"ghost",onClick:()=>{P(new Date)},className:"text-sm",children:"Aujourd'hui"}),(0,t.jsx)("h2",{className:"text-lg font-semibold ml-2",children:"day"===Y?`${$.getDate()} ${E[$.getMonth()]} ${$.getFullYear()}`:`${E[$.getMonth()]} ${$.getFullYear()}`})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[{value:"month",icon:_,label:"Mois"},{value:"week",icon:C.CalendarDays,label:"Semaine"},{value:"day",icon:l.Calendar,label:"Jour"},{value:"agenda",icon:k.List,label:"Agenda"}].map(({value:e,icon:a,label:r})=>(0,t.jsxs)(S.Button,{variant:Y===e?"default":"ghost",size:"sm",onClick:()=>U(e),className:(0,F.cn)("gap-1",Y===e&&"bg-white shadow-sm"),children:[(0,t.jsx)(a,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:r})]},e))}),d&&(0,t.jsxs)(S.Button,{onClick:()=>d(J||void 0),children:[(0,t.jsx)(o.Plus,{className:"h-4 w-4 mr-1"}),"Ajouter"]})]})]}),h&&(0,t.jsxs)("div",{className:"flex items-center gap-4 flex-wrap",children:[(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"Afficher :"}),[{key:"showSessions",label:"Sessions",color:"#10B981",icon:x.Users},{key:"showFormations",label:"Formations",color:"#8B5CF6",icon:p.BookOpen},{key:"showTodos",label:"TÃ¢ches",color:"#3B82F6",icon:g}].map(({key:e,label:a,color:r,icon:s})=>(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:b[e],onChange:t=>y?.({...b,[e]:t.target.checked}),className:"rounded border-gray-300",style:{accentColor:r}}),(0,t.jsx)(s,{className:"h-4 w-4",style:{color:r}}),(0,t.jsx)("span",{className:"text-sm",children:a})]},e))]}),(0,t.jsx)(T.GlassCard,{variant:"default",className:"p-4",children:r?(0,t.jsx)("div",{className:"flex items-center justify-center h-[400px]",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-blue"})}):(0,t.jsx)(f.AnimatePresence,{mode:"wait",children:(0,t.jsxs)(n.motion.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.2},children:["month"===Y&&(()=>{let e=$.getFullYear(),a=$.getMonth(),r=new Date(e,a+1,0).getDate(),s=new Date(e,a,1).getDay(),l=B(new Date),o=[...Array(0===s?6:s-1).fill(null),...Array.from({length:r},(e,t)=>t+1)];for(;o.length%7!=0;)o.push(null);return(0,t.jsxs)("div",{className:"grid grid-cols-7 gap-px bg-gray-100 rounded-lg overflow-hidden",children:[["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"].map(e=>(0,t.jsx)("div",{className:"bg-gray-50 p-2 text-center text-xs font-semibold text-gray-600",children:e},e)),o.map((r,s)=>{if(null===r)return(0,t.jsx)("div",{className:"bg-white p-2 min-h-[100px]"},`empty-${s}`);let o=`${e}-${String(a+1).padStart(2,"0")}-${String(r).padStart(2,"0")}`,d=X[o]||[],c=o===l,m=J&&B(J)===o;return(0,t.jsxs)(n.motion.div,{className:(0,F.cn)("bg-white p-2 min-h-[100px] cursor-pointer transition-colors","hover:bg-gray-50",c&&"bg-brand-blue-ghost",m&&"ring-2 ring-brand-blue ring-inset"),onClick:()=>{let t=new Date(e,a,r);G(t),i?.(t)},children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,t.jsx)("span",{className:(0,F.cn)("text-sm font-medium",c&&"bg-brand-blue text-white rounded-full w-6 h-6 flex items-center justify-center"),children:r}),d.length>0&&(0,t.jsx)("span",{className:"text-[10px] text-gray-400",children:d.length})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[d.slice(0,3).map(e=>Z(e,!0)),d.length>3&&(0,t.jsxs)("div",{className:"text-[10px] text-gray-500 text-center",children:["+",d.length-3," autres"]})]})]},o)})]})})(),"week"===Y&&(L=(j=new Date($)).getDay(),j.setDate(j.getDate()+(0===L?-6:1-L)),A=Array.from({length:7},(e,t)=>{let a=new Date(j);return a.setDate(j.getDate()+t),a}),I=B(new Date),q=Array.from({length:12},(e,t)=>t+8),(0,t.jsxs)("div",{className:"flex flex-col h-[600px]",children:[(0,t.jsxs)("div",{className:"grid grid-cols-8 border-b",children:[(0,t.jsx)("div",{className:"p-2 text-xs text-gray-400 border-r"}),A.map(e=>{let a=B(e),r=a===I;return(0,t.jsxs)("div",{className:(0,F.cn)("p-2 text-center border-r",r&&"bg-brand-blue-ghost"),children:[(0,t.jsx)("div",{className:"text-xs text-gray-500",children:z[e.getDay()]}),(0,t.jsx)("div",{className:(0,F.cn)("text-lg font-semibold",r&&"text-brand-blue"),children:e.getDate()})]},a)})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,t.jsxs)("div",{className:"grid grid-cols-8",children:[(0,t.jsx)("div",{className:"border-r",children:q.map(e=>(0,t.jsx)("div",{className:"h-16 border-b p-1 text-right",children:(0,t.jsxs)("span",{className:"text-xs text-gray-400",children:[e,":00"]})},e))}),A.map(e=>{let a=B(e),r=X[a]||[];return(0,t.jsxs)("div",{className:(0,F.cn)("border-r relative",a===I&&"bg-brand-blue-ghost/30"),children:[q.map(a=>(0,t.jsx)("div",{className:"h-16 border-b hover:bg-gray-50 cursor-pointer",onClick:()=>{let t=new Date(e);t.setHours(a),i?.(t)}},a)),(0,t.jsx)("div",{className:"absolute inset-0 p-0.5 pointer-events-none",children:r.map(e=>{let a=e.start_time?parseInt(e.start_time.split(":")[0]):9;return(0,t.jsx)("div",{className:"absolute left-0.5 right-0.5 pointer-events-auto",style:{top:`${(a-8)*64}px`},children:Z(e)},e.event_id)})})]},a)})]})})]})),"day"===Y&&(O=X[B($)]||[],Q=Array.from({length:14},(e,t)=>t+7),(0,t.jsxs)("div",{className:"flex flex-col h-[600px]",children:[(0,t.jsxs)("div",{className:"p-4 border-b text-center",children:[(0,t.jsx)("div",{className:"text-lg font-semibold",children:M[$.getDay()]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-brand-blue",children:$.getDate()}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:[E[$.getMonth()]," ",$.getFullYear()]})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto",children:Q.map(e=>{let a=O.filter(t=>t.start_time?parseInt(t.start_time.split(":")[0])===e:9===e);return(0,t.jsxs)("div",{className:"flex border-b min-h-[60px]",children:[(0,t.jsx)("div",{className:"w-16 p-2 text-right border-r",children:(0,t.jsxs)("span",{className:"text-sm text-gray-400",children:[e,":00"]})}),(0,t.jsx)("div",{className:"flex-1 p-1 hover:bg-gray-50 cursor-pointer",onClick:()=>{let t=new Date($);t.setHours(e),i?.(t)},children:(0,t.jsx)("div",{className:"space-y-1",children:a.map(e=>Z(e))})})]},e)})})]})),"agenda"===Y&&(H=Object.keys(X).sort(),K=B(new Date),R=H.filter(e=>e>=K),(0,t.jsx)("div",{className:"space-y-4 max-h-[600px] overflow-y-auto",children:0===R.length?(0,t.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,t.jsx)(l.Calendar,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,t.jsx)("p",{children:"Aucun Ã©vÃ©nement Ã  venir"})]}):R.map(e=>{let a=new Date(e),r=e===K,s=X[e];return(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:(0,F.cn)("flex items-center gap-3 p-2 rounded-lg",r&&"bg-brand-blue-ghost"),children:[(0,t.jsxs)("div",{className:"text-center w-14",children:[(0,t.jsx)("div",{className:"text-xs text-gray-500 uppercase",children:z[a.getDay()]}),(0,t.jsx)("div",{className:(0,F.cn)("text-2xl font-bold",r&&"text-brand-blue"),children:a.getDate()})]}),(0,t.jsx)("div",{className:"flex-1 space-y-2",children:s.map(e=>Z(e))})]})},e)})}))]},Y+$.toISOString())})})]})}var A=e.i(653145),I=e.i(994814),q=e.i(50270),O=e.i(37727);let Q=(0,h.default)("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);var H=e.i(751975);let K=(0,h.default)("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);var R=e.i(356909),$=e.i(727612),P=e.i(605631),Y=e.i(629377),U=e.i(23750),J=e.i(10708),G=e.i(184762);let V=q.z.object({title:q.z.string().min(1,"Le titre est requis").max(200,"Titre trop long"),description:q.z.string().optional(),due_date:q.z.string().min(1,"La date d'Ã©chÃ©ance est requise"),due_time:q.z.string().optional(),start_date:q.z.string().optional(),start_time:q.z.string().optional(),all_day:q.z.boolean().default(!1),category:q.z.enum(["task","meeting","deadline","reminder","event"]).default("task"),priority:q.z.enum(["low","medium","high","urgent"]).default("medium"),color:q.z.string().default("#3B82F6"),reminder_enabled:q.z.boolean().default(!0),reminder_minutes_before:q.z.number().min(0).default(30),is_recurring:q.z.boolean().default(!1),recurrence_rule:q.z.string().optional(),tags:q.z.string().optional()}),W=[{value:"task",label:"TÃ¢che",icon:"ðŸ“‹",color:"#3B82F6"},{value:"meeting",label:"RÃ©union",icon:"ðŸ‘¥",color:"#8B5CF6"},{value:"deadline",label:"Ã‰chÃ©ance",icon:"â°",color:"#EF4444"},{value:"reminder",label:"Rappel",icon:"ðŸ””",color:"#F59E0B"},{value:"event",label:"Ã‰vÃ©nement",icon:"ðŸŽ‰",color:"#10B981"}],X=[{value:"low",label:"Basse",color:"#6B7280"},{value:"medium",label:"Moyenne",color:"#3B82F6"},{value:"high",label:"Haute",color:"#F59E0B"},{value:"urgent",label:"Urgente",color:"#EF4444"}],Z=["#3B82F6","#10B981","#8B5CF6","#F59E0B","#EF4444","#EC4899","#06B6D4","#84CC16"],ee=[{value:0,label:"Au moment de l'Ã©chÃ©ance"},{value:5,label:"5 minutes avant"},{value:15,label:"15 minutes avant"},{value:30,label:"30 minutes avant"},{value:60,label:"1 heure avant"},{value:120,label:"2 heures avant"},{value:1440,label:"1 jour avant"},{value:10080,label:"1 semaine avant"}];function et({isOpen:e,onClose:r,todo:s,initialDate:i,onSave:o,onDelete:c,onComplete:u,isLoading:h=!1}){let[g,x]=(0,a.useState)("details"),[p,b]=(0,a.useState)(s?.color||"#3B82F6"),{register:y,handleSubmit:v,setValue:j,watch:N,reset:w,formState:{errors:_}}=(0,A.useForm)({resolver:(0,I.zodResolver)(V),defaultValues:{title:"",description:"",due_date:i?i.toISOString().split("T")[0]:new Date().toISOString().split("T")[0],due_time:"",start_date:"",start_time:"",all_day:!1,category:"task",priority:"medium",color:"#3B82F6",reminder_enabled:!0,reminder_minutes_before:30,is_recurring:!1,recurrence_rule:"",tags:""}}),k=N("category"),C=N("all_day"),D=N("reminder_enabled"),B=N("is_recurring");(0,a.useEffect)(()=>{s?(w({title:s.title,description:s.description||"",due_date:s.due_date,due_time:s.due_time||"",start_date:s.start_date||"",start_time:s.start_time||"",all_day:s.all_day,category:s.category,priority:s.priority,color:s.color,reminder_enabled:s.reminder_enabled,reminder_minutes_before:s.reminder_minutes_before,is_recurring:s.is_recurring,recurrence_rule:s.recurrence_rule||"",tags:s.tags?.join(", ")||""}),b(s.color)):i&&(j("due_date",i.toISOString().split("T")[0]),0!==i.getHours()&&j("due_time",`${String(i.getHours()).padStart(2,"0")}:00`))},[s,i,w,j]),(0,a.useEffect)(()=>{let e=W.find(e=>e.value===k);e&&!s&&(b(e.color),j("color",e.color))},[k,s,j]);let z=async e=>{let t={title:e.title,description:e.description||void 0,due_date:e.due_date,due_time:e.due_time||void 0,start_date:e.start_date||void 0,start_time:e.start_time||void 0,all_day:e.all_day,category:e.category,priority:e.priority,color:p,reminder_enabled:e.reminder_enabled,reminder_minutes_before:e.reminder_minutes_before,is_recurring:e.is_recurring,recurrence_rule:e.recurrence_rule||void 0,tags:e.tags?e.tags.split(",").map(e=>e.trim()).filter(Boolean):void 0};await o(t),r()},M=async()=>{s&&c&&confirm("ÃŠtes-vous sÃ»r de vouloir supprimer cette tÃ¢che ?")&&(await c(s.id),r())},E=async()=>{s&&u&&(await u(s.id),r())};return e?(0,t.jsx)(f.AnimatePresence,{children:(0,t.jsx)(n.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:r,children:(0,t.jsx)(n.motion.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},onClick:e=>e.stopPropagation(),className:"w-full max-w-lg max-h-[90vh] overflow-hidden",children:(0,t.jsxs)(T.GlassCard,{variant:"premium",className:"overflow-hidden",children:[(0,t.jsxs)("div",{className:"p-4 border-b flex items-center justify-between",style:{backgroundColor:p+"10"},children:[(0,t.jsx)("h2",{className:"text-lg font-semibold",children:s?"Modifier la tÃ¢che":"Nouvelle tÃ¢che"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[s&&"completed"!==s.status&&u&&(0,t.jsx)(S.Button,{variant:"ghost",size:"icon",onClick:E,className:"text-green-600 hover:text-green-700 hover:bg-green-50",children:(0,t.jsx)(P.CheckCircle,{className:"h-5 w-5"})}),s&&c&&(0,t.jsx)(S.Button,{variant:"ghost",size:"icon",onClick:M,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:(0,t.jsx)($.Trash2,{className:"h-5 w-5"})}),(0,t.jsx)(S.Button,{variant:"ghost",size:"icon",onClick:r,children:(0,t.jsx)(O.X,{className:"h-5 w-5"})})]})]}),(0,t.jsx)("div",{className:"flex border-b",children:["details","options"].map(e=>(0,t.jsx)("button",{onClick:()=>x(e),className:(0,F.cn)("flex-1 py-2 text-sm font-medium transition-colors",g===e?"border-b-2 text-brand-blue":"text-gray-500 hover:text-gray-700"),style:g===e?{borderColor:p}:{},children:"details"===e?"DÃ©tails":"Options"},e))}),(0,t.jsxs)("form",{onSubmit:v(z),className:"p-4 space-y-4 max-h-[60vh] overflow-y-auto",children:["details"===g&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(J.Label,{htmlFor:"title",children:"Titre *"}),(0,t.jsx)(U.Input,{id:"title",...y("title"),placeholder:"Ex: PrÃ©parer le cours de mathÃ©matiques",className:(0,F.cn)(_.title&&"border-red-500")}),_.title&&(0,t.jsx)("p",{className:"text-red-500 text-xs mt-1",children:_.title.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(J.Label,{htmlFor:"description",children:"Description"}),(0,t.jsx)(G.Textarea,{id:"description",...y("description"),placeholder:"DÃ©tails de la tÃ¢che...",rows:3})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(J.Label,{children:"CatÃ©gorie"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:W.map(e=>(0,t.jsxs)("button",{type:"button",onClick:()=>j("category",e.value),className:(0,F.cn)("flex items-center gap-1 px-3 py-1.5 rounded-full text-sm transition-all",k===e.value?"ring-2 ring-offset-1":"bg-gray-100 hover:bg-gray-200"),style:k===e.value?{backgroundColor:e.color+"20",color:e.color}:{},children:[(0,t.jsx)("span",{children:e.icon}),e.label]},e.value))})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(J.Label,{htmlFor:"due_date",className:"flex items-center gap-1",children:[(0,t.jsx)(l.Calendar,{className:"h-4 w-4"}),"Date d'Ã©chÃ©ance *"]}),(0,t.jsx)(U.Input,{id:"due_date",type:"date",...y("due_date"),className:(0,F.cn)(_.due_date&&"border-red-500")})]}),!C&&(0,t.jsxs)("div",{children:[(0,t.jsxs)(J.Label,{htmlFor:"due_time",className:"flex items-center gap-1",children:[(0,t.jsx)(m.Clock,{className:"h-4 w-4"}),"Heure"]}),(0,t.jsx)(U.Input,{id:"due_time",type:"time",...y("due_time")})]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",...y("all_day"),className:"rounded border-gray-300"}),(0,t.jsx)("span",{className:"text-sm",children:"Toute la journÃ©e"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(J.Label,{className:"flex items-center gap-1",children:[(0,t.jsx)(Q,{className:"h-4 w-4"}),"PrioritÃ©"]}),(0,t.jsx)("div",{className:"flex gap-2 mt-1",children:X.map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>j("priority",e.value),className:(0,F.cn)("flex-1 py-2 rounded-lg text-sm font-medium transition-all",N("priority")===e.value?"ring-2 ring-offset-1":"bg-gray-100 hover:bg-gray-200"),style:N("priority")===e.value?{backgroundColor:e.color+"20",color:e.color}:{},children:e.label},e.value))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(J.Label,{children:"Couleur"}),(0,t.jsx)("div",{className:"flex gap-2 mt-1",children:Z.map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>{b(e),j("color",e)},className:(0,F.cn)("w-8 h-8 rounded-full transition-transform hover:scale-110",p===e&&"ring-2 ring-offset-2"),style:{backgroundColor:e}},e))})]})]}),"options"===g&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",...y("reminder_enabled"),className:"rounded border-gray-300"}),(0,t.jsx)(d.Bell,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Activer le rappel"})]}),D&&(0,t.jsx)("select",{...y("reminder_minutes_before",{valueAsNumber:!0}),className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue text-sm",children:ee.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",...y("is_recurring"),className:"rounded border-gray-300"}),(0,t.jsx)(K,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"TÃ¢che rÃ©currente"})]}),B&&(0,t.jsxs)("select",{...y("recurrence_rule"),className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue text-sm",children:[(0,t.jsx)("option",{value:"",children:"SÃ©lectionner..."}),(0,t.jsx)("option",{value:"FREQ=DAILY",children:"Tous les jours"}),(0,t.jsx)("option",{value:"FREQ=WEEKLY",children:"Toutes les semaines"}),(0,t.jsx)("option",{value:"FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR",children:"Jours ouvrÃ©s"}),(0,t.jsx)("option",{value:"FREQ=MONTHLY",children:"Tous les mois"}),(0,t.jsx)("option",{value:"FREQ=YEARLY",children:"Tous les ans"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(J.Label,{htmlFor:"start_date",children:"Date de dÃ©but"}),(0,t.jsx)(U.Input,{id:"start_date",type:"date",...y("start_date")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(J.Label,{htmlFor:"start_time",children:"Heure de dÃ©but"}),(0,t.jsx)(U.Input,{id:"start_time",type:"time",...y("start_time")})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(J.Label,{htmlFor:"tags",className:"flex items-center gap-1",children:[(0,t.jsx)(H.Tag,{className:"h-4 w-4"}),"Tags"]}),(0,t.jsx)(U.Input,{id:"tags",...y("tags"),placeholder:"SÃ©parez les tags par des virgules"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Ex: urgent, cours, administratif"})]})]})]}),(0,t.jsxs)("div",{className:"p-4 border-t flex justify-end gap-2",children:[(0,t.jsx)(S.Button,{variant:"ghost",onClick:r,children:"Annuler"}),(0,t.jsx)(S.Button,{onClick:v(z),disabled:h,style:{backgroundColor:p},className:"text-white hover:opacity-90",children:h?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Y.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Enregistrement..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(R.Save,{className:"h-4 w-4 mr-2"}),s?"Mettre Ã  jour":"CrÃ©er"]})})]})]})})})}):null}var ea=e.i(6799);function er(){let{user:e}=(0,v.useAuth)(),{addToast:h}=(0,ea.useToast)(),f=(0,i.useQueryClient)(),[N,w]=(0,a.useState)(!1),[_,k]=(0,a.useState)(null),[C,D]=(0,a.useState)(void 0),[B,z]=(0,a.useState)(()=>{let e=new Date;return{start:new Date(e.getFullYear(),e.getMonth(),1),end:new Date(e.getFullYear(),e.getMonth()+2,0)}}),[M,E]=(0,a.useState)({showSessions:!0,showFormations:!0,showTodos:!0}),A=(0,a.useCallback)(e=>{E(t=>({...t,...e}))},[]),{data:I,isLoading:q}=(0,r.useQuery)({queryKey:["calendar-events",e?.organization_id,B.start.toISOString(),B.end.toISOString()],queryFn:async()=>{if(!e?.organization_id)return[];let t=B.start.toISOString().split("T")[0],a=B.end.toISOString().split("T")[0];return await j.calendarService.getCalendarEvents(e.organization_id,t,a,e.id)},enabled:!!e?.organization_id}),{data:O}=(0,r.useQuery)({queryKey:["calendar-stats",e?.organization_id],queryFn:async()=>e?.organization_id?j.calendarService.getCalendarStats(e.organization_id):null,enabled:!!e?.organization_id}),{data:Q}=(0,r.useQuery)({queryKey:["calendar-notifications-count",e?.id],queryFn:async()=>e?.id?j.calendarService.countUnreadNotifications(e.id):0,enabled:!!e?.id}),{data:H}=(0,r.useQuery)({queryKey:["today-todos",e?.organization_id],queryFn:async()=>{if(!e?.organization_id)return[];let t=new Date().toISOString().split("T")[0];return j.calendarService.getTodos(e.organization_id,{startDate:t,endDate:t,status:["pending","in_progress"]})},enabled:!!e?.organization_id}),K=(0,s.useMutation)({mutationFn:async t=>{if(!e?.organization_id||!e?.id)throw Error("Non authentifiÃ©");return j.calendarService.createTodo({...t,organization_id:e.organization_id,created_by:e.id})},onSuccess:()=>{f.invalidateQueries({queryKey:["calendar-events"]}),f.invalidateQueries({queryKey:["calendar-stats"]}),f.invalidateQueries({queryKey:["today-todos"]}),h({type:"success",title:"TÃ¢che crÃ©Ã©e",description:"La tÃ¢che a Ã©tÃ© ajoutÃ©e au calendrier."})},onError:e=>{h({type:"error",title:"Erreur",description:e.message||"Impossible de crÃ©er la tÃ¢che."})}}),R=(0,s.useMutation)({mutationFn:async({id:e,data:t})=>j.calendarService.updateTodo(e,t),onSuccess:()=>{f.invalidateQueries({queryKey:["calendar-events"]}),f.invalidateQueries({queryKey:["calendar-stats"]}),f.invalidateQueries({queryKey:["today-todos"]}),h({type:"success",title:"TÃ¢che mise Ã  jour",description:"Les modifications ont Ã©tÃ© enregistrÃ©es."})},onError:e=>{h({type:"error",title:"Erreur",description:e.message||"Impossible de mettre Ã  jour la tÃ¢che."})}}),$=(0,s.useMutation)({mutationFn:async e=>j.calendarService.deleteTodo(e),onSuccess:()=>{f.invalidateQueries({queryKey:["calendar-events"]}),f.invalidateQueries({queryKey:["calendar-stats"]}),f.invalidateQueries({queryKey:["today-todos"]}),h({type:"success",title:"TÃ¢che supprimÃ©e",description:"La tÃ¢che a Ã©tÃ© supprimÃ©e."})},onError:e=>{h({type:"error",title:"Erreur",description:e.message||"Impossible de supprimer la tÃ¢che."})}}),P=(0,s.useMutation)({mutationFn:async e=>j.calendarService.completeTodo(e),onSuccess:()=>{f.invalidateQueries({queryKey:["calendar-events"]}),f.invalidateQueries({queryKey:["calendar-stats"]}),f.invalidateQueries({queryKey:["today-todos"]}),h({type:"success",title:"TÃ¢che terminÃ©e",description:"Bravo ! La tÃ¢che a Ã©tÃ© marquÃ©e comme terminÃ©e."})},onError:e=>{h({type:"error",title:"Erreur",description:e.message||"Impossible de terminer la tÃ¢che."})}}),Y=async e=>{if("todo"===e.event_type){let t=await j.calendarService.getTodoById(e.event_id);t&&(k(t),w(!0))}else"session"===e.event_type?window.location.href=`/dashboard/sessions/${e.event_id}`:"formation"===e.event_type&&(window.location.href=`/dashboard/formations/${e.event_id}`)},U=e=>{k(null),D(e),w(!0)},J=async e=>{_?await R.mutateAsync({id:_.id,data:e}):await K.mutateAsync(e)},G=async e=>{await $.mutateAsync(e)},V=async e=>{await P.mutateAsync(e)},W=(0,a.useCallback)((e,t)=>{z({start:e,end:t})},[]);return(0,t.jsxs)(n.motion.div,{className:"space-y-8 pb-8 max-w-[1600px] mx-auto",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"visible",children:[(0,t.jsxs)(n.motion.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:[.16,1,.3,1]}}},className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-3",children:[(0,t.jsx)(n.motion.div,{className:"p-3 bg-gradient-to-br from-brand-blue to-brand-cyan rounded-2xl shadow-lg shadow-brand-blue/20",whileHover:{scale:1.1,rotate:5},transition:{type:"spring",stiffness:400,damping:10},children:(0,t.jsx)(l.Calendar,{className:"h-8 w-8 text-white"})}),(0,t.jsx)("h1",{className:"text-4xl md:text-6xl font-display font-bold text-gray-900 tracking-tighter leading-none",children:"Calendrier"}),Q&&Q>0&&(0,t.jsxs)(n.motion.span,{className:"px-3 py-1.5 bg-red-100 text-red-600 rounded-full text-sm font-bold flex items-center gap-2 shadow-sm",whileHover:{scale:1.1},transition:{type:"spring",stiffness:400,damping:10},children:[(0,t.jsx)(d.Bell,{className:"h-4 w-4"}),Q]})]}),(0,t.jsx)("p",{className:"text-gray-600 font-medium text-lg tracking-tight",children:"Sessions, formations et tÃ¢ches - tout en un seul endroit"})]}),(0,t.jsx)(n.motion.div,{whileHover:{scale:1.05,y:-3},whileTap:{scale:.98},children:(0,t.jsxs)(S.Button,{onClick:()=>U(),className:"bg-gradient-to-br from-brand-blue to-brand-cyan text-white hover:from-brand-blue-dark hover:to-brand-cyan-dark shadow-xl shadow-brand-blue/20 hover:shadow-2xl hover:shadow-brand-cyan/30 transition-all duration-500 font-semibold tracking-tight px-6 py-6 text-base",children:[(0,t.jsx)(o.Plus,{className:"h-5 w-5 mr-2"}),"Nouvelle tÃ¢che"]})})]}),O&&(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{title:"Total tÃ¢ches",value:O.totalTodos,icon:g,iconBg:"bg-gradient-to-br from-brand-blue to-brand-blue-dark",cardBg:"bg-gradient-to-br from-brand-blue/5 via-brand-blue/10 to-brand-cyan/5",borderColor:"border-brand-blue/20",glowColor:"rgba(39, 68, 114, 0.15)"},{title:"Aujourd'hui",value:O.todayTodos,icon:l.Calendar,iconBg:"bg-gradient-to-br from-brand-cyan to-brand-cyan-dark",cardBg:"bg-gradient-to-br from-brand-cyan/5 via-brand-cyan/10 to-brand-blue/5",borderColor:"border-brand-cyan/20",glowColor:"rgba(52, 185, 238, 0.15)"},{title:"En attente",value:O.pendingTodos,icon:m.Clock,iconBg:"bg-gradient-to-br from-amber-500 to-amber-600",cardBg:"bg-gradient-to-br from-amber-50 via-amber-100/50 to-orange-50",borderColor:"border-amber-200",glowColor:"rgba(245, 158, 11, 0.15)"},{title:"En retard",value:O.overdueTodos,icon:u.AlertTriangle,iconBg:"bg-gradient-to-br from-red-500 to-red-600",cardBg:"bg-gradient-to-br from-red-50 via-red-100/50 to-pink-50",borderColor:"border-red-200",glowColor:"rgba(239, 68, 68, 0.2)",highlight:O.overdueTodos>0},{title:"TerminÃ©es",value:O.completedTodos,icon:c.CheckCircle2,iconBg:"bg-gradient-to-br from-emerald-500 to-emerald-600",cardBg:"bg-gradient-to-br from-emerald-50 via-emerald-100/50 to-teal-50",borderColor:"border-emerald-200",glowColor:"rgba(16, 185, 129, 0.15)"},{title:"Ã€ venir",value:O.upcomingTodos,icon:b.TrendingUp,iconBg:"bg-gradient-to-br from-brand-blue-light to-brand-cyan",cardBg:"bg-gradient-to-br from-brand-blue-pale/30 via-brand-blue-pale/50 to-brand-cyan-pale/30",borderColor:"border-brand-blue-light/20",glowColor:"rgba(75, 116, 157, 0.15)"}].map((e,a)=>(0,t.jsx)(n.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.05*a,ease:[.16,1,.3,1]},whileHover:{y:-6,scale:1.02},className:"group relative",children:(0,t.jsxs)("div",{className:(0,F.cn)("relative overflow-hidden rounded-2xl p-6 border-2 transition-all duration-500 shadow-lg hover:shadow-2xl",e.cardBg,e.borderColor,e.highlight&&"ring-2 ring-red-500/20 animate-pulse-premium"),style:{boxShadow:`0 10px 40px -10px ${e.glowColor}, 0 0 0 1px rgba(255, 255, 255, 0.1)`},children:[(0,t.jsx)(n.motion.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent",initial:{x:"-100%"},whileHover:{x:"100%"},transition:{duration:.6,ease:"easeInOut"}}),(0,t.jsxs)("div",{className:"relative z-10",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsx)(n.motion.div,{className:(0,F.cn)("p-3.5 rounded-2xl shadow-xl",e.iconBg),whileHover:{rotate:12,scale:1.15},transition:{type:"spring",stiffness:500,damping:15},children:(0,t.jsx)(e.icon,{className:"h-6 w-6 text-white"})}),(0,t.jsxs)(n.motion.div,{className:"text-right",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.05*a+.2,duration:.5},children:[(0,t.jsx)("div",{className:"text-4xl font-display font-bold tracking-tighter text-gray-900 leading-none mb-1",children:e.value}),(0,t.jsx)("p",{className:"text-xs font-bold text-gray-600 uppercase tracking-widest",children:e.title})]})]}),(0,t.jsx)(n.motion.div,{className:"h-1.5 rounded-full mt-4",style:{background:e.iconBg.replace("bg-gradient-to-br","linear-gradient(to right,")},initial:{scaleX:0},animate:{scaleX:1},transition:{delay:.05*a+.3,duration:.6,ease:[.16,1,.3,1]}})]}),(0,t.jsx)("div",{className:"absolute inset-0 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500",style:{background:`radial-gradient(circle at 50% 50%, ${e.glowColor} 0%, transparent 70%)`}})]})},e.title))}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,t.jsx)("div",{className:"lg:col-span-3",children:(0,t.jsx)(L,{events:I||[],isLoading:q,onEventClick:Y,onDateClick:e=>{D(e)},onAddEvent:U,filters:M,onFiltersChange:A,onDateRangeChange:W})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(T.GlassCard,{variant:"premium",className:"p-6 border-2 border-transparent hover:border-brand-blue/10 transition-all duration-500",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(n.motion.div,{className:"p-2.5 bg-gradient-to-br from-brand-blue to-brand-cyan rounded-2xl shadow-lg shadow-brand-blue/20",whileHover:{rotate:5,scale:1.1},transition:{type:"spring",stiffness:400,damping:10},children:(0,t.jsx)(l.Calendar,{className:"h-5 w-5 text-white"})}),(0,t.jsx)("h3",{className:"font-display font-bold text-gray-900 text-xl tracking-tight",children:"Aujourd'hui"})]}),(0,t.jsx)("span",{className:"text-sm text-gray-600 font-medium tracking-tight",children:new Date().toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long"})})]}),H&&H.length>0?(0,t.jsx)("div",{className:"space-y-3",children:H.map((e,a)=>(0,t.jsx)(n.motion.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.05*a,type:"spring",stiffness:400,damping:20},whileHover:{x:4,scale:1.02},className:(0,F.cn)("p-4 rounded-2xl cursor-pointer transition-all shadow-sm hover:shadow-lg","completed"===e.status&&"opacity-60"),style:{backgroundColor:e.color+"15",borderLeft:`4px solid ${e.color}`},onClick:async()=>{k(e),w(!0)},children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(n.motion.button,{onClick:t=>{t.stopPropagation(),V(e.id)},className:(0,F.cn)("mt-0.5 rounded-full p-0.5 transition-all duration-300","completed"===e.status?"bg-emerald-500 text-white shadow-md":"border-2 hover:bg-white/50"),style:{borderColor:e.color},whileHover:{scale:1.2,rotate:10},whileTap:{scale:.9},children:"completed"===e.status?(0,t.jsx)(c.CheckCircle2,{className:"h-4 w-4"}):(0,t.jsx)("div",{className:"h-4 w-4"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:(0,F.cn)("font-semibold text-sm tracking-tight","completed"===e.status&&"line-through"),style:{color:e.color},children:e.title}),e.due_time&&(0,t.jsxs)("p",{className:"text-xs text-gray-600 flex items-center gap-1.5 mt-1 font-medium",children:[(0,t.jsx)(m.Clock,{className:"h-3.5 w-3.5"}),e.due_time.slice(0,5)]})]})]})},e.id))}):(0,t.jsxs)("div",{className:"text-center py-6 text-gray-500",children:[(0,t.jsx)(c.CheckCircle2,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),(0,t.jsx)("p",{className:"text-sm",children:"Aucune tÃ¢che pour aujourd'hui"}),(0,t.jsxs)(S.Button,{variant:"ghost",size:"sm",className:"mt-2",onClick:()=>U(new Date),children:[(0,t.jsx)(o.Plus,{className:"h-3 w-3 mr-1"}),"Ajouter une tÃ¢che"]})]})]}),(0,t.jsxs)(T.GlassCard,{variant:"premium",className:"p-6 border-2 border-transparent hover:border-brand-blue/10 transition-all duration-500",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)(n.motion.div,{className:"p-2 bg-gradient-to-br from-brand-blue-light to-brand-cyan rounded-xl shadow-md",whileHover:{rotate:5,scale:1.1},transition:{type:"spring",stiffness:400,damping:10},children:(0,t.jsx)(y.Filter,{className:"h-4 w-4 text-white"})}),(0,t.jsx)("h3",{className:"font-display font-bold text-gray-900 text-lg tracking-tight",children:"LÃ©gende"})]}),(0,t.jsx)("div",{className:"space-y-3",children:[{icon:x.Users,label:"Sessions",color:"#10B981"},{icon:p.BookOpen,label:"Formations",color:"#8B5CF6"},{icon:g,label:"TÃ¢ches",color:"#3B82F6"}].map(({icon:e,label:a,color:r})=>(0,t.jsxs)(n.motion.div,{className:"flex items-center gap-3 p-2 rounded-xl hover:bg-gray-50/50 transition-colors",whileHover:{x:4},transition:{type:"spring",stiffness:400,damping:20},children:[(0,t.jsx)("div",{className:"w-4 h-4 rounded-full shadow-sm",style:{backgroundColor:r}}),(0,t.jsx)(e,{className:"h-5 w-5",style:{color:r}}),(0,t.jsx)("span",{className:"text-sm text-gray-700 font-medium tracking-tight",children:a})]},a))})]}),(0,t.jsxs)(T.GlassCard,{variant:"premium",className:"p-6 border-2 border-transparent hover:border-brand-blue/10 transition-all duration-500",children:[(0,t.jsx)("h3",{className:"font-display font-bold text-gray-900 mb-4 text-lg tracking-tight",children:"Raccourcis"}),(0,t.jsxs)("div",{className:"space-y-2.5 text-sm text-gray-700",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("kbd",{className:"px-2.5 py-1.5 bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg text-xs font-bold shadow-sm border border-gray-300",children:"T"}),(0,t.jsx)("span",{className:"font-medium tracking-tight",children:"Aujourd'hui"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("kbd",{className:"px-2.5 py-1.5 bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg text-xs font-bold shadow-sm border border-gray-300",children:"N"}),(0,t.jsx)("span",{className:"font-medium tracking-tight",children:"Nouvelle tÃ¢che"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("div",{className:"flex gap-1.5",children:[(0,t.jsx)("kbd",{className:"px-2.5 py-1.5 bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg text-xs font-bold shadow-sm border border-gray-300",children:"â†"}),(0,t.jsx)("kbd",{className:"px-2.5 py-1.5 bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg text-xs font-bold shadow-sm border border-gray-300",children:"â†’"})]}),(0,t.jsx)("span",{className:"font-medium tracking-tight",children:"Navigation"})]})]})]})]})]}),(0,t.jsx)(et,{isOpen:N,onClose:()=>{w(!1),k(null),D(void 0)},todo:_,initialDate:C,onSave:J,onDelete:G,onComplete:V,isLoading:K.isPending||R.isPending||$.isPending||P.isPending})]})}e.s(["default",()=>er],414583)}]);