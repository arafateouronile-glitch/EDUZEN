(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,174886,e=>{"use strict";let s=(0,e.i(475254).default)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["Copy",()=>s],174886)},758472,e=>{"use strict";let s=(0,e.i(475254).default)("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);e.s(["Code",()=>s],758472)},932831,e=>{"use strict";var s=e.i(843476),t=e.i(271645),a=e.i(970065),l=e.i(167881),n=e.i(178583),r=e.i(758472),i=e.i(174886),c=e.i(643531);function d(){let[d,o]=(0,t.useState)(null),[m,x]=(0,t.useState)(null),p=(e,s)=>{navigator.clipboard.writeText(e),o(s),setTimeout(()=>o(null),2e3)};(0,t.useEffect)(()=>{fetch("/openapi.json").then(e=>e.json()).then(e=>x(e)).catch(e=>console.error("Failed to load OpenAPI spec:",e))},[]);let h={listTemplates:`curl -X GET "http://localhost:3001/api/v1/document-templates?type=attestation&page=1&limit=20" \\
  -H "Authorization: Bearer YOUR_JWT_TOKEN"`,getTemplate:`curl -X GET "http://localhost:3001/api/v1/document-templates/{id}" \\
  -H "Authorization: Bearer YOUR_JWT_TOKEN"`,createTemplate:`curl -X POST "http://localhost:3001/api/v1/document-templates" \\
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \\
  -H "Content-Type: application/json" \\
  -d '{
    "name": "Attestation de scolarit\xe9",
    "type": "attestation",
    "body": {
      "content": "<p>Bonjour {eleve_nom} {eleve_prenom}</p>"
    },
    "variables": {
      "eleve_nom": "string",
      "eleve_prenom": "string"
    }
  }'`,generateDocument:`curl -X POST "http://localhost:3001/api/v1/documents/generate" \\
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \\
  -H "Content-Type: application/json" \\
  -d '{
    "template_id": "uuid-here",
    "variables": {
      "eleve_nom": "Dupont",
      "eleve_prenom": "Jean",
      "date_emission": "2024-01-15"
    },
    "format": "PDF"
  }'`},u=(0,t.useRef)(null);return(0,t.useEffect)(()=>{u.current&&(e.A(462342).catch(()=>{}),Promise.all([e.A(323833),e.A(701101)]).then(([e,s])=>{if(u.current){let t=e.default||e,a=s.default||s;t({url:"/openapi.json",dom_id:"#swagger-ui",presets:[t.presets.apis,a],layout:"StandaloneLayout"})}}).catch(e=>{console.error("Erreur lors du chargement de Swagger UI:",e)}))},[]),(0,s.jsxs)("div",{className:"container mx-auto py-8 space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Documentation API"}),(0,s.jsx)("p",{className:"text-gray-600",children:"API REST complète pour la gestion et la génération de documents"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,s.jsxs)(a.Card,{children:[(0,s.jsx)(a.CardHeader,{children:(0,s.jsxs)(a.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(r.Code,{className:"h-5 w-5"}),"Démarrage rapide"]})}),(0,s.jsxs)(a.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold mb-2",children:"Authentification"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Utilisez votre token JWT Supabase dans l'en-tête Authorization:"}),(0,s.jsx)("div",{className:"bg-gray-100 p-2 rounded text-xs font-mono",children:"Authorization: Bearer YOUR_JWT_TOKEN"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold mb-2",children:"Base URL"}),(0,s.jsx)("div",{className:"bg-gray-100 p-2 rounded text-xs font-mono",children:"http://localhost:3001/api/v1"})]})]})]}),(0,s.jsxs)(a.Card,{children:[(0,s.jsx)(a.CardHeader,{children:(0,s.jsxs)(a.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(n.FileText,{className:"h-5 w-5"}),"Endpoints principaux"]})}),(0,s.jsxs)(a.CardContent,{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"text-sm",children:[(0,s.jsx)("strong",{children:"GET"})," /document-templates",(0,s.jsx)("p",{className:"text-gray-600",children:"Liste les templates"})]}),(0,s.jsxs)("div",{className:"text-sm",children:[(0,s.jsx)("strong",{children:"POST"})," /document-templates",(0,s.jsx)("p",{className:"text-gray-600",children:"Crée un template"})]}),(0,s.jsxs)("div",{className:"text-sm",children:[(0,s.jsx)("strong",{children:"GET"})," /document-templates/:id",(0,s.jsx)("p",{className:"text-gray-600",children:"Récupère un template"})]}),(0,s.jsxs)("div",{className:"text-sm",children:[(0,s.jsx)("strong",{children:"PUT"})," /document-templates/:id",(0,s.jsx)("p",{className:"text-gray-600",children:"Met à jour un template"})]}),(0,s.jsxs)("div",{className:"text-sm",children:[(0,s.jsx)("strong",{children:"DELETE"})," /document-templates/:id",(0,s.jsx)("p",{className:"text-gray-600",children:"Supprime un template"})]}),(0,s.jsxs)("div",{className:"text-sm",children:[(0,s.jsx)("strong",{children:"POST"})," /documents/generate",(0,s.jsx)("p",{className:"text-gray-600",children:"Génère un document"})]})]})]}),(0,s.jsxs)(a.Card,{children:[(0,s.jsx)(a.CardHeader,{children:(0,s.jsx)(a.CardTitle,{children:"Formats supportés"})}),(0,s.jsx)(a.CardContent,{children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs font-semibold",children:"PDF"}),(0,s.jsx)("span",{className:"text-sm",children:"Portable Document Format"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded text-xs font-semibold",children:"DOCX"}),(0,s.jsx)("span",{className:"text-sm",children:"Microsoft Word"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded text-xs font-semibold",children:"ODT"}),(0,s.jsx)("span",{className:"text-sm",children:"OpenDocument Text"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"px-2 py-1 bg-orange-100 text-orange-800 rounded text-xs font-semibold",children:"HTML"}),(0,s.jsx)("span",{className:"text-sm",children:"HyperText Markup Language"})]})]})})]})]}),(0,s.jsxs)(a.Card,{children:[(0,s.jsx)(a.CardHeader,{children:(0,s.jsx)(a.CardTitle,{children:"Exemples de code"})}),(0,s.jsx)(a.CardContent,{className:"space-y-4",children:Object.entries(h).map(([e,t])=>(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("h3",{className:"font-semibold capitalize",children:e.replace(/([A-Z])/g," $1").trim()}),(0,s.jsx)(l.Button,{variant:"ghost",size:"sm",onClick:()=>p(t,e),children:d===e?(0,s.jsx)(c.Check,{className:"h-4 w-4 text-green-600"}):(0,s.jsx)(i.Copy,{className:"h-4 w-4"})})]}),(0,s.jsx)("pre",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto text-xs",children:(0,s.jsx)("code",{children:t})})]},e))})]}),(0,s.jsxs)(a.Card,{children:[(0,s.jsx)(a.CardHeader,{children:(0,s.jsx)(a.CardTitle,{children:"Spécification OpenAPI"})}),(0,s.jsx)(a.CardContent,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"La spécification OpenAPI complète est disponible au format JSON. Vous pouvez l'utiliser avec des outils comme Swagger UI, Postman, ou Insomnia."}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(l.Button,{variant:"outline",onClick:()=>window.open("/openapi.json","_blank"),children:[(0,s.jsx)(n.FileText,{className:"h-4 w-4 mr-2"}),"Ouvrir openapi.json"]}),(0,s.jsxs)(l.Button,{variant:"outline",onClick:()=>{m&&p(JSON.stringify(m,null,2),"openapi")},children:["openapi"===d?(0,s.jsx)(c.Check,{className:"h-4 w-4 mr-2 text-green-600"}):(0,s.jsx)(i.Copy,{className:"h-4 w-4 mr-2"}),"Copier la spécification"]})]}),m&&(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("h3",{className:"font-semibold mb-2",children:"Aperçu de la spécification :"}),(0,s.jsx)("div",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto text-xs max-h-96 overflow-y-auto",children:(0,s.jsx)("pre",{children:JSON.stringify(m,null,2)})})]}),(0,s.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[(0,s.jsx)("h3",{className:"font-semibold mb-2",children:"Outils recommandés :"}),(0,s.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-700",children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("a",{href:"https://editor.swagger.io/",target:"_blank",className:"text-brand-blue hover:underline",children:"Swagger Editor"})," - Éditeur en ligne pour visualiser et tester l'API"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("a",{href:"https://www.postman.com/",target:"_blank",className:"text-brand-blue hover:underline",children:"Postman"})," - Client API pour tester les endpoints"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("a",{href:"https://insomnia.rest/",target:"_blank",className:"text-brand-blue hover:underline",children:"Insomnia"})," - Alternative à Postman"]})]})]})]})})]})]})}e.s(["default",()=>d])},462342,e=>{e.v(s=>Promise.all(["static/chunks/3bcef4e7bbbc82df.css"].map(s=>e.l(s))).then(()=>{}))},323833,e=>{e.v(s=>Promise.all(["static/chunks/d02eab1a9b7a2f6a.js"].map(s=>e.l(s))).then(()=>s(536145)))},701101,e=>{e.v(s=>Promise.all(["static/chunks/eeae84e528edbd1e.js"].map(s=>e.l(s))).then(()=>s(109224)))}]);