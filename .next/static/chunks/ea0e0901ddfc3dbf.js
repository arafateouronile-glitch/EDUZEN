(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,107233,e=>{"use strict";let a=(0,e.i(475254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>a],107233)},503116,e=>{"use strict";let a=(0,e.i(475254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>a],503116)},645760,e=>{"use strict";var a=e.i(843476),r=e.i(271645),t=e.i(647163);e.i(882205);var i=e.i(846932);let s=r.forwardRef(({className:e,variant:r="default",hoverable:s=!1,glow:n=!1,glowColor:o="rgba(51, 90, 207, 0.3)",...l},d)=>(0,a.jsxs)(i.motion.div,{ref:d,className:(0,t.cn)("relative rounded-2xl border backdrop-blur-xl transition-all duration-300",{"bg-white/70 dark:bg-gray-900/70 border-white/20 dark:border-gray-700/30 shadow-lg":"default"===r,"bg-white/80 dark:bg-gray-900/80 border-white/30 dark:border-gray-700/40 shadow-xl":"premium"===r,"bg-white/50 dark:bg-gray-900/50 border-white/10 dark:border-gray-700/20 shadow-md":"subtle"===r,"cursor-pointer":s,"hover:shadow-2xl hover:scale-[1.02]":s,"hover:bg-white/90 dark:hover:bg-gray-900/90":s},e),whileHover:s?{scale:1.02,y:-2}:void 0,transition:{type:"spring",stiffness:300,damping:30},...l,children:[n&&(0,a.jsx)(i.motion.div,{className:"absolute inset-0 rounded-2xl opacity-0 blur-xl",style:{background:`radial-gradient(circle, ${o} 0%, transparent 70%)`},animate:{opacity:[0,.5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),(0,a.jsx)("div",{className:"relative z-10",children:l.children})]}));s.displayName="GlassCard",e.s(["GlassCard",()=>s])},286536,e=>{"use strict";let a=(0,e.i(475254).default)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>a],286536)},436332,e=>{"use strict";let a=(0,e.i(475254).default)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);e.s(["Edit",()=>a],436332)},48605,e=>{"use strict";var a=e.i(843476),r=e.i(271645),t=e.i(266027),i=e.i(912598),s=e.i(325715),n=e.i(920755),o=e.i(167881),l=e.i(23750),d=e.i(994179),c=e.i(645760),h=e.i(810980),p=e.i(107233),m=e.i(555436),x=e.i(178583),u=e.i(87316),g=e.i(465286),b=e.i(503116),v=e.i(436332),f=e.i(286536),w=e.i(440160),y=e.i(522016);e.i(882205);var j=e.i(846932),_=e.i(647163);function N(){let{user:e}=(0,s.useAuth)(),N=(0,n.createClient)();(0,i.useQueryClient)();let[k,z]=(0,r.useState)(""),[C,H]=(0,r.useState)("all"),[T,B]=(0,r.useState)("all"),{data:M,isLoading:P}=(0,t.useQuery)({queryKey:["learning-portfolios",e?.organization_id,C,T],queryFn:async()=>{if(!e?.organization_id)return[];let{data:a,error:r}=await N.from("learning_portfolios").select(`
          *,
          template:learning_portfolio_templates(id, name, description, primary_color),
          student:students(id, first_name, last_name, email, photo_url),
          session:sessions(id, name, start_date, end_date, formations(id, name))
        `).eq("organization_id",e.organization_id).order("updated_at",{ascending:!1});return r?("PGRST116"===r.code||r.message?.includes("does not exist")?console.log("Table learning_portfolios n'existe pas encore"):console.error("Erreur récupération portfolios:",r),[]):a||[]},enabled:!!e?.organization_id}),{data:q}=(0,t.useQuery)({queryKey:["sessions-filter",e?.organization_id],queryFn:async()=>{if(!e?.organization_id)return[];let{data:a,error:r}=await N.from("sessions").select("id, name, formations!inner(organization_id)").eq("formations.organization_id",e.organization_id).order("start_date",{ascending:!1});return r?[]:a||[]},enabled:!!e?.organization_id}),{data:E}=(0,t.useQuery)({queryKey:["portfolio-templates",e?.organization_id],queryFn:async()=>{if(!e?.organization_id)return[];let{data:a,error:r}=await N.from("learning_portfolio_templates").select("*").eq("organization_id",e.organization_id).eq("is_active",!0);return r?(console.log("Table learning_portfolio_templates n'existe pas encore"),[]):a||[]},enabled:!!e?.organization_id}),G=M?.filter(e=>{let a=e.student?.first_name?.toLowerCase().includes(k.toLowerCase())||e.student?.last_name?.toLowerCase().includes(k.toLowerCase())||e.template?.name?.toLowerCase().includes(k.toLowerCase()),r="all"===C||e.status===C,t="all"===T||e.session_id===T;return a&&r&&t}),O={total:M?.length||0,draft:M?.filter(e=>"draft"===e.status).length||0,inProgress:M?.filter(e=>"in_progress"===e.status).length||0,completed:M?.filter(e=>"completed"===e.status||"validated"===e.status).length||0},L={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:[.16,1,.3,1]}}};return(0,a.jsxs)(j.motion.div,{className:"space-y-8 pb-8 max-w-[1600px] mx-auto relative",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"visible",children:[(0,a.jsx)("div",{className:"fixed inset-0 pointer-events-none overflow-hidden z-0",children:[...Array(8)].map((e,r)=>(0,a.jsx)(j.motion.div,{className:"absolute w-1 h-1 bg-brand-blue/15 rounded-full",style:{left:`${100*Math.random()}%`,top:`${100*Math.random()}%`},animate:{y:[0,-30,0],opacity:[0,.4,0],scale:[0,1.2,0]},transition:{duration:3+2*Math.random(),repeat:1/0,delay:2*Math.random(),ease:"easeInOut"}},r))}),(0,a.jsxs)(j.motion.div,{variants:L,className:"relative overflow-hidden rounded-[2rem] shadow-[0_20px_80px_-20px_rgba(51,90,207,0.4)]",children:[(0,a.jsx)(j.motion.div,{className:"absolute inset-0 bg-gradient-to-br from-brand-blue via-brand-blue-light to-brand-cyan",animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:10,repeat:1/0,ease:"easeInOut"},style:{backgroundSize:"200% 200%"}}),(0,a.jsx)("div",{className:"absolute inset-0 opacity-40",style:{backgroundImage:"radial-gradient(at 40% 20%, rgba(255, 255, 255, 0.3) 0px, transparent 50%), radial-gradient(at 80% 0%, rgba(52, 185, 238, 0.4) 0px, transparent 50%)"}}),(0,a.jsx)(j.motion.div,{animate:{y:[0,-20,0],x:[-10,10,-10],transition:{duration:6,repeat:1/0,ease:"easeInOut"}},className:"absolute top-10 right-10 w-32 h-32 bg-white/10 rounded-full blur-3xl"}),(0,a.jsx)("div",{className:"relative z-10 p-8 md:p-12",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-6",children:[(0,a.jsxs)(j.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.8,ease:[.16,1,.3,1]},className:"flex items-center gap-4",children:[(0,a.jsx)(j.motion.div,{className:"p-4 bg-white/15 backdrop-blur-md rounded-2xl shadow-xl border border-white/20",whileHover:{scale:1.15,rotate:10},transition:{type:"spring",stiffness:400,damping:10},children:(0,a.jsx)(h.BookOpen,{className:"h-8 w-8 text-white drop-shadow-lg"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-4xl md:text-5xl font-display font-bold text-white tracking-tighter leading-none drop-shadow-2xl",children:"Livrets d'apprentissage"}),(0,a.jsx)("p",{className:"text-white/95 text-lg font-medium tracking-tight drop-shadow-lg mt-1",children:"Gérez et suivez les livrets d'apprentissage de vos apprenants"})]})]}),(0,a.jsxs)(j.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4,duration:.8,ease:[.16,1,.3,1]},className:"flex gap-3",children:[(0,a.jsx)(y.default,{href:"/dashboard/evaluations/portfolios/templates",children:(0,a.jsx)(j.motion.div,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.98},transition:{type:"spring",stiffness:400,damping:10},children:(0,a.jsxs)(o.Button,{className:"group relative overflow-hidden bg-white/15 backdrop-blur-xl text-white border-2 border-white/40 hover:bg-white/25 hover:border-white/60 transition-all duration-500 font-bold tracking-tight px-6 py-6 text-base shadow-[0_20px_60px_-15px_rgba(0,0,0,0.2)]",children:[(0,a.jsx)(j.motion.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent",initial:{x:"-100%"},whileHover:{x:"100%"},transition:{duration:.6}}),(0,a.jsx)(x.FileText,{className:"h-5 w-5 mr-2 relative z-10"}),(0,a.jsx)("span",{className:"relative z-10",children:"Modèles"})]})})}),(0,a.jsx)(y.default,{href:"/dashboard/evaluations/portfolios/new",children:(0,a.jsx)(j.motion.div,{whileHover:{scale:1.08,y:-5},whileTap:{scale:.96},transition:{type:"spring",stiffness:500,damping:15},children:(0,a.jsxs)(o.Button,{className:"group relative overflow-hidden bg-white text-brand-blue hover:bg-white shadow-[0_20px_60px_-15px_rgba(255,255,255,0.4)] hover:shadow-[0_25px_70px_-15px_rgba(255,255,255,0.6)] transition-all duration-500 font-bold tracking-tight px-7 py-7 text-base border-2 border-white/50",children:[(0,a.jsx)(j.motion.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/40 to-transparent",initial:{x:"-100%"},whileHover:{x:"100%"},transition:{duration:.6}}),(0,a.jsx)(p.Plus,{className:"h-5 w-5 mr-2 relative z-10"}),(0,a.jsx)("span",{className:"relative z-10",children:"Nouveau livret"})]})})})]})]})})]}),(0,a.jsxs)(j.motion.div,{variants:L,className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,a.jsx)(j.motion.div,{whileHover:{y:-8,scale:1.03},transition:{type:"spring",stiffness:400,damping:20},children:(0,a.jsxs)(c.GlassCard,{variant:"premium",className:"relative overflow-hidden p-6 border-2 border-gray-100/50 hover:border-brand-blue/30 transition-all duration-500 shadow-[0_10px_40px_-15px_rgba(0,0,0,0.1)] hover:shadow-[0_20px_60px_-15px_rgba(51,90,207,0.3)]",children:[(0,a.jsx)(j.motion.div,{className:"absolute inset-0 opacity-0 hover:opacity-100 transition-opacity duration-500",style:{background:"linear-gradient(135deg, rgba(39, 68, 114, 0.03) 0%, transparent 100%)"}}),(0,a.jsxs)("div",{className:"relative z-10 flex items-center gap-4",children:[(0,a.jsx)(j.motion.div,{className:"p-3 bg-gradient-to-br from-brand-blue to-brand-blue-dark rounded-2xl shadow-lg",whileHover:{rotate:10,scale:1.15},transition:{type:"spring",stiffness:500,damping:15},children:(0,a.jsx)(h.BookOpen,{className:"h-6 w-6 text-white drop-shadow-md"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider",children:"Total livrets"}),(0,a.jsx)(j.motion.p,{className:"text-4xl font-display font-bold text-gray-900 tracking-tight",whileHover:{scale:1.05},children:O.total})]})]})]})}),(0,a.jsx)(j.motion.div,{whileHover:{y:-8,scale:1.03},transition:{type:"spring",stiffness:400,damping:20},children:(0,a.jsxs)(c.GlassCard,{variant:"premium",className:"relative overflow-hidden p-6 border-2 border-gray-100/50 hover:border-gray-300 transition-all duration-500 shadow-[0_10px_40px_-15px_rgba(0,0,0,0.1)] hover:shadow-[0_20px_60px_-15px_rgba(0,0,0,0.15)]",children:[(0,a.jsx)(j.motion.div,{className:"absolute inset-0 opacity-0 hover:opacity-100 transition-opacity duration-500",style:{background:"linear-gradient(135deg, rgba(107, 114, 128, 0.03) 0%, transparent 100%)"}}),(0,a.jsxs)("div",{className:"relative z-10 flex items-center gap-4",children:[(0,a.jsx)(j.motion.div,{className:"p-3 bg-gradient-to-br from-gray-400 to-gray-600 rounded-2xl shadow-lg",whileHover:{rotate:10,scale:1.15},transition:{type:"spring",stiffness:500,damping:15},children:(0,a.jsx)(v.Edit,{className:"h-6 w-6 text-white drop-shadow-md"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider",children:"Brouillons"}),(0,a.jsx)(j.motion.p,{className:"text-4xl font-display font-bold text-gray-900 tracking-tight",whileHover:{scale:1.05},children:O.draft})]})]})]})}),(0,a.jsx)(j.motion.div,{whileHover:{y:-8,scale:1.03},transition:{type:"spring",stiffness:400,damping:20},children:(0,a.jsxs)(c.GlassCard,{variant:"premium",className:"relative overflow-hidden p-6 border-2 border-gray-100/50 hover:border-orange-200 transition-all duration-500 shadow-[0_10px_40px_-15px_rgba(0,0,0,0.1)] hover:shadow-[0_20px_60px_-15px_rgba(249,115,22,0.2)]",children:[(0,a.jsx)(j.motion.div,{className:"absolute inset-0 opacity-0 hover:opacity-100 transition-opacity duration-500",style:{background:"linear-gradient(135deg, rgba(249, 115, 22, 0.03) 0%, transparent 100%)"}}),(0,a.jsxs)("div",{className:"relative z-10 flex items-center gap-4",children:[(0,a.jsx)(j.motion.div,{className:"p-3 bg-gradient-to-br from-orange-400 to-orange-600 rounded-2xl shadow-lg",whileHover:{rotate:10,scale:1.15},transition:{type:"spring",stiffness:500,damping:15},children:(0,a.jsx)(b.Clock,{className:"h-6 w-6 text-white drop-shadow-md"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider",children:"En cours"}),(0,a.jsx)(j.motion.p,{className:"text-4xl font-display font-bold text-gray-900 tracking-tight",whileHover:{scale:1.05},children:O.inProgress})]})]})]})}),(0,a.jsx)(j.motion.div,{whileHover:{y:-8,scale:1.03},transition:{type:"spring",stiffness:400,damping:20},children:(0,a.jsxs)(c.GlassCard,{variant:"premium",className:"relative overflow-hidden p-6 border-2 border-gray-100/50 hover:border-green-200 transition-all duration-500 shadow-[0_10px_40px_-15px_rgba(0,0,0,0.1)] hover:shadow-[0_20px_60px_-15px_rgba(34,197,94,0.2)]",children:[(0,a.jsx)(j.motion.div,{className:"absolute inset-0 opacity-0 hover:opacity-100 transition-opacity duration-500",style:{background:"linear-gradient(135deg, rgba(34, 197, 94, 0.03) 0%, transparent 100%)"}}),(0,a.jsxs)("div",{className:"relative z-10 flex items-center gap-4",children:[(0,a.jsx)(j.motion.div,{className:"p-3 bg-gradient-to-br from-green-400 to-green-600 rounded-2xl shadow-lg",whileHover:{rotate:10,scale:1.15},transition:{type:"spring",stiffness:500,damping:15},children:(0,a.jsx)(g.CheckCircle2,{className:"h-6 w-6 text-white drop-shadow-md"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider",children:"Complétés"}),(0,a.jsx)(j.motion.p,{className:"text-4xl font-display font-bold text-gray-900 tracking-tight",whileHover:{scale:1.05},children:O.completed})]})]})]})})]}),(0,a.jsx)(j.motion.div,{variants:L,children:(0,a.jsx)(c.GlassCard,{variant:"premium",className:"mb-6 p-6 border-2 border-gray-100/50 hover:border-brand-blue/20 transition-all duration-500 shadow-[0_10px_40px_-15px_rgba(0,0,0,0.1)]",children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,a.jsx)("div",{className:"flex-1 min-w-[200px]",children:(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)(j.motion.div,{whileHover:{scale:1.05},transition:{type:"spring",stiffness:400,damping:10},className:"absolute left-3 top-1/2 -translate-y-1/2",children:(0,a.jsx)(m.Search,{className:"h-5 w-5 text-gray-400 group-hover:text-brand-blue transition-colors"})}),(0,a.jsx)(l.Input,{placeholder:"Rechercher un apprenant ou un modèle...",value:k,onChange:e=>z(e.target.value),className:"pl-11 h-12 border-2 border-gray-200 hover:border-brand-blue/30 focus:border-brand-blue transition-all duration-300 rounded-xl font-medium shadow-sm"})]})}),(0,a.jsx)(j.motion.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:(0,a.jsxs)("select",{value:C,onChange:e=>H(e.target.value),className:"px-4 py-3 border-2 border-gray-200 hover:border-brand-blue/30 focus:border-brand-blue rounded-xl focus:ring-2 focus:ring-brand-blue/20 font-semibold text-gray-700 transition-all duration-300 shadow-sm h-12",children:[(0,a.jsx)("option",{value:"all",children:"Tous les statuts"}),(0,a.jsx)("option",{value:"draft",children:"Brouillon"}),(0,a.jsx)("option",{value:"in_progress",children:"En cours"}),(0,a.jsx)("option",{value:"completed",children:"Terminé"}),(0,a.jsx)("option",{value:"validated",children:"Validé"})]})}),(0,a.jsx)(j.motion.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:(0,a.jsxs)("select",{value:T,onChange:e=>B(e.target.value),className:"px-4 py-3 border-2 border-gray-200 hover:border-brand-blue/30 focus:border-brand-blue rounded-xl focus:ring-2 focus:ring-brand-blue/20 font-semibold text-gray-700 transition-all duration-300 shadow-sm h-12",children:[(0,a.jsx)("option",{value:"all",children:"Toutes les sessions"}),q?.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))]})})]})})}),P?(0,a.jsx)(j.motion.div,{variants:L,className:"flex items-center justify-center py-12",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-brand-blue mb-4"}),(0,a.jsx)("p",{className:"text-gray-500 font-medium",children:"Chargement des livrets..."})]})}):G?.length===0?(0,a.jsx)(j.motion.div,{variants:L,children:(0,a.jsxs)(c.GlassCard,{variant:"premium",className:"py-16 text-center border-2 border-gray-100/50",children:[(0,a.jsx)(j.motion.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},children:(0,a.jsx)(h.BookOpen,{className:"h-16 w-16 text-gray-400 mx-auto mb-6"})}),(0,a.jsx)("h3",{className:"text-2xl font-display font-bold text-gray-900 mb-3",children:"Aucun livret d'apprentissage"}),(0,a.jsx)("p",{className:"text-gray-600 mb-8 max-w-md mx-auto font-medium",children:E?.length===0?"Commencez par créer un modèle de livret, puis créez des livrets pour vos apprenants.":"Créez un nouveau livret pour commencer à suivre la progression de vos apprenants."}),E?.length===0?(0,a.jsx)(y.default,{href:"/dashboard/evaluations/portfolios/templates/new",children:(0,a.jsx)(j.motion.div,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.98},children:(0,a.jsxs)(o.Button,{className:"group relative overflow-hidden bg-gradient-to-r from-brand-blue to-brand-blue-dark shadow-lg shadow-brand-blue/30 hover:shadow-xl hover:shadow-brand-blue/40 transition-all duration-300 font-bold px-8 py-6",children:[(0,a.jsx)(j.motion.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent",initial:{x:"-100%"},whileHover:{x:"100%"},transition:{duration:.6}}),(0,a.jsx)(p.Plus,{className:"h-5 w-5 mr-2 relative z-10"}),(0,a.jsx)("span",{className:"relative z-10",children:"Créer un modèle"})]})})}):(0,a.jsx)(y.default,{href:"/dashboard/evaluations/portfolios/new",children:(0,a.jsx)(j.motion.div,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.98},children:(0,a.jsxs)(o.Button,{className:"group relative overflow-hidden bg-gradient-to-r from-brand-blue to-brand-blue-dark shadow-lg shadow-brand-blue/30 hover:shadow-xl hover:shadow-brand-blue/40 transition-all duration-300 font-bold px-8 py-6",children:[(0,a.jsx)(j.motion.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent",initial:{x:"-100%"},whileHover:{x:"100%"},transition:{duration:.6}}),(0,a.jsx)(p.Plus,{className:"h-5 w-5 mr-2 relative z-10"}),(0,a.jsx)("span",{className:"relative z-10",children:"Créer un livret"})]})})})]})}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:G?.map((e,r)=>{var t;let i,s;return(0,a.jsx)(j.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*r},whileHover:{y:-8,scale:1.02},children:(0,a.jsx)(y.default,{href:`/dashboard/evaluations/portfolios/${e.id}`,children:(0,a.jsxs)(c.GlassCard,{variant:"premium",className:"relative overflow-hidden h-full border-2 border-gray-100/50 hover:border-brand-blue/30 transition-all duration-500 shadow-[0_10px_40px_-15px_rgba(0,0,0,0.1)] hover:shadow-[0_20px_60px_-15px_rgba(51,90,207,0.3)] cursor-pointer group",children:[(0,a.jsx)(j.motion.div,{className:"absolute inset-0 opacity-0 group-hover:opacity-100",initial:{x:"-100%",y:"-100%"},whileHover:{x:"100%",y:"100%"},transition:{duration:.8,ease:"easeInOut"},style:{background:"linear-gradient(45deg, transparent 30%, rgba(255, 255, 255, 0.1) 50%, transparent 70%)"}}),(0,a.jsxs)("div",{className:"relative z-10 p-6",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(j.motion.div,{className:"w-12 h-12 rounded-full flex items-center justify-center text-white font-bold shadow-lg",style:{backgroundColor:e.template?.primary_color||"#335ACF"},whileHover:{scale:1.1,rotate:5},transition:{type:"spring",stiffness:400,damping:10},children:[e.student?.first_name?.[0],e.student?.last_name?.[0]]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"font-bold text-gray-900 group-hover:text-brand-blue transition-colors",children:[e.student?.first_name," ",e.student?.last_name]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:e.template?.name})]})]}),(0,a.jsx)(j.motion.div,{whileHover:{scale:1.05},children:(t=e.status,s=(i={draft:{label:"Brouillon",variant:"secondary"},in_progress:{label:"En cours",variant:"default"},completed:{label:"Terminé",variant:"outline"},validated:{label:"Validé",variant:"default"}})[t]||i.draft,(0,a.jsx)(d.Badge,{variant:s.variant,children:s.label}))})]}),e.session&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-4 bg-gray-50 rounded-lg p-3",children:[(0,a.jsx)(u.Calendar,{className:"h-4 w-4 text-brand-blue"}),(0,a.jsx)("span",{className:"font-medium",children:e.session.name})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm font-bold text-gray-700 mb-2",children:[(0,a.jsx)("span",{children:"Progression"}),(0,a.jsxs)(j.motion.span,{className:"text-brand-blue",whileHover:{scale:1.1},children:[Math.round(e.progress_percentage||0),"%"]})]}),(0,a.jsx)("div",{className:"w-full h-3 bg-gray-200 rounded-full overflow-hidden shadow-inner",children:(0,a.jsx)(j.motion.div,{className:"h-full bg-gradient-to-r from-brand-blue to-brand-cyan shadow-lg",initial:{width:0},animate:{width:`${e.progress_percentage||0}%`},transition:{duration:.8,ease:"easeOut"}})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 font-medium mb-4",children:[(0,a.jsxs)("span",{children:["Modifié le ",(0,_.formatDate)(e.updated_at)]}),e.is_visible_to_student&&(0,a.jsxs)(j.motion.span,{className:"flex items-center gap-1 text-green-600 font-bold",whileHover:{scale:1.05},children:[(0,a.jsx)(f.Eye,{className:"h-3 w-3"}),"Visible"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 pt-4 border-t border-gray-100",children:[(0,a.jsx)(j.motion.div,{className:"flex-1",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e=>e.preventDefault(),children:(0,a.jsx)(y.default,{href:`/dashboard/evaluations/portfolios/${e.id}`,className:"block",children:(0,a.jsxs)(o.Button,{variant:"outline",size:"sm",className:"w-full border-2 hover:border-brand-blue hover:text-brand-blue font-bold",children:[(0,a.jsx)(v.Edit,{className:"h-4 w-4 mr-1"}),"Modifier"]})})}),(0,a.jsx)(j.motion.div,{whileHover:{scale:1.1,rotate:5},whileTap:{scale:.95},onClick:e=>e.preventDefault(),children:(0,a.jsx)(y.default,{href:`/dashboard/evaluations/portfolios/${e.id}/preview`,children:(0,a.jsx)(o.Button,{variant:"ghost",size:"sm",className:"hover:bg-brand-blue/10 hover:text-brand-blue",children:(0,a.jsx)(f.Eye,{className:"h-4 w-4"})})})}),e.pdf_url&&(0,a.jsx)(j.motion.div,{whileHover:{scale:1.1,rotate:-5},whileTap:{scale:.95},onClick:e=>e.preventDefault(),children:(0,a.jsx)("a",{href:e.pdf_url,target:"_blank",rel:"noopener noreferrer",children:(0,a.jsx)(o.Button,{variant:"ghost",size:"sm",className:"hover:bg-green-50 hover:text-green-600",children:(0,a.jsx)(w.Download,{className:"h-4 w-4"})})})})]})]})]})})},e.id)})})]})}e.s(["default",()=>N])}]);