(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,385650,e=>{"use strict";var a=e.i(843476),i=e.i(271645),r=e.i(266027),s=e.i(954616),t=e.i(912598),l=e.i(325715),n=e.i(920755),o=e.i(167881),d=e.i(645760),c=e.i(23750),u=e.i(10708),m=e.i(184762),g=e.i(319036),h=e.i(6799),p=e.i(239616),x=e.i(761911),b=e.i(98919),v=e.i(226691),f=e.i(561659),y=e.i(248256),j=e.i(178583),N=e.i(607486),w=e.i(263488),_=e.i(238491),C=e.i(87316),k=e.i(834161),z=e.i(32095),S=e.i(463059),E=e.i(569074),A=e.i(473708),L=e.i(842009),P=e.i(647780),R=e.i(37727),I=e.i(503116),G=e.i(522016);e.i(882205);var T=e.i(846932),M=e.i(88653),q=e.i(647163);function U(){let{user:e,isLoading:U,session:Y,isAuthenticated:F}=(0,l.useAuth)(),B=(0,n.createClient)(),O=(0,t.useQueryClient)(),{addToast:D}=(0,h.useToast)(),[H,Q]=(0,i.useState)("organization");(0,i.useEffect)(()=>{"payments"===new URLSearchParams(window.location.search).get("tab")&&Q("payments")},[]),(0,i.useEffect)(()=>{U?console.log("â³ [SETTINGS] Chargement en cours..."):(console.log("ðŸ” [SETTINGS] Ã‰tat:",{authLoading:U,isAuthenticated:F,hasSession:!!Y,sessionUserId:Y?.user?.id,user:e?{id:e.id,email:e.email,organization_id:e.organization_id,role:e.role}:null,hasUser:!!e}),e?console.log("âœ… [SETTINGS] Utilisateur chargÃ©:",{id:e.id,email:e.email,organization_id:e.organization_id,role:e.role}):F&&!e?console.warn("âš ï¸ [SETTINGS] Session active mais aucun utilisateur dans la table users pour:",Y?.user?.id):F||console.warn("âš ï¸ [SETTINGS] Utilisateur non authentifiÃ©"))},[e,U,Y,F]);let[$,J]=(0,i.useState)(!1),[V,K]=(0,i.useState)(!1),[X,W]=(0,i.useState)({name:"",code:"",type:"",country:"",currency:"",language:"fr",address:"",city:"",postal_code:"",phone:"",email:"",logo_url:"",qualiopi_certificate_url:"",brand_color:"#335ACF"}),[Z,ee]=(0,i.useState)(!1),[ea,ei]=(0,i.useState)(!1),er=(0,i.useRef)(null),es=(0,i.useRef)(null),[et,el]=(0,i.useState)({emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,invoiceReminders:!0,paymentReminders:!0,attendanceAlerts:!0,documentGenerated:!0,weeklyReports:!1}),[en,eo]=(0,i.useState)({theme:"light",language:"fr",dateFormat:"DD/MM/YYYY",timeFormat:"24h",currency:"EUR",timezone:"Europe/Paris"}),{data:ed,refetch:ec,isLoading:eu,isError:em,error:eg}=(0,r.useQuery)({queryKey:["organization",e?.organization_id],queryFn:async()=>{if(!e?.organization_id)return console.warn("âš ï¸ [ORG] Aucun organization_id pour l'utilisateur:",e?.id),null;console.log("ðŸ” [ORG] Recherche de l'organisation:",e.organization_id);let{data:a,error:i}=await B.from("organizations").select("*").eq("id",e.organization_id).maybeSingle();if(i)throw console.error("âŒ [ORG] Erreur lors de la rÃ©cupÃ©ration:",i),i;return a?(console.log("âœ… [ORG] Organisation rÃ©cupÃ©rÃ©e:",a),a):(console.warn("âš ï¸ [ORG] Aucune organisation trouvÃ©e pour l'ID:",e.organization_id),null)},enabled:!!e?.organization_id,retry:2,refetchOnWindowFocus:!0});(0,i.useEffect)(()=>{if(ed){let e=ed.settings||{};W({name:ed.name??"",code:ed.code??"",type:ed.type??"",country:ed.country??"",currency:ed.currency??"EUR",language:ed.language??"fr",address:ed.address??"",city:ed.city??"",postal_code:e.postal_code??"",phone:ed.phone??"",email:ed.email??"",logo_url:ed.logo_url??"",qualiopi_certificate_url:ed.qualiopi_certificate_url??"",brand_color:ed.brand_color??"#335ACF"})}},[ed]),(0,i.useEffect)(()=>{{let e=localStorage.getItem("notificationSettings"),a=localStorage.getItem("generalSettings");if(e)try{el(JSON.parse(e))}catch(e){console.error("Error parsing notification settings:",e)}if(a)try{eo(JSON.parse(a))}catch(e){console.error("Error parsing general settings:",e)}}},[]);let eh=(0,s.useMutation)({mutationFn:async a=>{if(!e?.organization_id)throw Error("No organization ID");let{data:i,error:r}=await B.from("organizations").select("*").eq("id",e.organization_id).single();if(r)throw r;let s={};if(a.name&&a.name.trim()&&a.name.trim()!==i?.name&&(s.name=a.name.trim()),a.code&&a.code.trim()&&a.code.trim()!==i?.code&&(s.code=a.code.trim()),a.type&&a.type.trim()&&a.type.trim()!==i?.type&&(s.type=a.type.trim()),a.country&&a.country.trim()&&a.country.trim()!==i?.country&&(s.country=a.country.trim()),a.currency&&a.currency.trim()&&a.currency.trim()!==i?.currency&&(s.currency=a.currency.trim()),a.language&&a.language.trim()&&a.language.trim()!==i?.language&&(s.language=a.language.trim()),void 0!==a.address&&a.address?.trim()!==i?.address&&(s.address=a.address?.trim()||null),void 0!==a.city&&a.city?.trim()!==i?.city&&(s.city=a.city?.trim()||null),void 0!==a.phone&&a.phone?.trim()!==i?.phone&&(s.phone=a.phone?.trim()||null),void 0!==a.email&&a.email?.trim()!==i?.email&&(s.email=a.email?.trim()||null),void 0!==a.logo_url&&a.logo_url!==i?.logo_url&&(s.logo_url=a.logo_url||null),void 0!==a.qualiopi_certificate_url&&a.qualiopi_certificate_url!==i?.qualiopi_certificate_url&&(s.qualiopi_certificate_url=a.qualiopi_certificate_url||null),void 0!==a.brand_color&&a.brand_color!==i?.brand_color&&(s.brand_color=a.brand_color||"#335ACF"),void 0!==a.postal_code){let e=i?.settings||{},r=a.postal_code?.trim()||null;r!==e.postal_code&&(s.settings={...e,postal_code:r})}if(0===Object.keys(s).length)return;let{error:t}=await B.from("organizations").update(s).eq("id",e.organization_id);if(t)throw console.error("âŒ [UPDATE ORG] Erreur:",t),console.error("âŒ [UPDATE ORG] Champs envoyÃ©s:",s),t},onSuccess:()=>{O.invalidateQueries({queryKey:["organization"]}),J(!1),K(!1),D({title:"SuccÃ¨s",description:"Les informations de l'organisation ont Ã©tÃ© mises Ã  jour",type:"success"})},onError:e=>{K(!1),D({title:"Erreur",description:e.message||"Erreur lors de la mise Ã  jour",type:"error"})}}),ep=async a=>{let i=a.target.files?.[0];if(i&&e?.organization_id){if(!i.type.startsWith("image/"))return void D({title:"Erreur",description:"Veuillez sÃ©lectionner un fichier image",type:"error"});if(i.size>5242880)return void D({title:"Erreur",description:"Le fichier est trop volumineux (max 5MB)",type:"error"});ee(!0);try{let a=i.name.split(".").pop(),r=`${e.organization_id}/logo.${a}`;if(X.logo_url){let e=X.logo_url.split("/").slice(-2).join("/");await B.storage.from("organizations").remove([e])}let{data:s,error:t}=await B.storage.from("organizations").upload(r,i,{cacheControl:"3600",upsert:!0});if(t)throw t;let{data:l}=B.storage.from("organizations").getPublicUrl(r);W({...X,logo_url:l.publicUrl}),D({title:"SuccÃ¨s",description:"Logo tÃ©lÃ©chargÃ© avec succÃ¨s",type:"success"})}catch(e){console.error("Erreur upload logo:",e),D({title:"Erreur",description:e.message||"Erreur lors du tÃ©lÃ©chargement du logo",type:"error"})}finally{ee(!1)}}},ex=async a=>{let i=a.target.files?.[0];if(i&&e?.organization_id){if(!["application/pdf","image/png","image/jpeg","image/jpg"].includes(i.type))return void D({title:"Erreur",description:"Veuillez sÃ©lectionner un fichier PDF ou image",type:"error"});if(i.size>0xa00000)return void D({title:"Erreur",description:"Le fichier est trop volumineux (max 10MB)",type:"error"});ei(!0);try{let a=i.name.split(".").pop(),r=`${e.organization_id}/qualiopi.${a}`;if(X.qualiopi_certificate_url){let e=X.qualiopi_certificate_url.split("/").slice(-2).join("/");await B.storage.from("organizations").remove([e])}let{data:s,error:t}=await B.storage.from("organizations").upload(r,i,{cacheControl:"3600",upsert:!0});if(t)throw t;let{data:l}=B.storage.from("organizations").getPublicUrl(r);W({...X,qualiopi_certificate_url:l.publicUrl}),D({title:"SuccÃ¨s",description:"Attestation Qualiopi tÃ©lÃ©chargÃ©e avec succÃ¨s",type:"success"})}catch(e){console.error("Erreur upload Qualiopi:",e),D({title:"Erreur",description:e.message||"Erreur lors du tÃ©lÃ©chargement de l'attestation",type:"error"})}finally{ei(!1)}}},eb=async()=>{if(X.logo_url&&e?.organization_id)try{let e=X.logo_url.split("/").slice(-2).join("/");await B.storage.from("organizations").remove([e]),W({...X,logo_url:""}),D({title:"SuccÃ¨s",description:"Logo supprimÃ©",type:"success"})}catch(e){console.error("Erreur suppression logo:",e),D({title:"Erreur",description:"Erreur lors de la suppression du logo",type:"error"})}},ev=async()=>{if(X.qualiopi_certificate_url&&e?.organization_id)try{let e=X.qualiopi_certificate_url.split("/").slice(-2).join("/");await B.storage.from("organizations").remove([e]),W({...X,qualiopi_certificate_url:""}),D({title:"SuccÃ¨s",description:"Attestation Qualiopi supprimÃ©e",type:"success"})}catch(e){console.error("Erreur suppression Qualiopi:",e),D({title:"Erreur",description:"Erreur lors de la suppression de l'attestation",type:"error"})}},ef=[{id:"organization",label:"Organisation",icon:N.Building2},{id:"users",label:"Utilisateurs",icon:x.Users,href:"/dashboard/settings/users"},{id:"permissions",label:"Permissions",icon:b.Shield},{id:"security",label:"SÃ©curitÃ©",icon:b.Shield,href:"/dashboard/settings/security"},{id:"notifications",label:"Notifications",icon:v.Bell,href:"/dashboard/settings/notifications"},{id:"billing",label:"Abonnement",icon:f.CreditCard},{id:"general",label:"GÃ©nÃ©ral",icon:y.Globe}],ey=[{id:"payment-reminders",label:"Rappels",icon:v.Bell,href:"/dashboard/settings/payment-reminders"},{id:"stripe",label:"Stripe",icon:f.CreditCard,href:"/dashboard/settings/stripe"},{id:"sepa",label:"SEPA",icon:f.CreditCard,href:"/dashboard/settings/sepa"},{id:"accounting",label:"Compta",icon:N.Building2,href:"/dashboard/settings/accounting"},{id:"calendar",label:"Calendrier",icon:C.Calendar,href:"/dashboard/settings/calendar"},{id:"lms",label:"LMS",icon:z.GraduationCap,href:"/dashboard/settings/lms"},{id:"document-templates",label:"ModÃ¨les",icon:j.FileText,href:"/dashboard/settings/document-templates"},{id:"email-templates",label:"ModÃ¨les d'emails",icon:w.Mail,href:"/dashboard/settings/email-templates"},{id:"email-schedules",label:"Planification d'emails",icon:I.Clock,href:"/dashboard/settings/email-schedules"},{id:"email-test",label:"Test Email",icon:w.Mail,href:"/dashboard/settings/email-test"},{id:"api",label:"API",icon:k.Key,href:"/dashboard/settings/api"}],ej={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:[.16,1,.3,1]}}};return(0,a.jsxs)(T.motion.div,{className:"space-y-8 pb-8 max-w-[1600px] mx-auto relative",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"visible",children:[(0,a.jsx)("div",{className:"fixed inset-0 pointer-events-none overflow-hidden z-0",children:[...Array(8)].map((e,i)=>(0,a.jsx)(T.motion.div,{className:"absolute w-1 h-1 bg-brand-blue/15 rounded-full",style:{left:`${100*Math.random()}%`,top:`${100*Math.random()}%`},animate:{y:[0,-30,0],opacity:[0,.4,0],scale:[0,1.2,0]},transition:{duration:3+2*Math.random(),repeat:1/0,delay:2*Math.random(),ease:"easeInOut"}},i))}),(0,a.jsxs)(T.motion.div,{variants:ej,className:"relative overflow-hidden rounded-[2rem] shadow-[0_20px_80px_-20px_rgba(51,90,207,0.4)]",children:[(0,a.jsx)(T.motion.div,{className:"absolute inset-0 bg-gradient-to-br from-brand-blue via-brand-blue-light to-brand-cyan",animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:10,repeat:1/0,ease:"easeInOut"},style:{backgroundSize:"200% 200%"}}),(0,a.jsx)("div",{className:"absolute inset-0 opacity-40",style:{backgroundImage:"radial-gradient(at 40% 20%, rgba(255, 255, 255, 0.3) 0px, transparent 50%), radial-gradient(at 80% 0%, rgba(52, 185, 238, 0.4) 0px, transparent 50%)"}}),(0,a.jsx)(T.motion.div,{animate:{y:[0,-20,0],x:[-10,10,-10],transition:{duration:6,repeat:1/0,ease:"easeInOut"}},className:"absolute top-10 right-10 w-32 h-32 bg-white/10 rounded-full blur-3xl"}),(0,a.jsx)("div",{className:"relative z-10 p-8 md:p-12",children:(0,a.jsxs)(T.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.8,ease:[.16,1,.3,1]},className:"flex items-center gap-4",children:[(0,a.jsx)(T.motion.div,{className:"p-4 bg-white/15 backdrop-blur-md rounded-2xl shadow-xl border border-white/20",whileHover:{scale:1.15,rotate:10},transition:{type:"spring",stiffness:400,damping:10},children:(0,a.jsx)(p.Settings,{className:"h-8 w-8 text-white drop-shadow-lg"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-4xl md:text-5xl font-display font-bold text-white tracking-tighter leading-none drop-shadow-2xl",children:"ParamÃ¨tres"}),(0,a.jsx)("p",{className:"text-white/95 text-lg font-medium tracking-tight drop-shadow-lg mt-1",children:"Configuration gÃ©nÃ©rale de votre Ã©tablissement"})]})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[(0,a.jsx)(T.motion.div,{variants:ej,className:"lg:col-span-3 space-y-6",children:(0,a.jsxs)(d.GlassCard,{variant:"premium",className:"relative overflow-hidden p-6 border-2 border-gray-100/50 hover:border-brand-blue/20 transition-all duration-500 shadow-[0_10px_40px_-15px_rgba(0,0,0,0.1)]",children:[(0,a.jsx)(T.motion.div,{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-brand-blue/5 to-transparent rounded-full blur-2xl",animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),(0,a.jsxs)("div",{className:"relative z-10 space-y-1",children:[(0,a.jsxs)("div",{className:"px-3 py-2 text-xs font-bold text-gray-500 uppercase tracking-wider mb-3 flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-1 h-4 bg-brand-blue rounded-full"}),"GÃ©nÃ©ral"]}),ef.map(e=>{let i=e.icon,r=H===e.id;return e.href?(0,a.jsx)(T.motion.div,{whileHover:{x:4*!r},transition:{type:"spring",stiffness:400,damping:20},children:(0,a.jsxs)(G.default,{href:e.href,className:(0,q.cn)("flex items-center justify-between px-4 py-3 text-sm font-semibold rounded-xl transition-all duration-300 group relative overflow-hidden",r?"bg-gradient-to-r from-brand-blue to-brand-blue-dark text-white shadow-lg shadow-brand-blue/30":"text-gray-600 hover:bg-gradient-to-r hover:from-gray-50 hover:to-brand-blue-ghost hover:text-brand-blue"),children:[r&&(0,a.jsx)(T.motion.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent",initial:{x:"-100%"},animate:{x:"100%"},transition:{duration:2,repeat:1/0,ease:"linear"}}),(0,a.jsxs)("div",{className:"flex items-center gap-3 relative z-10",children:[(0,a.jsx)(T.motion.div,{whileHover:{rotate:360*!r},transition:{duration:.6},children:(0,a.jsx)(i,{className:(0,q.cn)("h-5 w-5 transition-colors",r?"text-white":"text-gray-400 group-hover:text-brand-blue")})}),e.label]}),!r&&(0,a.jsx)(S.ChevronRight,{className:"h-4 w-4 text-gray-300 opacity-0 group-hover:opacity-100 transition-all group-hover:translate-x-1"})]})},e.id):(0,a.jsx)(T.motion.div,{whileHover:{x:4*!r},transition:{type:"spring",stiffness:400,damping:20},children:(0,a.jsxs)("button",{onClick:()=>Q(e.id),className:(0,q.cn)("w-full flex items-center justify-between px-4 py-3 text-sm font-semibold rounded-xl transition-all duration-300 group relative overflow-hidden",r?"bg-gradient-to-r from-brand-blue to-brand-blue-dark text-white shadow-lg shadow-brand-blue/30":"text-gray-600 hover:bg-gradient-to-r hover:from-gray-50 hover:to-brand-blue-ghost hover:text-brand-blue"),children:[r&&(0,a.jsx)(T.motion.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent",initial:{x:"-100%"},animate:{x:"100%"},transition:{duration:2,repeat:1/0,ease:"linear"}}),(0,a.jsxs)("div",{className:"flex items-center gap-3 relative z-10",children:[(0,a.jsx)(T.motion.div,{whileHover:{rotate:360*!r},transition:{duration:.6},children:(0,a.jsx)(i,{className:(0,q.cn)("h-5 w-5 transition-colors",r?"text-white":"text-gray-400 group-hover:text-brand-blue")})}),e.label]}),!r&&(0,a.jsx)(S.ChevronRight,{className:"h-4 w-4 text-gray-300 opacity-0 group-hover:opacity-100 transition-all group-hover:translate-x-1"})]})},e.id)}),(0,a.jsxs)("div",{className:"px-3 py-2 text-xs font-bold text-gray-500 uppercase tracking-wider mt-6 mb-3 flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-1 h-4 bg-brand-cyan rounded-full"}),"Modules"]}),(0,a.jsx)("div",{className:"space-y-1",children:ey.map(e=>{let i=e.icon;return(0,a.jsx)(T.motion.div,{whileHover:{x:4},transition:{type:"spring",stiffness:400,damping:20},children:(0,a.jsxs)(G.default,{href:e.href,className:"flex items-center justify-between px-4 py-2.5 text-sm font-medium rounded-xl text-gray-600 hover:bg-gradient-to-r hover:from-gray-50 hover:to-brand-cyan-ghost hover:text-brand-cyan transition-all duration-300 group",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(T.motion.div,{whileHover:{rotate:360},transition:{duration:.6},children:(0,a.jsx)(i,{className:"h-4 w-4 text-gray-400 group-hover:text-brand-cyan transition-colors"})}),e.label]}),(0,a.jsx)(S.ChevronRight,{className:"h-3.5 w-3.5 text-gray-300 opacity-0 group-hover:opacity-100 transition-all group-hover:translate-x-1"})]})},e.id)})})]})]})}),(0,a.jsx)("div",{className:"lg:col-span-9",children:(0,a.jsxs)(M.AnimatePresence,{mode:"wait",children:["organization"===H&&(0,a.jsx)(T.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:(0,a.jsxs)(d.GlassCard,{variant:"premium",className:"relative overflow-hidden p-8 border-2 border-gray-100/50 hover:border-brand-blue/20 transition-all duration-500 shadow-[0_10px_40px_-15px_rgba(0,0,0,0.1)]",children:[(0,a.jsx)(T.motion.div,{className:"absolute inset-0 opacity-0 group-hover:opacity-100 pointer-events-none",initial:{x:"-100%",y:"-100%"},whileHover:{x:"100%",y:"100%"},transition:{duration:.8,ease:"easeInOut"},style:{background:"linear-gradient(45deg, transparent 30%, rgba(255, 255, 255, 0.1) 50%, transparent 70%)"}}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8 relative z-10",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(T.motion.div,{className:"p-3 bg-gradient-to-br from-brand-blue to-brand-blue-dark rounded-2xl shadow-xl",whileHover:{rotate:10,scale:1.1},transition:{type:"spring",stiffness:500,damping:15},children:(0,a.jsx)(N.Building2,{className:"h-6 w-6 text-white drop-shadow-lg"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-display font-bold text-gray-900 tracking-tight",children:"Informations de l'organisation"}),(0,a.jsx)("p",{className:"text-gray-600 font-semibold tracking-tight",children:"GÃ©rez les informations de base de votre Ã©tablissement"})]})]}),$?(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)(T.motion.div,{whileHover:{scale:1.05},whileTap:{scale:.98},children:(0,a.jsx)(o.Button,{onClick:()=>{if(J(!1),ed){let e=ed.settings||{};W({name:ed.name??"",code:ed.code??"",type:ed.type??"",country:ed.country??"",currency:ed.currency??"EUR",language:ed.language??"fr",address:ed.address??"",city:ed.city??"",postal_code:e.postal_code??"",phone:ed.phone??"",email:ed.email??"",logo_url:ed.logo_url??"",qualiopi_certificate_url:ed.qualiopi_certificate_url??"",brand_color:ed.brand_color??"#335ACF"})}},variant:"ghost",className:"hover:bg-gray-100 transition-colors",children:"Annuler"})}),(0,a.jsx)(T.motion.div,{whileHover:{scale:1.05},whileTap:{scale:.98},children:(0,a.jsxs)(o.Button,{onClick:()=>{K(!0),eh.mutate(X)},disabled:V,className:"group relative overflow-hidden bg-gradient-to-r from-brand-blue to-brand-blue-dark shadow-lg shadow-brand-blue/30 hover:shadow-xl hover:shadow-brand-blue/40 transition-all duration-300",children:[(0,a.jsx)(T.motion.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent",initial:{x:"-100%"},animate:V?{}:{x:["âˆ’100%","100%"]},transition:{duration:2,repeat:1/0,ease:"linear"}}),(0,a.jsx)("span",{className:"relative z-10",children:V?"Enregistrement...":"Enregistrer"})]})})]}):(0,a.jsx)(T.motion.div,{whileHover:{scale:1.05},whileTap:{scale:.98},transition:{type:"spring",stiffness:400,damping:10},children:(0,a.jsxs)(o.Button,{onClick:()=>{if(ed){let e=ed.settings||{};W({name:ed.name??"",code:ed.code??"",type:ed.type??"",country:ed.country??"",currency:ed.currency??"EUR",language:ed.language??"fr",address:ed.address??"",city:ed.city??"",postal_code:e.postal_code??"",phone:ed.phone??"",email:ed.email??"",logo_url:ed.logo_url??"",qualiopi_certificate_url:ed.qualiopi_certificate_url??"",brand_color:ed.brand_color??"#335ACF"})}J(!0)},variant:"outline",className:"group relative overflow-hidden border-2 border-brand-blue/20 hover:border-brand-blue shadow-md hover:shadow-lg transition-all duration-300",children:[(0,a.jsx)(T.motion.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-brand-blue/10 to-transparent",initial:{x:"-100%"},whileHover:{x:"100%"},transition:{duration:.6}}),(0,a.jsx)("span",{className:"relative z-10",children:"Modifier"})]})})]}),eu&&(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-brand-blue mb-4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Chargement des informations de l'organisation..."})]})}),em&&(0,a.jsx)("div",{className:"p-6 bg-red-50 border border-red-200 rounded-xl",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-red-100 rounded-lg",children:(0,a.jsx)(p.Settings,{className:"h-5 w-5 text-red-600"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-red-900 mb-1",children:"Erreur de chargement"}),(0,a.jsx)("p",{className:"text-sm text-red-700 mb-4",children:eg instanceof Error?eg.message:"Impossible de charger les informations de l'organisation"}),(0,a.jsx)(o.Button,{onClick:()=>ec(),variant:"outline",size:"sm",className:"border-red-300 text-red-700 hover:bg-red-100",children:"RÃ©essayer"})]})]})}),(U||eu)&&(0,a.jsx)("div",{className:"p-6 bg-blue-50 border border-blue-200 rounded-xl",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}),(0,a.jsx)("p",{className:"text-sm text-blue-700",children:"Chargement des informations..."})]})}),!U&&!eu&&!em&&!ed&&e&&(0,a.jsx)("div",{className:"p-6 bg-yellow-50 border border-yellow-200 rounded-xl",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-yellow-100 rounded-lg",children:(0,a.jsx)(N.Building2,{className:"h-5 w-5 text-yellow-600"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-yellow-900 mb-1",children:"Aucune organisation trouvÃ©e"}),(0,a.jsx)("p",{className:"text-sm text-yellow-700",children:e.organization_id?`Aucune organisation trouv\xe9e pour l'ID: ${e.organization_id}. Veuillez contacter un administrateur.`:"Aucune organisation n'est associÃ©e Ã  votre compte. Veuillez contacter un administrateur."})]})]})}),!U&&!e&&(0,a.jsx)("div",{className:"p-6 bg-red-50 border border-red-200 rounded-xl",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-red-100 rounded-lg",children:(0,a.jsx)(N.Building2,{className:"h-5 w-5 text-red-600"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-red-900 mb-1",children:"Utilisateur non authentifiÃ©"}),(0,a.jsx)("p",{className:"text-sm text-red-700",children:"Vous devez Ãªtre connectÃ© pour accÃ©der Ã  cette page."})]})]})}),!eu&&!em&&ed&&(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u.Label,{children:"Nom de l'organisation"}),(0,a.jsx)(c.Input,{value:X.name??"",onChange:e=>W({...X,name:e.target.value}),disabled:!$,className:"bg-gray-50/50"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u.Label,{children:"Code Ã©tablissement"}),(0,a.jsx)(c.Input,{value:X.code??"",onChange:e=>W({...X,code:e.target.value}),disabled:!$,className:"bg-gray-50/50"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u.Label,{children:"Type"}),(0,a.jsx)(c.Input,{value:X.type??"",onChange:e=>W({...X,type:e.target.value}),disabled:!$,placeholder:"Ã‰cole, UniversitÃ©...",className:"bg-gray-50/50"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u.Label,{children:"Pays"}),(0,a.jsx)(c.Input,{value:X.country??"",onChange:e=>W({...X,country:e.target.value}),disabled:!$,className:"bg-gray-50/50"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u.Label,{children:"Adresse"}),(0,a.jsx)(m.Textarea,{value:X.address??"",onChange:e=>W({...X,address:e.target.value}),disabled:!$,className:"bg-gray-50/50 min-h-[80px]"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u.Label,{children:"Ville"}),(0,a.jsx)(c.Input,{value:X.city??"",onChange:e=>W({...X,city:e.target.value}),disabled:!$,className:"bg-gray-50/50"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u.Label,{children:"Code postal"}),(0,a.jsx)(c.Input,{value:X.postal_code??"",onChange:e=>W({...X,postal_code:e.target.value}),disabled:!$,className:"bg-gray-50/50"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u.Label,{children:"TÃ©lÃ©phone"}),(0,a.jsx)(c.Input,{value:X.phone??"",onChange:e=>W({...X,phone:e.target.value}),disabled:!$,className:"bg-gray-50/50"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u.Label,{children:"Email de contact"}),(0,a.jsx)(c.Input,{value:X.email??"",onChange:e=>W({...X,email:e.target.value}),disabled:!$,className:"bg-gray-50/50"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u.Label,{children:"Devise"}),(0,a.jsxs)("select",{value:X.currency??"EUR",onChange:e=>W({...X,currency:e.target.value}),disabled:!$,className:"w-full px-3 py-2 bg-gray-50/50 border border-input rounded-md text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[(0,a.jsx)("option",{value:"EUR",children:"EUR (â‚¬)"}),(0,a.jsx)("option",{value:"USD",children:"USD ($)"}),(0,a.jsx)("option",{value:"GBP",children:"GBP (Â£)"}),(0,a.jsx)("option",{value:"XOF",children:"XOF (CFA)"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u.Label,{children:"Langue par dÃ©faut"}),(0,a.jsxs)("select",{value:X.language??"fr",onChange:e=>W({...X,language:e.target.value}),disabled:!$,className:"w-full px-3 py-2 bg-gray-50/50 border border-input rounded-md text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[(0,a.jsx)("option",{value:"fr",children:"FranÃ§ais"}),(0,a.jsx)("option",{value:"en",children:"English"}),(0,a.jsx)("option",{value:"pt",children:"PortuguÃªs"})]})]})]}),(0,a.jsxs)(T.motion.div,{className:"pt-8 border-t border-gray-200",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(T.motion.div,{className:"p-3 bg-gradient-to-br from-purple-500 to-pink-600 rounded-2xl shadow-xl",whileHover:{rotate:10,scale:1.1},transition:{type:"spring",stiffness:500,damping:15},children:(0,a.jsx)(P.Palette,{className:"h-5 w-5 text-white drop-shadow-lg"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-display font-bold text-gray-900 tracking-tight",children:"Personnalisation des documents"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 font-semibold",children:"Configurez l'identitÃ© visuelle de vos documents"})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(u.Label,{className:"flex items-center gap-2",children:[(0,a.jsx)(A.Image,{className:"h-4 w-4"}),"Logo de l'organisation"]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[X.logo_url?(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("img",{src:X.logo_url,alt:"Logo",className:"h-20 w-auto object-contain border border-gray-200 rounded-lg p-2 bg-white"}),$&&(0,a.jsx)("button",{onClick:eb,className:"absolute -top-2 -right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",type:"button",children:(0,a.jsx)(R.X,{className:"h-4 w-4"})})]}):(0,a.jsx)("div",{className:"h-20 w-32 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center text-gray-400 text-sm",children:"Aucun logo"}),$&&(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{ref:er,type:"file",accept:"image/*",onChange:ep,disabled:Z,className:"hidden",id:"logo-upload"}),(0,a.jsxs)(o.Button,{type:"button",variant:"outline",disabled:Z,className:"cursor-pointer",onClick:()=>er.current?.click(),children:[(0,a.jsx)(E.Upload,{className:"h-4 w-4 mr-2"}),Z?"TÃ©lÃ©chargement...":X.logo_url?"Remplacer":"TÃ©lÃ©charger"]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG max 5MB"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(u.Label,{className:"flex items-center gap-2",children:[(0,a.jsx)(L.Award,{className:"h-4 w-4"}),"Attestation Qualiopi"]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[X.qualiopi_certificate_url?(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("a",{href:X.qualiopi_certificate_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:(0,a.jsx)("div",{className:"h-20 w-32 border border-gray-200 rounded-lg p-2 bg-white flex items-center justify-center hover:bg-gray-50 transition-colors",children:(0,a.jsx)(j.FileText,{className:"h-8 w-8 text-gray-400"})})}),$&&(0,a.jsx)("button",{onClick:ev,className:"absolute -top-2 -right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",type:"button",children:(0,a.jsx)(R.X,{className:"h-4 w-4"})})]}):(0,a.jsx)("div",{className:"h-20 w-32 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center text-gray-400 text-sm",children:"Aucune attestation"}),$&&(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{ref:es,type:"file",accept:".pdf,image/*",onChange:ex,disabled:ea,className:"hidden",id:"qualiopi-upload"}),(0,a.jsxs)(o.Button,{type:"button",variant:"outline",disabled:ea,className:"cursor-pointer",onClick:()=>es.current?.click(),children:[(0,a.jsx)(E.Upload,{className:"h-4 w-4 mr-2"}),ea?"TÃ©lÃ©chargement...":X.qualiopi_certificate_url?"Remplacer":"TÃ©lÃ©charger"]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"PDF, PNG, JPG max 10MB"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(u.Label,{className:"flex items-center gap-2",children:[(0,a.jsx)(P.Palette,{className:"h-4 w-4"}),"Couleur de personnalisation"]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("input",{type:"color",value:X.brand_color||"#335ACF",onChange:e=>W({...X,brand_color:e.target.value||"#335ACF"}),disabled:!$,className:"h-12 w-24 rounded-lg border border-gray-300 cursor-pointer disabled:cursor-not-allowed"}),(0,a.jsx)(c.Input,{type:"text",value:X.brand_color,onChange:e=>W({...X,brand_color:e.target.value}),disabled:!$,className:"bg-gray-50/50 w-32",placeholder:"#335ACF"}),(0,a.jsx)("div",{className:"h-12 w-12 rounded-lg border border-gray-300",style:{backgroundColor:X.brand_color||"#335ACF"}})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Cette couleur sera utilisÃ©e pour personnaliser vos documents"})]})]})]})]})]})},"organization"),"notifications"===H&&(0,a.jsx)(T.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:(0,a.jsxs)(d.GlassCard,{variant:"premium",className:"p-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"PrÃ©fÃ©rences de notifications"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Configurez comment et quand vous recevez des alertes"})]}),(0,a.jsx)(o.Button,{onClick:()=>{localStorage.setItem("notificationSettings",JSON.stringify(et)),D({title:"SuccÃ¨s",description:"Les paramÃ¨tres de notifications ont Ã©tÃ© sauvegardÃ©s",type:"success"})},className:"shadow-lg shadow-brand-blue/20",children:"Enregistrer"})]}),(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2 text-gray-900",children:[(0,a.jsx)("div",{className:"p-1.5 bg-brand-blue-ghost rounded-lg",children:(0,a.jsx)(v.Bell,{className:"h-4 w-4 text-brand-blue"})}),"Canaux de notification"]}),(0,a.jsx)("div",{className:"grid gap-4",children:[{label:"Email",desc:"Recevoir par email",key:"emailNotifications",icon:w.Mail},{label:"Push",desc:"Notifications navigateur",key:"pushNotifications",icon:v.Bell},{label:"SMS",desc:"Recevoir par SMS",key:"smsNotifications",icon:_.Phone}].map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-100 rounded-xl bg-white hover:shadow-md transition-all duration-300",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"p-2 bg-gray-50 rounded-lg text-gray-500",children:(0,a.jsx)(e.icon,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u.Label,{className:"text-base font-medium text-gray-900",children:e.label}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.desc})]})]}),(0,a.jsx)(g.Switch,{checked:et[e.key],onCheckedChange:a=>el({...et,[e.key]:a})})]},e.key))})]}),(0,a.jsxs)("div",{className:"space-y-4 pt-6 border-t border-gray-100",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2 text-gray-900",children:[(0,a.jsx)("div",{className:"p-1.5 bg-purple-50 rounded-lg",children:(0,a.jsx)(p.Settings,{className:"h-4 w-4 text-purple-600"})}),"Types d'alertes"]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{label:"Factures",desc:"Rappels de facturation",key:"invoiceReminders"},{label:"Paiements",desc:"Retards de paiement",key:"paymentReminders"},{label:"PrÃ©sence",desc:"Absences et retards",key:"attendanceAlerts"},{label:"Documents",desc:"GÃ©nÃ©ration de docs",key:"documentGenerated"},{label:"Rapports",desc:"RÃ©sumÃ© hebdomadaire",key:"weeklyReports"}].map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-100 rounded-xl bg-white hover:shadow-md transition-all duration-300",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(u.Label,{className:"text-base font-medium text-gray-900",children:e.label}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.desc})]}),(0,a.jsx)(g.Switch,{checked:et[e.key],onCheckedChange:a=>el({...et,[e.key]:a})})]},e.key))})]})]})]})},"notifications"),"general"===H&&(0,a.jsx)(T.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:(0,a.jsxs)(d.GlassCard,{variant:"premium",className:"p-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"ParamÃ¨tres gÃ©nÃ©raux"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Personnalisez votre expÃ©rience"})]}),(0,a.jsx)(o.Button,{onClick:()=>{localStorage.setItem("generalSettings",JSON.stringify(en)),"dark"===en.theme?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),D({title:"SuccÃ¨s",description:"Les paramÃ¨tres gÃ©nÃ©raux ont Ã©tÃ© sauvegardÃ©s",type:"success"})},className:"shadow-lg shadow-brand-blue/20",children:"Enregistrer"})]}),(0,a.jsx)("div",{className:"space-y-8",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2 text-gray-900",children:[(0,a.jsx)("div",{className:"p-1.5 bg-orange-50 rounded-lg",children:(0,a.jsx)(y.Globe,{className:"h-4 w-4 text-orange-600"})}),"Localisation & Affichage"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u.Label,{children:"ThÃ¨me"}),(0,a.jsxs)("select",{value:en.theme,onChange:e=>eo({...en,theme:e.target.value}),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue outline-none transition-all",children:[(0,a.jsx)("option",{value:"light",children:"Clair â˜€ï¸"}),(0,a.jsx)("option",{value:"dark",children:"Sombre ðŸŒ™"}),(0,a.jsx)("option",{value:"auto",children:"SystÃ¨me ðŸ’»"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u.Label,{children:"Langue"}),(0,a.jsxs)("select",{value:en.language,onChange:e=>eo({...en,language:e.target.value}),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue outline-none transition-all",children:[(0,a.jsx)("option",{value:"fr",children:"FranÃ§ais ðŸ‡«ðŸ‡·"}),(0,a.jsx)("option",{value:"en",children:"English ðŸ‡¬ðŸ‡§"}),(0,a.jsx)("option",{value:"pt",children:"PortuguÃªs ðŸ‡µðŸ‡¹"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u.Label,{children:"Format de date"}),(0,a.jsxs)("select",{value:en.dateFormat,onChange:e=>eo({...en,dateFormat:e.target.value}),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue outline-none transition-all",children:[(0,a.jsx)("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),(0,a.jsx)("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),(0,a.jsx)("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u.Label,{children:"Fuseau horaire"}),(0,a.jsxs)("select",{value:en.timezone,onChange:e=>eo({...en,timezone:e.target.value}),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue outline-none transition-all",children:[(0,a.jsx)("option",{value:"Europe/Paris",children:"Europe/Paris"}),(0,a.jsx)("option",{value:"Europe/London",children:"Europe/London"}),(0,a.jsx)("option",{value:"America/New_York",children:"America/New_York"}),(0,a.jsx)("option",{value:"Africa/Abidjan",children:"Africa/Abidjan"})]})]})]})]})})]})},"general"),"billing"===H&&(0,a.jsx)(T.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:(0,a.jsxs)(d.GlassCard,{variant:"premium",className:"relative overflow-hidden p-8 border-2 border-gray-100/50 hover:border-brand-blue/20 transition-all duration-500 shadow-[0_10px_40px_-15px_rgba(0,0,0,0.1)]",children:[(0,a.jsxs)("div",{className:"mb-8 flex items-center gap-4",children:[(0,a.jsx)(T.motion.div,{className:"p-3 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl shadow-xl",whileHover:{rotate:10,scale:1.1},transition:{type:"spring",stiffness:500,damping:15},children:(0,a.jsx)(f.CreditCard,{className:"h-6 w-6 text-white drop-shadow-lg"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-display font-bold text-gray-900 tracking-tight",children:"Abonnement & Facturation"}),(0,a.jsx)("p",{className:"text-gray-600 font-semibold tracking-tight",children:"GÃ©rez votre plan et accÃ©dez Ã  vos factures"})]})]}),ed&&(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)(T.motion.div,{className:"p-8 bg-gradient-to-br from-brand-blue via-brand-blue-light to-brand-cyan rounded-2xl text-white shadow-xl shadow-brand-blue/30 relative overflow-hidden",whileHover:{scale:1.01},transition:{type:"spring",stiffness:300,damping:20},children:[(0,a.jsx)(T.motion.div,{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl",animate:{scale:[1,1.2,1],opacity:[.5,.8,.5]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),(0,a.jsx)(T.motion.div,{className:"absolute bottom-0 left-0 w-48 h-48 bg-brand-cyan/20 rounded-full blur-3xl",animate:{y:[0,-20,0],x:[0,20,0]},transition:{duration:6,repeat:1/0,ease:"easeInOut"}}),(0,a.jsxs)("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,a.jsx)(T.motion.span,{className:"text-sm font-bold bg-white/20 backdrop-blur-sm px-4 py-1.5 rounded-full border border-white/30 shadow-lg",whileHover:{scale:1.05},children:"Plan Actuel"}),"active"===ed.subscription_status&&(0,a.jsxs)(T.motion.span,{className:"flex items-center gap-2 text-sm font-bold text-emerald-300 bg-emerald-900/40 px-4 py-1.5 rounded-full backdrop-blur-sm border border-emerald-400/40 shadow-lg",whileHover:{scale:1.05},children:[(0,a.jsx)(T.motion.span,{className:"w-2 h-2 rounded-full bg-emerald-400",animate:{scale:[1,1.2,1],opacity:[1,.5,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),"Actif"]})]}),(0,a.jsx)(T.motion.h3,{className:"text-5xl font-display font-bold mb-2 tracking-tight drop-shadow-lg",whileHover:{scale:1.02},children:"free"===ed.subscription_tier?"Gratuit":"starter"===ed.subscription_tier?"Starter":"professional"===ed.subscription_tier?"Professionnel":"Enterprise"}),(0,a.jsx)("p",{className:"text-white/90 font-semibold drop-shadow-md",children:"Renouvellement le 01/01/2025"})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-3 w-full md:w-auto",children:[(0,a.jsx)(T.motion.div,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.98},children:(0,a.jsxs)(o.Button,{className:"group relative overflow-hidden bg-white text-brand-blue hover:bg-white shadow-xl hover:shadow-2xl border-0 w-full md:w-auto font-bold",children:[(0,a.jsx)(T.motion.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-brand-blue/10 to-transparent",initial:{x:"-100%"},whileHover:{x:"100%"},transition:{duration:.6}}),(0,a.jsx)("span",{className:"relative z-10",children:"Changer de plan"})]})}),(0,a.jsx)(T.motion.div,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.98},children:(0,a.jsx)(o.Button,{variant:"outline",className:"bg-white/10 backdrop-blur-sm border-white/30 text-white hover:bg-white/20 hover:border-white/50 hover:text-white w-full md:w-auto font-bold shadow-lg",children:"Historique factures"})})]})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:(0,a.jsxs)("div",{className:"p-6 border border-gray-100 rounded-xl bg-gray-50/50",children:[(0,a.jsx)("h4",{className:"font-semibold text-gray-900 mb-4",children:"Inclus dans votre offre"}),(0,a.jsxs)("ul",{className:"space-y-3 text-sm text-gray-600",children:[(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)(b.Shield,{className:"h-4 w-4 text-emerald-600"}),(0,a.jsx)("span",{children:"Support prioritaire 24/7"})]}),(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)(x.Users,{className:"h-4 w-4 text-emerald-600"}),(0,a.jsx)("span",{children:"Utilisateurs illimitÃ©s"})]}),(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)(y.Globe,{className:"h-4 w-4 text-emerald-600"}),(0,a.jsx)("span",{children:"Domaine personnalisÃ©"})]})]})]})})]})]})},"billing")]})})]})]})}e.s(["default",()=>U])}]);