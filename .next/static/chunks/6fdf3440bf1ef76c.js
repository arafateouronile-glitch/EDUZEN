(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,299023,e=>{"use strict";let r=(0,e.i(475254).default)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);e.s(["Minus",()=>r],299023)},189497,e=>{"use strict";var r=e.i(843476),t=e.i(271645),l=e.i(970065),i=e.i(167881),s=e.i(23750),a=e.i(10708),o=e.i(645760),n=e.i(752044),d=e.i(114683),h=e.i(299023);let c=(0,e.i(475254).default)("Triangle",[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]]);var u=e.i(37727);e.i(882205);var m=e.i(846932),g=e.i(647163);function p({onInsert:e,onClose:p}){let[x,v]=(0,t.useState)("rectangle"),[j,C]=(0,t.useState)({fillColor:"#335ACF",strokeColor:"#1e3a8a",strokeWidth:2,opacity:1,width:200,height:100}),y=()=>{if("line"===x)return`<hr style="width: ${j.width}px; height: ${j.strokeWidth}px; background-color: ${j.strokeColor}; margin: 16px 0; padding: 0; border: none; opacity: ${j.opacity};" />`;let e="";if("circle"===x){let r=Math.min(j.width,j.height)/2;e=`<circle cx="${j.width/2}" cy="${j.height/2}" r="${r}" fill="${j.fillColor}" stroke="${j.strokeColor}" stroke-width="${j.strokeWidth}" opacity="${j.opacity}" />`}else e="triangle"===x?`<polygon points="${j.width/2},0 ${j.width},${j.height} 0,${j.height}" fill="${j.fillColor}" stroke="${j.strokeColor}" stroke-width="${j.strokeWidth}" opacity="${j.opacity}" />`:`<rect width="${j.width}" height="${j.height}" fill="${j.fillColor}" stroke="${j.strokeColor}" stroke-width="${j.strokeWidth}" rx="${"50%"==("circle"===x?"50%":"0")?j.width/2:0}" opacity="${j.opacity}" />`;let r=encodeURIComponent(`<svg width="${j.width}" height="${j.height}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${j.width} ${j.height}">${e}</svg>`),t=`data:image/svg+xml;charset=utf-8,${r}`;return`<p><img src="${t}" alt="Shape" width="${j.width}" height="${j.height}" /></p>`},f={rectangle:n.Square,circle:d.Circle,line:h.Minus,triangle:c};return(0,r.jsxs)(o.GlassCard,{variant:"premium",className:"p-6 max-w-2xl",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)(l.CardTitle,{className:"flex items-center gap-2",children:[(0,r.jsx)(n.Square,{className:"h-5 w-5 text-brand-blue"}),"Éditeur de forme"]}),(0,r.jsx)(i.Button,{variant:"outline",size:"sm",onClick:p,children:(0,r.jsx)(u.X,{className:"h-4 w-4"})})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(a.Label,{className:"mb-3 block",children:"Type de forme"}),(0,r.jsx)("div",{className:"grid grid-cols-4 gap-3",children:["rectangle","circle","line","triangle"].map(e=>{let t=f[e];return(0,r.jsxs)(m.motion.button,{onClick:()=>v(e),className:(0,g.cn)("p-4 border-2 rounded-lg transition-all",x===e?"border-brand-blue bg-brand-blue-ghost":"border-gray-200 hover:border-gray-300"),whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,r.jsx)(t,{className:"h-6 w-6 mx-auto mb-2"}),(0,r.jsx)("span",{className:"text-xs capitalize",children:e})]},e)})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(a.Label,{htmlFor:"width",children:"Largeur (px)"}),(0,r.jsx)(s.Input,{id:"width",type:"number",min:"10",max:"1000",value:j.width,onChange:e=>C({...j,width:parseInt(e.target.value)||100}),className:"mt-1"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(a.Label,{htmlFor:"height",children:"Hauteur (px)"}),(0,r.jsx)(s.Input,{id:"height",type:"number",min:"10",max:"1000",value:j.height,onChange:e=>C({...j,height:parseInt(e.target.value)||100}),className:"mt-1"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(a.Label,{htmlFor:"fillColor",children:"Couleur de remplissage"}),(0,r.jsxs)("div",{className:"flex gap-2 mt-1",children:[(0,r.jsx)(s.Input,{id:"fillColor",type:"color",value:j.fillColor,onChange:e=>C({...j,fillColor:e.target.value}),className:"h-10 w-20"}),(0,r.jsx)(s.Input,{type:"text",value:j.fillColor,onChange:e=>C({...j,fillColor:e.target.value}),className:"flex-1",placeholder:"#335ACF"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(a.Label,{htmlFor:"strokeColor",children:"Couleur du contour"}),(0,r.jsxs)("div",{className:"flex gap-2 mt-1",children:[(0,r.jsx)(s.Input,{id:"strokeColor",type:"color",value:j.strokeColor,onChange:e=>C({...j,strokeColor:e.target.value}),className:"h-10 w-20"}),(0,r.jsx)(s.Input,{type:"text",value:j.strokeColor,onChange:e=>C({...j,strokeColor:e.target.value}),className:"flex-1",placeholder:"#1e3a8a"})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(a.Label,{htmlFor:"strokeWidth",children:"Épaisseur du contour"}),(0,r.jsx)(s.Input,{id:"strokeWidth",type:"number",min:"0",max:"20",value:j.strokeWidth,onChange:e=>C({...j,strokeWidth:parseInt(e.target.value)||0}),className:"mt-1"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(a.Label,{htmlFor:"opacity",children:"Opacité (0-1)"}),(0,r.jsx)(s.Input,{id:"opacity",type:"number",min:"0",max:"1",step:"0.1",value:j.opacity,onChange:e=>C({...j,opacity:parseFloat(e.target.value)||1}),className:"mt-1"})]})]}),(0,r.jsx)("div",{className:"p-6 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center min-h-[200px]",children:(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:y()}})}),(0,r.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,r.jsx)(i.Button,{variant:"outline",onClick:p,children:"Annuler"}),(0,r.jsx)(i.Button,{onClick:()=>{let r=y();if(console.log("Shape HTML généré:",r,"Type:",x),r&&r.trim())try{e(r),setTimeout(()=>{p()},100)}catch(e){console.error("Erreur lors de l'insertion de la forme:",e),alert("Erreur lors de l'insertion de la forme. Veuillez réessayer.")}else console.error("Aucun HTML généré pour la forme"),alert("Impossible de générer la forme. Veuillez vérifier les paramètres.")},children:"Insérer la forme"})]})]})]})}e.s(["ShapeEditor",()=>p],189497)},834606,e=>{e.n(e.i(189497))}]);