(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,503116,e=>{"use strict";let t=(0,e.i(475254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],503116)},645760,e=>{"use strict";var t=e.i(843476),a=e.i(271645),r=e.i(647163);e.i(882205);var n=e.i(846932);let i=a.forwardRef(({className:e,variant:a="default",hoverable:i=!1,glow:s=!1,glowColor:o="rgba(51, 90, 207, 0.3)",...l},d)=>(0,t.jsxs)(n.motion.div,{ref:d,className:(0,r.cn)("relative rounded-2xl border backdrop-blur-xl transition-all duration-300",{"bg-white/70 dark:bg-gray-900/70 border-white/20 dark:border-gray-700/30 shadow-lg":"default"===a,"bg-white/80 dark:bg-gray-900/80 border-white/30 dark:border-gray-700/40 shadow-xl":"premium"===a,"bg-white/50 dark:bg-gray-900/50 border-white/10 dark:border-gray-700/20 shadow-md":"subtle"===a,"cursor-pointer":i,"hover:shadow-2xl hover:scale-[1.02]":i,"hover:bg-white/90 dark:hover:bg-gray-900/90":i},e),whileHover:i?{scale:1.02,y:-2}:void 0,transition:{type:"spring",stiffness:300,damping:30},...l,children:[s&&(0,t.jsx)(n.motion.div,{className:"absolute inset-0 rounded-2xl opacity-0 blur-xl",style:{background:`radial-gradient(circle, ${o} 0%, transparent 70%)`},animate:{opacity:[0,.5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),(0,t.jsx)("div",{className:"relative z-10",children:l.children})]}));i.displayName="GlassCard",e.s(["GlassCard",()=>i])},263488,e=>{"use strict";let t=(0,e.i(475254).default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);e.s(["Mail",()=>t],263488)},25652,e=>{"use strict";let t=(0,e.i(475254).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["TrendingUp",()=>t],25652)},972520,e=>{"use strict";let t=(0,e.i(475254).default)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);e.s(["ArrowRight",()=>t],972520)},882293,e=>{"use strict";let t=(0,e.i(475254).default)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);e.s(["UserCheck",()=>t],882293)},354385,e=>{"use strict";let t=(0,e.i(475254).default)("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);e.s(["ClipboardCheck",()=>t],354385)},115057,e=>{"use strict";let t=(0,e.i(475254).default)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);e.s(["ArrowUpRight",()=>t],115057)},270397,e=>{"use strict";var t=e.i(843476);e.i(882205);var a=e.i(846932),r=e.i(647163);function n({children:e,title:n,subtitle:i,className:s,variant:o="default"}){return(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.16,1,.3,1]},className:(0,r.cn)("chart-container-premium rounded-2xl p-6 md:p-8","transition-all duration-500 ease-out","hover:shadow-ultra hover:scale-[1.01]","relative overflow-hidden",{default:"bg-white border border-bg-gray-200",glass:"glass-morphism border border-white/20",dark:"bg-bg-gray-50 border border-bg-gray-200 backdrop-blur-xl"}[o],s),children:[(0,t.jsx)("div",{className:"absolute inset-0 opacity-0 hover:opacity-100 transition-opacity duration-700 pointer-events-none",children:(0,t.jsx)("div",{className:"absolute top-0 right-0 w-96 h-96 bg-gradient-to-br from-brand-blue-ghost via-brand-cyan-ghost to-transparent rounded-full blur-3xl animate-pulse"})}),(n||i)&&(0,t.jsxs)("div",{className:"mb-6 relative z-10",children:[n&&(0,t.jsx)("h3",{className:"text-xl md:text-2xl font-display font-bold text-text-primary mb-2",children:n}),i&&(0,t.jsx)("p",{className:"text-sm text-text-tertiary font-medium",children:i})]}),(0,t.jsx)("div",{className:"relative z-10",children:e})]})}e.s(["PremiumChartContainer",()=>n])},314643,e=>{"use strict";var t=e.i(843476),a=e.i(271645),r=e.i(841891),n=e.i(438814),i=e.i(322787),s=e.i(731195),o=e.i(234239),l=e.i(559559),d=e.i(239425);e.i(882205);var c=e.i(846932),u=e.i(270397);let p=e=>{let{cx:a,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:o,fill:l,payload:c,percent:u,value:p}=e;return(0,t.jsxs)("g",{children:[(0,t.jsx)("text",{x:a,y:r,dy:-10,textAnchor:"middle",fill:"#1F2937",className:"text-xl font-bold",style:{fontSize:"24px"},children:c.name}),(0,t.jsx)("text",{x:a,y:r,dy:20,textAnchor:"middle",fill:"#6B7280",className:"text-sm font-medium",children:`${(100*u).toFixed(1)}%`}),(0,t.jsx)(d.Sector,{cx:a,cy:r,innerRadius:n,outerRadius:i+10,startAngle:s,endAngle:o,fill:l,cornerRadius:8}),(0,t.jsx)(d.Sector,{cx:a,cy:r,startAngle:s,endAngle:o,innerRadius:i+12,outerRadius:i+15,fill:l,opacity:.3,cornerRadius:4})]})};function m({data:e,title:d,subtitle:m,colors:h=["#335ACF","#34B9EE","#3B82F6","#8B5CF6","#EF4444","#94a3b8"],className:f,variant:g="default",innerRadius:y=70,outerRadius:x=100}){let[b,v]=(0,a.useState)(0),j=e.reduce((e,t)=>e+t.value,0),w=e.map((e,t)=>({...e,total:j,fill:h[t%h.length]}));return(0,t.jsx)(u.PremiumChartContainer,{title:d,subtitle:m,variant:g,className:f,children:(0,t.jsx)(s.ResponsiveContainer,{width:"100%",height:"100%",minHeight:300,children:(0,t.jsxs)(r.PieChart,{children:[(0,t.jsxs)("defs",{children:[w.map((e,a)=>(0,t.jsxs)("linearGradient",{id:`pieGradient-${a}`,x1:"0",y1:"0",x2:"1",y2:"1",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:e.fill,stopOpacity:1}),(0,t.jsx)("stop",{offset:"100%",stopColor:e.fill,stopOpacity:.85})]},`pieGradient-${a}`)),(0,t.jsx)("filter",{id:"pieShadow",height:"150%",children:(0,t.jsx)("feDropShadow",{dx:"0",dy:"4",stdDeviation:"6",floodColor:"#000",floodOpacity:"0.15"})})]}),(0,t.jsx)(n.Pie,{activeIndex:b,activeShape:p,onMouseEnter:(e,t)=>{v(t)},data:w,cx:"50%",cy:"50%",innerRadius:y,outerRadius:x,paddingAngle:4,dataKey:"value",stroke:"none",animationBegin:0,animationDuration:1e3,animationEasing:"ease-out",filter:"url(#pieShadow)",children:w.map((e,a)=>(0,t.jsx)(i.Cell,{fill:`url(#pieGradient-${a})`,stroke:"none"},`cell-${a}`))}),(0,t.jsx)(o.Tooltip,{content:(0,t.jsx)(({active:e,payload:a})=>{if(e&&a&&a.length){let e=a[0],r=e.payload?.total||e.value,n=(e.value/r*100).toFixed(1);return(0,t.jsxs)(c.motion.div,{initial:{opacity:0,scale:.9,y:10},animate:{opacity:1,scale:1,y:0},className:"bg-white/90 backdrop-blur-xl border border-white/20 shadow-[0_8px_30px_rgb(0,0,0,0.12)] rounded-2xl p-4 min-w-[140px]",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full shadow-md",style:{backgroundColor:e.payload?.fill||"#335ACF"}}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-600 uppercase tracking-wider",children:e.name})]}),(0,t.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,t.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:e.value.toLocaleString("fr-FR")}),(0,t.jsxs)("span",{className:"text-sm font-medium text-gray-400",children:["(",n,"%)"]})]})]})}return null},{})}),(0,t.jsx)(l.Legend,{verticalAlign:"bottom",height:36,iconType:"circle",iconSize:8,wrapperStyle:{paddingTop:"20px",fontSize:"12px",fontWeight:500,color:"#4B5563"},formatter:e=>(0,t.jsx)("span",{className:"ml-1 text-gray-600",children:e})})]})})})}e.s(["PremiumPieChart",()=>m])},129228,555706,e=>{"use strict";var t=e.i(883966),a=e.i(271645),r=e.i(273050),n=e.i(771223),i=e.i(629873),s=e.i(898892),o=e.i(207670),l=e.i(372733),d=e.i(238279),c=e.i(997865),u=e.i(969212),p=e.i(734251),m=e.i(794395),h=e.i(781977),f=e.i(562728),g=e.i(198770),y=["type","layout","connectNulls","ref"],x=["key"];function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function j(){return(j=Object.assign.bind()).apply(this,arguments)}function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach(function(t){P(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function k(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return A(e,void 0);var a=Object.prototype.toString.call(e).slice(8,-1);if("Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return A(e,void 0)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}function C(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}function S(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(S=function(){return!!e})()}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){return(D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function P(e,t,a){return(t=_(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _(e){var t=function(e,t){if("object"!=b(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=b(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==b(t)?t:t+""}var E=function(e){var t,f;function w(){var e,t,a;if(!(this instanceof w))throw TypeError("Cannot call a class as a function");for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return t=w,a=[].concat(n),t=O(t),P(e=function(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");var a=e;if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(this,S()?Reflect.construct(t,a||[],O(this).constructor):t.apply(this,a)),"state",{isAnimationFinished:!0,totalLength:0}),P(e,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),P(e,"getStrokeDasharray",function(t,a,r){var n=r.reduce(function(e,t){return e+t});if(!n)return e.generateSimpleStrokeDasharray(a,t);for(var i=Math.floor(t/n),s=t%n,o=a-t,l=[],d=0,c=0;d<r.length;c+=r[d],++d)if(c+r[d]>s){l=[].concat(k(r.slice(0,d)),[s-c]);break}var u=l.length%2==0?[0,o]:[o];return[].concat(k(w.repeat(r,i)),k(l),u).map(function(e){return"".concat(e,"px")}).join(", ")}),P(e,"id",(0,m.uniqueId)("recharts-line-")),P(e,"pathRef",function(t){e.mainCurve=t}),P(e,"handleAnimationEnd",function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()}),P(e,"handleAnimationStart",function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()}),e}if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");return w.prototype=Object.create(e&&e.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),Object.defineProperty(w,"prototype",{writable:!1}),e&&D(w,e),t=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(e){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,n=r.points,i=r.xAxis,s=r.yAxis,o=r.layout,l=r.children,d=(0,h.findAllByType)(l,p.ErrorBar);if(!d)return null;var u=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:(0,g.getValueByDataKey)(e.payload,t)}};return a.default.createElement(c.Layer,{clipPath:e?"url(#clipPath-".concat(t,")"):null},d.map(function(e){return a.default.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:n,xAxis:i,yAxis:s,layout:o,dataPointFormatter:u})}))}},{key:"renderDots",value:function(e,t,r){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,i=n.dot,s=n.points,o=n.dataKey,l=(0,h.filterProps)(this.props,!1),d=(0,h.filterProps)(i,!0),u=s.map(function(e,t){var a=N(N(N({key:"dot-".concat(t),r:3},l),d),{},{index:t,cx:e.x,cy:e.y,value:e.value,dataKey:o,payload:e.payload,points:s});return w.renderDotItem(i,a)}),p={clipPath:e?"url(#clipPath-".concat(t?"":"dots-").concat(r,")"):null};return a.default.createElement(c.Layer,j({className:"recharts-line-dots",key:"dots"},p),u)}},{key:"renderCurveStatically",value:function(e,t,r,n){var i=this.props,s=i.type,o=i.layout,d=i.connectNulls,c=(i.ref,v(i,y)),u=N(N(N({},(0,h.filterProps)(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(r,")"):null,points:e},n),{},{type:s,layout:o,connectNulls:d});return a.default.createElement(l.Curve,j({},u,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var n=this,i=this.props,s=i.points,o=i.strokeDasharray,l=i.isAnimationActive,d=i.animationBegin,c=i.animationDuration,u=i.animationEasing,p=i.animationId,h=i.animateNewValues,f=i.width,g=i.height,y=this.state,x=y.prevPoints,b=y.totalLength;return a.default.createElement(r.default,{begin:d,duration:c,isActive:l,easing:u,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(a){var r,i=a.t;if(x){var l=x.length/s.length,d=s.map(function(e,t){var a=Math.floor(t*l);if(x[a]){var r=x[a],n=(0,m.interpolateNumber)(r.x,e.x),s=(0,m.interpolateNumber)(r.y,e.y);return N(N({},e),{},{x:n(i),y:s(i)})}if(h){var o=(0,m.interpolateNumber)(2*f,e.x),d=(0,m.interpolateNumber)(g/2,e.y);return N(N({},e),{},{x:o(i),y:d(i)})}return N(N({},e),{},{x:e.x,y:e.y})});return n.renderCurveStatically(d,e,t)}var c=(0,m.interpolateNumber)(0,b)(i);if(o){var u="".concat(o).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});r=n.getStrokeDasharray(c,b,u)}else r=n.generateSimpleStrokeDasharray(b,c);return n.renderCurveStatically(s,e,t,{strokeDasharray:r})})}},{key:"renderCurve",value:function(e,t){var a=this.props,r=a.points,n=a.isAnimationActive,i=this.state,o=i.prevPoints,l=i.totalLength;return n&&r&&r.length&&(!o&&l>0||!(0,s.default)(o,r))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(r,e,t)}},{key:"render",value:function(){var e,t=this.props,r=t.hide,n=t.dot,s=t.points,l=t.className,d=t.xAxis,p=t.yAxis,m=t.top,f=t.left,g=t.width,y=t.height,x=t.isAnimationActive,b=t.id;if(r||!s||!s.length)return null;var v=this.state.isAnimationFinished,j=1===s.length,w=(0,o.default)("recharts-line",l),N=d&&d.allowDataOverflow,k=p&&p.allowDataOverflow,A=N||k,C=(0,i.default)(b)?this.id:b,S=null!=(e=(0,h.filterProps)(n,!1))?e:{r:3,strokeWidth:2},O=S.r,D=S.strokeWidth,P=((0,h.hasClipDot)(n)?n:{}).clipDot,_=void 0===P||P,E=2*(void 0===O?3:O)+(void 0===D?2:D);return a.default.createElement(c.Layer,{className:w},N||k?a.default.createElement("defs",null,a.default.createElement("clipPath",{id:"clipPath-".concat(C)},a.default.createElement("rect",{x:N?f:f-g/2,y:k?m:m-y/2,width:N?g:2*g,height:k?y:2*y})),!_&&a.default.createElement("clipPath",{id:"clipPath-dots-".concat(C)},a.default.createElement("rect",{x:f-E/2,y:m-E/2,width:g+E,height:y+E}))):null,!j&&this.renderCurve(A,C),this.renderErrorBar(A,C),(j||n)&&this.renderDots(A,_,C),(!x||v)&&u.LabelList.renderCallByParent(this.props,s))}}],f=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var a=e.length%2!=0?[].concat(k(e),[0]):e,r=[],n=0;n<t;++n)r=[].concat(k(r),k(a));return r}},{key:"renderDotItem",value:function(e,t){var r;if(a.default.isValidElement(e))r=a.default.cloneElement(e,t);else if((0,n.default)(e))r=e(t);else{var i=t.key,s=v(t,x),l=(0,o.default)("recharts-line-dot","boolean"!=typeof e?e.className:"");r=a.default.createElement(d.Dot,j({key:i},s,{className:l}))}return r}}],t&&C(w.prototype,t),f&&C(w,f),Object.defineProperty(w,"prototype",{writable:!1}),w}(a.PureComponent);P(E,"displayName","Line"),P(E,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!f.Global.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),P(E,"getComposedData",function(e){var t=e.props,a=e.xAxis,r=e.yAxis,n=e.xAxisTicks,s=e.yAxisTicks,o=e.dataKey,l=e.bandSize,d=e.displayedData,c=e.offset,u=t.layout;return N({points:d.map(function(e,t){var d=(0,g.getValueByDataKey)(e,o);return"horizontal"===u?{x:(0,g.getCateCoordinateOfLine)({axis:a,ticks:n,bandSize:l,entry:e,index:t}),y:(0,i.default)(d)?null:r.scale(d),value:d,payload:e}:{x:(0,i.default)(d)?null:a.scale(d),y:(0,g.getCateCoordinateOfLine)({axis:r,ticks:s,bandSize:l,entry:e,index:t}),value:d,payload:e}}),layout:u},c)}),e.s(["Line",()=>E],555706);var T=e.i(785183),z=e.i(93230),L=e.i(844171),B=(0,t.generateCategoricalChart)({chartName:"LineChart",GraphicalChild:E,axisComponents:[{axisType:"xAxis",AxisComp:T.XAxis},{axisType:"yAxis",AxisComp:z.YAxis}],formatAxisMap:L.formatAxisMap});e.s(["LineChart",()=>B],129228)},101725,400237,e=>{"use strict";var t=e.i(883966),a=e.i(271645),r=e.i(207670),n=e.i(273050),i=e.i(771223),s=e.i(86966),o=e.i(629873),l=e.i(878948),d=e.i(898892),c=e.i(372733),u=e.i(238279),p=e.i(997865),m=e.i(969212),h=e.i(562728),f=e.i(794395),g=e.i(198770),y=e.i(781977),x=["layout","type","stroke","connectNulls","isRange","ref"],b=["key"];function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function w(){return(w=Object.assign.bind()).apply(this,arguments)}function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(Object(a),!0).forEach(function(t){D(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function A(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,P(r.key),r)}}function C(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(C=function(){return!!e})()}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return(O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function D(e,t,a){return(t=P(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function P(e){var t=function(e,t){if("object"!=v(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=v(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==v(t)?t:t+""}var _=function(e){var t,u;function h(){var e,t,a;if(!(this instanceof h))throw TypeError("Cannot call a class as a function");for(var r=arguments.length,n=Array(r),s=0;s<r;s++)n[s]=arguments[s];return t=h,a=[].concat(n),t=S(t),D(e=function(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");var a=e;if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(this,C()?Reflect.construct(t,a||[],S(this).constructor):t.apply(this,a)),"state",{isAnimationFinished:!0}),D(e,"id",(0,f.uniqueId)("recharts-area-")),D(e,"handleAnimationEnd",function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),(0,i.default)(t)&&t()}),D(e,"handleAnimationStart",function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),(0,i.default)(t)&&t()}),e}if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");return h.prototype=Object.create(e&&e.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),e&&O(h,e),t=[{key:"renderDots",value:function(e,t,r){var n=this.props.isAnimationActive,i=this.state.isAnimationFinished;if(n&&!i)return null;var s=this.props,o=s.dot,l=s.points,d=s.dataKey,c=(0,y.filterProps)(this.props,!1),u=(0,y.filterProps)(o,!0),m=l.map(function(e,t){var a=k(k(k({key:"dot-".concat(t),r:3},c),u),{},{index:t,cx:e.x,cy:e.y,dataKey:d,value:e.value,payload:e.payload,points:l});return h.renderDotItem(o,a)}),f={clipPath:e?"url(#clipPath-".concat(t?"":"dots-").concat(r,")"):null};return a.default.createElement(p.Layer,w({className:"recharts-area-dots"},f),m)}},{key:"renderHorizontalRect",value:function(e){var t=this.props,r=t.baseLine,n=t.points,i=t.strokeWidth,o=n[0].x,l=n[n.length-1].x,d=e*Math.abs(o-l),c=(0,s.default)(n.map(function(e){return e.y||0}));return((0,f.isNumber)(r)&&"number"==typeof r?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max((0,s.default)(r.map(function(e){return e.y||0})),c)),(0,f.isNumber)(c))?a.default.createElement("rect",{x:o<l?o:o-d,y:0,width:d,height:Math.floor(c+(i?parseInt("".concat(i),10):1))}):null}},{key:"renderVerticalRect",value:function(e){var t=this.props,r=t.baseLine,n=t.points,i=t.strokeWidth,o=n[0].y,l=n[n.length-1].y,d=e*Math.abs(o-l),c=(0,s.default)(n.map(function(e){return e.x||0}));return((0,f.isNumber)(r)&&"number"==typeof r?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max((0,s.default)(r.map(function(e){return e.x||0})),c)),(0,f.isNumber)(c))?a.default.createElement("rect",{x:0,y:o<l?o:o-d,width:c+(i?parseInt("".concat(i),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(e){return"vertical"===this.props.layout?this.renderVerticalRect(e):this.renderHorizontalRect(e)}},{key:"renderAreaStatically",value:function(e,t,r,n){var i=this.props,s=i.layout,o=i.type,l=i.stroke,d=i.connectNulls,u=i.isRange,m=(i.ref,j(i,x));return a.default.createElement(p.Layer,{clipPath:r?"url(#clipPath-".concat(n,")"):null},a.default.createElement(c.Curve,w({},(0,y.filterProps)(m,!0),{points:e,connectNulls:d,type:o,baseLine:t,layout:s,stroke:"none",className:"recharts-area-area"})),"none"!==l&&a.default.createElement(c.Curve,w({},(0,y.filterProps)(this.props,!1),{className:"recharts-area-curve",layout:s,type:o,connectNulls:d,fill:"none",points:e})),"none"!==l&&u&&a.default.createElement(c.Curve,w({},(0,y.filterProps)(this.props,!1),{className:"recharts-area-curve",layout:s,type:o,connectNulls:d,fill:"none",points:t})))}},{key:"renderAreaWithAnimation",value:function(e,t){var r=this,i=this.props,s=i.points,d=i.baseLine,c=i.isAnimationActive,u=i.animationBegin,m=i.animationDuration,h=i.animationEasing,g=i.animationId,y=this.state,x=y.prevPoints,b=y.prevBaseLine;return a.default.createElement(n.default,{begin:u,duration:m,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(n){var i=n.t;if(x){var c,u=x.length/s.length,m=s.map(function(e,t){var a=Math.floor(t*u);if(x[a]){var r=x[a],n=(0,f.interpolateNumber)(r.x,e.x),s=(0,f.interpolateNumber)(r.y,e.y);return k(k({},e),{},{x:n(i),y:s(i)})}return e});return c=(0,f.isNumber)(d)&&"number"==typeof d?(0,f.interpolateNumber)(b,d)(i):(0,o.default)(d)||(0,l.default)(d)?(0,f.interpolateNumber)(b,0)(i):d.map(function(e,t){var a=Math.floor(t*u);if(b[a]){var r=b[a],n=(0,f.interpolateNumber)(r.x,e.x),s=(0,f.interpolateNumber)(r.y,e.y);return k(k({},e),{},{x:n(i),y:s(i)})}return e}),r.renderAreaStatically(m,c,e,t)}return a.default.createElement(p.Layer,null,a.default.createElement("defs",null,a.default.createElement("clipPath",{id:"animationClipPath-".concat(t)},r.renderClipRect(i))),a.default.createElement(p.Layer,{clipPath:"url(#animationClipPath-".concat(t,")")},r.renderAreaStatically(s,d,e,t)))})}},{key:"renderArea",value:function(e,t){var a=this.props,r=a.points,n=a.baseLine,i=a.isAnimationActive,s=this.state,o=s.prevPoints,l=s.prevBaseLine,c=s.totalLength;return i&&r&&r.length&&(!o&&c>0||!(0,d.default)(o,r)||!(0,d.default)(l,n))?this.renderAreaWithAnimation(e,t):this.renderAreaStatically(r,n,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,i=t.dot,s=t.points,l=t.className,d=t.top,c=t.left,u=t.xAxis,h=t.yAxis,f=t.width,g=t.height,x=t.isAnimationActive,b=t.id;if(n||!s||!s.length)return null;var v=this.state.isAnimationFinished,j=1===s.length,w=(0,r.default)("recharts-area",l),N=u&&u.allowDataOverflow,k=h&&h.allowDataOverflow,A=N||k,C=(0,o.default)(b)?this.id:b,S=null!=(e=(0,y.filterProps)(i,!1))?e:{r:3,strokeWidth:2},O=S.r,D=S.strokeWidth,P=((0,y.hasClipDot)(i)?i:{}).clipDot,_=void 0===P||P,E=2*(void 0===O?3:O)+(void 0===D?2:D);return a.default.createElement(p.Layer,{className:w},N||k?a.default.createElement("defs",null,a.default.createElement("clipPath",{id:"clipPath-".concat(C)},a.default.createElement("rect",{x:N?c:c-f/2,y:k?d:d-g/2,width:N?f:2*f,height:k?g:2*g})),!_&&a.default.createElement("clipPath",{id:"clipPath-dots-".concat(C)},a.default.createElement("rect",{x:c-E/2,y:d-E/2,width:f+E,height:g+E}))):null,j?null:this.renderArea(A,C),(i||j)&&this.renderDots(A,_,C),(!x||v)&&m.LabelList.renderCallByParent(this.props,s))}}],u=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,curBaseLine:e.baseLine,prevPoints:t.curPoints,prevBaseLine:t.curBaseLine}:e.points!==t.curPoints||e.baseLine!==t.curBaseLine?{curPoints:e.points,curBaseLine:e.baseLine}:null}}],t&&A(h.prototype,t),u&&A(h,u),Object.defineProperty(h,"prototype",{writable:!1}),h}(a.PureComponent);D(_,"displayName","Area"),D(_,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!h.Global.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),D(_,"getBaseValue",function(e,t,a,r){var n=e.layout,i=e.baseValue,s=t.props.baseValue,o=null!=s?s:i;if((0,f.isNumber)(o)&&"number"==typeof o)return o;var l="horizontal"===n?r:a,d=l.scale.domain();if("number"===l.type){var c=Math.max(d[0],d[1]),u=Math.min(d[0],d[1]);return"dataMin"===o?u:"dataMax"===o||c<0?c:Math.max(Math.min(d[0],d[1]),0)}return"dataMin"===o?d[0]:"dataMax"===o?d[1]:d[0]}),D(_,"getComposedData",function(e){var t,a=e.props,r=e.item,n=e.xAxis,i=e.yAxis,s=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,d=e.dataKey,c=e.stackedData,u=e.dataStartIndex,p=e.displayedData,m=e.offset,h=a.layout,f=c&&c.length,y=_.getBaseValue(a,r,n,i),x="horizontal"===h,b=!1,v=p.map(function(e,t){f?a=c[u+t]:Array.isArray(a=(0,g.getValueByDataKey)(e,d))?b=!0:a=[y,a];var a,r=null==a[1]||f&&null==(0,g.getValueByDataKey)(e,d);return x?{x:(0,g.getCateCoordinateOfLine)({axis:n,ticks:s,bandSize:l,entry:e,index:t}),y:r?null:i.scale(a[1]),value:a,payload:e}:{x:r?null:n.scale(a[1]),y:(0,g.getCateCoordinateOfLine)({axis:i,ticks:o,bandSize:l,entry:e,index:t}),value:a,payload:e}});return t=f||b?v.map(function(e){var t=Array.isArray(e.value)?e.value[0]:null;return x?{x:e.x,y:null!=t&&null!=e.y?i.scale(t):null}:{x:null!=t?n.scale(t):null,y:e.y}}):x?i.scale(y):n.scale(y),k({points:v,baseLine:t,layout:h,isRange:b},m)}),D(_,"renderDotItem",function(e,t){var n;if(a.default.isValidElement(e))n=a.default.cloneElement(e,t);else if((0,i.default)(e))n=e(t);else{var s=(0,r.default)("recharts-area-dot","boolean"!=typeof e?e.className:""),o=t.key,l=j(t,b);n=a.default.createElement(u.Dot,w({},l,{key:o,className:s}))}return n}),e.s(["Area",()=>_],400237);var E=e.i(785183),T=e.i(93230),z=e.i(844171),L=(0,t.generateCategoricalChart)({chartName:"AreaChart",GraphicalChild:_,axisComponents:[{axisType:"xAxis",AxisComp:E.XAxis},{axisType:"yAxis",AxisComp:T.YAxis}],formatAxisMap:z.formatAxisMap});e.s(["AreaChart",()=>L],101725)},423631,e=>{"use strict";var t=e.i(843476),a=e.i(129228),r=e.i(555706),n=e.i(785183),i=e.i(93230),s=e.i(872526),o=e.i(234239),l=e.i(731195),d=e.i(400237),c=e.i(101725);e.i(882205);var u=e.i(846932),p=e.i(647163),m=e.i(25652);function h({data:e,dataKey:h,xAxisKey:f,title:g,subtitle:y,color:x="#335ACF",gradientColors:b={from:"#335ACF",to:"#34B9EE"},showArea:v=!1,strokeWidth:j=5,className:w,variant:N="default",valueFormatter:k}){let A=({active:e,payload:a})=>{if(e&&a&&a.length){let e=a[0].value,r=k?k(e):"number"==typeof e?e.toLocaleString("fr-FR"):e;return(0,t.jsxs)(u.motion.div,{initial:{opacity:0,scale:.9,y:10},animate:{opacity:1,scale:1,y:0},transition:{duration:.2},className:"relative bg-white/90 backdrop-blur-xl border border-white/20 shadow-[0_8px_30px_rgb(0,0,0,0.12)] rounded-2xl p-4 min-w-[140px]",children:[(0,t.jsx)("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-8 h-1 rounded-b-full opacity-80",style:{backgroundColor:x}}),(0,t.jsx)("p",{className:"text-xs font-medium text-gray-500 mb-1 uppercase tracking-wider text-center",children:a[0].payload?.[f]}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 rounded-full shadow-[0_0_10px_currentColor]",style:{color:x,backgroundColor:x}}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:r})]})]})}return null},C=()=>{let u={data:e,margin:{top:20,right:20,left:0,bottom:0}},p={strokeDasharray:"3 3",stroke:"#E5E7EB",opacity:.4,vertical:!1},m={stroke:"#9CA3AF",fontSize:12,tickLine:!1,axisLine:!1,tick:{fill:"#6B7280",fontSize:11,fontWeight:500},dy:10},g={...m,dy:0,dx:-10};return v?(0,t.jsx)(l.ResponsiveContainer,{width:"100%",height:"100%",minHeight:300,children:(0,t.jsxs)(c.AreaChart,{...u,children:[(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:`gradient-${h}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:b.from,stopOpacity:.95}),(0,t.jsx)("stop",{offset:"25%",stopColor:b.from,stopOpacity:.75}),(0,t.jsx)("stop",{offset:"50%",stopColor:b.to,stopOpacity:.5}),(0,t.jsx)("stop",{offset:"75%",stopColor:b.to,stopOpacity:.25}),(0,t.jsx)("stop",{offset:"100%",stopColor:b.to,stopOpacity:.1})]})}),(0,t.jsx)(s.CartesianGrid,{...p}),(0,t.jsx)(n.XAxis,{dataKey:f,...m}),(0,t.jsx)(i.YAxis,{...g}),(0,t.jsx)(o.Tooltip,{content:(0,t.jsx)(A,{}),cursor:{stroke:x,strokeWidth:1,strokeDasharray:"4 4",opacity:.5}}),(0,t.jsx)(d.Area,{type:"natural",dataKey:h,stroke:x,strokeWidth:j,fill:`url(#gradient-${h})`,fillOpacity:1,animationDuration:1500,animationEasing:"ease-out",activeDot:{r:7,strokeWidth:2,stroke:"#fff",fill:x,className:"drop-shadow-lg"},dot:!1,isAnimationActive:!0})]})}):(0,t.jsx)(l.ResponsiveContainer,{width:"100%",height:"100%",minHeight:300,children:(0,t.jsxs)(a.LineChart,{...u,children:[(0,t.jsx)(()=>(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:`line-gradient-${h}`,x1:"0",y1:"0",x2:"1",y2:"0",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:b.from,stopOpacity:1}),(0,t.jsx)("stop",{offset:"100%",stopColor:b.to,stopOpacity:1})]})}),{}),(0,t.jsx)(s.CartesianGrid,{...p}),(0,t.jsx)(n.XAxis,{dataKey:f,...m}),(0,t.jsx)(i.YAxis,{...g}),(0,t.jsx)(o.Tooltip,{content:(0,t.jsx)(A,{}),cursor:{stroke:"#E5E7EB",strokeWidth:40,opacity:.3}}),(0,t.jsx)(r.Line,{type:"natural",dataKey:h,stroke:x,strokeWidth:j,dot:!1,activeDot:{r:8,fill:"#fff",stroke:x,strokeWidth:3,className:"shadow-lg"},filter:"url(#glow)",animationDuration:1500,animationEasing:"ease-out"})]})})};return g||y?(0,t.jsx)(u.motion.div,{className:(0,p.cn)("relative overflow-hidden",w),whileHover:{scale:1.002},transition:{type:"spring",stiffness:300,damping:20},children:(0,t.jsxs)("div",{className:"relative overflow-hidden rounded-3xl border-2 border-gray-100/50 hover:border-brand-blue/20 transition-all duration-500 shadow-[0_10px_40px_-15px_rgba(0,0,0,0.1)]",children:[(0,t.jsx)(u.motion.div,{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-brand-blue/5 to-transparent rounded-full blur-3xl",animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),(0,t.jsxs)("div",{className:"relative bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl",children:[(0,t.jsx)("div",{className:"p-6 pb-4 border-b border-gray-100/80",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(u.motion.div,{className:"p-3 bg-gradient-to-br from-brand-blue to-brand-cyan rounded-2xl shadow-xl",whileHover:{rotate:10,scale:1.15},transition:{type:"spring",stiffness:500,damping:15},children:(0,t.jsx)(m.TrendingUp,{className:"h-6 w-6 text-white drop-shadow-lg"})}),(0,t.jsxs)("div",{children:[g&&(0,t.jsx)("h2",{className:"text-2xl font-display font-bold text-gray-900 tracking-tight",children:g}),y&&(0,t.jsx)("p",{className:"text-sm text-gray-600 font-semibold tracking-tight",children:y})]})]})}),(0,t.jsx)("div",{className:"p-6 relative z-10",children:(0,t.jsx)(C,{})})]})]})}):(0,t.jsx)("div",{className:(0,p.cn)("w-full",w),children:(0,t.jsx)(C,{})})}e.s(["PremiumLineChart",()=>h])},98962,e=>{"use strict";let t=(0,e.i(475254).default)("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);e.s(["UserX",()=>t],98962)},117801,e=>{"use strict";let t=(0,e.i(475254).default)("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);e.s(["UserMinus",()=>t],117801)},14935,e=>{"use strict";var t=e.i(843476),a=e.i(271645),r=e.i(266027),n=e.i(325715),i=e.i(920755),s=e.i(167881),o=e.i(645760),l=e.i(87316),d=e.i(761911),c=e.i(503116),u=e.i(898791),p=e.i(25652),m=e.i(440160),h=e.i(178583),f=e.i(972520),g=e.i(882293),y=e.i(98962),x=e.i(117801),b=e.i(16715),v=e.i(354385),j=e.i(115057),w=e.i(475254);let N=(0,w.default)("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),k=(0,w.default)("Hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v0",key:"aigmz7"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v2",key:"1n6bmn"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v8",key:"a9iiix"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]);var A=e.i(263488),C=e.i(647163),S=e.i(522016);e.i(882205);var O=e.i(846932),D=e.i(423631),P=e.i(314643),_=e.i(479370),E=e.i(630374),T=e.i(618566);function z(){let{user:e}=(0,n.useAuth)(),w=(0,T.useRouter)(),z=(0,i.createClient)(),[L,B]=(0,a.useState)(new Date().toISOString().split("T")[0]),[R,F]=(0,a.useState)(""),[M,q]=(0,a.useState)(""),[I,$]=(0,a.useState)("week"),[H,K]=(0,a.useState)("monthly"),[U,G]=(0,a.useState)(new Date().toISOString().slice(0,7)),[V,W]=(0,a.useState)(new Date().getFullYear().toString()),[X,Y]=(0,a.useState)(!1),Q=e?.role==="teacher",{data:J}=(0,r.useQuery)({queryKey:["teacher-session-ids",e?.id],queryFn:async()=>{if(!e?.id)return[];let{data:t,error:a}=await z.from("session_teachers").select("session_id").eq("teacher_id",e.id);return a?(console.error("Erreur récupération sessions enseignant:",a),[]):t?.map(e=>e.session_id)||[]},enabled:!!e?.id&&Q}),{data:Z}=(0,r.useQuery)({queryKey:["program-sessions-all",e?.organization_id,Q,J],queryFn:async()=>{if(!e?.organization_id)return[];let t=z.from("sessions").select("id, name, start_date, end_date, formations!inner(id, name, code, organization_id, programs(id, name))").eq("formations.organization_id",e.organization_id).order("start_date",{ascending:!1});if(Q&&J&&J.length>0)t=t.in("id",J);else if(Q)return[];let{data:a,error:r}=await t;if(r)throw r;return a?.map(e=>({id:e.id,name:`${e.name} - ${e.formations?.name||""}${e.formations?.programs?` (${e.formations.programs.name})`:""}`,code:e.formations?.code||"",start_date:e.start_date,end_date:e.end_date}))||[]},enabled:!!e?.organization_id&&(!Q||Q&&void 0!==J)}),{data:ee}=(0,r.useQuery)({queryKey:["session-slots",R],queryFn:async()=>{if(!R)return[];let{data:e,error:t}=await z.from("session_slots").select("*").eq("session_id",R).order("date",{ascending:!0}).order("start_time",{ascending:!0});return t?(console.warn("Erreur récupération séances:",t),[]):e||[]},enabled:!!R}),{data:et}=(0,r.useQuery)({queryKey:["upcoming-sessions",e?.organization_id,Q,J],queryFn:async()=>{if(!e?.organization_id)return[];let t=new Date().toISOString().split("T")[0],a=z.from("sessions").select("*, formations!inner(*, programs(*))").eq("formations.organization_id",e.organization_id).gte("start_date",t).lte("end_date",t).in("status",["planned","ongoing"]).order("start_date",{ascending:!0}).limit(10);if(Q&&J&&J.length>0)a=a.in("id",J);else if(Q)return[];let{data:r,error:n}=await a;if(n)throw n;return r||[]},enabled:!!e?.organization_id&&(!Q||Q&&void 0!==J)}),{data:ea,refetch:er,isLoading:en}=(0,r.useQuery)({queryKey:["attendance-stats",e?.organization_id,L],queryFn:async()=>{if(!e?.organization_id)return console.warn("[ATTENDANCE STATS] Pas d'organisation ID"),null;let{data:t,error:a}=await z.from("session_slots").select("id, session_id, date, time_slot").eq("date",L);a&&console.warn("[ATTENDANCE STATS] ⚠️ Erreur récupération slots:",a),t?.map(e=>e.session_id),t?.map(e=>e.id);let{data:r,error:n}=await z.from("attendance").select("*").eq("organization_id",e.organization_id).eq("date",L);if(n)throw console.error("[ATTENDANCE STATS] ❌ Erreur Supabase:",n),n;let i=new Map;[...r||[]].sort((e,t)=>{let a=new Date(e.created_at||e.id).getTime();return new Date(t.created_at||t.id).getTime()-a}).forEach(e=>{if(e.student_id){let t=e.session_id?`${e.student_id}_${e.session_id}`:e.student_id;i.has(t)||i.set(t,e)}});let s=Array.from(i.values()),o=0,l=0,d=0,c=0;s.forEach(e=>{let t=e.status?.toLowerCase()||"";"present"===t?o++:"absent"===t?l++:"late"===t?d++:"excused"===t&&c++});let u=s.length,p=u>0?(o+d+c)/u*100:0;return{total:u,present:o,absent:l,late:d,excused:c,attendanceRate:p,statusData:[{name:"Présents",value:o,color:"#335ACF"},{name:"Absents",value:l,color:"#EF4444"},{name:"Retard",value:d,color:"#34B9EE"},{name:"Justifiés",value:c,color:"#3B82F6"}].filter(e=>e.value>0)}},enabled:!!e?.organization_id,refetchOnWindowFocus:!0,refetchOnMount:!0,staleTime:0,gcTime:0}),{data:ei}=(0,r.useQuery)({queryKey:["attendance-period-stats",e?.organization_id,I],queryFn:async()=>{let t;if(!e?.organization_id)return null;let a=new Date;switch(a.setHours(0,0,0,0),I){case"week":default:(t=new Date(a)).setDate(a.getDate()-7);break;case"month":t=new Date(a.getFullYear(),a.getMonth(),1);break;case"quarter":let r=Math.floor(a.getMonth()/3);t=new Date(a.getFullYear(),3*r,1)}let{data:n,error:i}=await z.from("attendance").select("date, status").eq("organization_id",e.organization_id).gte("date",t.toISOString().split("T")[0]).lte("date",a.toISOString().split("T")[0]);if(i)throw i;let s=n||[],o=s.length,l=s.filter(e=>"present"===e.status).length,d=s.filter(e=>"absent"===e.status).length,c=s.filter(e=>"late"===e.status).length,u=s.filter(e=>"excused"===e.status).length,p={};return s.forEach(e=>{let t=e.date;p[t]||(p[t]={present:0,absent:0,late:0,total:0}),p[t].total++,"present"===e.status&&p[t].present++,"absent"===e.status&&p[t].absent++,"late"===e.status&&p[t].late++}),{total:o,present:l,absent:d,late:c,excused:u,attendanceRate:o>0?(l+c+u)/o*100:0,dailyData:Object.entries(p).sort(([e],[t])=>e.localeCompare(t)).slice(-14).map(([e,t])=>({date:new Date(e).toLocaleDateString("fr-FR",{day:"2-digit",month:"short"}),présent:t.present,absent:t.absent,retard:t.late,taux:t.total>0?Math.round((t.present+t.late)/t.total*100):0}))}},enabled:!!e?.organization_id}),{data:es}=(0,r.useQuery)({queryKey:["recent-attendance",e?.organization_id],queryFn:async()=>{if(!e?.organization_id)return[];let{data:t,error:a}=await z.from("attendance").select("*, students(first_name, last_name, student_number), sessions(name, formations(name, programs(name)))").eq("organization_id",e.organization_id).order("date",{ascending:!1}).order("created_at",{ascending:!1}).limit(20);if(a)throw a;return t||[]},enabled:!!e?.organization_id}),{data:eo}=(0,r.useQuery)({queryKey:["monthly-attendance-report",e?.organization_id,U],queryFn:async()=>{if(!e?.organization_id||"monthly"!==H)return null;let t=`${U}-01`,a=new Date(new Date(U+"-01").getFullYear(),new Date(U+"-01").getMonth()+1,0).toISOString().split("T")[0],{data:r,error:n}=await z.from("attendance").select("*, students(first_name, last_name, student_number), sessions(name, formations(name, programs(name)))").eq("organization_id",e.organization_id).gte("date",t).lte("date",a).order("date",{ascending:!0});if(n)throw n;let i=r||[],s=i.length,o=i.filter(e=>"present"===e.status).length,l=i.filter(e=>"absent"===e.status).length,d=i.filter(e=>"late"===e.status).length,c=i.filter(e=>"excused"===e.status).length,u={};i.forEach(e=>{let t=e.date;u[t]||(u[t]={present:0,absent:0,late:0,total:0}),u[t].total++,"present"===e.status&&u[t].present++,"absent"===e.status&&u[t].absent++,"late"===e.status&&u[t].late++});let p=Object.entries(u).sort(([e],[t])=>e.localeCompare(t)).map(([e,t])=>({date:new Date(e).toLocaleDateString("fr-FR",{day:"2-digit",month:"short"}),présent:t.present,absent:t.absent,retard:t.late,taux:t.total>0?Math.round((t.present+t.late)/t.total*100):0})),m={};return i.forEach(e=>{let t=e.student_id;t&&(m[t]||(m[t]={student:e.students,present:0,absent:0,late:0,total:0}),m[t].total++,"present"===e.status&&m[t].present++,"absent"===e.status&&m[t].absent++,"late"===e.status&&m[t].late++)}),{total:s,present:o,absent:l,late:d,excused:c,attendanceRate:s>0?(o+d+c)/s*100:0,dailyData:p,studentData:Object.values(m).map(e=>({student:e.student,present:e.present,absent:e.absent,late:e.late,total:e.total,rate:e.total>0?Math.round((e.present+e.late)/e.total*100):0})).sort((e,t)=>t.rate-e.rate)}},enabled:!!e?.organization_id&&"monthly"===H}),{data:el}=(0,r.useQuery)({queryKey:["yearly-attendance-report",e?.organization_id,V],queryFn:async()=>{if(!e?.organization_id||"yearly"!==H)return null;let t=`${V}-01-01`,a=`${V}-12-31`,{data:r,error:n}=await z.from("attendance").select("date, status").eq("organization_id",e.organization_id).gte("date",t).lte("date",a);if(n)throw n;let i=r||[],s=i.length,o=i.filter(e=>"present"===e.status).length,l=i.filter(e=>"absent"===e.status).length,d=i.filter(e=>"late"===e.status).length,c={};return i.forEach(e=>{if(e.date){let t=new Date(e.date),a=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`;c[a]||(c[a]={present:0,absent:0,late:0,total:0}),c[a].total++,"present"===e.status&&c[a].present++,"absent"===e.status&&c[a].absent++,"late"===e.status&&c[a].late++}}),{total:s,present:o,absent:l,late:d,attendanceRate:s>0?(o+d)/s*100:0,monthlyData:Object.entries(c).sort(([e],[t])=>e.localeCompare(t)).map(([e,t])=>({month:new Date(e+"-01").toLocaleDateString("fr-FR",{month:"long",year:"numeric"}),présent:t.present,absent:t.absent,retard:t.late,taux:t.total>0?Math.round((t.present+t.late)/t.total*100):0}))}},enabled:!!e?.organization_id&&"yearly"===H}),ed=e=>{switch(e){case"present":return"Présent";case"absent":return"Absent";case"late":return"En retard";case"excused":return"Justifié";default:return e}},ec=e=>{switch(e){case"present":return"bg-brand-blue-ghost text-brand-blue border-brand-blue/20";case"absent":return"bg-red-50 text-red-600 border-red-100";case"late":return"bg-brand-cyan-ghost text-brand-cyan border-brand-cyan/20";case"excused":return"bg-blue-50 text-blue-600 border-blue-100";default:return"bg-gray-50 text-gray-600 border-gray-100"}},eu=async e=>{if(!es||0===es.length)return void alert("Aucun émargement à exporter");try{let t=es.map(e=>{let t=e.students,a=e.sessions,r=a?.formations,n=r?.programs;return{Date:(0,C.formatDate)(e.date),Élève:`${t?.first_name||""} ${t?.last_name||""}`.trim(),Numéro:t?.student_number||"",Session:a?.name||"",Formation:r?.name||"",Programme:n?.name||"",Statut:ed(e.status),"Retard (min)":e.late_minutes||0,Notes:e.notes||""}});"xlsx"===e?await (0,_.exportToExcel)({filename:`emargements_${new Date().toISOString().split("T")[0]}.xlsx`,sheetName:"Émargements",columns:[{header:"Date",key:"Date",width:12},{header:"Élève",key:"Élève",width:20},{header:"Numéro",key:"Numéro",width:15},{header:"Session",key:"Session",width:30},{header:"Formation",key:"Formation",width:25},{header:"Programme",key:"Programme",width:25},{header:"Statut",key:"Statut",width:12},{header:"Retard (min)",key:"Retard (min)",width:12},{header:"Notes",key:"Notes",width:30}],data:t}):(0,_.exportToCSV)(`emargements_${new Date().toISOString().split("T")[0]}.csv`,t),alert(`Export ${e.toUpperCase()} r\xe9ussi ! ${t.length} \xe9margement(s) export\xe9(s).`)}catch(e){console.error("Erreur lors de l'export:",e),alert("Erreur lors de l'export des données")}},ep={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:[.16,1,.3,1]}}};return(0,t.jsxs)(O.motion.div,{className:"space-y-8 pb-8 max-w-[1600px] mx-auto",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"visible",children:[(0,t.jsx)(O.motion.div,{variants:ep,className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-6",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-3",children:[(0,t.jsx)(O.motion.div,{className:"p-3 bg-gradient-to-br from-brand-blue to-brand-cyan rounded-2xl shadow-lg shadow-brand-blue/20",whileHover:{scale:1.1,rotate:5},transition:{type:"spring",stiffness:400,damping:10},children:(0,t.jsx)(v.ClipboardCheck,{className:"h-8 w-8 text-white"})}),(0,t.jsx)("h1",{className:"text-4xl md:text-6xl font-display font-bold text-gray-900 tracking-tighter leading-none",children:"Présences"}),ea&&ea.total>0&&(0,t.jsx)(O.motion.span,{className:"px-3 py-1.5 bg-brand-blue-ghost text-brand-blue rounded-full text-sm font-bold flex items-center gap-2 shadow-sm",whileHover:{scale:1.1},transition:{type:"spring",stiffness:400,damping:10},children:ea.total})]}),(0,t.jsx)("p",{className:"text-gray-600 font-medium text-lg tracking-tight",children:"Suivi détaillé des présences, retards et absences"})]})}),(0,t.jsxs)(O.motion.div,{variants:ep,className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(l.Calendar,{className:"h-5 w-5 text-gray-400"}),(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:["Statistiques de toutes les séances du ",(0,t.jsx)("span",{className:"font-semibold text-gray-900",children:(0,C.formatDate)(L)})]})]}),(0,t.jsxs)(s.Button,{variant:"outline",size:"sm",onClick:()=>er(),className:"flex items-center gap-2",children:[(0,t.jsx)(b.RefreshCw,{className:"h-4 w-4"}),"Actualiser"]})]}),en?(0,t.jsx)(o.GlassCard,{variant:"default",className:"p-8 text-center",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,t.jsx)(b.RefreshCw,{className:"h-5 w-5 animate-spin text-brand-blue"}),(0,t.jsx)("span",{className:"text-gray-600",children:"Chargement des statistiques..."})]})}):ea?(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{title:"Total émargements",value:ea.total,icon:d.Users,iconBg:"bg-gradient-to-br from-brand-blue to-brand-blue-dark",cardBg:"bg-gradient-to-br from-brand-blue/5 via-brand-blue/10 to-brand-cyan/5",borderColor:"border-brand-blue/20",glowColor:"rgba(39, 68, 114, 0.15)"},{title:"Présents",value:ea.present,icon:g.UserCheck,iconBg:"bg-gradient-to-br from-emerald-500 to-emerald-600",cardBg:"bg-gradient-to-br from-emerald-50 via-emerald-100/50 to-teal-50",borderColor:"border-emerald-200",glowColor:"rgba(16, 185, 129, 0.15)",highlight:ea.present>0},{title:"Absents",value:ea.absent,icon:y.UserX,iconBg:"bg-gradient-to-br from-red-500 to-red-600",cardBg:"bg-gradient-to-br from-red-50 via-red-100/50 to-pink-50",borderColor:"border-red-200",glowColor:"rgba(239, 68, 68, 0.15)"},{title:"En retard",value:ea.late,icon:c.Clock,iconBg:"bg-gradient-to-br from-brand-cyan to-brand-cyan-dark",cardBg:"bg-gradient-to-br from-brand-cyan/5 via-brand-cyan/10 to-brand-blue/5",borderColor:"border-brand-cyan/20",glowColor:"rgba(52, 185, 238, 0.15)"},{title:"Justifiés",value:ea.excused,icon:x.UserMinus,iconBg:"bg-gradient-to-br from-blue-500 to-blue-600",cardBg:"bg-gradient-to-br from-blue-50 via-blue-100/50 to-indigo-50",borderColor:"border-blue-200",glowColor:"rgba(59, 130, 246, 0.15)"},{title:"Taux présence",value:`${ea.attendanceRate.toFixed(1)}%`,icon:N,iconBg:"bg-gradient-to-br from-brand-blue-light to-brand-cyan",cardBg:"bg-gradient-to-br from-brand-blue-pale/30 via-brand-blue-pale/50 to-brand-cyan-pale/30",borderColor:"border-brand-blue-light/20",glowColor:"rgba(75, 116, 157, 0.15)"}].map((e,a)=>(0,t.jsx)(O.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.05*a,ease:[.16,1,.3,1]},whileHover:{y:-6,scale:1.02},className:"group relative",children:(0,t.jsxs)("div",{className:(0,C.cn)("relative overflow-hidden rounded-2xl p-6 border-2 transition-all duration-500 shadow-lg hover:shadow-2xl",e.cardBg,e.borderColor,e.highlight&&"ring-2 ring-emerald-500/20 animate-pulse-premium"),style:{boxShadow:`0 10px 40px -10px ${e.glowColor}, 0 0 0 1px rgba(255, 255, 255, 0.1)`},children:[(0,t.jsx)(O.motion.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent",initial:{x:"-100%"},whileHover:{x:"100%"},transition:{duration:.6,ease:"easeInOut"}}),(0,t.jsxs)("div",{className:"relative z-10",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsx)(O.motion.div,{className:(0,C.cn)("p-3.5 rounded-2xl shadow-xl",e.iconBg),whileHover:{rotate:12,scale:1.15},transition:{type:"spring",stiffness:500,damping:15},children:(0,t.jsx)(e.icon,{className:"h-6 w-6 text-white"})}),(0,t.jsxs)(O.motion.div,{className:"text-right",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.05*a+.2,duration:.5},children:[(0,t.jsx)("div",{className:"text-4xl font-display font-bold tracking-tighter text-gray-900 leading-none mb-1",children:e.value}),(0,t.jsx)("p",{className:"text-xs font-bold text-gray-600 uppercase tracking-widest",children:e.title})]})]}),(0,t.jsx)(O.motion.div,{className:"h-1.5 rounded-full mt-4",style:{background:e.iconBg.replace("bg-gradient-to-br","linear-gradient(to right,")},initial:{scaleX:0},animate:{scaleX:1},transition:{delay:.05*a+.3,duration:.6,ease:[.16,1,.3,1]}})]}),(0,t.jsx)("div",{className:"absolute inset-0 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500",style:{background:`radial-gradient(circle at 50% 50%, ${e.glowColor} 0%, transparent 70%)`}})]})},e.title))}):(0,t.jsxs)(o.GlassCard,{variant:"default",className:"p-8 text-center",children:[(0,t.jsx)(u.AlertCircle,{className:"h-8 w-8 text-gray-400 mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-gray-600 font-medium mb-2",children:"Aucune statistique disponible"}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["Aucun émargement trouvé pour le ",(0,C.formatDate)(L)]}),(0,t.jsxs)(s.Button,{variant:"outline",size:"sm",onClick:()=>er(),className:"mt-4",children:[(0,t.jsx)(b.RefreshCw,{className:"h-4 w-4 mr-2"}),"Réessayer"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsx)(O.motion.div,{variants:ep,className:"lg:col-span-2",children:(0,t.jsxs)(o.GlassCard,{variant:"premium",className:"p-6 h-full flex flex-col justify-center border-2 border-transparent hover:border-brand-blue/10 transition-all duration-500",children:[(0,t.jsxs)("h3",{className:"text-xl font-display font-bold text-gray-900 mb-4 flex items-center gap-3 tracking-tight",children:[(0,t.jsx)(O.motion.div,{className:"p-2 bg-gradient-to-br from-brand-blue to-brand-cyan rounded-xl shadow-md",whileHover:{rotate:5,scale:1.1},transition:{type:"spring",stiffness:400,damping:10},children:(0,t.jsx)(l.Calendar,{className:"h-5 w-5 text-white"})}),"Émargement Rapide"]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-1.5 block",children:"Date"}),(0,t.jsx)("input",{type:"date",value:L,onChange:e=>B(e.target.value),className:"w-full px-4 py-2.5 rounded-xl bg-gray-50 border-transparent focus:bg-white focus:border-brand-blue/20 focus:ring-4 focus:ring-brand-blue/10 transition-all outline-none text-sm"})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-1.5 block",children:"Session"}),(0,t.jsxs)("select",{value:R,onChange:e=>{F(e.target.value),q("")},className:"w-full px-4 py-2.5 rounded-xl bg-gray-50 border-transparent focus:bg-white focus:border-brand-blue/20 focus:ring-4 focus:ring-brand-blue/10 transition-all outline-none text-sm",children:[(0,t.jsx)("option",{value:"",children:"Choisir une session..."}),Z?.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),R&&ee&&ee.length>0&&(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-1.5 block",children:"Séance"}),(0,t.jsxs)("select",{value:M,onChange:e=>{q(e.target.value);let t=ee?.find(t=>t.id===e.target.value);t&&B(t.date)},className:"w-full px-4 py-2.5 rounded-xl bg-gray-50 border-transparent focus:bg-white focus:border-brand-blue/20 focus:ring-4 focus:ring-brand-blue/10 transition-all outline-none text-sm",children:[(0,t.jsx)("option",{value:"",children:"Choisir une séance..."}),ee.map(e=>{let a=new Date(e.date).toLocaleDateString("fr-FR",{weekday:"short",day:"2-digit",month:"short"}),r="morning"===e.time_slot?"Matin":"afternoon"===e.time_slot?"Après-midi":"Journée";return(0,t.jsxs)("option",{value:e.id,children:[a," - ",r," (",e.start_time," - ",e.end_time,")"]},e.id)})]})]}),(0,t.jsx)("div",{className:"flex items-end",children:(0,t.jsx)(O.motion.div,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.98},children:(0,t.jsxs)(s.Button,{disabled:!R,onClick:()=>Y(!0),className:"w-full sm:w-auto h-[42px] bg-gradient-to-br from-brand-blue to-brand-cyan text-white hover:from-brand-blue-dark hover:to-brand-cyan-dark shadow-xl shadow-brand-blue/20 hover:shadow-2xl hover:shadow-brand-cyan/30 transition-all duration-500 font-semibold tracking-tight",children:["Lancer l'appel",(0,t.jsx)(f.ArrowRight,{className:"ml-2 h-4 w-4"})]})})})]})]})}),(0,t.jsx)(O.motion.div,{variants:ep,children:(0,t.jsxs)(o.GlassCard,{variant:"premium",className:"p-6 h-full flex flex-col justify-center border-2 border-transparent hover:border-brand-cyan/10 transition-all duration-500",children:[(0,t.jsxs)("h3",{className:"text-xl font-display font-bold text-gray-900 mb-4 flex items-center gap-3 tracking-tight",children:[(0,t.jsx)(O.motion.div,{className:"p-2 bg-gradient-to-br from-brand-cyan to-brand-blue rounded-xl shadow-md",whileHover:{rotate:-5,scale:1.1},transition:{type:"spring",stiffness:400,damping:10},children:(0,t.jsx)(h.FileText,{className:"h-5 w-5 text-white"})}),"Rapports"]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("select",{value:H,onChange:e=>K(e.target.value),className:"flex-1 px-4 py-2.5 rounded-xl bg-gray-50 border-transparent focus:bg-white focus:border-brand-blue/20 focus:ring-4 focus:ring-brand-blue/10 transition-all outline-none text-sm",children:[(0,t.jsx)("option",{value:"monthly",children:"Mensuel"}),(0,t.jsx)("option",{value:"yearly",children:"Annuel"})]}),"monthly"===H?(0,t.jsx)("input",{type:"month",value:U,onChange:e=>G(e.target.value),className:"flex-1 px-4 py-2.5 rounded-xl bg-gray-50 border-transparent focus:bg-white focus:border-brand-blue/20 focus:ring-4 focus:ring-brand-blue/10 transition-all outline-none text-sm"}):(0,t.jsx)("select",{value:V,onChange:e=>W(e.target.value),className:"flex-1 px-4 py-2.5 rounded-xl bg-gray-50 border-transparent focus:bg-white focus:border-brand-blue/20 focus:ring-4 focus:ring-brand-blue/10 transition-all outline-none text-sm",children:Array.from({length:5},(e,a)=>{let r=new Date().getFullYear()-a;return(0,t.jsx)("option",{value:r.toString(),children:r},r)})})]}),(0,t.jsxs)(s.Button,{variant:"outline",className:"w-full",onClick:()=>eu("xlsx"),children:[(0,t.jsx)(m.Download,{className:"mr-2 h-4 w-4"}),"Exporter les données"]})]})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[ei&&ei.dailyData.length>0&&(0,t.jsx)(O.motion.div,{variants:ep,className:"h-full",children:(0,t.jsxs)(o.GlassCard,{variant:"premium",className:"p-6 h-full border-2 border-transparent hover:border-brand-blue/10 transition-all duration-500",children:[(0,t.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,t.jsxs)("h3",{className:"text-lg font-display font-bold text-gray-900 flex items-center gap-3 tracking-tight",children:[(0,t.jsx)(O.motion.div,{className:"p-2 bg-gradient-to-br from-brand-blue to-brand-cyan rounded-xl shadow-md",whileHover:{rotate:5,scale:1.1},transition:{type:"spring",stiffness:400,damping:10},children:(0,t.jsx)(p.TrendingUp,{className:"h-5 w-5 text-white"})}),"Évolution de la présence"]}),(0,t.jsxs)("select",{value:I,onChange:e=>$(e.target.value),className:"text-xs font-medium bg-gray-100 border-none rounded-lg px-2 py-1 cursor-pointer hover:bg-gray-200 transition-colors",children:[(0,t.jsx)("option",{value:"week",children:"7 jours"}),(0,t.jsx)("option",{value:"month",children:"Mois"}),(0,t.jsx)("option",{value:"quarter",children:"Trimestre"})]})]}),(0,t.jsx)("div",{className:"h-[300px]",children:(0,t.jsx)(D.PremiumLineChart,{data:ei.dailyData,dataKey:"taux",xAxisKey:"date",color:"#3B82F6",gradientColors:{from:"#3B82F6",to:"#60A5FA"},showArea:!0,variant:"default",className:"h-full !p-0 !bg-transparent !border-none !shadow-none",valueFormatter:e=>`${e}%`})})]})}),ea&&ea.statusData&&ea.statusData.length>0&&(0,t.jsx)(O.motion.div,{variants:ep,className:"h-full",children:(0,t.jsxs)(o.GlassCard,{variant:"premium",className:"p-6 h-full border-2 border-transparent hover:border-brand-cyan/10 transition-all duration-500",children:[(0,t.jsx)("div",{className:"mb-6 flex items-center justify-between",children:(0,t.jsxs)("h3",{className:"text-lg font-display font-bold text-gray-900 flex items-center gap-3 tracking-tight",children:[(0,t.jsx)(O.motion.div,{className:"p-2 bg-gradient-to-br from-brand-cyan to-brand-blue rounded-xl shadow-md",whileHover:{rotate:-5,scale:1.1},transition:{type:"spring",stiffness:400,damping:10},children:(0,t.jsx)(d.Users,{className:"h-5 w-5 text-white"})}),"Répartition du jour"]})}),(0,t.jsx)("div",{className:"h-[300px]",children:(0,t.jsx)(P.PremiumPieChart,{data:ea.statusData,colors:ea.statusData.map(e=>e.color),variant:"default",className:"h-full !p-0 !bg-transparent !border-none !shadow-none",innerRadius:70})})]})})]}),(0,t.jsx)(O.motion.div,{variants:ep,children:(0,t.jsxs)(o.GlassCard,{variant:"premium",className:"overflow-hidden p-0 border-2 border-transparent hover:border-brand-blue/10 transition-all duration-500",children:[(0,t.jsx)("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between",children:(0,t.jsxs)("h3",{className:"text-xl font-display font-bold text-gray-900 flex items-center gap-3 tracking-tight",children:[(0,t.jsx)(O.motion.div,{className:"p-2 bg-gradient-to-br from-gray-600 to-gray-700 rounded-xl shadow-md",whileHover:{rotate:5,scale:1.1},transition:{type:"spring",stiffness:400,damping:10},children:(0,t.jsx)(c.Clock,{className:"h-5 w-5 text-white"})}),"Derniers émargements"]})}),(0,t.jsx)("div",{className:"divide-y divide-gray-100",children:es&&es.length>0?es.slice(0,10).map((e,a)=>{let r=e.students,n=e.sessions;return n?.formations,(0,t.jsxs)(O.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*a,duration:.5,ease:[.16,1,.3,1]},whileHover:{x:4,backgroundColor:"rgba(249, 250, 251, 0.5)"},className:"p-4 transition-all flex items-center justify-between group",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:(0,C.cn)("h-10 w-10 rounded-full flex items-center justify-center transition-colors",ec(e.status).replace("border-","").replace("text-","bg-opacity-20 text-")),children:(e=>{switch(e){case"present":return(0,t.jsx)(g.UserCheck,{className:"h-5 w-5"});case"absent":return(0,t.jsx)(y.UserX,{className:"h-5 w-5"});case"late":return(0,t.jsx)(c.Clock,{className:"h-5 w-5"});case"excused":return(0,t.jsx)(x.UserMinus,{className:"h-5 w-5"});default:return null}})(e.status)}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"font-display font-bold text-gray-900 tracking-tight",children:[r?.first_name," ",r?.last_name]}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 flex items-center gap-2 font-medium tracking-tight",children:[(0,t.jsx)("span",{className:"font-semibold text-brand-blue/80",children:n?.name}),(0,t.jsx)("span",{className:"w-1 h-1 rounded-full bg-gray-300"}),(0,t.jsx)("span",{children:(0,C.formatDate)(e.date)})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[e.late_minutes&&e.late_minutes>0&&(0,t.jsxs)("span",{className:"text-sm font-medium text-brand-cyan bg-brand-cyan-ghost px-2 py-1 rounded-md",children:["+",e.late_minutes," min"]}),(0,t.jsx)("span",{className:(0,C.cn)("px-3 py-1 rounded-full text-xs font-medium border",ec(e.status)),children:ed(e.status)})]})]},e.id)}):(0,t.jsx)("div",{className:"p-8 text-center text-gray-500",children:"Aucun émargement récent"})}),(0,t.jsx)("div",{className:"p-4 border-t border-gray-100 bg-gray-50/30 text-center",children:(0,t.jsx)(S.default,{href:"/dashboard/attendance/history",children:(0,t.jsx)(O.motion.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"inline-block",children:(0,t.jsxs)(s.Button,{variant:"ghost",className:"text-sm font-semibold text-brand-blue hover:text-brand-blue/80 hover:bg-brand-blue-ghost tracking-tight",children:["Voir tout l'historique",es&&es.length>10&&(0,t.jsxs)("span",{className:"ml-2 text-xs opacity-70 font-medium",children:["(",es.length," résultats)"]}),(0,t.jsx)(j.ArrowUpRight,{className:"ml-2 h-4 w-4"})]})})})})]})}),(0,t.jsx)(E.Dialog,{open:X,onOpenChange:Y,children:(0,t.jsxs)(E.DialogContent,{className:"sm:max-w-[500px]",children:[(0,t.jsxs)(E.DialogHeader,{children:[(0,t.jsx)(E.DialogTitle,{children:"Choisissez le mode d'émargement"}),(0,t.jsx)(E.DialogDescription,{children:"Sélectionnez comment vous souhaitez effectuer l'appel pour cette session"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4 py-4",children:[(0,t.jsx)(O.motion.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{let e=`/dashboard/attendance/session/${R}?date=${L}${M?`&slotId=${M}`:""}`;w.push(e),Y(!1)},className:"cursor-pointer p-6 border-2 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-all",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-blue-100 rounded-lg",children:(0,t.jsx)(k,{className:"h-6 w-6 text-blue-600"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg mb-2",children:"Émargement manuel"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Cochez directement les présences, absences et retards depuis l'interface. Idéal pour les formations en présentiel avec contrôle direct."})]})]})}),(0,t.jsx)(O.motion.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{let e=`/dashboard/sessions/${R}?step=suivi`;w.push(e),Y(!1)},className:"cursor-pointer p-6 border-2 rounded-lg hover:border-green-500 hover:bg-green-50 transition-all",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-green-100 rounded-lg",children:(0,t.jsx)(A.Mail,{className:"h-6 w-6 text-green-600"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg mb-2",children:"Émargement numérique"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Envoyez automatiquement des demandes d'émargement par email avec signature électronique. Support de la géolocalisation pour valider la présence physique."})]})]})})]})]})})]})}e.s(["default",()=>z],14935)}]);