(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,871689,e=>{"use strict";let t=(0,e.i(475254).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],871689)},422845,e=>{"use strict";var t=e.i(843476),s=e.i(271645),r=e.i(618566),a=e.i(266027),n=e.i(325715),c=e.i(970065),l=e.i(167881),i=e.i(23750),o=e.i(555436),d=e.i(178583),u=e.i(871689),h=e.i(522016);function m(){let e=(0,r.useSearchParams)(),m=(0,r.useRouter)(),{user:x}=(0,n.useAuth)(),[p,f]=(0,s.useState)(e.get("q")||""),{data:j,isLoading:g}=(0,a.useQuery)({queryKey:["documentation-search",p,x?.organization_id],queryFn:async()=>{if(!p.trim())return{results:[],count:0};let e=await fetch(`/api/documentation/search?q=${encodeURIComponent(p)}&organization_id=${x?.organization_id||""}`);if(!e.ok)throw Error("Erreur lors de la recherche");return e.json()},enabled:!!p.trim()&&!!x?.organization_id});return(0,t.jsxs)("div",{className:"container mx-auto py-8 px-4 max-w-5xl",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)(h.default,{href:"/dashboard/documentation",children:(0,t.jsxs)(l.Button,{variant:"ghost",size:"sm",className:"mb-4",children:[(0,t.jsx)(u.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Retour à la documentation"]})}),(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Recherche"})]}),(0,t.jsx)(c.Card,{className:"mb-6",children:(0,t.jsx)(c.CardContent,{className:"pt-6",children:(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),p.trim()&&m.push(`/dashboard/documentation/search?q=${encodeURIComponent(p)}`)},className:"flex gap-2",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(o.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"}),(0,t.jsx)(i.Input,{type:"text",placeholder:"Rechercher dans la documentation...",value:p,onChange:e=>f(e.target.value),className:"pl-10"})]}),(0,t.jsx)(l.Button,{type:"submit",disabled:g,children:g?"Recherche...":"Rechercher"})]})})}),g&&(0,t.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:"Recherche en cours..."}),!g&&j&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-sm text-muted-foreground mb-4",children:[j.count," résultat",1!==j.count?"s":""," trouvé",1!==j.count?"s":""]}),j.results&&j.results.length>0?(0,t.jsx)("div",{className:"space-y-4",children:j.results.map(e=>(0,t.jsx)(c.Card,{className:"hover:shadow-lg transition-shadow",children:(0,t.jsx)(h.default,{href:`/dashboard/documentation/${e.category.slug}/${e.slug}`,children:(0,t.jsx)(c.CardContent,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)(d.FileText,{className:"h-5 w-5 text-primary mt-1 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg mb-2",children:e.title}),e.excerpt&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:e.excerpt}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[(0,t.jsx)("span",{children:e.category.name}),(0,t.jsxs)("span",{children:[e.view_count," vues"]})]})]})]})})})},e.id))}):(0,t.jsx)(c.Card,{children:(0,t.jsxs)(c.CardContent,{className:"pt-6 text-center text-muted-foreground",children:['Aucun résultat trouvé pour "',p,'"']})})]})]})}e.s(["default",()=>m])}]);