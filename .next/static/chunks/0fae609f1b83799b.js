(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,107233,e=>{"use strict";let t=(0,e.i(475254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],107233)},231702,e=>{"use strict";var t=e.i(843476),s=e.i(266027),n=e.i(325715),r=e.i(920755),a=e.i(618566),i=e.i(970065),l=e.i(167881),d=e.i(178583),c=e.i(440160),u=e.i(107233);function o(){let{user:e}=(0,n.useAuth)(),o=(0,r.createClient)(),m=(0,a.useRouter)(),x=()=>{m.push("/dashboard/documents/generate?type=report_card")},{data:h,isLoading:j}=(0,s.useQuery)({queryKey:["report-cards",e?.organization_id],queryFn:async()=>{if(!e?.organization_id)return[];let{data:t,error:s}=await o.from("documents").select("*, students(*)").eq("organization_id",e.organization_id).eq("type","report_card").order("created_at",{ascending:!1});return s?(console.error("Erreur lors de la récupération des bulletins:",s),[]):t||[]},enabled:!!e?.organization_id});return(0,t.jsxs)("div",{className:"container mx-auto py-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-text-primary",children:"Bulletins de notes"}),(0,t.jsx)("p",{className:"text-text-tertiary mt-1",children:"Gérez et consultez les bulletins de notes des élèves"})]}),(0,t.jsxs)(l.Button,{onClick:x,children:[(0,t.jsx)(u.Plus,{className:"h-4 w-4 mr-2"}),"Nouveau bulletin"]})]}),j?(0,t.jsx)("div",{className:"text-center py-12",children:(0,t.jsx)("p",{className:"text-text-tertiary",children:"Chargement..."})}):h&&0!==h.length?(0,t.jsx)("div",{className:"grid gap-4",children:h.map(e=>(0,t.jsxs)(i.Card,{children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(i.CardTitle,{className:"text-lg",children:[e.students?.first_name," ",e.students?.last_name]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)(l.Button,{variant:"outline",size:"sm",children:[(0,t.jsx)(c.Download,{className:"h-4 w-4 mr-2"}),"Télécharger"]})})]})}),(0,t.jsx)(i.CardContent,{children:(0,t.jsxs)("div",{className:"space-y-2 text-sm text-text-tertiary",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Élève:"})," ",e.students?.first_name," ",e.students?.last_name]}),e.students?.student_number&&(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Numéro d'élève:"})," ",e.students.student_number]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Date de création:"})," ",new Date(e.created_at).toLocaleDateString("fr-FR")]}),e.title&&(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Titre:"})," ",e.title]})]})})]},e.id))}):(0,t.jsx)(i.Card,{children:(0,t.jsxs)(i.CardContent,{className:"flex flex-col items-center justify-center py-12",children:[(0,t.jsx)(d.FileText,{className:"h-12 w-12 text-gray-400 mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-text-primary mb-2",children:"Aucun bulletin de notes"}),(0,t.jsx)("p",{className:"text-text-tertiary text-center mb-4",children:"Commencez par créer un nouveau bulletin de notes pour un élève."}),(0,t.jsxs)(l.Button,{onClick:x,children:[(0,t.jsx)(u.Plus,{className:"h-4 w-4 mr-2"}),"Créer un bulletin"]})]})})]})}e.s(["default",()=>o])}]);