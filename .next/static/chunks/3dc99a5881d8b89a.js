(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,107233,e=>{"use strict";let t=(0,e.i(475254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],107233)},871689,e=>{"use strict";let t=(0,e.i(475254).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],871689)},503116,e=>{"use strict";let t=(0,e.i(475254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],503116)},683909,e=>{"use strict";var t=e.i(920755);let s=new class{supabase;constructor(e){this.supabase=e||(0,t.createClient)()}async getAllPrograms(e,t){let s=this.supabase.from("programs").select("*").eq("organization_id",e);t?.isActive!==void 0&&(s=s.eq("is_active",t.isActive)),t?.search&&(s=s.or(`name.ilike.%${t.search}%,code.ilike.%${t.search}%,description.ilike.%${t.search}%`));let{data:r,error:a}=await s.order("created_at",{ascending:!1});if(a)throw a;return r}async getProgramById(e){let{data:t,error:s}=await this.supabase.from("programs").select(`
        *,
        formations(*)
      `).eq("id",e).single();if(s)throw s;return t}async createProgram(e){let{data:t,error:s}=await this.supabase.from("programs").insert(e).select().single();if(s)throw s;return t}async updateProgram(e,t){let{data:s,error:r}=await this.supabase.from("programs").update(t).eq("id",e).select().single();if(r)throw r;return s}async deleteProgram(e){return this.updateProgram(e,{is_active:!1})}async getFormationsByProgram(e){let{data:t,error:s}=await this.supabase.from("formations").select("*").eq("program_id",e).order("created_at",{ascending:!1});if(s)throw s;return t}async getGlobalStats(e){let{data:t,error:s}=await this.supabase.from("programs").select("id, is_active, created_at").eq("organization_id",e);if(s)throw s;let r=t||[],a=r.length,i=r.filter(e=>e.is_active).length,n=r.filter(e=>!e.is_active).length,l=0,o=r.map(e=>e.id);if(o.length>0){let{count:e,error:t}=await this.supabase.from("formations").select("*",{count:"exact",head:!0}).in("program_id",o);if(t)throw t;l=e||0}let d=0;if(o.length>0){let{data:e,error:t}=await this.supabase.from("formations").select("id").in("program_id",o);if(t)throw t;let s=e?.map(e=>e.id)||[];if(s.length>0){let{count:e,error:t}=await this.supabase.from("sessions").select("*",{count:"exact",head:!0}).in("formation_id",s);if(t)throw t;d=e||0}}let c=0;if(o.length>0){let{data:e,error:t}=await this.supabase.from("formations").select("id").in("program_id",o);if(t)throw t;let s=e?.map(e=>e.id)||[];if(s.length>0){let{data:e,error:t}=await this.supabase.from("sessions").select("id").in("formation_id",s);if(t)throw t;let r=e?.map(e=>e.id)||[];if(r.length>0){let{count:e,error:t}=await this.supabase.from("enrollments").select("*",{count:"exact",head:!0}).in("session_id",r);if(t)throw t;c=e||0}}}let u=[{name:"Actifs",value:i,color:"#335ACF"},{name:"Inactifs",value:n,color:"#6B7280"}].filter(e=>e.value>0),m={};return r.forEach(e=>{if(e.created_at){let t=new Date(e.created_at),s=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`;m[s]=(m[s]||0)+1}}),{total:a,active:i,inactive:n,totalFormations:l,totalSessions:d,totalEnrollments:c,statusData:u,monthlyData:Object.entries(m).sort(([e],[t])=>e.localeCompare(t)).slice(-6).map(([e,t])=>({month:new Date(e+"-01").toLocaleDateString("fr-FR",{month:"short",year:"numeric"}),programmes:t}))}}};e.s(["programService",0,s])},879002,e=>{"use strict";let t=(0,e.i(475254).default)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);e.s(["UserPlus",()=>t],879002)},284697,e=>{"use strict";var t=e.i(843476),s=e.i(271645),r=e.i(618566),a=e.i(266027),i=e.i(954616),n=e.i(912598),l=e.i(920755),o=e.i(683909),d=e.i(325715),c=e.i(167881),u=e.i(970065),m=e.i(871689),p=e.i(107233),h=e.i(87316),x=e.i(503116),g=e.i(346897),f=e.i(761911),y=e.i(37727),v=e.i(879002),j=e.i(522016),b=e.i(647163);function _(){let e=(0,r.useParams)();(0,r.useRouter)();let _=e.id,N=(0,l.createClient)(),w=(0,n.useQueryClient)(),{user:C}=(0,d.useAuth)(),[S,q]=(0,s.useState)(!1),[k,P]=(0,s.useState)(null),[E,F]=(0,s.useState)({student_id:"",enrollment_date:new Date().toISOString().split("T")[0],status:"confirmed",payment_status:"pending",total_amount:"",paid_amount:"0"}),{data:A}=(0,a.useQuery)({queryKey:["program",_],queryFn:()=>o.programService.getProgramById(_)}),{data:z,isLoading:D,refetch:B}=(0,a.useQuery)({queryKey:["program-sessions",_],queryFn:async()=>{let{data:e}=await N.from("formations").select("id").eq("program_id",_);if(!e||0===e.length)return[];let t=e.map(e=>e.id),{data:s,error:r}=await N.from("sessions").select("*, formations(*, programs(*))").in("formation_id",t).order("start_date",{ascending:!1});if(r)throw r;return s||[]}}),{data:T}=(0,a.useQuery)({queryKey:["teachers"],queryFn:async()=>{let{data:e,error:t}=await N.from("users").select("id, full_name").eq("role","teacher").eq("is_active",!0);if(t)throw t;return e||[]}}),{data:K}=(0,a.useQuery)({queryKey:["students",C?.organization_id],queryFn:async()=>{if(!C?.organization_id)return[];let{data:e,error:t}=await N.from("students").select("id, first_name, last_name, student_number, email").eq("organization_id",C.organization_id).eq("status","active").order("last_name",{ascending:!0});if(t)throw t;return e||[]},enabled:!!C?.organization_id}),{data:Q}=(0,a.useQuery)({queryKey:["enrollments-for-session",k],queryFn:async()=>{if(!k)return[];let{data:e,error:t}=await N.from("enrollments").select("student_id").eq("session_id",k);if(t)throw t;return e||[]},enabled:!!k&&S}),I=K?.filter(e=>!Q?.some(t=>t.student_id===e.id))||[],[M,$]=(0,s.useState)(!1),[U,L]=(0,s.useState)({name:"",start_date:"",end_date:"",start_time:"",end_time:"",teacher_id:"",location:"",capacity_max:""}),O=(0,i.useMutation)({mutationFn:async()=>{throw Error("Cette fonctionnalité doit être utilisée via /dashboard/formations/[id]/sessions")},onSuccess:()=>{$(!1),L({name:"",start_date:"",end_date:"",start_time:"",end_time:"",teacher_id:"",location:"",capacity_max:""}),w.invalidateQueries({queryKey:["program-sessions",_]}),B()},onError:e=>{console.error("Erreur lors de la création de la session:",e)}}),H=(0,i.useMutation)({mutationFn:async()=>{if(!k||!E.student_id)throw Error("Veuillez sélectionner un élève");console.log("Création d'inscription:",{student_id:E.student_id,session_id:k,enrollment_date:E.enrollment_date,status:E.status,payment_status:E.payment_status,total_amount:parseFloat(E.total_amount)||0,paid_amount:parseFloat(E.paid_amount)||0});try{let{data:e,error:t}=await N.from("enrollments").select("id, status, payment_status").eq("student_id",E.student_id).eq("session_id",k).maybeSingle();if(t&&"PGRST116"!==t.code&&console.error("Erreur lors de la vérification de l'inscription:",t),e)throw Error(`Cet \xe9l\xe8ve est d\xe9j\xe0 inscrit \xe0 cette session. (Statut: ${e.status}, Paiement: ${e.payment_status})`);let{data:s,error:r}=await N.from("enrollments").insert({student_id:E.student_id,session_id:k,enrollment_date:E.enrollment_date,status:E.status,payment_status:E.payment_status,total_amount:parseFloat(E.total_amount)||0,paid_amount:parseFloat(E.paid_amount)||0}).select().single();if(r){if("23505"===r.code)throw Error("Cet élève est déjà inscrit à cette session. Veuillez vérifier les inscriptions existantes.");throw console.error("Erreur lors de la création de l'inscription:",{code:r.code,message:r.message,details:r.details,hint:r.hint}),r}return console.log("Inscription créée avec succès:",s),s}catch(e){throw console.error("Erreur dans createEnrollmentMutation:",e),e}},onSuccess:()=>{w.invalidateQueries({queryKey:["program-sessions",_]}),w.invalidateQueries({queryKey:["enrollments-for-session",k]}),w.invalidateQueries({queryKey:["session-enrollments",k]}),w.invalidateQueries({queryKey:["program-enrollments",_]}),B(),q(!1),P(null),F({student_id:"",enrollment_date:new Date().toISOString().split("T")[0],status:"confirmed",payment_status:"pending",total_amount:A?.price?.toString()||"0",paid_amount:"0"})}});return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(j.default,{href:`/dashboard/programs/${_}`,children:(0,t.jsx)(c.Button,{variant:"ghost",size:"icon",children:(0,t.jsx)(m.ArrowLeft,{className:"h-4 w-4"})})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold text-gray-900",children:["Sessions - ",A?.name]}),(0,t.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Gérez les sessions de cette formation"})]})]}),(0,t.jsxs)(c.Button,{onClick:()=>$(!M),children:[(0,t.jsx)(p.Plus,{className:"mr-2 h-4 w-4"}),"Nouvelle session"]})]}),M&&(0,t.jsxs)(u.Card,{children:[(0,t.jsx)(u.CardHeader,{children:(0,t.jsx)(u.CardTitle,{children:"Nouvelle session"})}),(0,t.jsx)(u.CardContent,{children:(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),O.mutate()},className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Nom de la session *"}),(0,t.jsx)("input",{type:"text",required:!0,value:U.name,onChange:e=>L({...U,name:e.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent min-touch-target",placeholder:"Ex: Session 1 - Janvier 2024"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Lieu/Salle"}),(0,t.jsx)("input",{type:"text",value:U.location,onChange:e=>L({...U,location:e.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent min-touch-target",placeholder:"Ex: Salle A1"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Date de début *"}),(0,t.jsx)("input",{type:"date",required:!0,value:U.start_date,onChange:e=>L({...U,start_date:e.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent min-touch-target"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Date de fin *"}),(0,t.jsx)("input",{type:"date",required:!0,value:U.end_date,onChange:e=>L({...U,end_date:e.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent min-touch-target"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Heure de début"}),(0,t.jsx)("input",{type:"time",value:U.start_time,onChange:e=>L({...U,start_time:e.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent min-touch-target"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Heure de fin"}),(0,t.jsx)("input",{type:"time",value:U.end_time,onChange:e=>L({...U,end_time:e.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent min-touch-target"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Enseignant"}),(0,t.jsxs)("select",{value:U.teacher_id,onChange:e=>L({...U,teacher_id:e.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent min-touch-target",children:[(0,t.jsx)("option",{value:"",children:"Sélectionner un enseignant"}),T?.map(e=>(0,t.jsx)("option",{value:e.id,children:e.full_name},e.id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Capacité maximale"}),(0,t.jsx)("input",{type:"number",value:U.capacity_max,onChange:e=>L({...U,capacity_max:e.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent min-touch-target"})]})]}),O.error&&(0,t.jsxs)("div",{className:"bg-destructive/10 text-destructive px-4 py-3 rounded-lg text-sm space-y-1",children:[(0,t.jsx)("p",{className:"font-semibold",children:"Erreur lors de la création de la session :"}),(0,t.jsx)("p",{children:O.error instanceof Error?O.error.message:"Une erreur est survenue lors de la création de la session"}),O.error&&"code"in O.error&&(0,t.jsxs)("p",{className:"text-xs opacity-75",children:["Code d'erreur: ",String(O.error.code)]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,t.jsx)(c.Button,{type:"button",variant:"outline",onClick:()=>$(!1),children:"Annuler"}),(0,t.jsx)(c.Button,{type:"submit",disabled:O.isPending,children:O.isPending?"Création...":"Créer la session"})]})]})})]}),S&&k&&(0,t.jsxs)(u.Card,{children:[(0,t.jsx)(u.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(u.CardTitle,{children:"Inscrire un élève à la session"}),(0,t.jsx)(c.Button,{variant:"ghost",size:"icon",onClick:()=>q(!1),children:(0,t.jsx)(y.X,{className:"h-4 w-4"})})]})}),(0,t.jsx)(u.CardContent,{children:(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),H.mutate()},className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[(0,t.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,t.jsx)("strong",{children:"Session:"})," ",z?.find(e=>e.id===k)?.name]}),(0,t.jsx)("p",{className:"text-sm text-blue-700 mt-1",children:z?.find(e=>e.id===k)&&(0,t.jsxs)(t.Fragment,{children:[(0,b.formatDate)(z.find(e=>e.id===k).start_date)," -"," ",(0,b.formatDate)(z.find(e=>e.id===k).end_date)]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Élève *"}),(0,t.jsxs)("select",{required:!0,value:E.student_id,onChange:e=>F({...E,student_id:e.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent min-touch-target",children:[(0,t.jsx)("option",{value:"",children:"Sélectionner un élève"}),I.length>0?I.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.first_name," ",e.last_name," (",e.student_number,")"]},e.id)):(0,t.jsx)("option",{value:"",disabled:!0,children:"Aucun élève disponible (tous déjà inscrits ou aucun élève actif)"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Date d'inscription *"}),(0,t.jsx)("input",{type:"date",required:!0,value:E.enrollment_date,onChange:e=>F({...E,enrollment_date:e.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent min-touch-target"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Statut *"}),(0,t.jsxs)("select",{required:!0,value:E.status,onChange:e=>F({...E,status:e.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent min-touch-target",children:[(0,t.jsx)("option",{value:"pending",children:"En attente"}),(0,t.jsx)("option",{value:"confirmed",children:"Confirmée"}),(0,t.jsx)("option",{value:"completed",children:"Terminée"}),(0,t.jsx)("option",{value:"cancelled",children:"Annulée"}),(0,t.jsx)("option",{value:"failed",children:"Échouée"})]})]}),A&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["Montant total (",A.currency||"XOF",") *"]}),(0,t.jsx)("input",{type:"number",required:!0,step:"0.01",min:"0",value:E.total_amount,onChange:e=>F({...E,total_amount:e.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent min-touch-target"})]}),A&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["Montant payé (",A.currency||"XOF",")"]}),(0,t.jsx)("input",{type:"number",step:"0.01",min:"0",value:E.paid_amount,onChange:e=>{let t=e.target.value,s=parseFloat(E.total_amount)||0,r=parseFloat(t)||0,a="pending";r>=s&&s>0?a="paid":r>0&&(a="partial"),F({...E,paid_amount:t,payment_status:a})},className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent min-touch-target"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Statut de paiement"}),(0,t.jsxs)("select",{value:E.payment_status,onChange:e=>F({...E,payment_status:e.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent min-touch-target",children:[(0,t.jsx)("option",{value:"pending",children:"En attente"}),(0,t.jsx)("option",{value:"partial",children:"Partiel"}),(0,t.jsx)("option",{value:"paid",children:"Payé"}),(0,t.jsx)("option",{value:"overdue",children:"En retard"})]})]})]}),H.error&&(0,t.jsxs)("div",{className:"bg-destructive/10 text-destructive px-4 py-3 rounded-lg text-sm space-y-1",children:[(0,t.jsx)("p",{className:"font-semibold",children:"Erreur lors de la création de l'inscription :"}),(0,t.jsx)("p",{children:H.error instanceof Error?H.error.message:"Une erreur est survenue lors de la création de l'inscription"}),H.error&&"code"in H.error&&(0,t.jsxs)("p",{className:"text-xs opacity-75",children:["Code d'erreur: ",String(H.error.code),"42501"===H.error.code&&(0,t.jsxs)("span",{className:"block mt-1",children:["Erreur de sécurité RLS. Assurez-vous d'avoir exécuté le script ",(0,t.jsx)("code",{className:"bg-gray-200 px-1 rounded",children:"supabase/fix_enrollments_rls.sql"})," dans le SQL Editor de Supabase."]}),"23505"===H.error.code&&(0,t.jsx)("span",{className:"block mt-1",children:"❌ Cette inscription existe déjà. Un élève ne peut être inscrit qu'une seule fois à une session."})]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,t.jsx)(c.Button,{type:"button",variant:"outline",onClick:()=>q(!1),children:"Annuler"}),(0,t.jsx)(c.Button,{type:"submit",disabled:H.isPending,children:H.isPending?"Inscription...":"Inscrire l'élève"})]})]})})]}),(0,t.jsxs)(u.Card,{children:[(0,t.jsx)(u.CardHeader,{children:(0,t.jsx)(u.CardTitle,{children:"Liste des sessions"})}),(0,t.jsx)(u.CardContent,{children:D?(0,t.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:"Chargement..."}):z&&z.length>0?(0,t.jsx)("div",{className:"space-y-4",children:z.map(e=>(0,t.jsx)("div",{className:"p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg",children:e.name}),(0,t.jsxs)("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-muted-foreground",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(h.Calendar,{className:"mr-2 h-4 w-4"}),(0,b.formatDate)(e.start_date)," - ",(0,b.formatDate)(e.end_date)]}),e.start_time&&e.end_time&&(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(x.Clock,{className:"mr-2 h-4 w-4"}),e.start_time," - ",e.end_time]}),e.location&&(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(g.MapPin,{className:"mr-2 h-4 w-4"}),e.location]})]}),e.capacity_max&&(0,t.jsxs)("div",{className:"mt-2 flex items-center text-sm text-muted-foreground",children:[(0,t.jsx)(f.Users,{className:"mr-2 h-4 w-4"}),"Capacité: ",e.capacity_max," apprenants"]})]}),(0,t.jsxs)("div",{className:"flex flex-col items-end space-y-2",children:[(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs ${(e=>{switch(e){case"planned":return"bg-blue-100 text-blue-800";case"ongoing":return"bg-success-bg text-success-primary";case"completed":default:return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800"}})(e.status)}`,children:(e=>{switch(e){case"planned":return"Planifiée";case"ongoing":return"En cours";case"completed":return"Terminée";case"cancelled":return"Annulée";default:return e}})(e.status)}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsxs)(c.Button,{variant:"outline",size:"sm",onClick:()=>{var t;return t=e.id,void(z?.find(e=>e.id===t),P(t),F({student_id:"",enrollment_date:new Date().toISOString().split("T")[0],status:"confirmed",payment_status:"pending",total_amount:A?.formations?.[0]?.price?.toString()||"0",paid_amount:"0"}),q(!0))},children:[(0,t.jsx)(v.UserPlus,{className:"mr-1 h-3 w-3"}),"Inscrire élève"]}),(0,t.jsx)(j.default,{href:`/dashboard/programs/${_}/sessions/${e.id}`,children:(0,t.jsx)(c.Button,{variant:"outline",size:"sm",children:"Voir détails"})})]})]})]})},e.id))}):(0,t.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:"Aucune session créée. Créez-en une pour commencer."})})]})]})}e.s(["default",()=>_])}]);