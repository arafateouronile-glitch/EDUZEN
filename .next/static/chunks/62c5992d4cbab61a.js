(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,107233,e=>{"use strict";let s=(0,e.i(475254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>s],107233)},503116,e=>{"use strict";let s=(0,e.i(475254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>s],503116)},25652,e=>{"use strict";let s=(0,e.i(475254).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["TrendingUp",()=>s],25652)},127341,e=>{"use strict";var s=e.i(843476),t=e.i(271645),n=e.i(647163);let a=t.createContext(void 0);function i({value:e,defaultValue:i,onValueChange:r,children:d,className:o}){let l=void 0!==e,[c,u]=t.useState(i??"");t.useEffect(()=>{l||void 0===i||u(i)},[i]);let m=l?e:c,h=t.useCallback(e=>{l||u(e),r?.(e)},[l,r]);return(0,s.jsx)(a.Provider,{value:{value:m,onValueChange:h},children:(0,s.jsx)("div",{className:(0,n.cn)("w-full",o),children:d})})}function r(){let e=t.useContext(a);if(!e)throw Error("Tabs components must be used within a Tabs component");return e}function d({children:e,className:t}){return(0,s.jsx)("div",{className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-lg bg-bg-gray-100 p-1 text-text-tertiary",t),children:e})}function o({value:e,children:t,className:a}){let{value:i,onValueChange:d}=r(),o=i===e;return(0,s.jsx)("button",{type:"button",onClick:()=>d(e),className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-outline-none focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",o?"bg-white text-text-primary shadow-sm":"text-text-tertiary hover:text-text-primary",a),children:t})}function l({value:e,children:t,className:a}){let{value:i}=r();return i!==e?null:(0,s.jsx)("div",{className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),children:t})}e.s(["Tabs",()=>i,"TabsContent",()=>l,"TabsList",()=>d,"TabsTrigger",()=>o])},514764,e=>{"use strict";let s=(0,e.i(475254).default)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);e.s(["Send",()=>s],514764)},599811,e=>{"use strict";let s=(0,e.i(475254).default)("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]);e.s(["Euro",()=>s],599811)},305065,e=>{"use strict";var s=e.i(843476),t=e.i(266027),n=e.i(954616),a=e.i(912598),i=e.i(325715),r=e.i(920755);let d=new class{supabase;constructor(e){this.supabase=e||(0,r.createClient)()}async getConfigurations(e){let{data:s,error:t}=await this.supabase.from("opco_configurations").select("*").eq("organization_id",e).order("opco_name",{ascending:!0});if(t){if("PGRST116"===t.code||"42P01"===t.code||"PGRST301"===t.code||404===t.status||"404"===t.code||t.message?.includes("relation")||t.message?.includes("relationship")||t.message?.includes("does not exist")||t.message?.includes("schema cache"))return console.warn("Table opco_configurations does not exist yet or invalid query:",t?.message),[];throw t}return s||[]}async upsertConfiguration(e){let{data:s,error:t}=await this.supabase.from("opco_configurations").upsert(e,{onConflict:"organization_id,opco_code"}).select().single();if(t)throw t;return s}async getConventions(e,s){let t=this.supabase.from("opco_conventions").select("*").eq("organization_id",e);s?.opcoConfigId&&(t=t.eq("opco_config_id",s.opcoConfigId)),s?.status&&(t=t.eq("status",s.status));let{data:n,error:a}=await t.order("start_date",{ascending:!1});if(a){if("PGRST116"===a.code||"42P01"===a.code||"PGRST301"===a.code||404===a.status||"404"===a.code||a.message?.includes("relation")||a.message?.includes("relationship")||a.message?.includes("does not exist")||a.message?.includes("schema cache"))return console.warn("Table opco_conventions does not exist yet or invalid query:",a?.message),[];throw a}return n||[]}async createConvention(e){e.convention_number||(e.convention_number=`CONV-${Date.now()}-${Math.random().toString(36).substr(2,9).toUpperCase()}`),e.max_funding_amount&&(e.remaining_funding_amount=e.max_funding_amount-(e.used_funding_amount||0));let{data:s,error:t}=await this.supabase.from("opco_conventions").insert(e).select().single();if(t)throw t;return s}async getDeclarations(e,s){let t=this.supabase.from("opco_declarations").select("*").eq("organization_id",e);s?.opcoConfigId&&(t=t.eq("opco_config_id",s.opcoConfigId)),s?.conventionId&&(t=t.eq("convention_id",s.conventionId)),s?.status&&(t=t.eq("status",s.status)),s?.periodStart&&(t=t.gte("declaration_period_end",s.periodStart)),s?.periodEnd&&(t=t.lte("declaration_period_start",s.periodEnd));let{data:n,error:a}=await t.order("declaration_date",{ascending:!1});if(a){if("PGRST116"===a.code||"42P01"===a.code||"PGRST301"===a.code||404===a.status||"404"===a.code||a.message?.includes("relation")||a.message?.includes("relationship")||a.message?.includes("does not exist")||a.message?.includes("schema cache"))return console.warn("Table opco_declarations does not exist yet or invalid query:",a?.message),[];throw a}return n||[]}async createDeclaration(e){let{data:s,error:t}=await this.supabase.from("opco_declarations").insert(e).select().single();if(t)throw t;return s}async submitDeclaration(e){let{error:s}=await this.supabase.from("opco_declarations").update({status:"submitted",submission_date:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",e);if(s)throw s}async getDeclarationLines(e){let{data:s,error:t}=await this.supabase.from("opco_declaration_lines").select("*").eq("declaration_id",e).order("start_date",{ascending:!0});if(t)throw t;return s||[]}async addDeclarationLine(e){let{data:s,error:t}=await this.supabase.from("opco_declaration_lines").insert(e).select().single();if(t)throw t;return await this.updateDeclarationTotals(e.declaration_id),s}async updateDeclarationTotals(e){let s=(await this.getDeclarationLines(e)).reduce((e,s)=>({total_trainees:e.total_trainees+1,total_hours:e.total_hours+s.total_hours,total_amount:e.total_amount+s.total_price,requested_funding:e.requested_funding+s.funding_amount}),{total_trainees:0,total_hours:0,total_amount:0,requested_funding:0}),{error:t}=await this.supabase.from("opco_declarations").update({total_trainees:s.total_trainees,total_hours:s.total_hours,total_amount:s.total_amount,requested_funding:s.requested_funding,updated_at:new Date().toISOString()}).eq("id",e);if(t)throw t}async getFundingRequests(e,s){let t=this.supabase.from("opco_funding_requests").select("*").eq("organization_id",e);s?.opcoConfigId&&(t=t.eq("opco_config_id",s.opcoConfigId)),s?.status&&(t=t.eq("status",s.status));let{data:n,error:a}=await t.order("created_at",{ascending:!1});if(a){if("PGRST116"===a.code||"42P01"===a.code||"PGRST301"===a.code||404===a.status||"404"===a.code||a.message?.includes("relation")||a.message?.includes("relationship")||a.message?.includes("does not exist")||a.message?.includes("schema cache"))return console.warn("Table opco_funding_requests does not exist yet or invalid query:",a?.message),[];throw a}return n||[]}async createFundingRequest(e){e.request_number||(e.request_number=`REQ-${Date.now()}-${Math.random().toString(36).substr(2,9).toUpperCase()}`);let{data:s,error:t}=await this.supabase.from("opco_funding_requests").insert(e).select().single();if(t)throw t;return s}async generateActivityDeclaration(e,s,t,n){let a={organization_id:e,opco_config_id:s,declaration_type:"activity",declaration_period_start:t,declaration_period_end:n,declaration_date:new Date().toISOString().split("T")[0],status:"draft",total_trainees:0,total_hours:0,total_amount:0,requested_funding:0,approved_funding:0,paid_funding:0,created_by:(await this.supabase.auth.getUser()).data.user?.id||""};return this.createDeclaration(a)}};var o=e.i(970065),l=e.i(167881),c=e.i(994179),u=e.i(127341),m=e.i(6799),h=e.i(607486),x=e.i(503116),g=e.i(599811),f=e.i(16715),p=e.i(107233),j=e.i(178583),v=e.i(25652),_=e.i(514764),b=e.i(522016),y=e.i(647163);let C={draft:"bg-gray-100 text-gray-800",submitted:"bg-blue-100 text-blue-800",validated:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",paid:"bg-green-100 text-green-800",cancelled:"bg-gray-100 text-gray-800",pending:"bg-yellow-100 text-yellow-800",active:"bg-green-100 text-green-800",suspended:"bg-orange-100 text-orange-800",terminated:"bg-red-100 text-red-800",approved:"bg-green-100 text-green-800",under_review:"bg-yellow-100 text-yellow-800"};function N(){let{user:e}=(0,i.useAuth)(),r=(0,a.useQueryClient)(),{addToast:N}=(0,m.useToast)(),{data:w=[],isLoading:T}=(0,t.useQuery)({queryKey:["opco-conventions",e?.organization_id],queryFn:async()=>{try{return await d.getConventions(e.organization_id)}catch(e){if(e?.code==="PGRST116"||e?.code==="42P01"||e?.code==="PGRST301"||e?.status===404||e?.code==="404"||e?.message?.includes("relation")||e?.message?.includes("relationship")||e?.message?.includes("does not exist")||e?.message?.includes("schema cache"))return[];throw e}},enabled:!!e?.organization_id,retry:!1}),{data:q=[],isLoading:P}=(0,t.useQuery)({queryKey:["opco-declarations",e?.organization_id],queryFn:async()=>{try{return await d.getDeclarations(e.organization_id)}catch(e){if(e?.code==="PGRST116"||e?.code==="42P01"||e?.code==="PGRST301"||e?.status===404||e?.code==="404"||e?.message?.includes("relation")||e?.message?.includes("relationship")||e?.message?.includes("does not exist")||e?.message?.includes("schema cache"))return[];throw e}},enabled:!!e?.organization_id,retry:!1}),{data:D=[],isLoading:S}=(0,t.useQuery)({queryKey:["opco-funding-requests",e?.organization_id],queryFn:async()=>{try{return await d.getFundingRequests(e.organization_id)}catch(e){if(e?.code==="PGRST116"||e?.code==="42P01"||e?.code==="PGRST301"||e?.status===404||e?.code==="404"||e?.message?.includes("relation")||e?.message?.includes("relationship")||e?.message?.includes("does not exist")||e?.message?.includes("schema cache"))return[];throw e}},enabled:!!e?.organization_id,retry:!1}),O={totalConventions:w.length,activeConventions:w.filter(e=>"active"===e.status).length,totalDeclarations:q.length,pendingDeclarations:q.filter(e=>"draft"===e.status||"submitted"===e.status).length,totalFundingRequests:D.length,pendingRequests:D.filter(e=>"draft"===e.status||"submitted"===e.status).length,totalRequestedFunding:q.reduce((e,s)=>e+s.requested_funding,0)+D.reduce((e,s)=>e+s.requested_amount,0),totalPaidFunding:q.reduce((e,s)=>e+s.paid_funding,0)+D.reduce((e,s)=>e+s.paid_amount,0)},R=(0,n.useMutation)({mutationFn:e=>d.submitDeclaration(e),onSuccess:()=>{r.invalidateQueries({queryKey:["opco-declarations"]}),N({title:"Déclaration soumise",description:"La déclaration a été soumise à l'OPCO avec succès.",type:"success"})}});return T||P||S?(0,s.jsx)("div",{className:"container mx-auto py-8 px-4",children:(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsx)(f.RefreshCw,{className:"h-8 w-8 animate-spin text-brand-blue"})})}):(0,s.jsxs)("div",{className:"container mx-auto py-8 px-4 max-w-7xl",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-2",children:[(0,s.jsx)(h.Building2,{className:"h-8 w-8 text-brand-blue"}),"OPCO (Opérateurs de Compétences)"]}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Gérez vos conventions, déclarations et demandes de financement OPCO"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[(0,s.jsx)(o.Card,{children:(0,s.jsx)(o.CardContent,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Conventions actives"}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:O.activeConventions})]}),(0,s.jsx)(j.FileText,{className:"h-8 w-8 text-blue-500"})]})})}),(0,s.jsx)(o.Card,{children:(0,s.jsx)(o.CardContent,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Déclarations en attente"}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:O.pendingDeclarations})]}),(0,s.jsx)(x.Clock,{className:"h-8 w-8 text-yellow-500"})]})})}),(0,s.jsx)(o.Card,{children:(0,s.jsx)(o.CardContent,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Financement demandé"}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:(0,y.formatCurrency)(O.totalRequestedFunding)})]}),(0,s.jsx)(v.TrendingUp,{className:"h-8 w-8 text-green-500"})]})})}),(0,s.jsx)(o.Card,{children:(0,s.jsx)(o.CardContent,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Financement reçu"}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:(0,y.formatCurrency)(O.totalPaidFunding)})]}),(0,s.jsx)(g.Euro,{className:"h-8 w-8 text-green-500"})]})})})]}),(0,s.jsxs)(u.Tabs,{defaultValue:"declarations",className:"space-y-6",children:[(0,s.jsxs)(u.TabsList,{children:[(0,s.jsx)(u.TabsTrigger,{value:"declarations",children:"Déclarations"}),(0,s.jsx)(u.TabsTrigger,{value:"conventions",children:"Conventions"}),(0,s.jsx)(u.TabsTrigger,{value:"funding",children:"Demandes de financement"})]}),(0,s.jsx)(u.TabsContent,{value:"declarations",children:(0,s.jsxs)(o.Card,{children:[(0,s.jsx)(o.CardHeader,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(o.CardTitle,{children:"Déclarations OPCO"}),(0,s.jsx)(o.CardDescription,{children:"Déclarations d'activité et demandes de financement"})]}),(0,s.jsx)(l.Button,{asChild:!0,children:(0,s.jsxs)(b.default,{href:"/dashboard/opco/declarations/new",children:[(0,s.jsx)(p.Plus,{className:"h-4 w-4 mr-2"}),"Nouvelle déclaration"]})})]})}),(0,s.jsx)(o.CardContent,{children:0===q.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(j.FileText,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-4",children:"Aucune déclaration OPCO enregistrée"}),(0,s.jsx)(l.Button,{asChild:!0,children:(0,s.jsxs)(b.default,{href:"/dashboard/opco/declarations/new",children:[(0,s.jsx)(p.Plus,{className:"h-4 w-4 mr-2"}),"Créer une déclaration"]})})]}):(0,s.jsx)("div",{className:"space-y-4",children:q.map(e=>(0,s.jsx)(o.Card,{className:"hover:shadow-md transition-shadow",children:(0,s.jsx)(o.CardContent,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold",children:["Déclaration ",e.declaration_type.replace(/_/g," ")]}),(0,s.jsx)(c.Badge,{className:C[e.status],children:e.status.replace(/_/g," ")})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mb-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-muted-foreground",children:"Période"}),(0,s.jsxs)("p",{className:"font-medium",children:[(0,y.formatDate)(e.declaration_period_start)," - ",(0,y.formatDate)(e.declaration_period_end)]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-muted-foreground",children:"Stagiaires"}),(0,s.jsx)("p",{className:"font-medium",children:e.total_trainees})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-muted-foreground",children:"Heures"}),(0,s.jsxs)("p",{className:"font-medium",children:[e.total_hours,"h"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-muted-foreground",children:"Financement demandé"}),(0,s.jsx)("p",{className:"font-medium",children:(0,y.formatCurrency)(e.requested_funding)})]})]}),e.opco_reference&&(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Référence OPCO: ",e.opco_reference]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:["draft"===e.status&&(0,s.jsxs)(l.Button,{size:"sm",onClick:()=>R.mutate(e.id),disabled:R.isPending,children:[(0,s.jsx)(_.Send,{className:"h-4 w-4 mr-2"}),"Soumettre"]}),(0,s.jsx)(l.Button,{variant:"outline",size:"sm",asChild:!0,children:(0,s.jsx)(b.default,{href:`/dashboard/opco/declarations/${e.id}`,children:"Voir les détails"})})]})]})})},e.id))})})]})}),(0,s.jsx)(u.TabsContent,{value:"conventions",children:(0,s.jsxs)(o.Card,{children:[(0,s.jsx)(o.CardHeader,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(o.CardTitle,{children:"Conventions OPCO"}),(0,s.jsx)(o.CardDescription,{children:"Conventions signées avec les opérateurs de compétences"})]}),(0,s.jsx)(l.Button,{asChild:!0,children:(0,s.jsxs)(b.default,{href:"/dashboard/opco/conventions/new",children:[(0,s.jsx)(p.Plus,{className:"h-4 w-4 mr-2"}),"Nouvelle convention"]})})]})}),(0,s.jsx)(o.CardContent,{children:0===w.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(j.FileText,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-4",children:"Aucune convention OPCO enregistrée"}),(0,s.jsx)(l.Button,{asChild:!0,children:(0,s.jsxs)(b.default,{href:"/dashboard/opco/conventions/new",children:[(0,s.jsx)(p.Plus,{className:"h-4 w-4 mr-2"}),"Créer une convention"]})})]}):(0,s.jsx)("div",{className:"space-y-4",children:w.map(e=>(0,s.jsx)(o.Card,{className:"hover:shadow-md transition-shadow",children:(0,s.jsx)(o.CardContent,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:e.convention_number}),(0,s.jsx)(c.Badge,{className:C[e.status],children:e.status})]}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground mb-3",children:["Type: ",e.convention_type.replace(/_/g," ")," | Période: ",(0,y.formatDate)(e.start_date)," - ",e.end_date?(0,y.formatDate)(e.end_date):"En cours"]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-muted-foreground",children:"Taux de financement"}),(0,s.jsxs)("p",{className:"font-medium",children:[e.funding_rate,"%"]})]}),e.max_funding_amount&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-muted-foreground",children:"Montant max"}),(0,s.jsx)("p",{className:"font-medium",children:(0,y.formatCurrency)(e.max_funding_amount)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-muted-foreground",children:"Restant"}),(0,s.jsx)("p",{className:"font-medium",children:(0,y.formatCurrency)(e.remaining_funding_amount||0)})]})]})]})]}),(0,s.jsx)(l.Button,{variant:"outline",asChild:!0,children:(0,s.jsx)(b.default,{href:`/dashboard/opco/conventions/${e.id}`,children:"Voir les détails"})})]})})},e.id))})})]})}),(0,s.jsx)(u.TabsContent,{value:"funding",children:(0,s.jsxs)(o.Card,{children:[(0,s.jsx)(o.CardHeader,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(o.CardTitle,{children:"Demandes de financement"}),(0,s.jsx)(o.CardDescription,{children:"Demandes de financement auprès des OPCO"})]}),(0,s.jsx)(l.Button,{asChild:!0,children:(0,s.jsxs)(b.default,{href:"/dashboard/opco/funding/new",children:[(0,s.jsx)(p.Plus,{className:"h-4 w-4 mr-2"}),"Nouvelle demande"]})})]})}),(0,s.jsx)(o.CardContent,{children:0===D.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(v.TrendingUp,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-4",children:"Aucune demande de financement enregistrée"}),(0,s.jsx)(l.Button,{asChild:!0,children:(0,s.jsxs)(b.default,{href:"/dashboard/opco/funding/new",children:[(0,s.jsx)(p.Plus,{className:"h-4 w-4 mr-2"}),"Créer une demande"]})})]}):(0,s.jsx)("div",{className:"space-y-4",children:D.map(e=>(0,s.jsx)(o.Card,{className:"hover:shadow-md transition-shadow",children:(0,s.jsx)(o.CardContent,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:e.title}),(0,s.jsx)(c.Badge,{className:C[e.status],children:e.status.replace(/_/g," ")})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:e.description}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-muted-foreground",children:"Montant demandé"}),(0,s.jsx)("p",{className:"font-medium",children:(0,y.formatCurrency)(e.requested_amount)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-muted-foreground",children:"Montant approuvé"}),(0,s.jsx)("p",{className:"font-medium",children:(0,y.formatCurrency)(e.approved_amount)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-muted-foreground",children:"Montant payé"}),(0,s.jsx)("p",{className:"font-medium",children:(0,y.formatCurrency)(e.paid_amount)})]})]}),e.request_number&&(0,s.jsxs)("p",{className:"text-sm text-muted-foreground mt-2",children:["N° demande: ",e.request_number]})]}),(0,s.jsx)(l.Button,{variant:"outline",asChild:!0,children:(0,s.jsx)(b.default,{href:`/dashboard/opco/funding/${e.id}`,children:"Voir les détails"})})]})})},e.id))})})]})})]}),(0,s.jsxs)("div",{className:"mt-8 flex gap-4",children:[(0,s.jsx)(l.Button,{variant:"outline",asChild:!0,children:(0,s.jsxs)(b.default,{href:"/dashboard/opco/configuration",children:[(0,s.jsx)(h.Building2,{className:"h-4 w-4 mr-2"}),"Configuration OPCO"]})}),(0,s.jsx)(l.Button,{variant:"outline",asChild:!0,children:(0,s.jsxs)(b.default,{href:"/dashboard/opco/reports",children:[(0,s.jsx)(j.FileText,{className:"h-4 w-4 mr-2"}),"Rapports"]})})]})]})}e.s(["default",()=>N],305065)}]);