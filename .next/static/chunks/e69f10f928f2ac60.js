(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,871689,e=>{"use strict";let r=(0,e.i(475254).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>r],871689)},645760,e=>{"use strict";var r=e.i(843476),s=e.i(271645),t=e.i(647163);e.i(882205);var a=e.i(846932);let i=s.forwardRef(({className:e,variant:s="default",hoverable:i=!1,glow:l=!1,glowColor:o="rgba(51, 90, 207, 0.3)",...n},c)=>(0,r.jsxs)(a.motion.div,{ref:c,className:(0,t.cn)("relative rounded-2xl border backdrop-blur-xl transition-all duration-300",{"bg-white/70 dark:bg-gray-900/70 border-white/20 dark:border-gray-700/30 shadow-lg":"default"===s,"bg-white/80 dark:bg-gray-900/80 border-white/30 dark:border-gray-700/40 shadow-xl":"premium"===s,"bg-white/50 dark:bg-gray-900/50 border-white/10 dark:border-gray-700/20 shadow-md":"subtle"===s,"cursor-pointer":i,"hover:shadow-2xl hover:scale-[1.02]":i,"hover:bg-white/90 dark:hover:bg-gray-900/90":i},e),whileHover:i?{scale:1.02,y:-2}:void 0,transition:{type:"spring",stiffness:300,damping:30},...n,children:[l&&(0,r.jsx)(a.motion.div,{className:"absolute inset-0 rounded-2xl opacity-0 blur-xl",style:{background:`radial-gradient(circle, ${o} 0%, transparent 70%)`},animate:{opacity:[0,.5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),(0,r.jsx)("div",{className:"relative z-10",children:n.children})]}));i.displayName="GlassCard",e.s(["GlassCard",()=>i])},356909,e=>{"use strict";let r=(0,e.i(475254).default)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);e.s(["Save",()=>r],356909)},569074,e=>{"use strict";let r=(0,e.i(475254).default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);e.s(["Upload",()=>r],569074)},221345,e=>{"use strict";let r=(0,e.i(475254).default)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);e.s(["Link",()=>r],221345)},653339,e=>{"use strict";let r=(0,e.i(475254).default)("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);e.s(["Music",()=>r],653339)},941095,e=>{"use strict";var r=e.i(920755);let s=new class{supabase;constructor(e){this.supabase=e||(0,r.createClient)()}async getCategories(e){let{data:r,error:s}=await this.supabase.from("resource_categories").select("*").eq("organization_id",e).eq("is_active",!0).order("order_index",{ascending:!0});if(s)throw s;return r}async createCategory(e){let{data:r,error:s}=await this.supabase.from("resource_categories").insert(e).select().single();if(s)throw s;return r}async updateCategory(e,r){let{data:s,error:t}=await this.supabase.from("resource_categories").update(r).eq("id",e).select().single();if(t)throw t;return s}async deleteCategory(e){let{error:r}=await this.supabase.from("resource_categories").delete().eq("id",e);if(r)throw r}async getResources(e,r){try{let s=this.supabase.from("educational_resources").select(`
          *,
          category:resource_categories(*),
          author:users!author_id(id, full_name, email)
        `).eq("organization_id",e).eq("status","published");r?.categoryId&&(s=s.eq("category_id",r.categoryId)),r?.resourceType&&(s=s.eq("resource_type",r.resourceType)),r?.search&&(s=s.or(`title.ilike.%${r.search}%,description.ilike.%${r.search}%`)),r?.featured&&(s=s.eq("is_featured",!0)),r?.tags&&r.tags.length>0&&(s=s.contains("tags",r.tags));let{data:t,error:a}=await s.order("created_at",{ascending:!1});if(a){if("PGRST116"===a.code||"PGRST200"===a.code||"42P01"===a.code||"PGRST301"===a.code||400===a.status||"400"===a.code||a.message?.includes("relation")||a.message?.includes("relationship")||a.message?.includes("does not exist")||a.message?.includes("schema cache"))return[];throw a}return t||[]}catch(e){if(e?.code==="PGRST116"||e?.code==="PGRST200"||e?.code==="42P01"||e?.code==="PGRST301"||e?.status===400||e?.code==="400"||e?.message?.includes("relation")||e?.message?.includes("relationship")||e?.message?.includes("does not exist")||e?.message?.includes("schema cache"))return console.warn("Table educational_resources does not exist yet or invalid query:",e?.message||String(e)),[];throw e}}async getResourceBySlug(e,r){try{let{data:s,error:t}=await this.supabase.from("educational_resources").select(`
          *,
          category:resource_categories(*),
          author:users!author_id(id, full_name, email),
          versions:resource_versions(*)
      `).eq("slug",e).eq("organization_id",r).eq("status","published").single();if(t)throw t;return await this.recordView(s.id),s}catch(e){throw(e?.code==="PGRST116"||e?.code==="42P01")&&console.warn("Table educational_resources does not exist yet:",e?.message||String(e)),e}}async createResource(e){let{data:r,error:s}=await this.supabase.from("educational_resources").insert(e).select().single();if(s)throw s;return r}async updateResource(e,r){let{data:s,error:t}=await this.supabase.from("educational_resources").update(r).eq("id",e).select().single();if(t)throw t;return s}async deleteResource(e){let{error:r}=await this.supabase.from("educational_resources").delete().eq("id",e);if(r)throw r}async addToFavorites(e,r){let{data:s,error:t}=await this.supabase.from("resource_favorites").insert({user_id:e,resource_id:r}).select().single();if(t)throw t;try{await this.supabase.rpc("increment",{table_name:"educational_resources",column_name:"favorite_count",row_id:r})}catch(e){console.warn("RPC increment not available, skipping favorite_count increment")}return s}async removeFromFavorites(e,r){let{error:s}=await this.supabase.from("resource_favorites").delete().eq("user_id",e).eq("resource_id",r);if(s)throw s;let{data:t}=await this.supabase.from("educational_resources").select("favorite_count").eq("id",r).single();t&&(t.favorite_count??0)>0&&await this.supabase.from("educational_resources").update({favorite_count:(t.favorite_count??0)-1}).eq("id",r)}async isFavorite(e,r){let{data:s,error:t}=await this.supabase.from("resource_favorites").select("id").eq("user_id",e).eq("resource_id",r).maybeSingle();if(t)throw t;return!!s}async getUserFavorites(e){let{data:r,error:s}=await this.supabase.from("resource_favorites").select("*, resource:educational_resources(*, category:resource_categories(*))").eq("user_id",e).order("created_at",{ascending:!1});if(s)throw s;return r}async recordDownload(e,r,s,t){let{data:a,error:i}=await this.supabase.from("resource_downloads").insert({resource_id:e,user_id:r,ip_address:s,user_agent:t}).select().single();if(i)throw i;return a}async getResourceDownloads(e){let{data:r,error:s}=await this.supabase.from("resource_downloads").select("*, user:users(id, full_name, email)").eq("resource_id",e).order("downloaded_at",{ascending:!1});if(s)throw s;return r}async recordView(e,r,s,t,a){let{data:i,error:l}=await this.supabase.from("resource_views").insert({resource_id:e,user_id:r,view_duration_seconds:s,ip_address:t,user_agent:a}).select().single();if(l)throw l;return i}async getCollections(e,r){let s=this.supabase.from("resource_collections").select("*, user:users(id, full_name, email)").eq("organization_id",e);r?.userId&&(s=s.eq("user_id",r.userId)),r?.isPublic!==void 0&&(s=s.eq("is_public",r.isPublic)),r?.isFeatured&&(s=s.eq("is_featured",!0));let{data:t,error:a}=await s.order("created_at",{ascending:!1});if(a)throw a;return t}async getCollectionById(e){let{data:r,error:s}=await this.supabase.from("resource_collections").select(`
        *,
        user:users(id, full_name, email),
        resources:collection_resources(*, resource:educational_resources(*, category:resource_categories(*)))
      `).eq("id",e).single();if(s)throw s;return r}async createCollection(e){let{data:r,error:s}=await this.supabase.from("resource_collections").insert(e).select().single();if(s)throw s;return r}async addResourceToCollection(e,r,s){let{data:t,error:a}=await this.supabase.from("collection_resources").insert({collection_id:e,resource_id:r,added_by:s}).select().single();if(a)throw a;return t}async removeResourceFromCollection(e,r){let{error:s}=await this.supabase.from("collection_resources").delete().eq("collection_id",e).eq("resource_id",r);if(s)throw s}async getResourceComments(e){let{data:r,error:s}=await this.supabase.from("resource_comments").select("*, user:users(id, full_name, email), replies:resource_comments(*)").eq("resource_id",e).is("parent_id",null).order("created_at",{ascending:!1});if(s)throw s;return r}async createComment(e){let{data:r,error:s}=await this.supabase.from("resource_comments").insert(e).select(`
        *,
        user:users(id, full_name, email)
      `).single();if(s)throw s;return r}async updateComment(e,r){let{data:s,error:t}=await this.supabase.from("resource_comments").update({content:r,is_edited:!0}).eq("id",e).select().single();if(t)throw t;return s}async deleteComment(e){let{error:r}=await this.supabase.from("resource_comments").delete().eq("id",e);if(r)throw r}async createRating(e){let{data:r,error:s}=await this.supabase.from("resource_ratings").insert(e).select().single();if(s)throw s;return r}async updateRating(e,r,s){let{data:t,error:a}=await this.supabase.from("resource_ratings").update({rating:r,comment:s}).eq("id",e).select().single();if(a)throw a;return t}async getResourceRatings(e){let{data:r,error:s}=await this.supabase.from("resource_ratings").select("*, user:users(id, full_name, email)").eq("resource_id",e).order("created_at",{ascending:!1});if(s)throw s;return r}async getResourceRatingStats(e){let{data:r,error:s}=await this.supabase.from("resource_ratings").select("rating").eq("resource_id",e);if(s)throw s;let t={total:r.length,average:0,distribution:{1:0,2:0,3:0,4:0,5:0}};if(r.length>0){let e=r.map(e=>e.rating).filter(Boolean);t.average=e.reduce((e,r)=>e+r,0)/e.length,e.forEach(e=>{t.distribution[e]++})}return t}async getResourceVersions(e){let{data:r,error:s}=await this.supabase.from("resource_versions").select("*, created_by_user:users(id, full_name)").eq("resource_id",e).order("created_at",{ascending:!1});if(s)throw s;return r}async createVersion(e){let{data:r,error:s}=await this.supabase.from("resource_versions").insert(e).select().single();if(s)throw s;return r}};e.s(["educationalResourcesService",0,s])},924258,e=>{"use strict";var r=e.i(843476),s=e.i(271645),t=e.i(618566),a=e.i(954616),i=e.i(266027),l=e.i(653145),o=e.i(994814),n=e.i(50270),c=e.i(325715),d=e.i(941095),u=e.i(920755),m=e.i(167881),g=e.i(645760),h=e.i(871689),p=e.i(707866),b=e.i(356909),x=e.i(569074),f=e.i(37727),y=e.i(178583),_=e.i(278716),w=e.i(473708),v=e.i(221345),j=e.i(653339),N=e.i(522016),q=e.i(6799);e.i(882205);var k=e.i(846932),z=e.i(647163);let R=n.z.object({title:n.z.string().min(3,"Le titre doit contenir au moins 3 caractères"),slug:n.z.string().min(3,"Le slug doit contenir au moins 3 caractères").regex(/^[a-z0-9-]+$/,"Le slug ne peut contenir que des lettres minuscules, chiffres et tirets"),description:n.z.string().optional(),resource_type:n.z.enum(["document","video","audio","image","link","interactive","other"]).default("document"),category_id:n.z.string().optional(),external_url:n.z.string().url().optional().or(n.z.literal("")),tags:n.z.string().optional(),is_featured:n.z.boolean().default(!1),status:n.z.enum(["draft","published","archived"]).default("published")}),C={document:y.FileText,video:_.Video,audio:j.Music,image:w.Image,link:v.Link,interactive:y.FileText,other:y.FileText},S={document:"Document",video:"Vidéo",audio:"Audio",image:"Image",link:"Lien externe",interactive:"Interactif",other:"Autre"};function T(){let e=(0,t.useRouter)(),{user:n}=(0,c.useAuth)(),{addToast:_}=(0,q.useToast)(),w=(0,u.createClient)(),[v,j]=(0,s.useState)(null),[T,F]=(0,s.useState)(null),[P,L]=(0,s.useState)(null),[A,G]=(0,s.useState)(null),{data:U}=(0,i.useQuery)({queryKey:["resource-categories",n?.organization_id],queryFn:()=>d.educationalResourcesService.getCategories(n?.organization_id||""),enabled:!!n?.organization_id}),{register:M,handleSubmit:B,formState:{errors:$},watch:D,setValue:I}=(0,l.useForm)({resolver:(0,o.zodResolver)(R),mode:"onChange",defaultValues:{resource_type:"document",status:"published",is_featured:!1}}),V=D("resource_type");D("title");let E=(0,a.useMutation)({mutationFn:async e=>{if(!n?.organization_id)throw Error("Organization ID manquant");let r=null,s=null;if(v){let e=v.name.split(".").pop(),t=`${n.organization_id}/resources/${Date.now()}.${e}`,{data:a,error:i}=await w.storage.from("educational-resources").upload(t,v);if(i)throw i;let{data:l}=w.storage.from("educational-resources").getPublicUrl(t);r=l.publicUrl,s=v.size}let t=null;if(P){let e=P.name.split(".").pop(),r=`${n.organization_id}/thumbnails/${Date.now()}.${e}`,{data:s,error:a}=await w.storage.from("resource-thumbnails").upload(r,P);if(a)throw a;let{data:i}=w.storage.from("resource-thumbnails").getPublicUrl(r);t=i.publicUrl}let a=e.tags?e.tags.split(",").map(e=>e.trim()).filter(e=>e.length>0):[];return d.educationalResourcesService.createResource({organization_id:n.organization_id,title:e.title,slug:e.slug,description:e.description||null,resource_type:e.resource_type,category_id:e.category_id||null,external_url:e.external_url||null,file_url:r,thumbnail_url:t,file_size_bytes:s,tags:a.length>0?a:null,is_featured:e.is_featured,status:e.status,author_id:n.id,view_count:0,download_count:0,favorite_count:0})},onSuccess:r=>{_({type:"success",title:"Ressource créée avec succès",description:"Votre ressource a été ajoutée à la bibliothèque."}),e.push(`/dashboard/resources/${r.slug}`)},onError:e=>{_({type:"error",title:"Erreur",description:e.message||"Une erreur est survenue lors de la création de la ressource"})}});return(0,r.jsxs)(k.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8 pb-8 max-w-5xl mx-auto p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(N.default,{href:"/dashboard/resources",children:(0,r.jsx)(m.Button,{variant:"ghost",size:"icon",children:(0,r.jsx)(h.ArrowLeft,{className:"h-4 w-4"})})}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-2 bg-brand-blue-ghost rounded-xl",children:(0,r.jsx)(p.Library,{className:"h-6 w-6 text-brand-blue"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Nouvelle ressource"}),(0,r.jsx)("p",{className:"text-gray-500 mt-1",children:"Ajoutez une ressource à la bibliothèque pédagogique"})]})]})]}),(0,r.jsxs)("form",{onSubmit:B(e=>{E.mutate(e)}),className:"space-y-6",children:[(0,r.jsxs)(g.GlassCard,{variant:"premium",className:"p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Informations principales"}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Titre de la ressource *"}),(0,r.jsx)("input",{type:"text",...M("title"),onChange:e=>{let r=e.target.value;I("title",r),r&&I("slug",r.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""))},className:(0,z.cn)("w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-brand-blue focus:border-transparent transition-all",$.title?"border-red-500":"border-gray-200"),placeholder:"Ex: Guide complet de React"}),$.title&&(0,r.jsx)("p",{className:"text-sm text-red-600 mt-1",children:$.title.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Slug (URL) *"}),(0,r.jsx)("input",{type:"text",...M("slug"),className:(0,z.cn)("w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-brand-blue focus:border-transparent transition-all bg-gray-50",$.slug?"border-red-500":"border-gray-200"),placeholder:"guide-complet-react"}),$.slug&&(0,r.jsx)("p",{className:"text-sm text-red-600 mt-1",children:$.slug.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type de ressource"}),(0,r.jsx)("select",{...M("resource_type"),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-brand-blue focus:border-transparent transition-all",children:Object.entries(S).map(([e,s])=>(C[e],(0,r.jsx)("option",{value:e,children:s},e)))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,r.jsx)("textarea",{...M("description"),rows:6,className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-brand-blue focus:border-transparent transition-all resize-none",placeholder:"Décrivez cette ressource en détail..."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Catégorie"}),(0,r.jsxs)("select",{...M("category_id"),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-brand-blue focus:border-transparent transition-all",children:[(0,r.jsx)("option",{value:"",children:"Aucune catégorie"}),U?.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags (séparés par des virgules)"}),(0,r.jsx)("input",{type:"text",...M("tags"),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-brand-blue focus:border-transparent transition-all",placeholder:"Ex: react, javascript, tutoriel"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Séparez les tags par des virgules"})]}),"link"===V&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL externe *"}),(0,r.jsx)("input",{type:"url",...M("external_url"),className:(0,z.cn)("w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-brand-blue focus:border-transparent transition-all",$.external_url?"border-red-500":"border-gray-200"),placeholder:"https://example.com"}),$.external_url&&(0,r.jsx)("p",{className:"text-sm text-red-600 mt-1",children:$.external_url.message})]})]})]}),"link"!==V&&(0,r.jsxs)(g.GlassCard,{variant:"premium",className:"p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Fichier"}),(0,r.jsx)("div",{className:"space-y-4",children:T?(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("img",{src:T,alt:"Aperçu",className:"w-full h-64 object-cover rounded-lg border border-gray-200"}),(0,r.jsx)("button",{type:"button",onClick:()=>{j(null),F(null)},className:"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:(0,r.jsx)(f.X,{className:"h-4 w-4"})})]}):v?(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(y.FileText,{className:"h-8 w-8 text-gray-400"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-gray-900",children:v.name}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:[(v.size/1024/1024).toFixed(2)," MB"]})]})]}),(0,r.jsx)("button",{type:"button",onClick:()=>j(null),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:(0,r.jsx)(f.X,{className:"h-4 w-4"})})]}):(0,r.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-12 text-center hover:border-brand-blue transition-colors",children:[(0,r.jsx)(x.Upload,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600 mb-2",children:"Cliquez pour télécharger un fichier"}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Tous les formats acceptés jusqu'à 100MB"}),(0,r.jsx)("input",{type:"file",onChange:e=>{let r=e.target.files?.[0];if(r&&(j(r),r.type.startsWith("image/"))){let e=new FileReader;e.onloadend=()=>{F(e.result)},e.readAsDataURL(r)}},className:"hidden",id:"file-upload"}),(0,r.jsx)("label",{htmlFor:"file-upload",className:"inline-block px-4 py-2 bg-brand-blue text-white rounded-lg hover:bg-brand-blue/90 transition-colors cursor-pointer",children:"Choisir un fichier"})]})})]}),(0,r.jsxs)(g.GlassCard,{variant:"premium",className:"p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Miniature (optionnel)"}),(0,r.jsx)("div",{className:"space-y-4",children:A?(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("img",{src:A,alt:"Aperçu",className:"w-full h-64 object-cover rounded-lg border border-gray-200"}),(0,r.jsx)("button",{type:"button",onClick:()=>{L(null),G(null)},className:"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:(0,r.jsx)(f.X,{className:"h-4 w-4"})})]}):(0,r.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-12 text-center hover:border-brand-blue transition-colors",children:[(0,r.jsx)(x.Upload,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600 mb-2",children:"Cliquez pour télécharger une miniature"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"PNG, JPG jusqu'à 5MB"}),(0,r.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{let r=e.target.files?.[0];if(r){L(r);let e=new FileReader;e.onloadend=()=>{G(e.result)},e.readAsDataURL(r)}},className:"hidden",id:"thumbnail-upload"}),(0,r.jsx)("label",{htmlFor:"thumbnail-upload",className:"mt-4 inline-block px-4 py-2 bg-brand-blue text-white rounded-lg hover:bg-brand-blue/90 transition-colors cursor-pointer",children:"Choisir un fichier"})]})})]}),(0,r.jsxs)(g.GlassCard,{variant:"premium",className:"p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Options de publication"}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Statut"}),(0,r.jsxs)("select",{...M("status"),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-brand-blue focus:border-transparent transition-all",children:[(0,r.jsx)("option",{value:"draft",children:"Brouillon"}),(0,r.jsx)("option",{value:"published",children:"Publié"}),(0,r.jsx)("option",{value:"archived",children:"Archivé"})]})]}),(0,r.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",...M("is_featured"),className:"w-5 h-5 text-brand-blue border-gray-300 rounded focus:ring-brand-blue"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium text-gray-900",children:"Mettre en vedette"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:'La ressource apparaîtra dans la section "En vedette"'})]})]})]})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,r.jsx)(N.default,{href:"/dashboard/resources",children:(0,r.jsx)(m.Button,{variant:"ghost",type:"button",children:"Annuler"})}),(0,r.jsx)(m.Button,{type:"submit",disabled:E.isPending,className:"bg-brand-blue hover:bg-brand-blue/90 text-white shadow-lg shadow-brand-blue/20",children:E.isPending?(0,r.jsx)(r.Fragment,{children:"Création..."}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.Save,{className:"h-4 w-4 mr-2"}),"Créer la ressource"]})})]})]})]})}e.s(["default",()=>T])}]);