(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,871689,e=>{"use strict";let s=(0,e.i(475254).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>s],871689)},605631,e=>{"use strict";let s=(0,e.i(475254).default)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>s],605631)},25652,e=>{"use strict";let s=(0,e.i(475254).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["TrendingUp",()=>s],25652)},738308,e=>{"use strict";let s=(0,e.i(475254).default)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>s],738308)},62870,e=>{"use strict";var s=e.i(843476),t=e.i(271645),r=e.i(647163);e.i(882205);var a=e.i(846932),n=e.i(88653),l=e.i(664659),i=e.i(898791);t.forwardRef(({className:e,label:d,error:o,helperText:c,variant:u="default",leftIcon:m,id:x,options:h,placeholder:p,value:f,...g},j)=>{let[v,y]=t.useState(!1),[N,_]=t.useState(!1),b=x||`select-${Math.random().toString(36).substr(2,9)}`,w=(0,r.cn)("flex w-full rounded-lg font-medium transition-all duration-300","appearance-none cursor-pointer","focus:outline-none focus:ring-2 focus:ring-primary/20","disabled:cursor-not-allowed disabled:opacity-50",{"border-2 border-input bg-background px-4 py-3 pr-11":"default"===u,"focus:border-primary focus:bg-white":"default"===u&&!o,"border-destructive focus:border-destructive focus:ring-destructive/20":o,"border-2 border-input bg-transparent px-4 py-3 pr-11":"outlined"===u,"focus:border-primary focus:shadow-md focus:shadow-primary/10":"outlined"===u&&!o,"border-0 border-b-2 border-input bg-muted/50 px-4 py-3 pr-11 rounded-b-none":"filled"===u,"focus:bg-muted focus:border-primary":"filled"===u&&!o,"focus:border-destructive bg-destructive/5":"filled"===u&&o},m&&"pl-11",e);return(0,s.jsxs)("div",{className:"w-full space-y-1.5",children:[d&&(0,s.jsxs)(a.motion.label,{htmlFor:b,initial:!1,animate:{color:o?"#EF4444":v?"rgb(37, 99, 235)":"rgb(107, 114, 128)"},className:(0,r.cn)("block text-sm font-medium transition-colors duration-200",o&&"text-destructive"),children:[d,g.required&&(0,s.jsx)("span",{className:"text-destructive ml-1",children:"*"})]}),(0,s.jsxs)("div",{className:"relative",children:[m&&(0,s.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground pointer-events-none z-10",children:m}),(0,s.jsxs)(a.motion.select,{ref:j,id:b,value:f,...g,onFocus:e=>{y(!0),g.onFocus?.(e)},onBlur:e=>{y(!1),_(!1),g.onBlur?.(e)},onMouseDown:()=>_(!N),className:w,animate:{scale:v?1.01:1,borderColor:o?"#EF4444":v?"rgb(37, 99, 235)":"rgb(226, 232, 240)"},transition:{duration:.2},children:[p&&(0,s.jsx)("option",{value:"",disabled:!0,children:p}),(h||[]).map(e=>(0,s.jsx)("option",{value:e.value,disabled:e.disabled,children:e.label},e.value))]}),(0,s.jsx)(a.motion.div,{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-muted-foreground",animate:{rotate:180*!!N},transition:{duration:.2},children:(0,s.jsx)(l.ChevronDown,{className:"h-5 w-5"})}),o&&(0,s.jsx)(a.motion.div,{className:"absolute right-11 top-1/2 -translate-y-1/2 pointer-events-none",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:500,damping:30},children:(0,s.jsx)(i.AlertCircle,{className:"h-5 w-5 text-destructive"})})]}),(0,s.jsx)(n.AnimatePresence,{mode:"wait",children:(o||c)&&(0,s.jsx)(a.motion.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},transition:{duration:.2},className:(0,r.cn)("text-xs transition-colors duration-200",o?"text-destructive":"text-muted-foreground"),children:o||c})})]})}).displayName="SelectNative";let d=t.createContext({}),o=t.forwardRef(({value:e,onValueChange:r,children:a},n)=>{let[l,i]=t.useState(!1);return(0,s.jsx)(d.Provider,{value:{value:e,onValueChange:r,open:l,setOpen:i},children:(0,s.jsx)("div",{className:"relative",ref:n,children:a})})});o.displayName="SelectRoot";let c=t.forwardRef(({children:e,className:a,...n},i)=>{let{open:o,setOpen:c}=t.useContext(d);return(0,s.jsxs)("button",{ref:i,type:"button",className:(0,r.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),onClick:()=>c?.(!o),...n,children:[e,(0,s.jsx)(l.ChevronDown,{className:(0,r.cn)("h-4 w-4 opacity-50 transition-transform",o&&"rotate-180")})]})});c.displayName="SelectTrigger";let u=t.forwardRef(({placeholder:e},r)=>{let{value:a}=t.useContext(d);return(0,s.jsx)("span",{ref:r,children:a||e})});u.displayName="SelectValue";let m=t.forwardRef(({children:e},r)=>{let a=t.useContext(d);return a?.open&&e?(0,s.jsx)("div",{ref:r,className:"absolute top-full left-0 z-50 mt-1 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md",children:(0,s.jsx)("div",{className:"p-1",children:e})}):null});m.displayName="SelectContent";let x=t.forwardRef(({value:e,children:a,className:n,...l},i)=>{let{value:o,onValueChange:c,setOpen:u}=t.useContext(d),m=o===e;return(0,s.jsx)("div",{ref:i,role:"option","aria-selected":m,className:(0,r.cn)("relative flex w-full cursor-pointer select-none items-center rounded-sm py-1.5 px-2 text-sm outline-none hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground",m&&"bg-accent text-accent-foreground",n),onClick:()=>{c?.(e),u?.(!1)},...l,children:a})});x.displayName="SelectItem",e.s(["Select",0,o,"SelectContent",0,m,"SelectItem",0,x,"SelectRoot",0,o,"SelectTrigger",0,c,"SelectValue",0,u])},338456,e=>{"use strict";let s=(0,e.i(475254).default)("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);e.s(["PlayCircle",()=>s],338456)},655900,e=>{"use strict";let s=(0,e.i(475254).default)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);e.s(["ChevronUp",()=>s],655900)},287336,e=>{"use strict";var s=e.i(843476),t=e.i(271645),r=e.i(647163);let a=t.forwardRef(({className:e,value:t=0,max:a=100,indicatorClassName:n,...l},i)=>{let d=Math.min(Math.max(t/a*100,0),100);return(0,s.jsx)("div",{ref:i,role:"progressbar","aria-valuemin":0,"aria-valuemax":a,"aria-valuenow":t,className:(0,r.cn)("relative h-2 w-full overflow-hidden rounded-full bg-gray-100",e),...l,children:(0,s.jsx)("div",{className:(0,r.cn)("h-full bg-brand-blue transition-all duration-300 ease-in-out",n),style:{width:`${d}%`}})})});a.displayName="Progress",e.s(["Progress",()=>a])},95279,e=>{"use strict";var s=e.i(843476),t=e.i(271645),r=e.i(266027),a=e.i(325715),n=e.i(920755),l=e.i(970065),i=e.i(167881),d=e.i(994179),o=e.i(287336),c=e.i(23750),u=e.i(62870),m=e.i(32095),x=e.i(761911),h=e.i(810980),p=e.i(25652),f=e.i(605631),g=e.i(338456),j=e.i(738308),v=e.i(555436),y=e.i(871689),N=e.i(664659),_=e.i(655900),b=e.i(522016);e.i(882205);var w=e.i(846932),C=e.i(647163);function S(){let{user:e}=(0,a.useAuth)(),S=(0,n.createClient)(),[k,q]=(0,t.useState)(""),[P,T]=(0,t.useState)("all"),[z,R]=(0,t.useState)("all"),[A,L]=(0,t.useState)(new Set),{data:M,isLoading:D}=(0,r.useQuery)({queryKey:["teacher-sessions",e?.id],queryFn:async()=>{if(!e?.id)return[];try{let{data:s,error:t}=await S.from("sessions").select(`
            id, name, start_date, end_date, status,
            session_trainers!inner(user_id)
          `).eq("session_trainers.user_id",e.id).order("start_date",{ascending:!1});if(t){if(t.message?.includes("relationship")||t.message?.includes("schema cache")){let{data:s,error:t}=await S.from("sessions").select("id, name, start_date, end_date, status").eq("organization_id",e.organization_id||"").order("start_date",{ascending:!1});if(t)throw t;return s||[]}throw t}return s||[]}catch(e){return console.warn("Error fetching teacher sessions:",e),[]}},enabled:!!e?.id}),{data:U}=(0,r.useQuery)({queryKey:["teacher-session-courses",M?.map(e=>e.id)],queryFn:async()=>{if(!M?.length)return[];let e=M.map(e=>e.id);try{let{data:s,error:t}=await S.from("session_courses").select(`
            *,
            course:courses(id, title, slug, difficulty_level),
            session:sessions(id, name)
          `).in("session_id",e);if(t){if("PGRST116"===t.code||"42P01"===t.code||t.message?.includes("does not exist"))return[];throw t}return s||[]}catch(e){return console.warn("Error fetching session courses:",e),[]}},enabled:!!M?.length}),{data:B,isLoading:E}=(0,r.useQuery)({queryKey:["teacher-student-progress",(U||[]).map(e=>e.id)],queryFn:async()=>{if(!U?.length||!M?.length)return[];let e=M.map(e=>e.id),s=[...new Set((U||[]).map(e=>e.course_id))];try{let{data:t,error:r}=await S.from("enrollments").select(`
            student_id, session_id,
            students(id, first_name, last_name, email)
          `).in("session_id",e);if(r)throw r;let{data:a}=await S.from("lessons").select("id, course_id").in("course_id",s),n=[...new Set((t||[]).map(e=>e.student_id))],{data:l}=await S.from("lesson_progress").select("*, lessons(course_id)").in("student_id",n),{data:i}=await S.from("quiz_attempts").select("*, quizzes(lesson_id, lessons(course_id))").in("student_id",n).eq("is_completed",!0),d=[];for(let e of t||[]){let s=e.students;if(s)for(let t of(U||[]).filter(s=>s.session_id===e.session_id)){let r=t.course_id,n=(a||[]).filter(e=>e.course_id===r).length,o=(l||[]).filter(s=>s.student_id===e.student_id&&s.lessons?.course_id===r),c=o.filter(e=>e.is_completed).length,u=n>0?Math.round(c/n*100):0,m=(i||[]).filter(s=>s.student_id===e.student_id&&s.quizzes?.lessons?.course_id===r),x=m.length>0?Math.round(m.reduce((e,s)=>e+(s.score||0),0)/m.length):null,h=o.sort((e,s)=>new Date(s.updated_at||s.created_at).getTime()-new Date(e.updated_at||e.created_at).getTime())[0],p="not_started";c>0&&c>=n?p="completed":c>0&&(p="in_progress"),d.push({student_id:e.student_id,student_name:`${s.first_name} ${s.last_name}`,student_email:s.email||"",course_id:r,course_title:t.course?.title||"Cours",course_slug:t.course?.slug||"",session_id:e.session_id,session_name:t.session?.name||"Session",progress:u,completed_lessons:c,total_lessons:n,quiz_score:x,last_activity:h?.updated_at||h?.created_at||null,status:p,is_required:t.is_required,due_date:t.due_date})}}return d}catch(e){return console.warn("Error fetching student progress:",e),[]}},enabled:!!U?.length}),F=(B||[]).filter(e=>{let s=e.student_name.toLowerCase().includes(k.toLowerCase())||e.student_email.toLowerCase().includes(k.toLowerCase()),t="all"===P||e.session_id===P,r="all"===z||e.course_id===z;return s&&t&&r}),I=F.reduce((e,s)=>(e[s.student_id]||(e[s.student_id]={student_id:s.student_id,student_name:s.student_name,student_email:s.student_email,courses:[]}),e[s.student_id].courses.push(s),e),{}),O={totalStudents:Object.keys(I).length,totalCourses:[...new Set(F.map(e=>e.course_id))].length,avgProgress:F.length>0?Math.round(F.reduce((e,s)=>e+s.progress,0)/F.length):0,completed:F.filter(e=>"completed"===e.status).length,inProgress:F.filter(e=>"in_progress"===e.status).length,notStarted:F.filter(e=>"not_started"===e.status).length},V=[...new Map((U||[]).map(e=>[e.session_id,{id:e.session_id,name:e.session?.name}])).values()],$=[...new Map((U||[]).map(e=>[e.course_id,{id:e.course_id,title:e.course?.title}])).values()];return(0,s.jsxs)(w.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6 pb-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(b.default,{href:"/dashboard/my-students",children:(0,s.jsx)(i.Button,{variant:"ghost",size:"icon",children:(0,s.jsx)(y.ArrowLeft,{className:"h-4 w-4"})})}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-purple-100 rounded-xl",children:(0,s.jsx)(m.GraduationCap,{className:"h-6 w-6 text-purple-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Suivi E-Learning"}),(0,s.jsx)("p",{className:"text-gray-500",children:"Progression des apprenants dans vos sessions"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[(0,s.jsx)(l.Card,{children:(0,s.jsx)(l.CardContent,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Apprenants"}),(0,s.jsx)("p",{className:"text-xl font-bold",children:O.totalStudents})]}),(0,s.jsx)(x.Users,{className:"h-6 w-6 text-blue-600 opacity-50"})]})})}),(0,s.jsx)(l.Card,{children:(0,s.jsx)(l.CardContent,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Cours"}),(0,s.jsx)("p",{className:"text-xl font-bold",children:O.totalCourses})]}),(0,s.jsx)(h.BookOpen,{className:"h-6 w-6 text-purple-600 opacity-50"})]})})}),(0,s.jsx)(l.Card,{children:(0,s.jsx)(l.CardContent,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Progression"}),(0,s.jsxs)("p",{className:"text-xl font-bold",children:[O.avgProgress,"%"]})]}),(0,s.jsx)(p.TrendingUp,{className:"h-6 w-6 text-indigo-600 opacity-50"})]})})}),(0,s.jsx)(l.Card,{children:(0,s.jsx)(l.CardContent,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Terminés"}),(0,s.jsx)("p",{className:"text-xl font-bold text-green-600",children:O.completed})]}),(0,s.jsx)(f.CheckCircle,{className:"h-6 w-6 text-green-600 opacity-50"})]})})}),(0,s.jsx)(l.Card,{children:(0,s.jsx)(l.CardContent,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"En cours"}),(0,s.jsx)("p",{className:"text-xl font-bold text-yellow-600",children:O.inProgress})]}),(0,s.jsx)(g.PlayCircle,{className:"h-6 w-6 text-yellow-600 opacity-50"})]})})}),(0,s.jsx)(l.Card,{children:(0,s.jsx)(l.CardContent,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Non commencés"}),(0,s.jsx)("p",{className:"text-xl font-bold text-gray-400",children:O.notStarted})]}),(0,s.jsx)(j.XCircle,{className:"h-6 w-6 text-gray-400 opacity-50"})]})})})]}),(0,s.jsx)(l.Card,{children:(0,s.jsx)(l.CardContent,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,s.jsxs)("div",{className:"flex-1 relative",children:[(0,s.jsx)(v.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,s.jsx)(c.Input,{placeholder:"Rechercher un apprenant...",value:k,onChange:e=>q(e.target.value),className:"pl-10"})]}),(0,s.jsxs)(u.Select,{value:P,onValueChange:T,children:[(0,s.jsx)(u.SelectTrigger,{className:"w-full md:w-[200px]",children:(0,s.jsx)(u.SelectValue,{placeholder:"Toutes les sessions"})}),(0,s.jsxs)(u.SelectContent,{children:[(0,s.jsx)(u.SelectItem,{value:"all",children:"Toutes les sessions"}),V.map(e=>(0,s.jsx)(u.SelectItem,{value:e.id,children:e.name},e.id))]})]}),(0,s.jsxs)(u.Select,{value:z,onValueChange:R,children:[(0,s.jsx)(u.SelectTrigger,{className:"w-full md:w-[200px]",children:(0,s.jsx)(u.SelectValue,{placeholder:"Tous les cours"})}),(0,s.jsxs)(u.SelectContent,{children:[(0,s.jsx)(u.SelectItem,{value:"all",children:"Tous les cours"}),$.map(e=>(0,s.jsx)(u.SelectItem,{value:e.id,children:e.title},e.id))]})]})]})})}),D||E?(0,s.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,s.jsx)("div",{className:"h-24 bg-gray-100 rounded-xl animate-pulse"},e))}):0===Object.keys(I).length?(0,s.jsx)(l.Card,{children:(0,s.jsx)(l.CardContent,{className:"py-12",children:(0,s.jsxs)("div",{className:"text-center text-muted-foreground",children:[(0,s.jsx)(m.GraduationCap,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),(0,s.jsx)("p",{className:"text-lg font-medium mb-2",children:"Aucune donnée de progression"}),(0,s.jsx)("p",{className:"text-sm",children:U?.length===0?"Aucun cours e-learning n'est assigné à vos sessions.":"Aucun apprenant ne correspond à vos critères de recherche."})]})})}):(0,s.jsx)("div",{className:"space-y-4",children:Object.values(I).map(e=>{let t=A.has(e.student_id),r=Math.round(e.courses.reduce((e,s)=>e+s.progress,0)/e.courses.length),a=e.courses.filter(e=>"completed"===e.status).length;return(0,s.jsx)(l.Card,{className:"overflow-hidden",children:(0,s.jsxs)(l.CardContent,{className:"p-0",children:[(0,s.jsxs)("button",{onClick:()=>{var s;return s=e.student_id,void L(e=>{let t=new Set(e);return t.has(s)?t.delete(s):t.add(s),t})},className:"w-full p-4 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center",children:(0,s.jsx)(x.Users,{className:"h-5 w-5 text-purple-600"})}),(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)("h3",{className:"font-semibold",children:e.student_name}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:e.student_email})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-6 mr-4",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Cours"}),(0,s.jsx)("p",{className:"text-sm font-semibold",children:e.courses.length})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Terminés"}),(0,s.jsxs)("p",{className:"text-sm font-semibold text-green-600",children:[a,"/",e.courses.length]})]}),(0,s.jsxs)("div",{className:"w-24",children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground text-center mb-1",children:"Progression"}),(0,s.jsx)(o.Progress,{value:r,className:"h-2"}),(0,s.jsxs)("p",{className:"text-xs text-center mt-1 font-semibold",children:[r,"%"]})]})]}),t?(0,s.jsx)(_.ChevronUp,{className:"h-5 w-5 text-muted-foreground"}):(0,s.jsx)(N.ChevronDown,{className:"h-5 w-5 text-muted-foreground"})]}),t&&(0,s.jsx)("div",{className:"border-t bg-gray-50/50 p-4",children:(0,s.jsx)("div",{className:"space-y-3",children:e.courses.map(t=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,s.jsx)("div",{className:(0,C.cn)("w-8 h-8 rounded-full flex items-center justify-center","completed"===t.status?"bg-green-100":"in_progress"===t.status?"bg-yellow-100":"bg-gray-100"),children:"completed"===t.status?(0,s.jsx)(f.CheckCircle,{className:"h-4 w-4 text-green-600"}):"in_progress"===t.status?(0,s.jsx)(g.PlayCircle,{className:"h-4 w-4 text-yellow-600"}):(0,s.jsx)(j.XCircle,{className:"h-4 w-4 text-gray-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("p",{className:"font-medium text-sm",children:t.course_title}),t.is_required&&(0,s.jsx)(d.Badge,{variant:"secondary",className:"text-xs",children:"Obligatoire"})]}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:[t.session_name,t.last_activity&&` • Derni\xe8re activit\xe9: ${(0,C.formatDate)(t.last_activity)}`]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Leçons"}),(0,s.jsxs)("p",{className:"text-sm font-semibold",children:[t.completed_lessons,"/",t.total_lessons]})]}),null!==t.quiz_score&&(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Quiz"}),(0,s.jsxs)("p",{className:"text-sm font-semibold",children:[t.quiz_score,"%"]})]}),t.due_date&&(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Échéance"}),(0,s.jsx)("p",{className:(0,C.cn)("text-xs font-semibold",new Date(t.due_date)<new Date&&"completed"!==t.status?"text-red-600":"text-gray-600"),children:(0,C.formatDate)(t.due_date)})]}),(0,s.jsxs)("div",{className:"w-24",children:[(0,s.jsx)(o.Progress,{value:t.progress,className:"h-2"}),(0,s.jsxs)("p",{className:"text-xs text-center mt-1",children:[t.progress,"%"]})]}),(0,s.jsx)(d.Badge,{variant:"completed"===t.status?"default":"in_progress"===t.status?"secondary":"outline",children:"completed"===t.status?"Terminé":"in_progress"===t.status?"En cours":"Non commencé"})]})]},`${e.student_id}-${t.course_id}`))})})]})},e.student_id)})})]})}e.s(["default",()=>S])}]);