(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,107233,e=>{"use strict";let t=(0,e.i(475254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],107233)},871689,e=>{"use strict";let t=(0,e.i(475254).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],871689)},683909,e=>{"use strict";var t=e.i(920755);let s=new class{supabase;constructor(e){this.supabase=e||(0,t.createClient)()}async getAllPrograms(e,t){let s=this.supabase.from("programs").select("*").eq("organization_id",e);t?.isActive!==void 0&&(s=s.eq("is_active",t.isActive)),t?.search&&(s=s.or(`name.ilike.%${t.search}%,code.ilike.%${t.search}%,description.ilike.%${t.search}%`));let{data:r,error:a}=await s.order("created_at",{ascending:!1});if(a)throw a;return r}async getProgramById(e){let{data:t,error:s}=await this.supabase.from("programs").select(`
        *,
        formations(*)
      `).eq("id",e).single();if(s)throw s;return t}async createProgram(e){let{data:t,error:s}=await this.supabase.from("programs").insert(e).select().single();if(s)throw s;return t}async updateProgram(e,t){let{data:s,error:r}=await this.supabase.from("programs").update(t).eq("id",e).select().single();if(r)throw r;return s}async deleteProgram(e){return this.updateProgram(e,{is_active:!1})}async getFormationsByProgram(e){let{data:t,error:s}=await this.supabase.from("formations").select("*").eq("program_id",e).order("created_at",{ascending:!1});if(s)throw s;return t}async getGlobalStats(e){let{data:t,error:s}=await this.supabase.from("programs").select("id, is_active, created_at").eq("organization_id",e);if(s)throw s;let r=t||[],a=r.length,n=r.filter(e=>e.is_active).length,i=r.filter(e=>!e.is_active).length,l=0,o=r.map(e=>e.id);if(o.length>0){let{count:e,error:t}=await this.supabase.from("formations").select("*",{count:"exact",head:!0}).in("program_id",o);if(t)throw t;l=e||0}let d=0;if(o.length>0){let{data:e,error:t}=await this.supabase.from("formations").select("id").in("program_id",o);if(t)throw t;let s=e?.map(e=>e.id)||[];if(s.length>0){let{count:e,error:t}=await this.supabase.from("sessions").select("*",{count:"exact",head:!0}).in("formation_id",s);if(t)throw t;d=e||0}}let c=0;if(o.length>0){let{data:e,error:t}=await this.supabase.from("formations").select("id").in("program_id",o);if(t)throw t;let s=e?.map(e=>e.id)||[];if(s.length>0){let{data:e,error:t}=await this.supabase.from("sessions").select("id").in("formation_id",s);if(t)throw t;let r=e?.map(e=>e.id)||[];if(r.length>0){let{count:e,error:t}=await this.supabase.from("enrollments").select("*",{count:"exact",head:!0}).in("session_id",r);if(t)throw t;c=e||0}}}let u=[{name:"Actifs",value:n,color:"#335ACF"},{name:"Inactifs",value:i,color:"#6B7280"}].filter(e=>e.value>0),m={};return r.forEach(e=>{if(e.created_at){let t=new Date(e.created_at),s=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`;m[s]=(m[s]||0)+1}}),{total:a,active:n,inactive:i,totalFormations:l,totalSessions:d,totalEnrollments:c,statusData:u,monthlyData:Object.entries(m).sort(([e],[t])=>e.localeCompare(t)).slice(-6).map(([e,t])=>({month:new Date(e+"-01").toLocaleDateString("fr-FR",{month:"short",year:"numeric"}),programmes:t}))}}};e.s(["programService",0,s])},1262,e=>{"use strict";var t=e.i(920755);let s=new class{supabase;constructor(e){this.supabase=e||(0,t.createClient)()}async getAllFormations(e,t){let s=this.supabase.from("formations").select(`
        *,
        programs(*)
      `).eq("organization_id",e);t?.programId&&(s=s.eq("program_id",t.programId)),t?.isActive!==void 0&&(s=s.eq("is_active",t.isActive)),t?.search&&(s=s.or(`name.ilike.%${t.search}%,code.ilike.%${t.search}%,description.ilike.%${t.search}%`));let{data:r,error:a}=await s.order("created_at",{ascending:!1});if(a)throw a;return r}async getFormationById(e){let{data:t,error:s}=await this.supabase.from("formations").select(`
        *,
        programs(*),
        sessions(*)
      `).eq("id",e).single();if(s)throw s;return t}async createFormation(e){let{data:t,error:s}=await this.supabase.from("formations").insert(e).select().single();if(s)throw s;return t}async updateFormation(e,t){let{data:s,error:r}=await this.supabase.from("formations").update(t).eq("id",e).select().single();if(r)throw r;return s}async deleteFormation(e){return this.updateFormation(e,{is_active:!1})}async getSessionsByFormation(e){let{data:t,error:s}=await this.supabase.from("sessions").select("*").eq("formation_id",e).order("start_date",{ascending:!0});if(s)throw s;return t}async getAllSessionsForFormation(e){let{data:t,error:s}=await this.supabase.from("formation_sessions").select(`
        session_id,
        order_index,
        sessions(*)
      `).eq("formation_id",e).order("order_index",{ascending:!0});if(s)throw s;let{data:r,error:a}=await this.supabase.from("sessions").select("*").eq("formation_id",e).order("start_date",{ascending:!0});if(a)throw a;let n=t?.map(e=>e.sessions).filter(Boolean)||[],i=[...n],l=new Set(n.map(e=>e.id));for(let e of r||[])l.has(e.id)||i.push(e);return i}async addSessionsToFormation(e,t,s){let r=t.map((t,r)=>({formation_id:e,session_id:t,organization_id:s,order_index:r})),{data:a,error:n}=await this.supabase.from("formation_sessions").insert(r).select();if(n)throw n;return a}async removeSessionFromFormation(e,t){let{error:s}=await this.supabase.from("formation_sessions").delete().eq("formation_id",e).eq("session_id",t);if(s)throw s;return!0}async updateFormationSessions(e,t,s){let{error:r}=await this.supabase.from("formation_sessions").delete().eq("formation_id",e);if(r)throw r;return t.length>0?this.addSessionsToFormation(e,t,s):[]}async getFormationWithAllSessions(e){let t=await this.getFormationById(e);if(!t)return null;let s=await this.getAllSessionsForFormation(e);return{...t,all_sessions:s}}};e.s(["formationService",0,s])},797548,e=>{"use strict";let t=(0,e.i(475254).default)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);e.s(["Filter",()=>t],797548)},14162,e=>{"use strict";var t=e.i(843476),s=e.i(271645),r=e.i(618566),a=e.i(266027),n=e.i(954616),i=e.i(912598),l=e.i(920755),o=e.i(683909),d=e.i(1262),c=e.i(325715),u=e.i(167881),m=e.i(970065),h=e.i(871689),p=e.i(107233),x=e.i(87316),f=e.i(555436),g=e.i(797548),j=e.i(37727),v=e.i(522016),y=e.i(647163);function b(){let e=(0,r.useParams)();(0,r.useRouter)();let b=e.id,_=(0,l.createClient)(),w=(0,i.useQueryClient)(),{user:N}=(0,c.useAuth)(),[C,F]=(0,s.useState)(""),[S,q]=(0,s.useState)(null),[A,P]=(0,s.useState)("all"),[k,T]=(0,s.useState)("all"),[B,z]=(0,s.useState)(!1),[E,$]=(0,s.useState)({student_id:"",session_id:"",enrollment_date:new Date().toISOString().split("T")[0],status:"confirmed",payment_status:"pending",total_amount:"0",paid_amount:"0"}),{data:D,isLoading:L}=(0,a.useQuery)({queryKey:["program",b],queryFn:async()=>{let e=await o.programService.getProgramById(b),t=await d.formationService.getAllFormations(N?.organization_id||"",{programId:b});return{...e,formations:t}},enabled:!!b&&!!N?.organization_id}),{data:I}=(0,a.useQuery)({queryKey:["program-sessions",b],queryFn:async()=>{if(!D?.formations)return[];let e=[];for(let t of D.formations||[]){let s=await d.formationService.getSessionsByFormation(t.id);e.push(...s)}return e},enabled:!!D?.formations}),{data:O,isLoading:M}=(0,a.useQuery)({queryKey:["program-enrollments",b,S],queryFn:async()=>{let e=_.from("enrollments").select("*, students(*), sessions(name, formations(name, programs(name)))").order("enrollment_date",{ascending:!1});if(S)e=e.eq("session_id",S);else{if(!I||!(I.length>0))return[];let t=(I||[]).map(e=>e.id).filter(e=>!!e);if(!t||!(t.length>0))return[];e=e.in("session_id",t)}let{data:t,error:s}=await e;if(s)throw s;return t||[]},enabled:!!b&&(null!==S||I&&I.length>0)}),{data:K}=(0,a.useQuery)({queryKey:["students",N?.organization_id],queryFn:async()=>{if(!N?.organization_id)return[];let{data:e,error:t}=await _.from("students").select("id, first_name, last_name, student_number, email").eq("organization_id",N.organization_id).eq("status","active").order("last_name",{ascending:!0});if(t)throw t;return e||[]},enabled:!!N?.organization_id}),X=O?.filter(e=>{if(C){let t=e.students,s=C.toLowerCase();if(!(t?.first_name?.toLowerCase().includes(s)||t?.last_name?.toLowerCase().includes(s)||t?.student_number?.toLowerCase().includes(s)||t?.email?.toLowerCase().includes(s)))return!1}return("all"===A||e.status===A)&&("all"===k||e.payment_status===k)}),Q=(0,n.useMutation)({mutationFn:async()=>{if(!E.student_id||!E.session_id)throw Error("Veuillez sélectionner un élève et une session");let{data:e,error:t}=await _.from("enrollments").insert({student_id:E.student_id,session_id:E.session_id,enrollment_date:E.enrollment_date,status:E.status,payment_status:E.payment_status,total_amount:parseFloat(E.total_amount)||0,paid_amount:parseFloat(E.paid_amount)||0}).select().single();if(t)throw t;return e},onSuccess:()=>{w.invalidateQueries({queryKey:["program-enrollments",b]}),z(!1),$({student_id:"",session_id:"",enrollment_date:new Date().toISOString().split("T")[0],status:"confirmed",payment_status:"pending",total_amount:D?.price?.toString()||"0",paid_amount:"0"})}});(0,s.useEffect)(()=>{D?.price&&!E.total_amount&&$(e=>({...e,total_amount:D.price.toString()}))},[D?.price]);let R=O?{total:O.length,pending:O.filter(e=>"pending"===e.status).length,confirmed:O.filter(e=>"confirmed"===e.status).length,completed:O.filter(e=>"completed"===e.status).length,paid:O.filter(e=>"paid"===e.payment_status).length,totalAmount:O.reduce((e,t)=>e+(t.total_amount||0),0),paidAmount:O.reduce((e,t)=>e+(t.paid_amount||0),0)}:null;return L||M?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("div",{className:"text-muted-foreground",children:"Chargement..."})})}):D?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(v.default,{href:`/dashboard/programs/${b}`,children:(0,t.jsx)(u.Button,{variant:"ghost",size:"icon",children:(0,t.jsx)(h.ArrowLeft,{className:"h-4 w-4"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Inscriptions"}),(0,t.jsxs)("p",{className:"mt-2 text-sm text-gray-600",children:["Gestion des inscriptions pour ",(0,t.jsx)(v.default,{href:`/dashboard/programs/${b}`,className:"text-primary hover:underline",children:D.name})]})]})]}),(0,t.jsxs)(u.Button,{onClick:()=>z(!0),children:[(0,t.jsx)(p.Plus,{className:"mr-2 h-4 w-4"}),"Nouvelle inscription"]})]}),R&&(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4",children:[(0,t.jsx)(m.Card,{children:(0,t.jsx)(m.CardContent,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:R.total}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total"})]})})}),(0,t.jsx)(m.Card,{children:(0,t.jsx)(m.CardContent,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-brand-cyan",children:R.pending}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"En attente"})]})})}),(0,t.jsx)(m.Card,{children:(0,t.jsx)(m.CardContent,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:R.confirmed}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Confirmées"})]})})}),(0,t.jsx)(m.Card,{children:(0,t.jsx)(m.CardContent,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-brand-blue",children:R.completed}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Terminées"})]})})}),(0,t.jsx)(m.Card,{children:(0,t.jsx)(m.CardContent,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-brand-blue",children:R.paid}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Payées"})]})})}),(0,t.jsx)(m.Card,{children:(0,t.jsx)(m.CardContent,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-lg font-bold",children:(0,y.formatCurrency)(R.totalAmount,D.currency||"XOF")}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total"})]})})}),(0,t.jsx)(m.Card,{children:(0,t.jsx)(m.CardContent,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-lg font-bold",children:(0,y.formatCurrency)(R.paidAmount,D.currency||"XOF")}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Payé"})]})})})]}),(0,t.jsxs)(m.Card,{children:[(0,t.jsx)(m.CardHeader,{children:(0,t.jsxs)(m.CardTitle,{className:"flex items-center",children:[(0,t.jsx)(g.Filter,{className:"mr-2 h-5 w-5"}),"Filtres"]})}),(0,t.jsx)(m.CardContent,{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsx)("div",{className:"md:col-span-1",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(f.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)("input",{type:"text",placeholder:"Rechercher un élève...",value:C,onChange:e=>F(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent min-touch-target"})]})}),(0,t.jsx)("div",{children:(0,t.jsxs)("select",{value:S||"all",onChange:e=>q("all"===e.target.value?null:e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent min-touch-target",children:[(0,t.jsx)("option",{value:"all",children:"Toutes les sessions"}),I?.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]})}),(0,t.jsx)("div",{children:(0,t.jsxs)("select",{value:A,onChange:e=>P(e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent min-touch-target",children:[(0,t.jsx)("option",{value:"all",children:"Tous les statuts"}),(0,t.jsx)("option",{value:"pending",children:"En attente"}),(0,t.jsx)("option",{value:"confirmed",children:"Confirmée"}),(0,t.jsx)("option",{value:"completed",children:"Terminée"}),(0,t.jsx)("option",{value:"cancelled",children:"Annulée"}),(0,t.jsx)("option",{value:"failed",children:"Échouée"})]})}),(0,t.jsx)("div",{children:(0,t.jsxs)("select",{value:k,onChange:e=>T(e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent min-touch-target",children:[(0,t.jsx)("option",{value:"all",children:"Tous les paiements"}),(0,t.jsx)("option",{value:"pending",children:"En attente"}),(0,t.jsx)("option",{value:"partial",children:"Partiel"}),(0,t.jsx)("option",{value:"paid",children:"Payé"}),(0,t.jsx)("option",{value:"overdue",children:"En retard"})]})})]})})]}),B&&(0,t.jsxs)(m.Card,{children:[(0,t.jsx)(m.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(m.CardTitle,{children:"Nouvelle inscription"}),(0,t.jsx)(u.Button,{variant:"ghost",size:"icon",onClick:()=>z(!1),children:(0,t.jsx)(j.X,{className:"h-4 w-4"})})]})}),(0,t.jsx)(m.CardContent,{children:(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),Q.mutate()},className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Élève *"}),(0,t.jsxs)("select",{required:!0,value:E.student_id,onChange:e=>$({...E,student_id:e.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent min-touch-target",children:[(0,t.jsx)("option",{value:"",children:"Sélectionner un élève"}),K?.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.first_name," ",e.last_name," (",e.student_number,")"]},e.id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Session *"}),(0,t.jsxs)("select",{required:!0,value:E.session_id,onChange:e=>$({...E,session_id:e.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent min-touch-target",children:[(0,t.jsx)("option",{value:"",children:"Sélectionner une session"}),I?.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.name," (",(0,y.formatDate)(e.start_date)," - ",(0,y.formatDate)(e.end_date),")"]},e.id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Date d'inscription *"}),(0,t.jsx)("input",{type:"date",required:!0,value:E.enrollment_date,onChange:e=>$({...E,enrollment_date:e.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent min-touch-target"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Statut *"}),(0,t.jsxs)("select",{required:!0,value:E.status,onChange:e=>$({...E,status:e.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent min-touch-target",children:[(0,t.jsx)("option",{value:"pending",children:"En attente"}),(0,t.jsx)("option",{value:"confirmed",children:"Confirmée"}),(0,t.jsx)("option",{value:"completed",children:"Terminée"}),(0,t.jsx)("option",{value:"cancelled",children:"Annulée"}),(0,t.jsx)("option",{value:"failed",children:"Échouée"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["Montant total (",D.currency||"XOF",") *"]}),(0,t.jsx)("input",{type:"number",required:!0,step:"0.01",min:"0",value:E.total_amount,onChange:e=>$({...E,total_amount:e.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent min-touch-target"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["Montant payé (",D.currency||"XOF",")"]}),(0,t.jsx)("input",{type:"number",step:"0.01",min:"0",value:E.paid_amount,onChange:e=>{let t=e.target.value,s=parseFloat(E.total_amount)||0,r=parseFloat(t)||0,a="pending";r>=s&&s>0?a="paid":r>0&&(a="partial"),$({...E,paid_amount:t,payment_status:a})},className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent min-touch-target"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Statut de paiement"}),(0,t.jsxs)("select",{value:E.payment_status,onChange:e=>$({...E,payment_status:e.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent min-touch-target",children:[(0,t.jsx)("option",{value:"pending",children:"En attente"}),(0,t.jsx)("option",{value:"partial",children:"Partiel"}),(0,t.jsx)("option",{value:"paid",children:"Payé"}),(0,t.jsx)("option",{value:"overdue",children:"En retard"})]})]})]}),Q.error&&(0,t.jsx)("div",{className:"bg-destructive/10 text-destructive px-4 py-3 rounded-lg text-sm",children:Q.error instanceof Error?Q.error.message:"Une erreur est survenue lors de la création de l'inscription"}),(0,t.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,t.jsx)(u.Button,{type:"button",variant:"outline",onClick:()=>z(!1),children:"Annuler"}),(0,t.jsx)(u.Button,{type:"submit",disabled:Q.isPending,children:Q.isPending?"Création...":"Créer l'inscription"})]})]})})]}),(0,t.jsxs)(m.Card,{children:[(0,t.jsx)(m.CardHeader,{children:(0,t.jsxs)(m.CardTitle,{children:["Liste des inscriptions (",X?.length||0,")"]})}),(0,t.jsx)(m.CardContent,{children:X&&X.length>0?(0,t.jsx)("div",{className:"space-y-4",children:X.map(e=>{let s=e.students,r=e.sessions;return(0,t.jsx)("div",{className:"p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"font-semibold text-lg",children:[s?.first_name," ",s?.last_name]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[s?.student_number," ",s?.email&&`• ${s.email}`]})]}),r&&(0,t.jsxs)("div",{className:"flex items-center text-sm text-muted-foreground",children:[(0,t.jsx)(x.Calendar,{className:"mr-1 h-4 w-4"}),r.name]})]}),(0,t.jsxs)("div",{className:"mt-2 flex items-center space-x-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Date d'inscription:"})," ",(0,t.jsx)("span",{className:"font-medium",children:(0,y.formatDate)(e.enrollment_date)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Montant:"})," ",(0,t.jsx)("span",{className:"font-medium",children:(0,y.formatCurrency)(e.total_amount||0,D.currency||"XOF")})]}),e.paid_amount>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Payé:"})," ",(0,t.jsx)("span",{className:"font-medium",children:(0,y.formatCurrency)(e.paid_amount,D.currency||"XOF")})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${(e=>{switch(e){case"pending":return"bg-warning-bg text-warning-primary";case"confirmed":return"bg-blue-100 text-blue-800";case"completed":return"bg-success-bg text-success-primary";case"cancelled":default:return"bg-gray-100 text-gray-800";case"failed":return"bg-red-100 text-red-800"}})(e.status)}`,children:(e=>{switch(e){case"pending":return"En attente";case"confirmed":return"Confirmée";case"completed":return"Terminée";case"cancelled":return"Annulée";case"failed":return"Échouée";default:return e}})(e.status)}),(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${(e=>{switch(e){case"pending":return"bg-brand-cyan-ghost text-brand-cyan";case"partial":return"bg-brand-cyan-pale text-brand-cyan";case"paid":return"bg-brand-blue-ghost text-brand-blue";case"overdue":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(e.payment_status)}`,children:(e=>{switch(e){case"pending":return"En attente";case"partial":return"Partiel";case"paid":return"Payé";case"overdue":return"En retard";default:return e}})(e.payment_status)})]})]})},e.id)})}):(0,t.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:O&&0===O.length?"Aucune inscription pour ce programme":"Aucune inscription ne correspond aux critères de recherche"})})]})]}):(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-muted-foreground",children:"Programme non trouvé"}),(0,t.jsx)(v.default,{href:"/dashboard/programs",children:(0,t.jsx)(u.Button,{className:"mt-4",children:"Retour à la liste"})})]})})}e.s(["default",()=>b])}]);