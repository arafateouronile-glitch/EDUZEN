(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,87316,e=>{"use strict";let t=(0,e.i(475254).default)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);e.s(["Calendar",()=>t],87316)},225913,e=>{"use strict";var t=e.i(207670);let r=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,s=t.clsx;e.s(["cva",0,(e,t)=>a=>{var i;if((null==t?void 0:t.variants)==null)return s(e,null==a?void 0:a.class,null==a?void 0:a.className);let{variants:n,defaultVariants:o}=t,l=Object.keys(n).map(e=>{let t=null==a?void 0:a[e],s=null==o?void 0:o[e];if(null===t)return null;let i=r(t)||r(s);return n[e][i]}),d=a&&Object.entries(a).reduce((e,t)=>{let[r,s]=t;return void 0===s||(e[r]=s),e},{});return s(e,l,null==t||null==(i=t.compoundVariants)?void 0:i.reduce((e,t)=>{let{class:r,className:s,...a}=t;return Object.entries(a).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...o,...d}[t]):({...o,...d})[t]===r})?[...e,r,s]:e},[]),null==a?void 0:a.class,null==a?void 0:a.className)}])},605631,e=>{"use strict";let t=(0,e.i(475254).default)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],605631)},263488,e=>{"use strict";let t=(0,e.i(475254).default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);e.s(["Mail",()=>t],263488)},178583,e=>{"use strict";let t=(0,e.i(475254).default)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);e.s(["FileText",()=>t],178583)},440160,e=>{"use strict";let t=(0,e.i(475254).default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);e.s(["Download",()=>t],440160)},738308,e=>{"use strict";let t=(0,e.i(475254).default)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>t],738308)},284614,e=>{"use strict";let t=(0,e.i(475254).default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>t],284614)},643531,e=>{"use strict";let t=(0,e.i(475254).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],643531)},569074,e=>{"use strict";let t=(0,e.i(475254).default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);e.s(["Upload",()=>t],569074)},246704,779478,e=>{"use strict";var t,r,s=e.i(790224),a=((t={}).AUTH_REQUIRED="AUTH_1001",t.AUTH_INVALID_CREDENTIALS="AUTH_1002",t.AUTH_SESSION_EXPIRED="AUTH_1003",t.AUTH_INSUFFICIENT_PERMISSIONS="AUTH_1004",t.AUTH_2FA_REQUIRED="AUTH_1005",t.AUTH_2FA_INVALID="AUTH_1006",t.VALIDATION_ERROR="VALID_2001",t.VALIDATION_REQUIRED_FIELD="VALID_2002",t.VALIDATION_INVALID_FORMAT="VALID_2003",t.VALIDATION_UNIQUE_CONSTRAINT="VALID_2004",t.DB_CONNECTION_ERROR="DB_3001",t.DB_QUERY_ERROR="DB_3002",t.DB_NOT_FOUND="DB_3003",t.DB_CONSTRAINT_VIOLATION="DB_3004",t.DB_FOREIGN_KEY_CONSTRAINT="DB_3006",t.DB_RLS_POLICY_VIOLATION="DB_3005",t.NETWORK_ERROR="NET_4001",t.API_TIMEOUT="NET_4002",t.API_RATE_LIMIT="NET_4003",t.API_SERVER_ERROR="NET_4004",t.API_NOT_FOUND="NET_4005",t.API_BAD_REQUEST="NET_4006",t.BUSINESS_LOGIC_ERROR="BIZ_5001",t.RESOURCE_LOCKED="BIZ_5002",t.OPERATION_NOT_ALLOWED="BIZ_5003",t.QUOTA_EXCEEDED="BIZ_5004",t.INTERNAL_ERROR="SYS_6001",t.CONFIGURATION_ERROR="SYS_6002",t.SERVICE_UNAVAILABLE="SYS_6003",t);(r={}).LOW="low",r.MEDIUM="medium",r.HIGH="high",r.CRITICAL="critical";class i extends Error{code;severity;userMessage;retryable;context;originalError;constructor(e,t="SYS_6001",r="medium",s={},a){super(e),this.name="AppError",this.code=t,this.severity=r,this.userMessage=s.userMessage||this.getDefaultUserMessage(t),this.retryable=s.retryable??this.isRetryable(t),this.context={...s,code:t,severity:r,timestamp:new Date().toISOString()},this.originalError=a,Error.captureStackTrace&&Error.captureStackTrace(this,i)}getDefaultUserMessage(e){return({AUTH_1001:"Vous devez être connecté pour effectuer cette action.",AUTH_1002:"Email ou mot de passe incorrect.",AUTH_1003:"Votre session a expiré. Veuillez vous reconnecter.",AUTH_1004:"Vous n'avez pas les permissions nécessaires.",AUTH_1005:"Authentification à deux facteurs requise.",AUTH_1006:"Code d'authentification invalide.",VALID_2001:"Les données fournies ne sont pas valides.",VALID_2002:"Certains champs obligatoires sont manquants.",VALID_2003:"Le format des données est incorrect.",VALID_2004:"Cette valeur existe déjà.",DB_3001:"Impossible de se connecter à la base de données.",DB_3002:"Erreur lors de l'exécution de la requête.",DB_3003:"Ressource introuvable.",DB_3004:"Cette opération viole une contrainte de la base de données.",DB_3006:"Cette opération viole une contrainte de clé étrangère.",DB_3005:"Vous n'avez pas accès à cette ressource.",NET_4001:"Erreur de connexion réseau. Vérifiez votre connexion internet.",NET_4002:"La requête a pris trop de temps. Veuillez réessayer.",NET_4003:"Trop de requêtes. Veuillez patienter quelques instants.",NET_4004:"Erreur serveur. Veuillez réessayer plus tard.",NET_4005:"Ressource introuvable.",NET_4006:"Requête invalide.",BIZ_5001:"Cette opération n'est pas autorisée dans le contexte actuel.",BIZ_5002:"Cette ressource est actuellement verrouillée.",BIZ_5003:"Cette opération n'est pas autorisée.",BIZ_5004:"Vous avez atteint la limite autorisée.",SYS_6001:"Une erreur interne est survenue. Veuillez réessayer.",SYS_6002:"Erreur de configuration du système.",SYS_6003:"Service temporairement indisponible."})[e]||"Une erreur inattendue est survenue."}isRetryable(e){return["NET_4001","NET_4002","NET_4004","DB_3001","SYS_6003"].includes(e)}toJSON(){return{name:this.name,message:this.message,code:this.code,severity:this.severity,userMessage:this.userMessage,retryable:this.retryable,context:this.context,stack:this.stack,originalError:this.originalError instanceof Error?{name:this.originalError.name,message:this.originalError.message,stack:this.originalError.stack}:this.originalError}}}let n=new class{handleError(e,t={}){if(e instanceof i)return this.logError(e),e;if(e instanceof Error)return this.handleStandardError(e,t);if(this.isSupabaseError(e))return this.handleSupabaseError(e,t);let r=new i("Une erreur inattendue est survenue.","SYS_6001","high",t,e);return this.logError(r),r}handleStandardError(e,t){let r=e.message.toLowerCase(),s="SYS_6001",a="medium";r.includes("network")||r.includes("fetch")?(s="NET_4001",a="medium"):r.includes("timeout")?(s="NET_4002",a="medium"):r.includes("unauthorized")||r.includes("401")?(s="AUTH_1001",a="high"):r.includes("forbidden")||r.includes("403")?(s="AUTH_1004",a="high"):r.includes("not found")||r.includes("404")?(s="DB_3003",a="low"):(r.includes("validation")||r.includes("invalid"))&&(s="VALID_2001",a="low");let n=new i(e.message,s,a,t,e);return this.logError(n),n}handleSupabaseError(e,t){let r=e.code||e.status,s=e.message||"Erreur Supabase",a=t.code||"DB_3002",n="medium";if(!t.code)switch(r){case"PGRST116":case"42P01":a="DB_3003",n="low";break;case"42501":a="DB_3005",n="high";break;case"23505":a="VALID_2004",n="low";break;case"23503":a="DB_3004",n="medium";break;case"PGRST301":case"400":a="NET_4006",n="low";break;case"401":a="AUTH_1001",n="high";break;case"403":a="AUTH_1004",n="high";break;case"404":a="NET_4005",n="low";break;case"500":a="NET_4004",n="high"}"DB_3006"===a&&(n="medium");let o=new i(s,a,n,t,e);return this.logError(o),o}isSupabaseError(e){return e&&(e.code||e.status||e.message)&&("string"==typeof e.code||"number"==typeof e.status)}logError(e){let t={...e.context,code:e.code,severity:e.severity,retryable:e.retryable};switch(e.severity){case"critical":case"high":s.logger.error(e.message,e.originalError||e,t);break;case"medium":s.logger.warn(e.message,t);break;case"low":s.logger.info(`Error: ${e.message}`,t)}}createValidationError(e,t){return new i(e,"VALID_2001","low",{field:t,userMessage:e})}createAuthError(e,t){return new i(t||"Erreur d'authentification",e,"high")}createDatabaseError(e,t){return new i(e,"DB_3002","medium",{},t)}createNotFoundError(e,t){return new i(e,"DB_3003","low",t)}};e.s(["AppError",()=>i,"ErrorCode",()=>a,"errorHandler",0,n],779478),e.s([],246704)},23750,e=>{"use strict";var t=e.i(843476),r=e.i(271645),s=e.i(647163);e.i(882205);var a=e.i(846932),i=e.i(88653),n=e.i(898791),o=e.i(465286);let l=0,d=r.forwardRef(({className:e,label:d,error:c,helperText:u,variant:m="default",leftIcon:p,rightIcon:f,id:g,...x},h)=>{let[y,v]=r.useState(!1),[b,N]=r.useState(!!x.value||!!x.defaultValue),_=r.useId?.()||null,j=g||_||`input-${++l}`;r.useEffect(()=>{void 0!==x.value&&N(!!x.value)},[x.value]);let E=(0,s.cn)("flex w-full rounded-lg font-medium transition-all duration-300","placeholder:text-muted-foreground/60","focus:outline-none focus:ring-2 focus:ring-primary/20","disabled:cursor-not-allowed disabled:opacity-50",{"border-2 border-input bg-background px-4 py-3":"default"===m,"focus:border-primary focus:bg-white":"default"===m&&!c,"border-destructive focus:border-destructive focus:ring-destructive/20":c,"border-2 border-input bg-transparent px-4 py-3":"outlined"===m,"focus:border-primary focus:shadow-md focus:shadow-primary/10":"outlined"===m&&!c,"border-0 border-b-2 border-input bg-muted/50 px-4 py-3 rounded-b-none":"filled"===m,"focus:bg-muted focus:border-primary":"filled"===m&&!c,"focus:border-destructive bg-destructive/5":"filled"===m&&c},p&&"pl-11",f&&"pr-11",c&&"pr-11",e);return(0,t.jsxs)("div",{className:"w-full space-y-1.5",children:[d&&(0,t.jsxs)(a.motion.label,{htmlFor:j,initial:!1,animate:{color:c?"#EF4444":y?"rgb(37, 99, 235)":"rgb(107, 114, 128)"},className:(0,s.cn)("block text-sm font-medium transition-colors duration-200",c&&"text-destructive"),children:[d,x.required&&(0,t.jsx)("span",{className:"text-destructive ml-1",children:"*"})]}),(0,t.jsxs)("div",{className:"relative",children:[p&&(0,t.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground pointer-events-none",children:p}),(0,t.jsx)(a.motion.input,{ref:h,id:j,...x,onChange:e=>{N(!!e.target.value),x.onChange?.(e)},onFocus:e=>{v(!0),x.onFocus?.(e)},onBlur:e=>{v(!1),x.onBlur?.(e)},className:E,animate:{scale:y?1.01:1,borderColor:c?"#EF4444":y?"rgb(37, 99, 235)":"rgb(226, 232, 240)"},transition:{duration:.2}}),(0,t.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:c?(0,t.jsx)(a.motion.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:500,damping:30},children:(0,t.jsx)(n.AlertCircle,{className:"h-5 w-5 text-destructive"})}):f?(0,t.jsx)("div",{className:"text-muted-foreground",children:f}):b&&!c&&"filled"===m?(0,t.jsx)(a.motion.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:500,damping:30},children:(0,t.jsx)(o.CheckCircle2,{className:"h-5 w-5 text-success"})}):null})]}),(0,t.jsx)(i.AnimatePresence,{mode:"wait",children:(c||u)&&(0,t.jsx)(a.motion.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},transition:{duration:.2},className:(0,s.cn)("text-xs transition-colors duration-200",c?"text-destructive":"text-muted-foreground"),children:c||u})})]})});d.displayName="Input",e.s(["Input",()=>d])},10708,e=>{"use strict";var t=e.i(843476),r=e.i(271645),s=e.i(647163);let a=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("label",{ref:a,className:(0,s.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-text-primary",e),...r}));a.displayName="Label",e.s(["Label",0,a])},184762,e=>{"use strict";var t=e.i(843476),r=e.i(271645),s=e.i(647163);let a=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("textarea",{className:(0,s.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...r}));a.displayName="Textarea",e.s(["Textarea",()=>a])},630374,e=>{"use strict";var t=e.i(843476),r=e.i(271645),s=e.i(981140),a=e.i(820783),i=e.i(30030),n=e.i(610772),o=e.i(369340),l=e.i(726330),d=e.i(765491),c=e.i(774606),u=e.i(296626),m=e.i(248425),p=e.i(303536),f=e.i(985369),g=e.i(186312),x=e.i(991918),h="Dialog",[y,v]=(0,i.createContextScope)(h),[b,N]=y(h),_=e=>{let{__scopeDialog:s,children:a,open:i,defaultOpen:l,onOpenChange:d,modal:c=!0}=e,u=r.useRef(null),m=r.useRef(null),[p,f]=(0,o.useControllableState)({prop:i,defaultProp:l??!1,onChange:d,caller:h});return(0,t.jsx)(b,{scope:s,triggerRef:u,contentRef:m,contentId:(0,n.useId)(),titleId:(0,n.useId)(),descriptionId:(0,n.useId)(),open:p,onOpenChange:f,onOpenToggle:r.useCallback(()=>f(e=>!e),[f]),modal:c,children:a})};_.displayName=h;var j="DialogTrigger",E=r.forwardRef((e,r)=>{let{__scopeDialog:i,...n}=e,o=N(j,i),l=(0,a.useComposedRefs)(r,o.triggerRef);return(0,t.jsx)(m.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":q(o.open),...n,ref:l,onClick:(0,s.composeEventHandlers)(e.onClick,o.onOpenToggle)})});E.displayName=j;var w="DialogPortal",[D,C]=y(w,{forceMount:void 0}),T=e=>{let{__scopeDialog:s,forceMount:a,children:i,container:n}=e,o=N(w,s);return(0,t.jsx)(D,{scope:s,forceMount:a,children:r.Children.map(i,e=>(0,t.jsx)(u.Presence,{present:a||o.open,children:(0,t.jsx)(c.Portal,{asChild:!0,container:n,children:e})}))})};T.displayName=w;var R="DialogOverlay",I=r.forwardRef((e,r)=>{let s=C(R,e.__scopeDialog),{forceMount:a=s.forceMount,...i}=e,n=N(R,e.__scopeDialog);return n.modal?(0,t.jsx)(u.Presence,{present:a||n.open,children:(0,t.jsx)(A,{...i,ref:r})}):null});I.displayName=R;var S=(0,x.createSlot)("DialogOverlay.RemoveScroll"),A=r.forwardRef((e,r)=>{let{__scopeDialog:s,...a}=e,i=N(R,s);return(0,t.jsx)(f.RemoveScroll,{as:S,allowPinchZoom:!0,shards:[i.contentRef],children:(0,t.jsx)(m.Primitive.div,{"data-state":q(i.open),...a,ref:r,style:{pointerEvents:"auto",...a.style}})})}),k="DialogContent",O=r.forwardRef((e,r)=>{let s=C(k,e.__scopeDialog),{forceMount:a=s.forceMount,...i}=e,n=N(k,e.__scopeDialog);return(0,t.jsx)(u.Presence,{present:a||n.open,children:n.modal?(0,t.jsx)(U,{...i,ref:r}):(0,t.jsx)(B,{...i,ref:r})})});O.displayName=k;var U=r.forwardRef((e,i)=>{let n=N(k,e.__scopeDialog),o=r.useRef(null),l=(0,a.useComposedRefs)(i,n.contentRef,o);return r.useEffect(()=>{let e=o.current;if(e)return(0,g.hideOthers)(e)},[]),(0,t.jsx)(L,{...e,ref:l,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,s.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:(0,s.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:(0,s.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),B=r.forwardRef((e,s)=>{let a=N(k,e.__scopeDialog),i=r.useRef(!1),n=r.useRef(!1);return(0,t.jsx)(L,{...e,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(i.current||a.triggerRef.current?.focus(),t.preventDefault()),i.current=!1,n.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(i.current=!0,"pointerdown"===t.detail.originalEvent.type&&(n.current=!0));let r=t.target;a.triggerRef.current?.contains(r)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&n.current&&t.preventDefault()}})}),L=r.forwardRef((e,s)=>{let{__scopeDialog:i,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:c,...u}=e,m=N(k,i),f=r.useRef(null),g=(0,a.useComposedRefs)(s,f);return(0,p.useFocusGuards)(),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.FocusScope,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:c,children:(0,t.jsx)(l.DismissableLayer,{role:"dialog",id:m.contentId,"aria-describedby":m.descriptionId,"aria-labelledby":m.titleId,"data-state":q(m.open),...u,ref:g,onDismiss:()=>m.onOpenChange(!1)})}),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(W,{titleId:m.titleId}),(0,t.jsx)(G,{contentRef:f,descriptionId:m.descriptionId})]})]})}),V="DialogTitle",F=r.forwardRef((e,r)=>{let{__scopeDialog:s,...a}=e,i=N(V,s);return(0,t.jsx)(m.Primitive.h2,{id:i.titleId,...a,ref:r})});F.displayName=V;var P="DialogDescription",H=r.forwardRef((e,r)=>{let{__scopeDialog:s,...a}=e,i=N(P,s);return(0,t.jsx)(m.Primitive.p,{id:i.descriptionId,...a,ref:r})});H.displayName=P;var M="DialogClose",z=r.forwardRef((e,r)=>{let{__scopeDialog:a,...i}=e,n=N(M,a);return(0,t.jsx)(m.Primitive.button,{type:"button",...i,ref:r,onClick:(0,s.composeEventHandlers)(e.onClick,()=>n.onOpenChange(!1))})});function q(e){return e?"open":"closed"}z.displayName=M;var Y="DialogTitleWarning",[Z,$]=(0,i.createContext)(Y,{contentName:k,titleName:V,docsSlug:"dialog"}),W=({titleId:e})=>{let t=$(Y),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return r.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},G=({contentRef:e,descriptionId:t})=>{let s=$("DialogDescriptionWarning"),a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${s.contentName}}.`;return r.useEffect(()=>{let r=e.current?.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},Q=e.i(37727),X=e.i(647163);let K=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)(I,{ref:s,className:(0,X.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r}));K.displayName=I.displayName;let J=r.forwardRef(({className:e,children:r,...s},a)=>(0,t.jsxs)(T,{children:[(0,t.jsx)(K,{}),(0,t.jsxs)(O,{ref:a,className:(0,X.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-bg-gray-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-lg",e),...s,children:[r,(0,t.jsxs)(z,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(Q.X,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));J.displayName=O.displayName;let ee=({className:e,...r})=>(0,t.jsx)("div",{className:(0,X.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...r});ee.displayName="DialogHeader";let et=({className:e,...r})=>(0,t.jsx)("div",{className:(0,X.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...r});et.displayName="DialogFooter";let er=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)(F,{ref:s,className:(0,X.cn)("text-lg font-semibold leading-none tracking-tight",e),...r}));er.displayName=F.displayName;let es=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)(H,{ref:s,className:(0,X.cn)("text-sm text-text-tertiary",e),...r}));es.displayName=H.displayName,e.s(["Dialog",()=>_,"DialogContent",()=>J,"DialogDescription",()=>es,"DialogFooter",()=>et,"DialogHeader",()=>ee,"DialogTitle",()=>er,"DialogTrigger",()=>E],630374)},232189,(e,t,r)=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},865156,(e,t,r)=>{"use strict";var s=e.r(232189);function a(){}function i(){}i.resetWarningCache=a,t.exports=function(){function e(e,t,r,a,i,n){if(n!==s){var o=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return r.PropTypes=r,r}},745009,(e,t,r)=>{t.exports=e.r(865156)()},514764,e=>{"use strict";let t=(0,e.i(475254).default)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);e.s(["Send",()=>t],514764)},664659,e=>{"use strict";let t=(0,e.i(475254).default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>t],664659)},62870,e=>{"use strict";var t=e.i(843476),r=e.i(271645),s=e.i(647163);e.i(882205);var a=e.i(846932),i=e.i(88653),n=e.i(664659),o=e.i(898791);r.forwardRef(({className:e,label:l,error:d,helperText:c,variant:u="default",leftIcon:m,id:p,options:f,placeholder:g,value:x,...h},y)=>{let[v,b]=r.useState(!1),[N,_]=r.useState(!1),j=p||`select-${Math.random().toString(36).substr(2,9)}`,E=(0,s.cn)("flex w-full rounded-lg font-medium transition-all duration-300","appearance-none cursor-pointer","focus:outline-none focus:ring-2 focus:ring-primary/20","disabled:cursor-not-allowed disabled:opacity-50",{"border-2 border-input bg-background px-4 py-3 pr-11":"default"===u,"focus:border-primary focus:bg-white":"default"===u&&!d,"border-destructive focus:border-destructive focus:ring-destructive/20":d,"border-2 border-input bg-transparent px-4 py-3 pr-11":"outlined"===u,"focus:border-primary focus:shadow-md focus:shadow-primary/10":"outlined"===u&&!d,"border-0 border-b-2 border-input bg-muted/50 px-4 py-3 pr-11 rounded-b-none":"filled"===u,"focus:bg-muted focus:border-primary":"filled"===u&&!d,"focus:border-destructive bg-destructive/5":"filled"===u&&d},m&&"pl-11",e);return(0,t.jsxs)("div",{className:"w-full space-y-1.5",children:[l&&(0,t.jsxs)(a.motion.label,{htmlFor:j,initial:!1,animate:{color:d?"#EF4444":v?"rgb(37, 99, 235)":"rgb(107, 114, 128)"},className:(0,s.cn)("block text-sm font-medium transition-colors duration-200",d&&"text-destructive"),children:[l,h.required&&(0,t.jsx)("span",{className:"text-destructive ml-1",children:"*"})]}),(0,t.jsxs)("div",{className:"relative",children:[m&&(0,t.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground pointer-events-none z-10",children:m}),(0,t.jsxs)(a.motion.select,{ref:y,id:j,value:x,...h,onFocus:e=>{b(!0),h.onFocus?.(e)},onBlur:e=>{b(!1),_(!1),h.onBlur?.(e)},onMouseDown:()=>_(!N),className:E,animate:{scale:v?1.01:1,borderColor:d?"#EF4444":v?"rgb(37, 99, 235)":"rgb(226, 232, 240)"},transition:{duration:.2},children:[g&&(0,t.jsx)("option",{value:"",disabled:!0,children:g}),(f||[]).map(e=>(0,t.jsx)("option",{value:e.value,disabled:e.disabled,children:e.label},e.value))]}),(0,t.jsx)(a.motion.div,{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-muted-foreground",animate:{rotate:180*!!N},transition:{duration:.2},children:(0,t.jsx)(n.ChevronDown,{className:"h-5 w-5"})}),d&&(0,t.jsx)(a.motion.div,{className:"absolute right-11 top-1/2 -translate-y-1/2 pointer-events-none",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:500,damping:30},children:(0,t.jsx)(o.AlertCircle,{className:"h-5 w-5 text-destructive"})})]}),(0,t.jsx)(i.AnimatePresence,{mode:"wait",children:(d||c)&&(0,t.jsx)(a.motion.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},transition:{duration:.2},className:(0,s.cn)("text-xs transition-colors duration-200",d?"text-destructive":"text-muted-foreground"),children:d||c})})]})}).displayName="SelectNative";let l=r.createContext({}),d=r.forwardRef(({value:e,onValueChange:s,children:a},i)=>{let[n,o]=r.useState(!1);return(0,t.jsx)(l.Provider,{value:{value:e,onValueChange:s,open:n,setOpen:o},children:(0,t.jsx)("div",{className:"relative",ref:i,children:a})})});d.displayName="SelectRoot";let c=r.forwardRef(({children:e,className:a,...i},o)=>{let{open:d,setOpen:c}=r.useContext(l);return(0,t.jsxs)("button",{ref:o,type:"button",className:(0,s.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),onClick:()=>c?.(!d),...i,children:[e,(0,t.jsx)(n.ChevronDown,{className:(0,s.cn)("h-4 w-4 opacity-50 transition-transform",d&&"rotate-180")})]})});c.displayName="SelectTrigger";let u=r.forwardRef(({placeholder:e},s)=>{let{value:a}=r.useContext(l);return(0,t.jsx)("span",{ref:s,children:a||e})});u.displayName="SelectValue";let m=r.forwardRef(({children:e},s)=>{let a=r.useContext(l);return a?.open&&e?(0,t.jsx)("div",{ref:s,className:"absolute top-full left-0 z-50 mt-1 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md",children:(0,t.jsx)("div",{className:"p-1",children:e})}):null});m.displayName="SelectContent";let p=r.forwardRef(({value:e,children:a,className:i,...n},o)=>{let{value:d,onValueChange:c,setOpen:u}=r.useContext(l),m=d===e;return(0,t.jsx)("div",{ref:o,role:"option","aria-selected":m,className:(0,s.cn)("relative flex w-full cursor-pointer select-none items-center rounded-sm py-1.5 px-2 text-sm outline-none hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground",m&&"bg-accent text-accent-foreground",i),onClick:()=>{c?.(e),u?.(!1)},...n,children:a})});p.displayName="SelectItem",e.s(["Select",0,d,"SelectContent",0,m,"SelectItem",0,p,"SelectRoot",0,d,"SelectTrigger",0,c,"SelectValue",0,u])},853645,e=>{"use strict";var t=e.i(843476),r=e.i(271645),s=e.i(618566);e.i(424403);var a=e.i(826609),i=e.i(167881),n=e.i(970065),o=e.i(781947),l=e.i(629377),d=e.i(178583),c=e.i(87316),u=e.i(284614),m=e.i(605631),p=e.i(738308);function f(){let e=(0,s.useParams)();(0,s.useRouter)();let f=e?.token,[g,x]=(0,r.useState)(null),[h,y]=(0,r.useState)(!0),[v,b]=(0,r.useState)(!1),[N,_]=(0,r.useState)(null),[j,E]=(0,r.useState)(!1);(0,r.useEffect)(()=>{w()},[f]);let w=async()=>{try{y(!0),_(null);let e=await fetch(`/api/signature-requests/public/${f}`);if(!e.ok){let t=await e.json();throw Error(t.error||"Erreur lors du chargement")}let t=await e.json();x(t)}catch(e){_(e instanceof Error?e.message:"Erreur inconnue")}finally{y(!1)}},D=async e=>{try{b(!0),_(null);let t=await fetch("/api/signature-requests/sign",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:f,signatureData:e})});if(!t.ok){let e=await t.json();throw Error(e.error||"Erreur lors de la signature")}E(!0)}catch(e){_(e instanceof Error?e.message:"Erreur inconnue")}finally{b(!1)}};if(h)return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(l.Loader2,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-primary"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Chargement..."})]})});if(N&&!g)return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:(0,t.jsx)(n.Card,{className:"max-w-md w-full",children:(0,t.jsxs)(n.CardHeader,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-red-600 mb-2",children:[(0,t.jsx)(p.XCircle,{className:"h-6 w-6"}),(0,t.jsx)(n.CardTitle,{children:"Erreur"})]}),(0,t.jsx)(n.CardDescription,{children:N})]})})});if(j)return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:(0,t.jsxs)(n.Card,{className:"max-w-md w-full",children:[(0,t.jsxs)(n.CardHeader,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-green-600 mb-2",children:[(0,t.jsx)(m.CheckCircle,{className:"h-6 w-6"}),(0,t.jsx)(n.CardTitle,{children:"Signature enregistrée"})]}),(0,t.jsx)(n.CardDescription,{children:"Votre signature a été enregistrée avec succès. Vous pouvez maintenant fermer cette page."})]}),(0,t.jsx)(n.CardContent,{children:(0,t.jsx)(i.Button,{onClick:()=>window.close(),className:"w-full",children:"Fermer"})})]})});if(!g)return null;if("pending"!==g.status)return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:(0,t.jsx)(n.Card,{className:"max-w-md w-full",children:(0,t.jsxs)(n.CardHeader,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-yellow-600 mb-2",children:[(0,t.jsx)(p.XCircle,{className:"h-6 w-6"}),(0,t.jsx)(n.CardTitle,{children:"Demande non disponible"})]}),(0,t.jsxs)(n.CardDescription,{children:["signed"===g.status&&"Ce document a déjà été signé.","expired"===g.status&&"Cette demande de signature a expiré.","cancelled"===g.status&&"Cette demande de signature a été annulée.","declined"===g.status&&"Cette demande de signature a été refusée."]})]})})});let C=g.expires_at?new Date(g.expires_at).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}):null;return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:(0,t.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,t.jsxs)(n.Card,{children:[(0,t.jsxs)(n.CardHeader,{children:[(0,t.jsx)(n.CardTitle,{className:"text-2xl",children:"Signature de document"}),(0,t.jsx)(n.CardDescription,{children:"Vous êtes invité(e) à signer le document suivant"})]}),(0,t.jsxs)(n.CardContent,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid gap-4 p-4 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(d.FileText,{className:"h-5 w-5 text-gray-500 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Document"}),(0,t.jsx)("p",{className:"font-medium",children:g.document?.title||"Document"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(u.User,{className:"h-5 w-5 text-gray-500 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Demandé par"}),(0,t.jsx)("p",{className:"font-medium",children:g.requester?.full_name||"Un utilisateur"}),g.requester?.email&&(0,t.jsx)("p",{className:"text-sm text-gray-500",children:g.requester.email})]})]}),C&&(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(c.Calendar,{className:"h-5 w-5 text-gray-500 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Date d'expiration"}),(0,t.jsx)("p",{className:"font-medium",children:C})]})]})]}),g.message&&(0,t.jsx)(o.Alert,{children:(0,t.jsxs)(o.AlertDescription,{children:[(0,t.jsx)("strong",{children:"Message :"})," ",g.message]})}),g.document?.file_url&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium mb-2",children:"Aperçu du document"}),(0,t.jsx)("div",{className:"border rounded-lg overflow-hidden bg-white",children:(0,t.jsx)("iframe",{src:g.document.file_url,className:"w-full h-96",title:"Aperçu du document"})}),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)(i.Button,{variant:"outline",onClick:()=>window.open(g.document?.file_url||"","_blank"),children:"Ouvrir le document dans un nouvel onglet"})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium mb-4",children:"Votre signature"}),(0,t.jsx)(a.SignaturePad,{width:700,height:200,onSave:D,title:"Signez ci-dessous",description:"Dessinez votre signature dans la zone ci-dessous",disabled:v})]}),N&&(0,t.jsx)(o.Alert,{variant:"destructive",children:(0,t.jsx)(o.AlertDescription,{children:N})}),(0,t.jsx)("div",{className:"text-sm text-gray-500 border-t pt-4",children:(0,t.jsx)("p",{children:"En signant ce document, vous acceptez que votre signature électronique soit juridiquement équivalente à une signature manuscrite conformément aux normes eIDAS."})})]})]})})})}e.s(["default",()=>f])}]);