(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,107233,e=>{"use strict";let t=(0,e.i(475254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],107233)},605631,e=>{"use strict";let t=(0,e.i(475254).default)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],605631)},286536,e=>{"use strict";let t=(0,e.i(475254).default)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],286536)},738308,e=>{"use strict";let t=(0,e.i(475254).default)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>t],738308)},870273,e=>{"use strict";let t=(0,e.i(475254).default)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);e.s(["Star",()=>t],870273)},436332,e=>{"use strict";let t=(0,e.i(475254).default)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);e.s(["Edit",()=>t],436332)},174886,e=>{"use strict";let t=(0,e.i(475254).default)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["Copy",()=>t],174886)},797548,e=>{"use strict";let t=(0,e.i(475254).default)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);e.s(["Filter",()=>t],797548)},318216,e=>{"use strict";let t=(0,e.i(475254).default)("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);e.s(["MoreVertical",()=>t],318216)},350627,e=>{"use strict";let t=(0,e.i(475254).default)("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);e.s(["Receipt",()=>t],350627)},882293,e=>{"use strict";let t=(0,e.i(475254).default)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);e.s(["UserCheck",()=>t],882293)},203496,173998,e=>{"use strict";var t=e.i(475254);let i=(0,t.default)("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);e.s(["Scale",()=>i],203496);let s=(0,t.default)("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);e.s(["Book",()=>s],173998)},890538,e=>{"use strict";var t=e.i(843476),i=e.i(271645);e.i(882205);var s=e.i(846932),a=e.i(88653),r=e.i(664659),n=e.i(647163);let l=i.createContext({openItems:[],toggleItem:()=>{}}),o=({type:e="single",defaultValue:s,className:a,children:r})=>{let[n,o]=i.useState(Array.isArray(s)?s:s?[s]:[]);return(0,t.jsx)(l.Provider,{value:{openItems:n,toggleItem:t=>{o(i=>"single"===e?i.includes(t)?[]:[t]:i.includes(t)?i.filter(e=>e!==t):[...i,t])}},children:(0,t.jsx)("div",{className:a,children:r})})},c=({value:e,className:s,children:a})=>(0,t.jsx)("div",{className:(0,n.cn)("border-b border-gray-100 last:border-0",s),children:i.Children.map(a,t=>i.isValidElement(t)?i.cloneElement(t,{value:e}):t)}),d=({className:e,children:s,value:a})=>{let{openItems:o,toggleItem:c}=i.useContext(l),d=!!a&&o.includes(a);return(0,t.jsxs)("button",{type:"button",onClick:()=>a&&c(a),className:(0,n.cn)("flex flex-1 items-center justify-between py-4 w-full font-medium transition-all hover:text-brand-blue text-left",d?"text-brand-blue":"text-gray-700",e),children:[s,(0,t.jsx)(r.ChevronDown,{className:(0,n.cn)("h-4 w-4 shrink-0 transition-transform duration-200 text-gray-400",d&&"rotate-180 text-brand-blue")})]})},u=({className:e,children:r,value:o})=>{let{openItems:c}=i.useContext(l),d=!!o&&c.includes(o);return(0,t.jsx)(a.AnimatePresence,{initial:!1,children:d&&(0,t.jsx)(s.motion.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:"easeInOut"},className:"overflow-hidden",children:(0,t.jsx)("div",{className:(0,n.cn)("pb-4 pt-0 text-sm text-gray-600",e),children:r})})})};e.s(["Accordion",()=>o,"AccordionContent",()=>u,"AccordionItem",()=>c,"AccordionTrigger",()=>d])},788699,e=>{"use strict";let t=(0,e.i(475254).default)("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);e.s(["Pencil",()=>t],788699)},818132,e=>{"use strict";var t=e.i(843476),i=e.i(271645),s=e.i(266027),a=e.i(954616),r=e.i(912598),n=e.i(325715),l=e.i(69319),o=e.i(630374),c=e.i(167881),d=e.i(23750),u=e.i(10708),m=e.i(174886);function p({template:e,open:s,onOpenChange:p}){let{user:h}=(0,n.useAuth)(),x=(0,r.useQueryClient)(),[y,j]=(0,i.useState)(`${e.name} (copie)`),[f,g]=(0,i.useState)(!1),v=(0,a.useMutation)({mutationFn:async t=>{if(!h?.organization_id)throw Error("Organisation non trouvée");return l.documentTemplateService.duplicateTemplate(e.id,t)},onSuccess:()=>{x.invalidateQueries({queryKey:["document-templates",h?.organization_id]}),x.invalidateQueries({queryKey:["document-templates-by-type",h?.organization_id]}),p(!1),j(`${e.name} (copie)`)},onError:e=>{console.error("Erreur lors de la duplication:",e),alert("Erreur lors de la duplication du modèle")}}),C=async()=>{if(!y.trim())return void alert("Veuillez entrer un nom pour le modèle dupliqué");g(!0);try{await v.mutateAsync(y.trim())}finally{g(!1)}};return(0,t.jsx)(o.Dialog,{open:s,onOpenChange:p,children:(0,t.jsxs)(o.DialogContent,{children:[(0,t.jsxs)(o.DialogHeader,{children:[(0,t.jsxs)(o.DialogTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(m.Copy,{className:"h-5 w-5"}),"Dupliquer le modèle"]}),(0,t.jsxs)(o.DialogDescription,{children:['Créez une copie du modèle "',e.name,'" que vous pourrez modifier indépendamment.']})]}),(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Label,{htmlFor:"template-name",children:"Nom du nouveau modèle"}),(0,t.jsx)(d.Input,{id:"template-name",value:y,onChange:e=>j(e.target.value),placeholder:"Nom du modèle",className:"mt-2",onKeyDown:e=>{"Enter"===e.key&&C()}})]}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:[(0,t.jsx)("p",{className:"font-medium mb-1",children:"Informations du modèle original :"}),(0,t.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,t.jsxs)("li",{children:["Type : ",e.type]}),(0,t.jsxs)("li",{children:["Modifié le : ",new Date(e.updated_at).toLocaleDateString("fr-FR")]}),e.is_default&&(0,t.jsx)("li",{className:"text-primary font-medium",children:"Modèle par défaut"})]})]})]}),(0,t.jsxs)(o.DialogFooter,{children:[(0,t.jsx)(c.Button,{variant:"outline",onClick:()=>p(!1),disabled:f,children:"Annuler"}),(0,t.jsx)(c.Button,{onClick:C,disabled:f||!y.trim(),children:f?"Duplication...":"Dupliquer"})]})]})})}var h=e.i(436332);function x({template:e,open:s,onOpenChange:m}){let{user:p}=(0,n.useAuth)(),x=(0,r.useQueryClient)(),[y,j]=(0,i.useState)(e.name);(0,i.useEffect)(()=>{s&&j(e.name)},[s,e.name]);let f=(0,a.useMutation)({mutationFn:async t=>{if(!p?.organization_id)throw Error("Organisation non trouvée");return l.documentTemplateService.updateTemplate({id:e.id,name:t})},onSuccess:()=>{x.invalidateQueries({queryKey:["document-templates",p?.organization_id]}),x.invalidateQueries({queryKey:["document-templates-by-type",p?.organization_id]}),m(!1)},onError:e=>{console.error("Erreur lors du renommage:",e),alert("Erreur lors du renommage du modèle")}}),g=async()=>{if(!y.trim())return void alert("Veuillez entrer un nom pour le modèle");if(y.trim()===e.name)return void m(!1);try{await f.mutateAsync(y.trim())}catch(e){}};return(0,t.jsx)(o.Dialog,{open:s,onOpenChange:m,children:(0,t.jsxs)(o.DialogContent,{children:[(0,t.jsxs)(o.DialogHeader,{children:[(0,t.jsxs)(o.DialogTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(h.Edit,{className:"h-5 w-5"}),"Renommer le modèle"]}),(0,t.jsxs)(o.DialogDescription,{children:['Modifiez le nom du modèle "',e.name,'".']})]}),(0,t.jsx)("div",{className:"space-y-4 py-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Label,{htmlFor:"template-name",children:"Nouveau nom du modèle"}),(0,t.jsx)(d.Input,{id:"template-name",value:y,onChange:e=>j(e.target.value),placeholder:"Nom du modèle",className:"mt-2",onKeyDown:e=>{"Enter"===e.key&&g()},autoFocus:!0})]})}),(0,t.jsxs)(o.DialogFooter,{children:[(0,t.jsx)(c.Button,{variant:"outline",onClick:()=>m(!1),disabled:f.isPending,children:"Annuler"}),(0,t.jsx)(c.Button,{onClick:g,disabled:f.isPending||!y.trim(),children:f.isPending?"Renommage...":"Renommer"})]})]})})}var y=e.i(727612);function j({template:e,open:i,onOpenChange:s}){let{user:d}=(0,n.useAuth)(),u=(0,r.useQueryClient)(),m=(0,a.useMutation)({mutationFn:async()=>l.documentTemplateService.deleteTemplate(e.id),onSuccess:()=>{u.invalidateQueries({queryKey:["document-templates",d?.organization_id]}),u.invalidateQueries({queryKey:["document-templates-by-type",d?.organization_id]}),s(!1)},onError:e=>{console.error("Erreur lors de la suppression:",e),alert("Erreur lors de la suppression du modèle")}}),p=async()=>{try{await m.mutateAsync()}catch(e){}};return(0,t.jsx)(o.Dialog,{open:i,onOpenChange:s,children:(0,t.jsxs)(o.DialogContent,{children:[(0,t.jsxs)(o.DialogHeader,{children:[(0,t.jsxs)(o.DialogTitle,{className:"flex items-center gap-2 text-red-600",children:[(0,t.jsx)(y.Trash2,{className:"h-5 w-5"}),"Supprimer le modèle"]}),(0,t.jsxs)(o.DialogDescription,{children:['Êtes-vous sûr de vouloir supprimer le modèle "',e.name,'" ? Cette action est irréversible.',e.is_default&&(0,t.jsx)("span",{className:"block mt-2 text-amber-600 font-medium",children:"⚠️ Ce modèle est actuellement défini comme modèle par défaut. La suppression supprimera cette configuration."})]})]}),(0,t.jsxs)(o.DialogFooter,{children:[(0,t.jsx)(c.Button,{variant:"outline",onClick:()=>s(!1),disabled:m.isPending,children:"Annuler"}),(0,t.jsx)(c.Button,{variant:"destructive",onClick:p,disabled:m.isPending,children:m.isPending?"Suppression...":"Supprimer"})]})]})})}var f=e.i(970065),g=e.i(178583),v=e.i(350627),C=e.i(626912),N=e.i(87316),b=e.i(191741),w=e.i(842009),k=e.i(32095),A=e.i(810980),D=e.i(882293),_=e.i(98919),M=e.i(203496),F=e.i(173998),S=e.i(605631),z=e.i(555436),E=e.i(797548),B=e.i(318216),T=e.i(286536),q=e.i(239616),P=e.i(465286),O=e.i(738308),I=e.i(101523),L=e.i(870273),R=e.i(788699),V=e.i(107233),K=e.i(522016),Q=e.i(647163),$=e.i(463415),H=e.i(994179),Z=e.i(890538);let G=[{type:"convention",name:"Convention de formation",description:"Contrat entre l'établissement et l'apprenant",icon:g.FileText,color:"#335ACF"},{type:"facture",name:"Facture",description:"Document comptable de facturation",icon:v.Receipt,color:"#335ACF"},{type:"devis",name:"Devis",description:"Estimation de prix avant formation",icon:C.FileCheck,color:"#34B9EE"},{type:"convocation",name:"Convocation",description:"Invitation à une session ou examen",icon:N.Calendar,color:"#335ACF"},{type:"contrat",name:"Contrat de scolarité",description:"Accord de scolarisation officiel",icon:b.ClipboardList,color:"#335ACF"},{type:"attestation_reussite",name:"Attestation de réussite",description:"Certificat de réussite à une formation",icon:w.Award,color:"#335ACF"},{type:"certificat_scolarite",name:"Certificat de scolarité",description:"Justificatif d'inscription dans l'établissement",icon:k.GraduationCap,color:"#335ACF"},{type:"releve_notes",name:"Relevé de notes",description:"Bulletin de notes et appréciations",icon:A.BookOpen,color:"#34B9EE"},{type:"attestation_entree",name:"Attestation d'entrée en formation",description:"Certificat d'inscription à une formation",icon:D.UserCheck,color:"#335ACF"},{type:"reglement_interieur",name:"Règlement intérieur",description:"Règles et procédures de l'établissement",icon:_.Shield,color:"#335ACF"},{type:"cgv",name:"Conditions Générales de Vente",description:"CGV et conditions d'utilisation",icon:M.Scale,color:"#34B9EE"},{type:"programme",name:"Programme de formation",description:"Détails du contenu pédagogique",icon:F.Book,color:"#335ACF"},{type:"certificat_realisation",name:"Certificat de réalisation",description:"Certificat de réalisation de formation (OF obligatoire)",icon:S.CheckCircle,color:"#335ACF"},{type:"livret_accueil",name:"Livret d'accueil",description:"Livret d'accueil stagiaire (OF obligatoire)",icon:A.BookOpen,color:"#335ACF"},{type:"emargement",name:"Feuille d'émargement",description:"Feuille d'émargement formation (OF obligatoire)",icon:P.CheckCircle2,color:"#335ACF"},{type:"attestation_assiduite",name:"Attestation d'assiduité",description:"Justificatif de présence aux cours",icon:S.CheckCircle,color:"#335ACF"}];function U(){let{user:e}=(0,n.useAuth)(),o=(0,r.useQueryClient)(),[u,v]=(0,i.useState)(""),[C,N]=(0,i.useState)("all"),[b,w]=(0,i.useState)(!1),[k,A]=(0,i.useState)(!1),[D,_]=(0,i.useState)(!1),[M,F]=(0,i.useState)(null),{data:S,isLoading:U}=(0,s.useQuery)({queryKey:["document-templates",e?.organization_id],queryFn:async()=>e?.organization_id?l.documentTemplateService.getAllTemplates(e.organization_id,{isActive:!0}):[],enabled:!!e?.organization_id}),X=(0,i.useMemo)(()=>S?S.reduce((e,t)=>(e[t.type]||(e[t.type]=[]),e[t.type].push(t),e),{}):{},[S]),J=(0,i.useMemo)(()=>{let e={};return Object.entries(X).forEach(([t,i])=>{e[t]=[...i].sort((e,t)=>e.is_default&&!t.is_default?-1:!e.is_default&&t.is_default?1:new Date(t.created_at).getTime()-new Date(e.created_at).getTime())}),e},[X]),W=(0,a.useMutation)({mutationFn:async t=>{if(!e?.organization_id)throw Error("Organisation non trouvée");return l.documentTemplateService.setAsDefault(t.id,e.organization_id)},onSuccess:()=>{o.invalidateQueries({queryKey:["document-templates",e?.organization_id]}),o.invalidateQueries({queryKey:["document-templates-by-type",e?.organization_id]})},onError:e=>{console.error("Erreur lors de la définition du modèle par défaut:",e),alert("Erreur lors de la définition du modèle par défaut")}}),Y=G.filter(e=>{let t=e.name.toLowerCase().includes(u.toLowerCase())||e.description.toLowerCase().includes(u.toLowerCase()),i=(J[e.type]||[]).length>0;return("configured"!==C||!!i)&&("not_configured"!==C||!i)&&t});return U?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-text-primary",children:"Modèles de Documents"}),(0,t.jsx)("p",{className:"text-text-tertiary mt-1",children:"Gérez vos modèles de documents administratifs"})]})}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:6}).map((e,i)=>(0,t.jsx)(f.Card,{className:"animate-pulse",children:(0,t.jsxs)(f.CardContent,{className:"p-6",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-4"}),(0,t.jsx)("div",{className:"h-3 bg-gray-200 rounded w-full mb-2"}),(0,t.jsx)("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})},i))})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold text-text-primary flex items-center gap-2",children:[(0,t.jsx)(q.Settings,{className:"h-8 w-8 text-brand-blue"}),"Modèles de Documents"]}),(0,t.jsx)("p",{className:"text-text-tertiary mt-1",children:"Gérez vos modèles de documents avec header et footer personnalisables"})]})}),(0,t.jsx)(f.Card,{children:(0,t.jsx)(f.CardContent,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Analytics & Reporting"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Consultez les métriques d'utilisation de vos templates"})]}),(0,t.jsx)(K.default,{href:"/dashboard/settings/document-templates/analytics",children:(0,t.jsxs)(c.Button,{variant:"outline",children:[(0,t.jsx)(I.BarChart3,{className:"h-4 w-4 mr-2"}),"Voir les analytics"]})})]})})}),(0,t.jsx)(f.Card,{children:(0,t.jsx)(f.CardContent,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(z.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-tertiary h-4 w-4"}),(0,t.jsx)(d.Input,{placeholder:"Rechercher un modèle...",value:u,onChange:e=>v(e.target.value),className:"pl-10"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(c.Button,{variant:"all"===C?"default":"outline",onClick:()=>N("all"),children:[(0,t.jsx)(E.Filter,{className:"h-4 w-4 mr-2"}),"Tous"]}),(0,t.jsxs)(c.Button,{variant:"configured"===C?"default":"outline",onClick:()=>N("configured"),children:[(0,t.jsx)(P.CheckCircle2,{className:"h-4 w-4 mr-2"}),"Configurés"]}),(0,t.jsxs)(c.Button,{variant:"not_configured"===C?"default":"outline",onClick:()=>N("not_configured"),children:[(0,t.jsx)(O.XCircle,{className:"h-4 w-4 mr-2"}),"Non configurés"]})]})]})})}),(0,t.jsx)(f.Card,{children:(0,t.jsx)(f.CardContent,{className:"p-0",children:(0,t.jsx)(Z.Accordion,{type:"multiple",defaultValue:[],children:Y.map(e=>{let i=J[e.type]||[],s=e.icon,a=i.length>0;return i.find(e=>e.is_default),(0,t.jsxs)(Z.AccordionItem,{value:e.type,children:[(0,t.jsx)(Z.AccordionTrigger,{className:"px-6 hover:no-underline",children:(0,t.jsxs)("div",{className:"flex items-center justify-between w-full pr-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg",style:{backgroundColor:`${e.color}15`},children:(0,t.jsx)(s,{className:"h-5 w-5",style:{color:e.color}})}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("div",{className:"font-semibold text-lg",children:e.name}),(0,t.jsx)("div",{className:"text-sm text-text-tertiary",children:e.description})]})]}),(0,t.jsx)("div",{className:"flex items-center gap-3",children:(0,t.jsx)(H.Badge,{variant:a?"success":"secondary",children:a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(P.CheckCircle2,{className:"h-3 w-3 mr-1"}),i.length," modèle",i.length>1?"s":""]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(O.XCircle,{className:"h-3 w-3 mr-1"}),"Aucun modèle"]})})})]})}),(0,t.jsx)(Z.AccordionContent,{children:(0,t.jsx)("div",{className:"px-6 pb-4 space-y-3",children:0===i.length?(0,t.jsxs)("div",{className:"py-8 text-center",children:[(0,t.jsx)("p",{className:"text-text-tertiary mb-4",children:"Aucun modèle configuré pour ce type de document"}),(0,t.jsx)(K.default,{href:`/dashboard/settings/document-templates/${e.type}/edit`,children:(0,t.jsxs)(c.Button,{children:[(0,t.jsx)(V.Plus,{className:"h-4 w-4 mr-2"}),"Créer un modèle"]})})]}):(0,t.jsxs)(t.Fragment,{children:[i.map(i=>(0,t.jsx)(f.Card,{className:"border-l-4",style:{borderLeftColor:e.color},children:(0,t.jsx)(f.CardContent,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("h4",{className:"font-semibold",children:i.name}),i.is_default&&(0,t.jsxs)(H.Badge,{variant:"default",className:"text-xs",children:[(0,t.jsx)(L.Star,{className:"h-3 w-3 mr-1 fill-current"}),"Par défaut"]})]}),(0,t.jsxs)("div",{className:"text-sm text-text-tertiary space-y-1",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Modifié:"})," ",(0,Q.formatDate)(i.updated_at)]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Créé:"})," ",(0,Q.formatDate)(i.created_at)]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(K.default,{href:`/dashboard/settings/document-templates/${e.type}/edit?template_id=${i.id}`,className:"no-underline",children:(0,t.jsxs)(c.Button,{variant:"default",size:"sm",children:[(0,t.jsx)(h.Edit,{className:"h-4 w-4 mr-2"}),"Modifier"]})}),(0,t.jsx)(K.default,{href:`/dashboard/settings/document-templates/${e.type}/preview?template_id=${i.id}`,className:"no-underline",children:(0,t.jsxs)(c.Button,{variant:"outline",size:"sm",children:[(0,t.jsx)(T.Eye,{className:"h-4 w-4 mr-2"}),"Aperçu"]})}),(0,t.jsxs)($.DropdownMenu,{children:[(0,t.jsx)($.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsx)(c.Button,{variant:"outline",size:"sm",children:(0,t.jsx)(B.MoreVertical,{className:"h-4 w-4"})})}),(0,t.jsxs)($.DropdownMenuContent,{align:"end",children:[(0,t.jsx)($.DropdownMenuLabel,{children:"Actions"}),(0,t.jsx)($.DropdownMenuSeparator,{}),(0,t.jsxs)($.DropdownMenuItem,{onClick:()=>{F(i),A(!0)},children:[(0,t.jsx)(R.Pencil,{className:"h-4 w-4 mr-2"}),"Renommer"]}),(0,t.jsxs)($.DropdownMenuItem,{onClick:()=>{F(i),w(!0)},children:[(0,t.jsx)(m.Copy,{className:"h-4 w-4 mr-2"}),"Dupliquer"]}),!i.is_default&&(0,t.jsxs)($.DropdownMenuItem,{onClick:()=>{W.mutate(i)},disabled:W.isPending,children:[(0,t.jsx)(L.Star,{className:"h-4 w-4 mr-2"}),"Définir par défaut"]}),(0,t.jsx)($.DropdownMenuItem,{children:(0,t.jsxs)(K.default,{href:`/dashboard/settings/document-templates/${e.type}/analytics?template_id=${i.id}`,className:"flex items-center",children:[(0,t.jsx)(I.BarChart3,{className:"h-4 w-4 mr-2"}),"Analytics"]})}),(0,t.jsx)($.DropdownMenuSeparator,{}),(0,t.jsxs)($.DropdownMenuItem,{onClick:()=>{F(i),_(!0)},className:"text-red-600",children:[(0,t.jsx)(y.Trash2,{className:"h-4 w-4 mr-2"}),"Supprimer"]})]})]})]})]})})},i.id)),(0,t.jsx)("div",{className:"pt-2",children:(0,t.jsx)(K.default,{href:`/dashboard/settings/document-templates/${e.type}/edit`,children:(0,t.jsxs)(c.Button,{variant:"outline",className:"w-full",children:[(0,t.jsx)(V.Plus,{className:"h-4 w-4 mr-2"}),"Créer un nouveau modèle"]})})})]})})})]},e.type)})})})}),0===Y.length&&(0,t.jsx)(f.Card,{children:(0,t.jsxs)(f.CardContent,{className:"p-12 text-center",children:[(0,t.jsx)(g.FileText,{className:"h-12 w-12 text-text-tertiary mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-text-primary mb-2",children:"Aucun modèle trouvé"}),(0,t.jsx)("p",{className:"text-text-tertiary",children:"Essayez de modifier vos critères de recherche ou de filtre"})]})}),M&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p,{template:M,open:b,onOpenChange:w}),(0,t.jsx)(x,{template:M,open:k,onOpenChange:A}),(0,t.jsx)(j,{template:M,open:D,onOpenChange:_})]})]})}e.s(["default",()=>U],818132)}]);