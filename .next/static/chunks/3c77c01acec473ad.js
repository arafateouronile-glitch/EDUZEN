(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,852008,e=>{"use strict";let t=(0,e.i(475254).default)("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);e.s(["Layers",()=>t],852008)},579746,e=>{"use strict";var t=e.i(843476),a=e.i(271645),i=e.i(645760),r=e.i(167881),s=e.i(23750),o=e.i(10708),l=e.i(896390),n=e.i(37727),d=e.i(605631),c=e.i(569074),m=e.i(771649),p=e.i(852008);function x({onInsert:e,onClose:x}){let[h,g]=(0,a.useState)("text"),[u,f]=(0,a.useState)({text:"CONFIDENTIEL",opacity:.1,rotation:-45,fontSize:"48pt",color:"#000000",position:"center",repeat:!1}),[j,v]=(0,a.useState)(null),[b,y]=(0,a.useState)(""),N=()=>{if("text"===h&&u.text){let e=[{center:"position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%) rotate("+u.rotation+"deg);","top-left":"position: fixed; top: 20%; left: 20%; transform: rotate("+u.rotation+"deg);","top-right":"position: fixed; top: 20%; right: 20%; transform: rotate("+u.rotation+"deg);","bottom-left":"position: fixed; bottom: 20%; left: 20%; transform: rotate("+u.rotation+"deg);","bottom-right":"position: fixed; bottom: 20%; right: 20%; transform: rotate("+u.rotation+"deg);"}[u.position],`opacity: ${u.opacity}`,`font-size: ${u.fontSize||"48pt"}`,`color: ${u.color}`,"font-weight: bold","pointer-events: none","z-index: 1000","user-select: none",u.repeat?"background-image: repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(0,0,0,0.05) 10px, rgba(0,0,0,0.05) 20px);":""].filter(Boolean).join("; ");return u.repeat?`
          <div class="watermark" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1000; overflow: hidden;">
            <div style="position: absolute; top: 0; left: 0; width: 200%; height: 200%; transform: rotate(${u.rotation}deg); transform-origin: center;">
              ${Array.from({length:20},(e,t)=>Array.from({length:10},(e,a)=>`<div style="position: absolute; top: ${15*t}%; left: ${10*a}%; opacity: ${u.opacity}; font-size: ${u.fontSize||"48pt"}; color: ${u.color}; font-weight: bold; white-space: nowrap;">${u.text}</div>`).join("")).join("")}
            </div>
          </div>
        `:`<div class="watermark" style="${e}">${u.text}</div>`}if("image"===h&&u.imageUrl){let e=[{center:"position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%) rotate("+u.rotation+"deg);","top-left":"position: fixed; top: 20%; left: 20%; transform: rotate("+u.rotation+"deg);","top-right":"position: fixed; top: 20%; right: 20%; transform: rotate("+u.rotation+"deg);","bottom-left":"position: fixed; bottom: 20%; left: 20%; transform: rotate("+u.rotation+"deg);","bottom-right":"position: fixed; bottom: 20%; right: 20%; transform: rotate("+u.rotation+"deg);"}[u.position],`opacity: ${u.opacity}`,"pointer-events: none","z-index: 1000","user-select: none","max-width: 300px","max-height: 300px"].filter(Boolean).join("; ");return`<img class="watermark" src="${u.imageUrl}" style="${e}" alt="Watermark" />`}return""};return(0,t.jsxs)(i.GlassCard,{variant:"premium",className:"p-6 max-w-2xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(l.Droplet,{className:"h-5 w-5 text-brand-blue"}),(0,t.jsx)("h2",{className:"text-xl font-semibold",children:"Filigrane (Watermark)"})]}),(0,t.jsx)(r.Button,{variant:"outline",size:"sm",onClick:x,children:(0,t.jsx)(n.X,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(o.Label,{className:"mb-3 block",children:"Type de filigrane"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(r.Button,{variant:"text"===h?"default":"outline",onClick:()=>g("text"),className:"flex-1",children:[(0,t.jsx)(m.Type,{className:"h-4 w-4 mr-2"}),"Texte"]}),(0,t.jsxs)(r.Button,{variant:"image"===h?"default":"outline",onClick:()=>g("image"),className:"flex-1",children:[(0,t.jsx)(c.Upload,{className:"h-4 w-4 mr-2"}),"Image"]})]})]}),"text"===h&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(o.Label,{children:"Texte du filigrane"}),(0,t.jsx)(s.Input,{value:u.text,onChange:e=>f({...u,text:e.target.value}),placeholder:"Ex: CONFIDENTIEL, DRAFT, etc.",className:"mt-1"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(o.Label,{children:"Taille de police"}),(0,t.jsx)(s.Input,{value:u.fontSize,onChange:e=>f({...u,fontSize:e.target.value}),placeholder:"48pt",className:"mt-1"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o.Label,{children:"Couleur"}),(0,t.jsx)(s.Input,{type:"color",value:u.color,onChange:e=>f({...u,color:e.target.value}),className:"mt-1 h-10"})]})]})]}),"image"===h&&(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)(o.Label,{children:"Image du filigrane"}),(0,t.jsxs)("div",{className:"mt-1",children:[(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{let t=e.target.files?.[0];if(t){v(t);let e=new FileReader;e.onload=e=>{y(e.target?.result),f({...u,imageUrl:e.target?.result})},e.readAsDataURL(t)}},className:"hidden",id:"watermark-image-upload"}),(0,t.jsxs)(r.Button,{variant:"outline",onClick:()=>document.getElementById("watermark-image-upload")?.click(),className:"w-full",children:[(0,t.jsx)(c.Upload,{className:"h-4 w-4 mr-2"}),b?"Changer l'image":"Choisir une image"]})]}),b&&(0,t.jsx)("div",{className:"mt-2 p-4 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300 text-center",children:(0,t.jsx)("img",{src:b,alt:"Preview",className:"max-w-full max-h-48 mx-auto rounded",style:{opacity:u.opacity}})})]})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(o.Label,{className:"flex items-center gap-2",children:[(0,t.jsx)(p.Layers,{className:"h-4 w-4"}),"Opacité: ",Math.round(100*u.opacity),"%"]}),(0,t.jsx)(s.Input,{type:"range",min:"0",max:"1",step:"0.05",value:u.opacity,onChange:e=>f({...u,opacity:parseFloat(e.target.value)}),className:"mt-1"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(o.Label,{children:["Rotation: ",u.rotation,"°"]}),(0,t.jsx)(s.Input,{type:"range",min:"-180",max:"180",step:"15",value:u.rotation,onChange:e=>f({...u,rotation:parseInt(e.target.value)}),className:"mt-1"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o.Label,{children:"Position"}),(0,t.jsxs)("select",{value:u.position,onChange:e=>f({...u,position:e.target.value}),className:"mt-1 w-full px-3 py-2 border rounded-lg",children:[(0,t.jsx)("option",{value:"center",children:"Centre"}),(0,t.jsx)("option",{value:"top-left",children:"Haut gauche"}),(0,t.jsx)("option",{value:"top-right",children:"Haut droite"}),(0,t.jsx)("option",{value:"bottom-left",children:"Bas gauche"}),(0,t.jsx)("option",{value:"bottom-right",children:"Bas droite"})]})]}),"text"===h&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"repeat-watermark",checked:u.repeat,onChange:e=>f({...u,repeat:e.target.checked}),className:"rounded"}),(0,t.jsx)(o.Label,{htmlFor:"repeat-watermark",className:"cursor-pointer",children:"Répéter le filigrane sur toute la page"})]})]}),(0,t.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300 relative",style:{minHeight:"200px"},children:[(0,t.jsx)("div",{className:"text-sm text-gray-600 mb-2",children:"Aperçu:"}),(0,t.jsx)("div",{dangerouslySetInnerHTML:{__html:N()}})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(r.Button,{variant:"outline",onClick:x,children:"Annuler"}),(0,t.jsxs)(r.Button,{onClick:()=>{let t=N();t&&(e(t),x())},disabled:"text"===h&&!u.text||"image"===h&&!u.imageUrl,children:[(0,t.jsx)(d.CheckCircle,{className:"h-4 w-4 mr-2"}),"Insérer le filigrane"]})]})]})]})}e.s(["WatermarkEditor",()=>x])},377120,e=>{e.n(e.i(579746))}]);